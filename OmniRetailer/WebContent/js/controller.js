/*
 * Project Name 	        : OmniRetailerCustomer
 * Written By		        : Mythri
 * update By		        : Sahitya
 * file name		        : controller.js
 * file type		        : Javascript
 * description				: All ajax calls to controller are present in this file
 * */ 


$(document).click(function(){
	$(".matchedStringUl").css("display", "none");
	if($("#divCursor").length > 0)
		$("#divCursor").css("display", "none");
});


/*
 * $("body").on("click", function () { var result = $("#right-side").height();
 * $(".left-side").css("height",result+"px"); });
 */


function searchSubCategories(id,subCategoryId){

	try
	{
		var online = window.navigator.onLine;
		if(!online){
			alert("Check your internet connection,Please try agian after some time.");
			return;
		}

		var categoryName = $("#"+id).val();
		if(categoryName!= ''){
			$("#Errorid").text("");

		}
		if(categoryName != "-- Select --" && categoryName !=undefined){
			var contextPath = $("#contextPath").val();
			URL = contextPath + "/inventorymanager/searchSubCategoriesBasedOnCategory.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					categoryName : categoryName
				},
				beforeSend: function(xhr){                    
					$("#loading").css("display","block");
					$("#mainDiv").addClass("disabled");
				},
				success : function(result) {
					appendSubCategoriesforcategories(result,subCategoryId);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			});
		}
		$("#"+subCategoryId).html('');
	}
	catch(e)
	{
		errorCode("");
	}
}

function appendSubCategoriesforcategories(subCategoryList,subCategoryId){
	 var op = '<option value="" >ALL </option>';
	 for(var i=0;i<subCategoryList.length;i++){
			 op += '<option value="'+subCategoryList[i].subcategoryName+'" >'+subCategoryList[i].subcategoryDescription+'</option>';
	 }
	 $("#"+subCategoryId).html('');
	 $("#"+subCategoryId).html(op);
}


function viewStockRequest(id,index,flowUnder){
	try
	{
		debugger;
		var location = $("#outletLocation").val();
		if(location == undefined || location == null){
			location = "";
		}
			// debugger
			if(flowUnder == undefined){
				if((($("#searchStock").length > 0 && $("#searchStock").val().trim() != "") || ($("#fromDate").length > 0 && $("#fromDate").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
					searchStockRequests($("#searchStock").val(), 'searchStock',index);
					return;
				}
			}
		var dateTime = getCurrentDate();
		var date = dateTime.split(' ');
		date = date[0].split('/');
		var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
		// $('#date').val(formatedDate);
		$('#fromDate').val(formatedDate);
		formatedDate=formatedDate+" 00:00:00";
		if($("#outletLocation").length > 0)
			location = $("#outletLocation").val();

		// purpose:for checking internet conection
		var online = window.navigator.onLine;
		if(!online){
			alert("Check your internet connection,Please try agian after some time.");
			return;
		}
		
		var requestType = id;
		if(requestType == undefined || requestType == null){
			requestType = "";
		}

		var maxRecords = 10;
		if($("#maxRecords").length > 0)
			maxRecords = $("#maxRecords").val();
		if((flowUnder == undefined || flowUnder == "" ) && $("#flowUnder").length > 0)
			flowUnder = $("#flowUnder").val();
		var contextPath = $("#contextPath").val();
		URL = contextPath + "/inventorymanager/viewStockRequest.do";
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				index : index,
				flowUnder : flowUnder,
				maxRecords : maxRecords,
				location : location,
				date : formatedDate,
				requestType : requestType,

			},
			beforeSend: function(xhr){                    
				$("#loading").css("display","block");
				$("#mainDiv").addClass("disabled");
			},
			success : function(result) {
				$("#right-side").html(result);
				if(id != "")
					activeMenu(id);
				if(flowUnder == "outlet"){
					openMenu("liGoodsTransfer","ulGoodsTransfer",0);
					openMenu("liInventoryManagement","ulInventoryManagement",1);
					openMenu("storedetails","ulstoredetails",1);
				}
				else if(flowUnder == "warehouse"){
					openMenu("liWarehouseGoodsTransfer","ulWarehouseGoodsTransfer",0);
					openMenu("liStockManagement","ulStockManagement",1);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	}
	catch(e)
	{
		errorCode("");
	}
}

function newOutletNotification(id){
	try
	{

		var online = window.navigator.onLine;
		if(!online){
			alert("Check your internet connection,Please try agian after some time.");
			return;
		}

		var contextPath = $("#contextPath").val();
		URL = contextPath + "/inventorymanager/newOutletNotification.do";
		$.ajax({
			type: "GET",
			url : URL,
			data : {
			},
			beforeSend: function(xhr){                    
				$("#loading").css("display","block");
				$("#mainDiv").addClass("disabled");
			},
			success : function(result) {
				$("#right-side").html(result);
				if(id != undefined)
					activeMenu(id);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	}
	catch(e)
	{
		errorCode("");
	}
}


function viewOutletNotifications(id,index){
	try{
	var contextPath = $("#contextPath").val();
    URL = contextPath + "/inventorymanager/viewOutletNotifications.do";
		 
  // purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
 // added by manasa to send maxrecords
    var maxRecords = 10;
	  if($("#maxRecords").length>0)
		  maxRecords = $("#maxRecords").val();
    
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				index : index,
				maxRecords : maxRecords
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				$("#right-side").html(result);
				activeMenu(id);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
}
catch(e)
{
	errorCode("");
}
}

/*
 * function viewNewDepartmentMaster(id){ var contextPath =
 * $("#contextPath").val(); URL = contextPath +
 * "/inventorymanager/newDepartment.do"; $.ajax({ type: "GET", url : URL, data : { },
 * beforeSend: function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
 * $("#right-side").html(result); if(id != undefined && id != "")
 * activeMenu(id); openMenu("liGenericData","ulGenericData",0);
 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); },
 * error : function(jqXHR, textStatus, errorThrown) { errorCode(jqXHR.status);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); }
 * }); }
 * 
 * 
 * function viewDepartmentMaster(id,index){
 * if($("#searchDepartmentMaster").length > 0 &&
 * $("#searchDepartmentMaster").val().trim() != ""){
 * searchDepartmentMaster($("#searchDepartmentMaster").val(),
 * 'departmentMaster',index); return; } var contextPath =
 * $("#contextPath").val(); URL = contextPath +
 * "/inventorymanager/viewDepartmentMaster.do";
 * 
 * $.ajax({ type: "GET", url : URL, data : { index : index }, beforeSend:
 * function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
 * $("#right-side").html(result); if(id != undefined && id != "")
 * activeMenu(id); openMenu("liGenericData","ulGenericData",0);
 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 * openMenu("storedetails", "ulstoredetails",0);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); },
 * error : function(jqXHR, textStatus, errorThrown) { errorCode(jqXHR.status);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); }
 * }); }
 */



function viewNewDepartmentMaster(id){
	try{
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	
	 var contextPath = $("#contextPath").val();
	 var maxRecords = 10;
	  if($("#maxRecords").length>0)
		  maxRecords = $("#maxRecords").val();
	  
	  var searchName = "";
	  if($("#searchDepartment").length>0)
		  searchName = $("#searchDepartment").val();
	  
	// purpose:for checking internet conection
	
	 URL = contextPath + "/inventorymanager/newDepartment.do";
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				maxRecords : maxRecords,
				searchName : searchName
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				$("#right-side").html(result);
				 if(id != undefined && id != "")
					 activeMenu(id);
	 				openMenu("liGenericData","ulGenericData",0);
		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
			}
		});
	}
	catch(e)
	{
		errorCode(e);
	}
}


function viewDepartmentMaster(id,index){
	try{
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	if($("#searchDepartmentMaster").length > 0 && $("#searchDepartmentMaster").val().trim() != ""){
		searchDepartmentMaster($("#searchDepartmentMaster").val(), 'departmentMaster',index);
		return;
	}
	// purpose:for checking internet conection
	
	var contextPath = $("#contextPath").val();
		 var maxRecords = 10;
	    	  if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	  var searchName= "";
	    	  if($("#searchDepartment").length>0)
	    		  searchName = $("#searchDepartment").val().trim();

   URL = contextPath + "/inventorymanager/viewDepartmentMaster.do";
		 
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				index : index,
				maxRecords : maxRecords,
				searchName : searchName
				
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				$("#right-side").html(result);
				 if(id != undefined && id != "")
					 activeMenu(id);
	 				openMenu("liGenericData","ulGenericData",0);
		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
           
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	}
	catch(e)
	{
		errorCode(e);

	}
}




function stockLedger(skuId,index,stockType,plucode,ean,uom,category,subCategory,productClass,productSubClass,productDepartment,productSubDepartment,count,pluCode,descriptionCheck){
	// debugger
	try{
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
	var contextPath = $("#contextPath").val();
	 var location = "";
	 if($("#stockledgerLocation").length > 0)
	  location = $('#stockledgerLocation').val();
	 var flowUnder = "";
	 var stockOrVerify = "";
	 if($("#flowUnder").length > 0)
		 flowUnder = $("#flowUnder").val();
	 
	
	 
	 var description = "";
	 
	 if(descriptionCheck != "stockTransaction"){
	 	if($("."+count).length>0)
	 		description =  $("."+count).val();
	 }
	 else
		 {
		 description = count;
		 }
	 
 // added by manasa
	 
	 var formData={}
	 var productCategory = "";
	 if($("#outletCategory").length > 0)
		 productCategory = $("#outletCategory").val();
	// alert(productCategory)
	 var zone =  $("#outletZone").val();
	 formData.zone = $("#outletZone").val();
	formData.storeLocation = $("#outletLocation").val();
	 formData.category = productCategory;
	formData.subCategory = $("#outletSubcategory").val();
	 formData.brand= $("#outletBrandId").val();
	formData.department = $("#outletDepartmentId").val();
	 formData.supplierName = $("#outletSupplierId").val();
	 formData.startDate = $("#from").val();
	 formData.endDate = $("#to").val();
	 /*
		 * formData.startPriceRange=$("#outletStartPrice").val();
		 * formData.endPriceRange=$("#outletEndPrice").val();
		 */
	 formData.status=$("#searchType").val();
	 formData.searchCriteria=$("#searchStocks").val();
	 
	 var formData = JSON.stringify(formData);
	 
	 URL = contextPath + "/inventorymanager/stockLedger.do";
	 $.ajax({
			type: "GET",
			url : URL,
			data : {
				skuId : skuId,
				index : index,
				storeLocation : location,
				stockType : stockType,
				flowUnder : flowUnder,
				plucode : plucode,
				description	: description,
				ean	: ean,
				uom : uom,
				pluCode : pluCode,
				productCategory : category,
				productSubCategory : subCategory,
				productClass : productClass,
				productSubClass : productSubClass,
				productDepartment : productDepartment,
				productSubDepartment: productSubDepartment, 
				zone : zone,
				formData : formData
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				$("#right-side").html(result);
				 if($("#flowUnder").length > 0)
					 $("#flowUnder").val(flowUnder);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
			}
		});
	}
	catch(e)
	{
		errorCode(e);
	}
}


// written by manasa
// purpose:to get track items

function stockitemTrack(skuId,index,stockType,plucode,ean,uom,category,subCategory,productClass,productSubClass,productDepartment,productSubDepartment,count,pluCode){
	
	try{
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
	// debugger
	var contextPath = $("#contextPath").val();
	 var location = "";
	 if($("#stockledgerLocation").length > 0)
	  location = $('#stockledgerLocation').val();
	 var flowUnder = "";
	 var stockOrVerify = "";
	 if($("#flowUnder").length > 0)
		 flowUnder = $("#flowUnder").val();
	 
// added by manasa
	 
	 var formData={}
	 var productCategory = "";
	 if($("#outletCategory").length > 0)
		 productCategory = $("#outletCategory").val();
	// alert(productCategory)
	 formData.zone = $("#outletZone").val();
	formData.storeLocation = $("#outletLocation").val();
	 formData.category = productCategory;
	formData.subCategory = $("#outletSubcategory").val();
	 formData.brand= $("#outletBrandId").val();
	formData.department = $("#outletDepartmentId").val();
	 formData.supplierName = $("#outletSupplierId").val();
	 formData.startDate = $("#from").val();
	 formData.endDate = $("#to").val();
	 formData.status=$("#searchType").val();
	 formData.searchCriteria=$("#searchStocks").val();
	 
	 var formData = JSON.stringify(formData);
	 
	 URL = contextPath + "/inventorymanager/stockItemTrack.do";
	 $.ajax({
			type: "GET",
			url : URL,
			data : {
				skuId : skuId,
				index : index,
				storeLocation : location,
				stockType : stockType,
				flowUnder : flowUnder,
				plucode : plucode,
				description	: count,
				ean	: ean,
				uom : uom,
				pluCode : pluCode,
				productCategory : category,
				productSubCategory : subCategory,
				productClass : productClass,
				productSubClass : productSubClass,
				productDepartment : productDepartment,
				productSubDepartment: productSubDepartment, 
				formData : formData
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				$("#right-side").html(result);
				 if($("#flowUnder").length > 0)
					 $("#flowUnder").val(flowUnder);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
			}
		});
	}
	catch(e)
	{
		errorCode(e);
	}
}


/*
 * //written by manasa //purpose:to get track items
 * 
 * function
 * stockitemTrack(skuId,index,stockType,plucode,ean,uom,category,subCategory,productClass,productSubClass,productDepartment,productSubDepartment,count,pluCode){
 * 
 * //debugger var contextPath = $("#contextPath").val(); var location = "";
 * if($("#outletLocation").length > 0) location = $('#outletLocation').val();
 * var flowUnder = ""; var stockOrVerify = ""; if($("#flowUnder").length > 0)
 * flowUnder = $("#flowUnder").val();
 * 
 * //added by manasa
 * 
 * var formData={} var productCategory = ""; if($("#outletCategory").length > 0)
 * productCategory = $("#outletCategory").val(); // alert(productCategory)
 * formData.zone = $("#outletZone").val(); formData.storeLocation =
 * $("#outletLocation").val(); formData.category = productCategory;
 * formData.subCategory = $("#outletSubcategory").val(); formData.brand=
 * $("#outletBrandId").val(); formData.department =
 * $("#outletDepartmentId").val(); formData.supplierName =
 * $("#outletSupplierId").val(); formData.startDate = $("#from").val();
 * formData.endDate = $("#to").val();
 * formData.startPriceRange=$("#outletStartPrice").val();
 * formData.endPriceRange=$("#outletEndPrice").val();
 * formData.status=$("#searchType").val();
 * formData.searchCriteria=$("#searchStocks").val();
 * 
 * var formData = JSON.stringify(formData);
 * 
 * URL = contextPath + "/inventorymanager/stockItemTrack.do"; $.ajax({ type:
 * "GET", url : URL, data : { skuId : skuId, index : index, storeLocation :
 * location, stockType : stockType, flowUnder : flowUnder, plucode : plucode,
 * description : count, ean : ean, uom : uom, pluCode : pluCode, productCategory :
 * category, productSubCategory : subCategory, productClass : productClass,
 * productSubClass : productSubClass, productDepartment : productDepartment,
 * productSubDepartment: productSubDepartment, formData : formData },
 * beforeSend: function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
 * $("#right-side").html(result); if($("#flowUnder").length > 0)
 * $("#flowUnder").val(flowUnder); $("#loading").css("display","none");
 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR, textStatus,
 * errorThrown) { errorCode(jqXHR.status); $("#loading").css("display","none");
 * $("#mainDiv").removeClass('disabled'); } }); }
 */

/*
 * function
 * dailyStockItem(skuId,index,stockType,plucode,ean,uom,category,subCategory,productClass,productSubClass,productDepartment,productSubDepartment,count,pluCode){
 * 
 * //debugger var contextPath = $("#contextPath").val(); var location = "";
 * if($("#outletLocation").length > 0) location = $('#outletLocation').val();
 * var flowUnder = ""; var stockOrVerify = ""; if($("#flowUnder").length > 0)
 * flowUnder = $("#flowUnder").val();
 * 
 * //added by manasa
 * 
 * var formData={} var productCategory = ""; if($("#outletCategory").length > 0)
 * productCategory = $("#outletCategory").val(); // alert(productCategory)
 * formData.zone = $("#outletZone").val(); formData.storeLocation =
 * $("#outletLocation").val(); formData.category = productCategory;
 * formData.subCategory = $("#outletSubcategory").val(); formData.brand=
 * $("#outletBrandId").val(); formData.department =
 * $("#outletDepartmentId").val(); formData.supplierName =
 * $("#outletSupplierId").val(); formData.startDate = $("#from").val();
 * formData.endDate = $("#to").val();
 * formData.startPriceRange=$("#outletStartPrice").val();
 * formData.endPriceRange=$("#outletEndPrice").val();
 * formData.status=$("#searchType").val();
 * formData.searchCriteria=$("#searchStocks").val();
 * 
 * var formData = JSON.stringify(formData);
 * 
 * URL = contextPath + "/inventorymanager/dailyStockItem.do"; $.ajax({ type:
 * "GET", url : URL, data : { skuId : skuId, index : index, storeLocation :
 * location, stockType : stockType, flowUnder : flowUnder, plucode : plucode,
 * description : count, ean : ean, uom : uom, pluCode : pluCode, productCategory :
 * category, productSubCategory : subCategory, productClass : productClass,
 * productSubClass : productSubClass, productDepartment : productDepartment,
 * productSubDepartment: productSubDepartment, formData : formData },
 * beforeSend: function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
 * $("#right-side").html(result); if($("#flowUnder").length > 0)
 * $("#flowUnder").val(flowUnder); $("#loading").css("display","none");
 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR, textStatus,
 * errorThrown) { errorCode(jqXHR.status); $("#loading").css("display","none");
 * $("#mainDiv").removeClass('disabled'); } }); }
 */



function dailyStockItem(skuId,index,stockType,plucode,ean,uom,category,subCategory,productClass,productSubClass,productDepartment,productSubDepartment,count,pluCode){
	
	// debugger
	 try{
	// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	
	var contextPath = $("#contextPath").val();
	 var location = "";
	 if($("#stockledgerLocation").length > 0)
	  location = $('#stockledgerLocation').val();
	 var flowUnder = "";
	 var stockOrVerify = "";
	 if($("#flowUnder").length > 0)
		 flowUnder = $("#flowUnder").val();
	
// added by manasa
	 
	 var formData={}
	 var productCategory = "";
	 if($("#outletCategory").length > 0)
		 productCategory = $("#outletCategory").val();
	// alert(productCategory)
	 formData.zone = $("#outletZone").val();
	formData.storeLocation = $("#outletLocation").val();
	 formData.category = productCategory;
	formData.subCategory = $("#outletSubcategory").val();
	 formData.brand= $("#outletBrandId").val();
	formData.department = $("#outletDepartmentId").val();
	 formData.supplierName = $("#outletSupplierId").val();
	 formData.startDate = $("#from").val();
	 formData.endDate = $("#to").val();
	 /*
		 * formData.startPriceRange=$("#outletStartPrice").val();
		 * formData.endPriceRange=$("#outletEndPrice").val();
		 */
	 formData.status=$("#searchType").val();
	 formData.searchCriteria=$("#searchStocks").val();
	 
	 var formData = JSON.stringify(formData);
	 
	 URL = contextPath + "/inventorymanager/dailyStockItem.do";
	 $.ajax({
			type: "GET",
			url : URL,
			data : {
				skuId : skuId,
				index : index,
				storeLocation : location,
				stockType : stockType,
				flowUnder : flowUnder,
				plucode : plucode,
				description	: count,
				ean	: ean,
				uom : uom,
				pluCode : pluCode,
				productCategory : category,
				productSubCategory : subCategory,
				productClass : productClass,
				productSubClass : productSubClass,
				productDepartment : productDepartment,
				productSubDepartment: productSubDepartment, 
				formData : formData
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				$("#right-side").html(result);
				 if($("#flowUnder").length > 0)
					 $("#flowUnder").val(flowUnder);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
			}
		});
	 }
	catch(e)
	{
		errorCode(e);
	}
}


function viewOutletStockVerificationReport(id,index,location){
	try
	{
	 var contextPath = $('#contextPath').val();
	 
	// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	 
	 var location = '';
	 if($("#outletLocation").length > 0)
		 location = $("#outletLocation").val();
	 var URL = contextPath + "/reports/viewOutletStockVerificationReport.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			index : index,
			location : location
		},
		beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
		success : function(result){
			$('#right-side').html(result);
			activeMenu(id);
			openMenu("liOutletReports","ulOutletReports",0);
	  			openMenu("reports", "ulReports",1);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
	 }
	catch(e)
	{
		errorCode(e);
	}
	 
}

function viewStockVerificationReport(id,index,location){
	try
	{
	 var contextPath = $('#contextPath').val();
	 
	// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	 
	 var location = '';
	 if($("#outletLocation").length > 0)
		 location = $("#outletLocation").val();
	 var URL = contextPath + "/inventorymanager/viewStockVerificationReport.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			index : index,
			location : location
		},
		beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
		success : function(result){
			openMenu("liInventoryManagement","ulInventoryManagement",1);
			$('#right-side').html(result);
			if(id != undefined && id != "" )
				activeMenu(id);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
	}
	catch(e)
	{
		errorCode(e);
	}
	 
}

function viewCustomers(id){
	try{
	debugger
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
  	var outletlocation =""
  		 if($("#location").length > 0)
  		outletlocation = $("#location").val();
	 var contextPath = $('#contextPath').val();
	 var URL = contextPath + "/crm/viewCustomers.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			outletlocation : outletlocation
		},
		beforeSend: function(xhr){                    
	   		$("#loading").css("display","block");
	   		$("#mainDiv").addClass("disabled");
	   	},
		success : function(result){
			$('#right-side').html(result);
			openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
			if(id != undefined && id != "")
			activeMenu(id);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
	
}
catch(e)
{
	errorCode(e);
}
} 

function newCustomer(id){
	try{
		
		// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	 var contextPath = $('#contextPath').val();
	 var URL = contextPath + "/crm/newCustomer.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {},
		beforeSend: function(xhr){                    
	   		$("#loading").css("display","block");
	   		$("#mainDiv").addClass("disabled");
	   	},
		success : function(result){
			$('#right-side').html(result);
			openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
			if(id != undefined && id != "")
				activeMenu(id);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
}
catch(e)
{
	errorCode(e);
}
} 







function viewCustomerNotifications(id){
	try{	
	 var contextPath = $('#contextPath').val();
	 
	 
	// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	 
	 var URL = contextPath + "/crm/viewCustomerNotifications.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {},
		beforeSend: function(xhr){                    
	   		$("#loading").css("display","block");
	   		$("#mainDiv").addClass("disabled");
	   	},
		success : function(result){
			$('#right-side').html(result);
			if(id != undefined && id != "")
			activeMenu(id);
			// openMenu("liCampaignPromotions", "ulCampaignPromotions",0);
   			openMenu("deals-offers", "ulDealsOffers",1);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
	}
	catch(e)
	{
	errorCode(e);
	}
} 


function checkDateChanged(){
	
	var selectedDate = $("#selectedDate").val();
	var prevDate = $("#prevDate").val();
	if (selectedDate != prevDate){
		var location = $("#location").val();
		var category = $("#category").val();
		var searchCriteria = $("#searchCriteria").val();
		$("#prevDate").val(selectedDate);
		var stockCategory = $("#stocksCategory").val();
		showOutletDashboard(location,category,searchCriteria,stockCategory);
	}
}


/*
 * function showOutletDashboard(location,category,searchCriteria,stockCategory){
 * //console.log("location::::"+location+"category:::"+category+"searchCriteria::::"+searchCriteria);return;
 * if(searchCriteria == "" || searchCriteria == undefined || searchCriteria ==
 * null ){ if($("#searchCriteria").length > 0) searchCriteria =
 * $("#searchCriteria").val(); else searchCriteria = 'month'; } var zone = "";
 * if($("#outletZone").length > 0) zone = $("#outletZone").val(); var startdate =
 * ""; if($("#from").length > 0) startdate = $("#from").val(); var enddate = "";
 * if($("#to").length > 0) enddate = $("#to").val(); var category = "";
 * if($("#outletCategory").length > 0) category = $("#outletCategory").val();
 * var subcategory = ""; if($("#outletSubcategory").length > 0) subcategory =
 * $("#outletSubcategory").val(); var brand = ""; if($("#outletBrandId").length >
 * 0) brand = $("#outletBrandId").val(); var department = "";
 * if($("#outletDepartmentId").length > 0) department =
 * $("#outletDepartmentId").val(); var contextPath = $('#contextPath').val();
 * var URL = contextPath+"/dashboard/showOutletDashboard.do"; var selectedDate =
 * null; if($("#selectedDate").length > 0) selectedDate =
 * $("#selectedDate").val(); else{ var dateTime = getCurrentDate(); var date =
 * dateTime.split(' '); date = date[0].split('/'); selectedDate =
 * date[1]+"/"+date[0]+"/"+date[2]; } //var searchCriteria = "week"; $.ajax({
 * url : URL, data : { location : location, category : category, searchCriteria :
 * searchCriteria, stockCategory : stockCategory, selectedDate : selectedDate,
 * zone : zone, subcategory : subcategory, brand : brand, department :
 * department, startdate : startdate, enddate : enddate }, beforeSend :
 * function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result){
 * $('#right-side').html(result); activeMenu("outletDashboard"); //
 * openMenu("liDashboard", "ulDashboard",0); $("#tab1").addClass("active");
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); },
 * error : function(jqXHR, textStatus, errorThrown) { errorCode(jqXHR.status);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); }
 * }); }
 */



/*
 * function showOutletDashboard(location,category,searchCriteria,stockCategory){
 * //console.log("location::::"+location+"category:::"+category+"searchCriteria::::"+searchCriteria);return;
 * if(searchCriteria == "" || searchCriteria == undefined || searchCriteria ==
 * null ){ if($("#searchCriteria").length > 0) searchCriteria =
 * $("#searchCriteria").val(); else searchCriteria = 'week'; } var zone = "";
 * if($("#outletZone").length > 0) zone = $("#outletZone").val(); var location =
 * ""; if($("#location").length > 0) location = $("#location").val(); var
 * startdate = ""; if($("#from").length > 0) startdate = $("#from").val(); var
 * enddate = ""; if($("#to").length > 0) enddate = $("#to").val(); var category =
 * ""; if($("#outletCategory").length > 0) category =
 * $("#outletCategory").val(); var subcategory = "";
 * if($("#outletSubcategory").length > 0) subcategory =
 * $("#outletSubcategory").val(); var brand = ""; if($("#outletBrandId").length >
 * 0) brand = $("#outletBrandId").val(); var department = "";
 * if($("#outletDepartmentId").length > 0) department =
 * $("#outletDepartmentId").val(); var contextPath = $('#contextPath').val();
 * var URL = contextPath+"/dashboard/showOutletDashboard.do"; var selectedDate =
 * null; if($("#selectedDate").length > 0) selectedDate =
 * $("#selectedDate").val(); else{ var dateTime = getCurrentDate(); var date =
 * dateTime.split(' '); date = date[0].split('/'); selectedDate =
 * date[1]+"/"+date[0]+"/"+date[2]; } //var searchCriteria = "week"; $.ajax({
 * url : URL, data : { location : location, category : category, searchCriteria :
 * searchCriteria, stockCategory : stockCategory, selectedDate : selectedDate,
 * zone : zone, subcategory : subcategory, brand : brand, department :
 * department, startdate : selectedDate, enddate : enddate }, beforeSend :
 * function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result){
 * $('#right-side').html(result); activeMenu("outletDashboard"); //
 * openMenu("liDashboard", "ulDashboard",0); $("#tab1").addClass("active");
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); },
 * error : function(jqXHR, textStatus, errorThrown) { errorCode(jqXHR.status);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); }
 * }); }
 * 
 */

function showOutletDashboard(location,category,searchCriteria,stockCategory){

	try{

		// debugger
		var online = window.navigator.onLine;
		if(!online){
			alert("Check your internet connection,Please try agian after some time.");
			return;
		}
		// console.log("location::::"+location+"category:::"+category+"searchCriteria::::"+searchCriteria);return;

		if(searchCriteria == "" || searchCriteria == undefined || searchCriteria == null ){
			if($("#searchCriteria").length > 0)
				searchCriteria = $("#searchCriteria").val();
			else
				searchCriteria = 'week';
		}

		var zone = "";
		if($("#outletZone").length > 0)
			zone = $("#outletZone").val();
		var location = "";
		if($("#outletLocationBoard").length > 0)
			location = $("#outletLocationBoard").val().trim();
		console.log("location "+location);
		var startdate = "";
		if($("#fromBoard").length > 0)
			startdate = $("#fromBoard").val();
		var enddate = "";
		if($("#to").length > 0)
			enddate = $("#to").val();
		var category = "";
		if($("#outletCategory").length > 0)
			category = $("#outletCategory").val();
		var subcategory = "";
		if($("#outletSubcategory").length > 0)
			subcategory = $("#outletSubcategory").val();
		var brand = "";
		if($("#outletBrandId").length > 0)
			brand = $("#outletBrandId").val();
		var model = "";
		if($("#outletModelId").length > 0)
			model = $("#outletModelId").val();

		var department = "";
		if($("#outletDepartmentId").length > 0)
			department = $("#outletDepartmentId").val();
		var subDepartment = "";
		if($("#outletSubDepartmentId").length > 0)
			subDepartment = $("#outletSubDepartmentId").val();

		var contextPath = $('#contextPath').val();
		var URL = contextPath+"/dashboard/showOutletDashboard.do";
		var selectedDate = null;
		if($("#selectedDate").length > 0)
			selectedDate = $("#selectedDate").val();
		else{
			var dateTime = getCurrentDate();
			var date = dateTime.split(' ');
			date = date[0].split('/');
			selectedDate = date[1]+"/"+date[0]+"/"+date[2];
		}


		$.ajax({
			url : URL,
			data : {
				location : location,
				category : category,
				searchCriteria : searchCriteria,
				stockCategory : stockCategory,
				selectedDate : selectedDate,
				zone : zone,
				subcategory : subcategory,
				brand : brand,
				model : model,
				department : department,
				subDepartment :subDepartment, 
				startdate : startdate,
				enddate : enddate


			},
			beforeSend : function(xhr){
				$("#loading").css("display","block");
				$("#mainDiv").addClass("disabled");
			},
			success : function(result){
				$('#right-side').html(result);
				activeMenu("outletDashboard");
// openMenu("liDashboard", "ulDashboard",0);
				$("#tab1").addClass("active");
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown) {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	}
	catch(e)
	{
		errorCode(e);
	}
}

/*
 * function showOutletDashboard(location,category,searchCriteria,stockCategory){
 * //console.log("location::::"+location+"category:::"+category+"searchCriteria::::"+searchCriteria);return;
 * if(searchCriteria == "" || searchCriteria == undefined || searchCriteria ==
 * null ){ if($("#searchCriteria").length > 0) searchCriteria =
 * $("#searchCriteria").val(); else searchCriteria = 'week'; } //debugger; var
 * zone = ""; if($("#outletZone").length > 0) zone = $("#outletZone").val(); var
 * location = ""; if($("#location").length > 0) location =
 * $("#outletLocation").val(); var startdate = ""; if($("#from").length > 0)
 * startdate = $("#from").val(); var enddate = ""; if($("#to").length > 0)
 * enddate = $("#to").val(); var category = ""; if($("#outletCategory").length >
 * 0) category = $("#outletCategory").val(); var subcategory = "";
 * if($("#outletSubcategory").length > 0) subcategory =
 * $("#outletSubcategory").val(); var brand = ""; if($("#outletBrandId").length >
 * 0) brand = $("#outletBrandId").val(); var model = "";
 * if($("#outletModelId").length > 0) model = $("#outletModelId").val();
 * 
 * var department = ""; if($("#outletDepartmentId").length > 0) department =
 * $("#outletDepartmentId").val(); var subDepartment = "";
 * if($("#outletSubDepartmentId").length > 0) subDepartment =
 * $("#outletSubDepartmentId").val();
 * 
 * var contextPath = $('#contextPath').val(); var URL =
 * contextPath+"/dashboard/showOutletDashboard.do"; var selectedDate = null;
 * if($("#selectedDate").length > 0) selectedDate = $("#selectedDate").val();
 * else{ var dateTime = getCurrentDate(); var date = dateTime.split(' '); date =
 * date[0].split('/'); selectedDate = date[1]+"/"+date[0]+"/"+date[2]; } //var
 * searchCriteria = "week"; $.ajax({ url : URL, data : { location : location,
 * category : category, searchCriteria : searchCriteria, stockCategory :
 * stockCategory, selectedDate : selectedDate, zone : zone, subcategory :
 * subcategory, brand : brand, model : model, department : department,
 * subDepartment :subDepartment, startdate : startdate, enddate : enddate
 * 
 *  }, beforeSend : function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result){
 * $('#right-side').html(result); activeMenu("outletDashboard"); //
 * openMenu("liDashboard", "ulDashboard",0); $("#tab1").addClass("active");
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); },
 * error : function(jqXHR, textStatus, errorThrown) { errorCode(jqXHR.status);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); }
 * }); }
 */

function showOutletStocks(location,searchCriteria,stockCategory){
try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}


	var selectedDate = $("#from").val();
	var contextPath = $('#contextPath').val();
	var URL = contextPath+"/dashboard/showOutletStocks.do";
	$.ajax({
		url : URL,
		data : {
			location : location,
			searchCriteria : searchCriteria,
			stockCategory : stockCategory,
			selectedDate : selectedDate
		},
		beforeSend : function(xhr){
			$("#loading").css("display","block");
			$("#mainDiv").addClass("disabled");
		},
		success : function(result){
			$("#stocksObj").val(result);
			new Chart(document.getElementById("stocksLineChart").getContext("2d")).Line(getStocksLineChartData(),newopts);
  			// $('#right-side').html(result);
  			$("#loading").css("display","none");
  			$("#mainDiv").removeClass('disabled');
  		},
  		error : function(jqXHR, textStatus, errorThrown) {
  			errorCode(jqXHR.status);
  			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
  		}
	});
}
catch(e)
{
errorCode(e);
}

}

function showOutletSales(location,searchCriteria,category){
	try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}

	var selectedDate = $("#from").val();
	var contextPath = $('#contextPath').val();
	var URL = contextPath+"/dashboard/showOutletSales.do";
	$.ajax({
		url : URL,
		data : {
			location : location,
			searchCriteria : searchCriteria,
			category : category,
			selectedDate : selectedDate
		},
		beforeSend : function(xhr){
			$("#loading").css("display","block");
			$("#mainDiv").addClass("disabled");
		},
		success : function(result){
			$("#salesObj").val(result);
			new Chart(document.getElementById("SalesLineChart").getContext("2d")).Line(getSalesLineChartData(),newopts);
  			// $('#right-side').html(result);
  			$("#loading").css("display","none");
  			$("#mainDiv").removeClass('disabled');
  		},
  		error : function(jqXHR, textStatus, errorThrown) {
  			errorCode(jqXHR.status);
  			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
  		}
	});
}
catch(e)
{
errorCode(e);
}

}


function viewNewShipment(id,flowUnder){
	try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}

	var location = ""
	if($("#outletLocation").length > 0)
		location = $("#outletLocation").val();
	if(flowUnder == "" || flowUnder == undefined)
    	flowUnder = $("#flowUnder").val();
	
	
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
	var status = "";
	if($("#status").length > 0)
		status = $("#status").val();
	 var contextPath = $('#contextPath').val();
	 var URL = contextPath + "/orderManagement/viewNewShipment.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			flowUnder : flowUnder
		},
		beforeSend: function(xhr){                    
	   		$("#loading").css("display","block");
	   		$("#mainDiv").addClass("disabled");
	   	},
		success : function(result){
			$('#right-side').html(result);
			if(id != undefined)
				activeMenu(id);
			$("#outletLocation").val(location);
// $("#flowUnder").val(flowUnder);
			$("#status").val(status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });


	}
		catch(e)
		{
		errorCode(e);
		}


} 


function viewImportFlow(id){
	try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}

	 var contextPath = $('#contextPath').val();
	  var URL = contextPath + "/dataManagement/viewImportFlow.do";
	  $.ajax({
		url : URL,
		data : {
		},
		beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
		success : function(result){
			$("#right-side").html(result);
			activeMenu(id);
			openMenu("import", "ulImportData",0);
			openMenu("liDataManagement", "ulDataManagement",1);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });


}
	catch(e)
	{
	errorCode(e);
	}


}
function viewImportdetails(id,flow){
	try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}

	
	 var contextPath = $('#contextPath').val();
	  var URL = contextPath + "/dataManagement/viewImportdetails.do";
	  $.ajax({
		url : URL,
		data : {
			flow:flow
		},
		beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
		success : function(result){
			$("#right-side").html(result);
			activeMenu(id);
			openMenu("import", "ulImportData",0);
			openMenu("liDataManagement", "ulDataManagement",1);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
	}
	catch(e)
	{
	errorCode(e);
	}


}

/*function viewBackUP(id,index){
try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	 var contextPath = $('#contextPath').val();
	 var URL = contextPath + "/dataManagement/viewBackUp.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			index : index
		},
		beforeSend: function(xhr){                    
	   		$("#loading").css("display","block");
	   		$("#mainDiv").addClass("disabled");
	   	},
		success : function(result){
			if(id != undefined)
					activeMenu(id);
			openMenu("liDataManagement", "ulDataManagement",0);
			$('#right-side').html(result);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
}
catch(e)
{
errorCode(e);
}


}


function createBackUP(id){
try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	var type = $('input:radio[name=backUpType]:checked').val();
	 var contextPath = $('#contextPath').val();
	 var URL = contextPath + "/dataManagement/createBackUp.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			type : type
		},
		beforeSend: function(xhr){                    
	   		$("#loading").css("display","block");
	   		$("#mainDiv").addClass("disabled");
	   	},
		success : function(result){
			if(id != undefined)
					activeMenu(id);
			openMenu("liDataManagement", "ulDataManagement",0);
			$('#right-side').html(result);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
}
catch(e)
{
errorCode(e);
}

}

*/




function viewBackUP(id,index){
    try{
	debugger;
	
	$('#Success').html("");
$("#Error").html("");

	
	var online = window.navigator.onLine;
 	if(!online){
 	alert("Check your internet connection,Please try agian after some time.");
 	return;
 	}
 
 	
debugger;
if ($("#absolute").prop("checked") == true){
	$("#incrementalbtn").addClass('disabled');
	$("#absolute").removeClass('disabled');
	$("#absolutebtn").removeClass("disabled");
	
	
} else{
	$("#absolutebtn").addClass('disabled');
 $("#incremental").removeClass('disabled');
	   $("#incrementalbtn").removeClass("disabled");
	 
}
 	
     
var Date = $("#date").val();

/*if(Date==""){
	  	alert("Please Select Date");
	  	return;
	  	}*/

 if(Date == null || Date == undefined || Date== ""){
	 Date ="";
 }

var type = $("#type").val();
 if(type == null || type == undefined || type== ""){
	 type ="";
 }
 	
var contextPath = $('#contextPath').val();
var URL = contextPath + "/dataManagement/viewBackUp.do";
$.ajax({
	type : "GET",
	url : URL,
	data : {
		index : index,
	 backupDateStr : Date,
   backUpType	: type
	
	},
	beforeSend: function(xhr){                    
  		$("#loading").css("display","block");
  		$("#mainDiv").addClass("disabled");
  	},
	success : function(result){
		if(id != undefined)
				activeMenu(id);
		openMenu("liDataManagement", "ulDataManagement",0);
		$('#right-side').html(result);
		$("#loading").css("display","none");
		$("#mainDiv").removeClass('disabled');
	},
	error : function(jqXHR, textStatus, errorThrown) {
		errorCode(jqXHR.status);
		$("#loading").css("display","none");
		$("#mainDiv").removeClass('disabled');
	}
});
}
catch(e)
{
errorCode(e);
}
}



function createBackUP(id){
try{
debugger;
var online = window.navigator.onLine;
	if(!online){
	alert("Check your internet connection,Please try agian after some time.");
	return;
	}
var type = $('input:radio[name=backUpType]:checked').val();
if(type == null || type == undefined || type== ""){
 type ="";
} 

var contextPath = $('#contextPath').val();
var URL = contextPath + "/dataManagement/createBackUp.do";
$.ajax({
type : "GET",
url : URL,
data : {
	type : type
},
beforeSend: function(xhr){                    
		$("#loading").css("display","block");
		$("#mainDiv").addClass("disabled");
	},
success : function(result){
	if(id != undefined)
			activeMenu(id);
	openMenu("liDataManagement", "ulDataManagement",0);
	$('#right-side').html(result);
	
	if (type == "Incremental"){
		document.getElementById("Incremental").checked = true;
		document.getElementById("absolute").checked = false;
		$("#incrementalbtn").removeClass('disabled');
    	/*$("#absolute").addClass('disabled');*/
    	$("#absolutebtn").addClass("disabled");
	}else if (type == "Absolute") {
		document.getElementById("absolute").checked = true;
		document.getElementById("Incremental").checked = false;
		$("#incrementalbtn").addClass('disabled');
    	/*$("#absolute").removeClass('disabled');*/
    	$("#absolutebtn").removeClass("disabled");
	}	
	
	$("#loading").css("display","none");
	$("#mainDiv").removeClass('disabled');
},
error : function(jqXHR, textStatus, errorThrown) {
	errorCode(jqXHR.status);
	$("#loading").css("display","none");
	$("#mainDiv").removeClass('disabled');
}
});
}
catch(e)
{
errorCode(e);
}
}


function selectBackUpType(id)
{

debugger;
if ($("#absolute").prop("checked") == true){
	//$("#incdate").addClass('disabled');
	$("#incrementalbtn").addClass('disabled');
	
	$("#absolute").removeClass('disabled');
	$("#absolutebtn").removeClass("disabled");
	//$("#absdate").removeClass("disabled");
	
} else{
	  
// $("#absdate").addClass('disabled');
	$("#absolutebtn").addClass('disabled');
    $("#incremental").removeClass('disabled');
     $("#incrementalbtn").removeClass("disabled");
	  // $("#incdate").removeClass("disabled");
}
}








function viewWarehouseOrders(status,id,index){
try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	  var location = "";
	  if($("#warehouseLocation").length > 0 && $("#warehouseLocation").val () != "select" && $("#warehouseLocation").val () != "-- Select --")
		  location = $("#warehouseLocation").val();
	// var operation = "";
// if(id.search("OutletShipment") != -1)
	// operation = "Door Delivery";
	// else
		  operation = "order";
		  
		// purpose:for checking internet conection
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		  
	  var contextPath = $('#contextPath').val();
	  var URL = contextPath + "/inventorymanager/getWarehouseOrders.do";
	  $.ajax({
		url : URL,
		data : {
			status : status,
			location : location,
			index : index
		},
		beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
		success : function(result){
			$("#right-side").html(result);
			/*
			 * if(operation == "order") openMenu("liOrders","ulOrders",1);
			 * if(operation == "Door Delivery")
			 * openMenu("liShipments","ulShipments",1); if(operation !=
			 * "orders")
			 */
				activeMenu(id);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
}
catch(e)
{
errorCode(e);
}

}

/*
 * Sambaiah Y 27-04-2015 for getting the orders details from server based on the
 * location
 * 
 */
 function viewWarehouseOrdersByPage(){
	 try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
	var status = $('#status').val();
	
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
	var contextPath = $('#contextPath').val();
	var URL = contextPath + "/inventorymanager/getWarehouseOrdersByLocation.do";
	var location = $("#warehouseLocation").val();
	if($("#warehouseLocation").val () == "select" || $("#warehouseLocation").val () == "-- Select --")
		location = "";
	    $.ajax({
 		url : URL,
 		data : {
 			location : location,
 			status : status,
 			index : "0"
 		},
 		beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
 		success : function(result){
 			$("#right-side").html(result);
 			$("#loading").css("display","none");
 			$("#mainDiv").removeClass('disabled');
 		},
 		error : function(jqXHR, textStatus, errorThrown) {
 			errorCode(jqXHR.status);
 			$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
 		}
 	 });
	 }
	 catch(e)
	 {
	 errorCode(e);
	 }
 }
/*
 * Sambaiah Y 29-04-2015 this function is used to getting the specific order
 * details from services
 * 
 */
 
 
 
 
 
 
function viewWarehouseOrderDetails(orderId){
	 try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
	var contextPath = $('#contextPath').val();
	var URL = contextPath + "/inventorymanager/getWarehouseOrderDetails.do";
		$.ajax({
 		url : URL,
 		data : {
 			orderId : orderId,
 		},
 		beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
 		success : function(result){
 			$("#right-side").html(result);
 			$("#loading").css("display","none");
 			$("#mainDiv").removeClass('disabled');
 		},
 		error : function(jqXHR, textStatus, errorThrown) {
 			errorCode(jqXHR.status);
 			$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
 		}
 	 });
}
catch(e)
{
errorCode(e);
}
}


function viewNewWarehouseOrder(id){
	 try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
	var contextPath = $("#contextPath").val();
    
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
	URL = contextPath + "/inventorymanager/newWarehouseOrder.do";
		 
		$.ajax({
			type: "GET",
			url : URL,
			data : {
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				$("#right-side").html(result);
				if(id != undefined)
					activeMenu(id);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	 }
	 catch(e)
	 {
	 errorCode(e);
	 }
	 }








function viewRolesMaster(id,index){
	 var contextPath = $("#contextPath").val();
	 // debugger
	 try{
	// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	 
	  	name=""
			if($("#searchRoles").length>0)
			name = $("#searchRoles").val().trim();
	  	
	  	var maxRecords = "10";
  		if($("#maxRecords").length>0)
  			maxRecords= $("#maxRecords").val();
	  	
	 URL = contextPath +"/userAccessControl/viewRoles.do";
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				index : index,
				maxRecords : maxRecords,
				searchname : name
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				// $(".active-menu").removeClass("active-menu");
				// $(".menu-open").css("display","none");
				// $(".menu-open").removeClass("menu-open");
				// $(".active").removeClass("active");
				$("#right-side").html(result);
				activeMenu(id);
				 openMenu("liUserAccessControl", "ulUserAccessControl",0);
			// $('.left-side').css('height','500px');
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
			}
		});
}
catch(e)
{
errorCode(e);
}
}
function newRole(id){
	 
	 try{
	// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	 var contextPath = $("#contextPath").val();
	 URL = contextPath +"/userAccessControl/newRole.do";
		
	 
	// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	 
		$.ajax({
			type: "GET",
			url : URL,
			data : {
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				/*
				 * $(".active-menu").removeClass("active-menu");
				 * $(".menu-open").css("display","none");
				 * $(".menu-open").removeClass("menu-open");
				 * $(".active").removeClass("active");
				 */
				activeMenu(id);
				$("#right-side").html(result);
				openMenu("liUserAccessControl", "ulUserAccessControl",0);
				// $('.left-side').css('height','525px');
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
			}
		});
	 }
	 catch(e)
	 {
	 errorCode(e);
	 }
	 
}

function vewNewPurchaseOrder(id){
	debugger
	try{
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	var outletlocation = "";
	if($("#warehouseLocation").length > 0)
		outletlocation = $("#warehouseLocation").val();
  	
	var operation = $("#operation").val();
	var location = $("#warehouse_location").val();
	var contextPath = $("#contextPath").val();
	URL = contextPath + "/procurement/newPurchaseOrder.do";
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				operation : operation
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				// $("#tab_2").html(result);
				$("#right-side").html(result);
				if(id != undefined)
					activeMenu(id);
				openMenu("liOutletProcurement","ulOutletProcurement",1);
				$("#operation").val(operation);
				$("#warehouse_location").val(location);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
}
catch(e)
{
errorCode(e);
}
}


function vewNewCustomerReferrals(id){
	
	try{
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	var outletlocation = "";
	if($("#warehouseLocation").length > 0)
		outletlocation = $("#warehouseLocation").val();
  	
	var operation = $("#operation").val();
	var location = $("#warehouse_location").val();
	var contextPath = $("#contextPath").val();
	URL = contextPath + "/crm/newCustomerReferrals.do";
		$.ajax({
			type: "GET",
			url : URL,
			data : {
// outletlocation : outletlocation
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				// $("#tab_2").html(result);
				$("#right-side").html(result);
				if(id != undefined)
					activeMenu(id);
// openMenu("liOutletProcurement","ulOutletProcurement",1);
			
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
}
catch(e)
{
errorCode(e);
}
}



function vewNewCustomerSignUp(id){
	
	try{
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	var outletlocation = "";
	if($("#warehouseLocation").length > 0)
		outletlocation = $("#warehouseLocation").val();
  	
	var operation = $("#operation").val();
	var location = $("#warehouse_location").val();
	var contextPath = $("#contextPath").val();
	URL = contextPath + "/crm/newCustomerSignUp.do";
		$.ajax({
			type: "GET",
			url : URL,
			data : {
// outletlocation : outletlocation
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				// $("#tab_2").html(result);
				$("#right-side").html(result);
				if(id != undefined)
					activeMenu(id);
// openMenu("liOutletProcurement","ulOutletProcurement",1);
			
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
}
catch(e)
{
errorCode(e);
}
}



function viewNewOrder(id,status,flowUnder){
	try{
		debugger;
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
		var contextPath = $("#contextPath").val();
		var location = "";
		if($("#location").length > 0)
			location = $("#location").val();
// var flowUnder = "";
// if($("#flowUnder").length > 0)
		if(flowUnder == undefined || flowUnder == "")
	    	flowUnder = $("#flowUnder").val();
		URL = contextPath + "/inventorymanager/newOrder.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				flowUnder : flowUnder,
 				status : status
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
 				$("#right-side").html(result);
 				if(id != undefined && id != "")
 					activeMenu(id);
 				$("#location").val(location);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
	}
	catch(e)
	{
	errorCode(e);
	}
	}



function viewPurchaseOrder(operation,id,index,menu){
	try{
	// purpose:for checking internet conection
		debugger;
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	// debugger
	var contextPath = $("#contextPath").val();
	 var location = "";
	  if(operation == "")
		  operation = $("#operation").val();
    if(menu == undefined){
    	/*
		 * if($("#searchPurchaseOrders").length > 0 &&
		 * $("#searchPurchaseOrders").val().trim() != "") {
		 */
    	if((($("#searchPurchaseOrders").length > 0 && $("#searchPurchaseOrders").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){	
    	    searchPurchaseOrders($("#searchPurchaseOrders").val(), 'searchPurchaseOrders',index);
    		return;
    	}
    	  	
    }
    
    
	var maxRecords = 10;
	if($("#maxRecords").length > 0)
		maxRecords = $("#maxRecords").val();
	 var dateTime = getCurrentDate();
	  var date = dateTime.split(' ');
	  date = date[0].split('/');
	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	  var startdate = formatedDate;
	URL = contextPath + "/procurement/viewPurchaseOrder.do";
		 
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				operation : operation,
				location : location,
				index : index,
				maxRecords : maxRecords,
				startdate : startdate
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				/*
				 * $("#tab_2").html(""); $("#tab_1").html(result);
				 */
				$("#right-side").html(result);
				activeMenu(id);
				if(id == 'warehousePurchaseOrder'){
					openMenu("liWarehouseProcurementShipment","ulWarehouseProcurementShipment",0);
					openMenu("liStockManagement","ulStockManagement",1);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}
				else
				openMenu("liOutletProcurement","ulOutletProcurement",1);	
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	
}
catch(e)
{
errorCode(e);
}
}















function viewAutoPurchaseOrder(operation,id,index,menu){
	try{
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	debugger;
	var contextPath = $("#contextPath").val();
	 
	URL = contextPath + "/inventorymanager/viewAutoPurchaseOrder.do";
		 
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				operation : operation,
				//location : location,
				index : index,
				//maxRecords : maxRecords,
				//startdate : startdate
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				/*
				 * $("#tab_2").html(""); $("#tab_1").html(result);
				 */
				$("#right-side").html(result);
				activeMenu(id);
				if(id == 'warehousePurchaseOrder'){
					openMenu("liWarehouseProcurementShipment","ulWarehouseProcurementShipment",0);
					openMenu("liStockManagement","ulStockManagement",1);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}
				else
					openMenu("liOutletProcurement","ulOutletProcurement",1);	
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	
}
catch(e)
{
errorCode(e);
}
}
















function viewqutation(operation,id,index,menu){
	try
	{
		// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	if(menu == undefined){
		if((($("#quotationSearch").length > 0 && $("#quotationSearch").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
			searchQuotation($("#quotationSearch").val(), 'Quotation',index);
			return;
		}
	}
	
	
	var location = ""
		if($("#outletLocation").length > 0)
			location = $("#outletLocation").val();
		var maxRecords = 10;
		if($("#maxRecords").length > 0)
			maxRecords = $("#maxRecords").val();
	var contextPath = $("#contextPath").val();
	 
	  URL = contextPath + "/procurement/viewQuotation.do";
		 
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				index : index,
				maxRecords : maxRecords,
				location : location
				
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				/*
				 * $("#tab_2").html(""); $("#tab_1").html(result);
				 */
				$("#right-side").html(result);
				if(id == 'WarehouseQutation'){
					openMenu("liWarehouseProcurementShipment","ulWarehouseProcurementShipment",0);
					openMenu("liStockManagement","ulStockManagement",1);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}
				else
					openMenu("liOutletProcurement","ulOutletProcurement",1);	
				activeMenu(id);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	
}
catch(e)
{
errorCode(e);
}
}










function newQuotation(id){
	try{
	
	
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
		var location = $("#outletLocation").val();
		var contextPath = $("#contextPath").val();
		var supplierId = $("#supplier_id").val();
		 URL = contextPath + "/procurement/newQuotation.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					
				},
				beforeSend: function(xhr){                    
		   			$("#loading").css("display","block");
		   			$("#mainDiv").addClass("disabled");
		   		  },
				success : function(result) {
					$("#right-side").html(result);
					if(id != undefined)
						activeMenu(id);
					openMenu("liOutletProcurement","ulOutletProcurement",1);
					$("#outletLocation").val(location);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			});
	
}
catch(e)
{
errorCode(e);
}
	}

	




/*
 * function viewPurchaseOrder(operation,id){ var contextPath =
 * $("#contextPath").val(); var location = "";
 * if($("#warehouse_location").length){ location =
 * $("#warehouse_location").val(); } URL = contextPath +
 * "/inventorymanager/viewPurchaseOrder.do";
 * 
 * $.ajax({ type: "GET", url : URL, data : { operation : operation, location :
 * location, }, beforeSend: function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
 * $("#tab_2").html(""); $("#tab_1").html(result);
 * $("#right-side").html(result); openMenu("liProcurement","ulProcurement",1);
 * activeMenu(id); $("#loading").css("display","none");
 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR, textStatus,
 * errorThrown) { errorCode(jqXHR.status); $("#loading").css("display","none");
 * $("#mainDiv").removeClass('disabled'); } }); }
 * 
 * 
 * 
 * function viewPurchaseOrderDetails(receiptRefNo,operation){ var contextPath =
 * $("#contextPath").val(); URL = contextPath +
 * "/inventorymanager/viewPurchaseOrderDetails.do"; $.ajax({ type: "GET", url :
 * URL, data : { PO_Ref : receiptRefNo, operation : operation }, beforeSend:
 * function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
 * //$("#tab_1").html(result); $("#right-side").html(result); //activeMenu(id);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); },
 * error : function(jqXHR, textStatus, errorThrown) { errorCode(jqXHR.status);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); }
 * });
 *  }
 */

function viewAllProcurementDetails(id){
	try{
	
	var contextPath = $("#contextPath").val();
    
	
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
	URL = contextPath + "/inventorymanager/viewAllProcurementDetails.do";
		 
		$.ajax({
			type: "GET",
			url : URL,
			data : {
			},
			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
				$("#right-side").html(result);
				activeMenu(id);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				 $("#loading").css("display","none");
	 			 $("#mainDiv").removeClass('disabled');
			}
		});
	
}
catch(e)
{
errorCode(e);
}
}

function viewNewShipmentReceipt(id,flowUnder){
	try
	{
	
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
	var outletlocation = "";
	if($("#warehouseLocation").length > 0)
		outletlocation = $("#warehouseLocation").val();
  	
	if(flowUnder == "" || flowUnder == undefined)
		flowUnder = $("#flowUnder").val();
	var contextPath = $("#contextPath").val();
	URL = contextPath + "/procurement/newShipmentReceipt.do";
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				flowUnder : flowUnder,
				outletlocation : outletlocation
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				// $("#tab_2").html(result);
				$("#right-side").html(result);
				if(id != undefined)
					activeMenu(id);
				if(id == "warehouseStockReciept"){
					openMenu("liProcurementShipment","ulProcurementShipment",0);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}else if(id == "newOutletProcurementReceipts")
					openMenu("liOutletProcurement","ulOutletProcurement",1);
				$("#flowUnder").val(flowUnder);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	
}
catch(e)
{
errorCode(e);
}
}


function viewShipmentReceipts(operation,id,index,flowUnder,menu){
	
	var contextPath = $("#contextPath").val();
	var location = "";
	
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
	
	if(menu == undefined){
		/*
		 * if($("#warehouse_location").length>0) location =
		 * $("#warehouse_location option:selected").text(); if(location ==
		 * "ALL")
		 */
			location = "";
	}
	if(menu == undefined)
	    if((($("#searchShipmentReceiptId").length > 0 && $("#searchShipmentReceiptId").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
	    	searchShipmentReceipt($("#searchShipmentReceiptId").val(), 'searchShipmentReceipt',index);
			return;
		}
	if(flowUnder == undefined && $("#flowUnder").length > 0)
		flowUnder = $("#flowUnder").val();
	var maxRecords = 10;
	if($("#maxRecords").length > 0)
		maxRecords = $("#maxRecords").val();
	URL = contextPath + "/procurement/viewShipmentReceipts.do";
		 
	 var dateTime = getCurrentDate();
	  var date = dateTime.split(' ');
	  date = date[0].split('/');
	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	  var startdate = formatedDate;
	
	
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				operation : operation,
				location : location,
				index : index,
				maxRecords : maxRecords,
				flowUnder : flowUnder,
				startdate : formatedDate
			},
			beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
			success : function(result) {
				/*
				 * $("#tab_1").html(""); $("#tab_2").html(result);
				 */
				if(id == "warehouseStockReciept"){
					openMenu("liShipment","ulShipment",0);
					openMenu("liStockManagement","ulStockManagement",1);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}
				else if(id == "outletgoodsReceipts")
					openMenu("liOutletProcurement","ulOutletProcurement",1);
				if(id != "" && id != undefined)
					activeMenu(id);
				$("#right-side").html(result);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				 errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
}
	
	
	/*
	 * function viewProcurement(operation,id){ var contextPath =
	 * $("#contextPath").val(); var location = "";
	 * if($("#warehouse_location").length){ location =
	 * $("#warehouse_location").val(); } URL = contextPath +
	 * "/inventorymanager/viewProcurement.do";
	 * 
	 * $.ajax({ type: "GET", url : URL, data : { operation : operation, location :
	 * location }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { $("#tab_1").html("");
	 * $("#tab_2").html(result); openMenu("liProcurement","ulProcurement",1);
	 * activeMenu(id); $("#right-side").html(result);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 */
	
	
	
	
	
	/*
	 * function viewNewProcurement(id){ var contextPath =
	 * $("#contextPath").val(); URL = contextPath +
	 * "/inventorymanager/newProcurement.do"; $.ajax({ type: "GET", url : URL,
	 * data : { }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { //$("#tab_2").html(result);
	 * $("#right-side").html(result); if(id != undefined) activeMenu(id);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 * 
	 * function viewProcurementDetails(receiptRefNo){ var contextPath =
	 * $("#contextPath").val(); URL = contextPath +
	 * "/inventorymanager/viewProcurementDetails.do"; $.ajax({ type: "GET", url :
	 * URL, data : { receiptRefNo : receiptRefNo }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { //$("#tab_2").html(result);
	 * $("#right-side").html(result); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } });
	 *  }
	 * 
	 * function editProcurementDetails(receiptRefNo){ var contextPath =
	 * $("#contextPath").val(); URL = contextPath +
	 * "/inventorymanager/editProcurementDetails.do"; $.ajax({ type: "GET", url :
	 * URL, data : { receiptRefNo : receiptRefNo }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { //$("#tab_2").html(result);
	 * $("#right-side").html(result); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } });
	 *  }
	 */


	function cancelForgotPassword(){
		try{
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
    	 var contextPath = $("#contextPath").val();
    	 window.location.href  = contextPath + "/login/home.do";
		}
		catch(e)
		{
			errorCode(e);
		}
     };
	
	
	/*
	 * function newCurrency(id){ var contextPath = $("#contextPath").val(); URL =
	 * contextPath + "/genericMaster/newCurrency.do"; $.ajax({ type: "GET", url :
	 * URL, data : { }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { if(id != undefined) activeMenu(id);
	 * $("#right-side").html(result); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } });
	 *  }
	 */
	
	/*
	 * function viewLocationMaster(id,index){ if($("#searchLocation").length > 0 &&
	 * $("#searchLocation").val().trim() != ""){
	 * searchLocationMaster($("#searchLocation").val(), 'locationMaster',index);
	 * return; } var contextPath = $("#contextPath").val(); URL = contextPath +
	 * "/genericMaster/viewLocation.do"; $.ajax({ type: "POST", url : URL, data : {
	 * index : index }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { $("#right-side").html(result);
	 * activeMenu(id); openMenu("liGenericData","ulGenericData",0);
	 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 * 
	 * function newLocation(id){ var contextPath = $("#contextPath").val(); URL =
	 * contextPath + "/genericMaster/newLocation.do"; $.ajax({ type: "GET", url :
	 * URL, data : { }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { $("#right-side").html(result); if(id !=
	 * undefined) activeMenu(id); //$('.left-side').css('height','683px');
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 */
	
	
	function viewLocationMaster(id,index){
		try{
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		if($("#searchLocation").length > 0 && $("#searchLocation").val().trim() != ""){
			searchLocationMaster($("#searchLocation").val(), 'locationMaster',index);
			return;
		}
		var contextPath = $("#contextPath").val();
		 var maxRecords = 10;
   	  		if($("#maxRecords").length>0)
   	  			maxRecords = $("#maxRecords").val();
   	  	 var searchName= "";
	  		if($("#searchLocation").length>0)
	  			searchName = $("#searchLocation").val().trim();
   	  		
	  	// purpose:for checking internet conection
	  		var online = window.navigator.onLine;
	  	  	if(!online){
	  	  	alert("Check your internet connection,Please try agian after some time.");
	  	  	return;
	  	  	}
   	  		

	    URL = contextPath + "/genericMaster/viewLocation.do";
 		$.ajax({
 			type: "POST",
 			url : URL,
 			data : {
 				index : index,
 				maxRecords :maxRecords,
 				searchName : searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
 				$("#right-side").html(result);
 				activeMenu(id);
 				openMenu("liGenericData","ulGenericData",0);
	    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	    		$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
		
	}
	catch(e)
	{
	errorCode(e);
	}


	}
	
	function newLocation(id){
		try{
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		var contextPath = $("#contextPath").val();
		 var maxRecords = 10;
		 if($("#maxRecords").length>0)
   		  maxRecords = $("#maxRecords").val();
		 var searchName= "";
	  		if($("#searchLocation").length>0)
	  			searchName = $("#searchLocation").val();
	  	// purpose:for checking internet conection
	  		var online = window.navigator.onLine;
	  	  	if(!online){
	  	  	alert("Check your internet connection,Please try agian after some time.");
	  	  	return;
	  	  	}
		URL = contextPath + "/genericMaster/newLocation.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				maxRecords : maxRecords, 
 				searchName : searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
 			success : function(result) {
 				$("#right-side").html(result);
 				if(id != undefined)
 					activeMenu(id);
 				// $('.left-side').css('height','683px');
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
 		
		}
		catch(e)
		{
		errorCode(e);
		}

	}
	
	function viewTaxMaster(id,index){
		try{
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		if($("#searchTax").length > 0 && $("#searchTax").val().trim() != ""){
			searchTaxMaster($("#searchTax").val(), 'taxMaster',index);
			return;
		}
		var contextPath = $("#contextPath").val();
		// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
		
		 var maxRecords = 10;
		 if($("#maxRecords").length>0)
   		  maxRecords = $("#maxRecords").val();
		 var searchName ="";
		 if($("#searchTax").length>0)
			 searchName = $("#searchTax").val().trim();

	   URL = contextPath+"/genericMaster/viewTax.do";
 	
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				index : index,
 				maxRecords : maxRecords,
 				searchName : searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
 				$("#right-side").html(result);
 				activeMenu(id);
 				openMenu("liGenericData","ulGenericData",0);
	    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
		}
		catch(e)
		{
		errorCode(e);
		}
	}
	
	function newTax(id){
		try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}

		var contextPath = $("#contextPath").val();
		 var maxRecords = 10;
		 if($("#maxRecords").length>0)
   		  maxRecords = $("#maxRecords").val();
		 var searchName ="";
		 if($("#searchTax").length>0)
			 searchName = $("#searchTax").val();
		 
		 
		// purpose:for checking internet conection
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		 
		URL = contextPath + "/genericMaster/newTax.do";
 		 
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				maxRecords : maxRecords,
 				searchName : searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
 				$("#right-side").html(result);
 				if(id != undefined)
 					activeMenu(id);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 				
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
	}
	catch(e)
	{
	errorCode(e);
	}
	}
	
	/*
	 * function viewCategoryMaster(id,index){ if($("#searchCategory").length > 0 &&
	 * $("#searchCategory").val().trim() != ""){
	 * searchCategoryMaster($("#searchCategory").val(), 'categoryMaster',index);
	 * return; } var contextPath = $("#contextPath").val(); URL = contextPath +
	 * "/outletMaster/viewCategory.do";
	 * 
	 * $.ajax({ type: "GET", url : URL, data : { index : index }, beforeSend:
	 * function(xhr){ $("#loading").css("display","block");
	 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
	 * $("#right-side").html(result); activeMenu(id);
	 * openMenu("liGenericData","ulGenericData",0);
	 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 */
	
	
	function newCategory(id){
		try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}

		var contextPath = $("#contextPath").val();
		
		
		 var maxRecords = 10;
   	  if($("#maxRecords").length>0)
   		  maxRecords = $("#maxRecords").val();
   	 var searchName  = 10;
  	  if($("#searchCategory").length>0)
  		searchName  = $("#searchCategory").val();
		URL = contextPath + "/outletMaster/newCategory.do";
 		 
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				maxRecords : maxRecords,
 				searchName :searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
 			success : function(result) {
 				$("#right-side").html(result);
 				if(id != undefined)
 					activeMenu(id);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
		}
		catch(e)
		{
		errorCode(e);
		}

	}


	function viewCategoryMaster(id,index){
			// debugger;
			try{
				 // purpose:for checking internet conection
		   		var online = window.navigator.onLine;
		   	  	if(!online){
		   	  	alert("Check your internet connection,Please try agian after some time.");
		   	  	return;
		   	  	}
		   	  
			if($("#searchCategory").length > 0 && $("#searchCategory").val().trim() != ""){
				searchCategoryMaster($("#searchCategory").val(), 'categoryMaster',index);
				return;
			}
			 var maxRecords = 10;
	   	  if($("#maxRecords").length>0)
	   		  maxRecords = $("#maxRecords").val();
	   		 var searchName = "";
	   	   	  if($("#searchCategory").length>0)
	   	   	searchName = $("#searchCategory").val();
	   	  
	   
			var contextPath = $("#contextPath").val();
		    URL = contextPath + "/outletMaster/viewCategory.do";
	 		 
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				index : index,
	 				maxRecords : maxRecords,
	 				searchName : searchName
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	   				// debugger
	 				$("#right-side").html(result);
	 				activeMenu(id);
	 				openMenu("liGenericData","ulGenericData",0);
		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});
	}
	catch(e)
	{
	errorCode(e);
	}

		}
	
	function viewSubCategoryMaster(id,index){
		
		try{
			 // purpose:for checking internet conection
	   		var online = window.navigator.onLine;
	   	  	if(!online){
	   	  	alert("Check your internet connection,Please try agian after some time.");
	   	  	return;
	   	  	}
	   	  
		
		if($("#searchSubCategory").length > 0 && $("#searchSubCategory").val().trim() != ""){
			searchSubCategoryMaster($("#searchSubCategory").val(), 'subCategoryMaster',index);
			return;
		}
		var maxRecords = 10;
   	  	if($("#maxRecords").length>0)
   		maxRecords = $("#maxRecords").val();
   	  		var searchName ="";
   	  		if($("#searchSubCategory").length>0)
   	  		searchName = $("#searchSubCategory").val();
	 

   	  	// purpose:for checking internet conection
   	 	var online = window.navigator.onLine;
   	   	if(!online){
   	   	alert("Check your internet connection,Please try agian after some time.");
   	   	return;
   	   	}
		
		var contextPath = $("#contextPath").val();
	    
		URL = contextPath + "/outletMaster/viewSubCategory.do";
 		 
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				index : index,
 				maxRecords: maxRecords,
 				searchName:searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
 				$("#right-side").html(result);
 				activeMenu(id);
 				openMenu("liGenericData","ulGenericData",0);
	    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
		}
		catch(e)
		{
		errorCode(e);
		}

	}




	function newSubCategory(id){
		try{
		var contextPath = $("#contextPath").val();
		 var maxRecords = 10;
   	  if($("#maxRecords").length>0)
   		  maxRecords = $("#maxRecords").val();
   	  	var searchName ="";
   	  		if($("#searchSubCategory").length>0)
   	  				searchName = $("#searchSubCategory").val();
	 
   	  	// purpose:for checking internet conection
   	 	var online = window.navigator.onLine;
   	   	if(!online){
   	   	alert("Check your internet connection,Please try agian after some time.");
   	   	return;
   	   	}
		
		URL = contextPath + "/outletMaster/newSubCategory.do";
	    
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				maxRecords : maxRecords,
 				searchName : searchName
 		
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
 			success : function(result) {
 				$("#right-side").html(result);
 				if(id != undefined)
 					activeMenu(id);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
	}
	catch(e)
	{
	errorCode(e);
	}

	}
	
	
	
	/*
	 * function viewProductMaster(id,index){ if($("#searchProduct").length > 0 &&
	 * $("#searchProduct").val().trim() != ""){
	 * searchProductMaster($("#searchProduct").val(), 'productMaster',index);
	 * return; } var contextPath = $("#contextPath").val();
	 * 
	 * URL = contextPath + "/outletMaster/viewProduct.do";
	 * 
	 * $.ajax({ type: "POST", url : URL, data : { index : index }, beforeSend:
	 * function(xhr){ $("#loading").css("display","block");
	 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
	 * $("#right-side").html(result);
	 * openMenu("liGenericData","ulGenericData",0);
	 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	 * activeMenu(id); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); } function
	 * viewNewProduct(id){ var contextPath = $("#contextPath").val(); URL =
	 * contextPath + "/outletMaster/newProduct.do";
	 * 
	 * $.ajax({ type: "GET", url : URL, data : { }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { $("#right-side").html(result); if(id !=
	 * undefined) activeMenu(id); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 */
	
	
	
	
	function viewProductMaster(id,index){
		try{
			// purpose:for checking internet conection
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
			
		if($("#searchProduct").length > 0 && $("#searchProduct").val().trim() != ""){
			searchProductMaster($("#searchProduct").val(), 'productMaster',index);
			return;
		}
		var contextPath = $("#contextPath").val();
		// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
		
		 var maxRecords = 10;
   	  	if($("#maxRecords").length>0)
   		  maxRecords = $("#maxRecords").val();
   	 var searchName = "";
	  	if($("#searchProduct").length>0)
	  		searchName = $("#searchProduct").val();
   	  	
		URL = contextPath + "/outletMaster/viewProduct.do";
 		 
 		$.ajax({
 			type: "POST",
 			url : URL,
 			data : {
 				index : index,
 				maxRecords: maxRecords,
 				searchName: searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
 				$("#right-side").html(result);
 				openMenu("liGenericData","ulGenericData",0);
	    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 				activeMenu(id);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
		}
		catch(e)
		{
		errorCode(e);
		}

	}




	function viewNewProduct(id){
		try{
			// purpose:for checking internet conection
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		var contextPath = $("#contextPath").val();
	    URL = contextPath + "/outletMaster/newProduct.do";
	    
	    var maxRecords = 10;
  	  if($("#maxRecords").length>0)
  		  maxRecords = $("#maxRecords").val();
  	  var searchName ="";
  	 if($("#searchProduct").length>0)
  		searchName = $("#searchProduct").val();
 		 
  	// purpose:for checking internet conection
 	var online = window.navigator.onLine;
   	if(!online){
   	alert("Check your internet connection,Please try agian after some time.");
   	return;
   	}
  	 
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				maxRecords : maxRecords,
 				searchName : searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
 				$("#right-side").html(result);
 				if(id != undefined)
 					activeMenu(id);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
		}
		catch(e)
		{
		errorCode(e);
		}

	}
	
	
	
	/*
	 * function viewSupplierMaster(id,index){ if($("#searchSupplier").length > 0 &&
	 * $("#searchSupplier").val().trim() != ""){
	 * searchSupplierMaster($("#searchSupplier").val(), 'supplierMaster',index);
	 * return; } var contextPath = $("#contextPath").val(); URL = contextPath +
	 * "/outletMaster/viewSupplier.do";
	 * 
	 * $.ajax({ type: "GET", url : URL, data : { index : index }, beforeSend:
	 * function(xhr){ $("#loading").css("display","block");
	 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
	 * $("#right-side").html(result); activeMenu(id);
	 * openMenu("liGenericData","ulGenericData",0);
	 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 * 
	 * function viewNewSupplier(id){ var contextPath = $("#contextPath").val();
	 * URL = contextPath + "/outletMaster/newSupplier.do"; $.ajax({ type: "GET",
	 * url : URL, data : { }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { $("#right-side").html(result); if(id !=
	 * undefined) activeMenu(id); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } });
	 *  }
	 * 
	 */
	

	
	function viewSupplierMaster(id,index){
		try{
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		
		if($("#searchSupplier").length > 0 && $("#searchSupplier").val().trim() != ""){
			searchSupplierMaster($("#searchSupplier").val(), 'supplierMaster',index);
			return;
		}
		
		
		// purpose:for checking internet conection
		
		
		var searchName = "";
		 if($("#searchSupplier").length>0)
			 SearchName = $("#searchSupplier").val();
		
		var maxRecords = 10;
		 if($("#maxRecords").length>0)
   		  maxRecords = $("#maxRecords").val();

		
		
		var contextPath = $("#contextPath").val();
	    URL = contextPath + "/outletMaster/viewSupplier.do";
 		 
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				index : index,
 				maxRecords: maxRecords,
 				searchName: searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
 				$("#right-side").html(result);
 				activeMenu(id);
 				openMenu("liGenericData","ulGenericData",0);
	    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
	}
	catch(e)
	{
	errorCode(e);
	}
	}
	
	function viewNewSupplier(id){
		try{
		 var contextPath = $("#contextPath").val();
    	 URL = contextPath + "/outletMaster/newSupplier.do";
    	 
    	// purpose:for checking internet conection
    		var online = window.navigator.onLine;
    	  	if(!online){
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	 
    var maxRecords = 10;
   	  if($("#maxRecords").length>0)
   		  maxRecords = $("#maxRecords").val();
var searchName ="";
if($("#searchSupplier").length>0)
	searchName = $("#searchSupplier").val();
    	 
  		$.ajax({
  			type: "GET",
  			url : URL,
  			data : {
  				maxRecords : maxRecords,
  				searchName : searchName
  			},
  			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
  				$("#right-side").html(result);
  				if(id != undefined)
  					activeMenu(id);
  				$("#loading").css("display","none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				 errorCode(jqXHR.status);
  				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
  			}
  		});
		}catch(e)
		{
			errorCode(e);
			}

 
	}
	
	
	
	

	
	
	
	
	
	
	/*
	 * function newCategory(id){ var contextPath = $("#contextPath").val();
	 * 
	 * URL = contextPath + "/outletMaster/newCategory.do";
	 * 
	 * $.ajax({ type: "GET", url : URL, data : { }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { $("#right-side").html(result); if(id !=
	 * undefined) activeMenu(id); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 */
	
	
	
	
	 function newBomMaster(id){
		 try{
			var contextPath = $("#contextPath").val();
		    URL = contextPath + "/outletMaster/newBomMaster.do";
		    var maxRecords = 10;
	 		if($("#maxRecords").length >0)
	 			maxRecords = $("#maxRecords").val();
	 		
	 		// purpose:for checking internet conection
	 		var online = window.navigator.onLine;
	 	  	if(!online){
	 	  	alert("Check your internet connection,Please try agian after some time.");
	 	  	return;
	 	  	}
	 		
	 		var searchName ="";
	 		if($("#searchBOM").length >0)
	 			searchName = $("#searchBOM").val();
		
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				maxRecords:maxRecords,
	 				searchName:searchName
	 				
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	 			success : function(result) {
	 				$("#right-side").html(result);
	 				if(id != undefined)
	 					activeMenu(id);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});
		 }
		 catch(e)
			{
			errorCode(e);
			}

		}
	 
	 
	function viewBomMaster(id,index){
		debugger;
		/*
		 * if($("#searchShipmentRate").length > 0 &&
		 * $("#searchShipmentRate").val().trim() != ""){
		 * searchShipmentRate($("#searchShipmentRate").val(),
		 * 'shipmentRateMaster',index); return; }
		 */
		try{
		
		// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
		
		 var maxRecords = 10;
	 		if($("#maxRecords").length >0)
	 			maxRecords = $("#maxRecords").val();
	 		
	 		var searchName ="";
	 		if($("#searchBOM").length >0)
	 			searchName = $("#searchBOM").val().trim();
		
		
		 var contextPath = $('#contextPath').val();
		 var URL = contextPath + "/outletMaster/viewBomMaster.do";
		 $.ajax({
			type : "GET",
			url : URL,
			data : {
				index : index,
				maxRecords : maxRecords,
				searchName : searchName,
				
			},
			beforeSend: function(xhr){                    
		   		$("#loading").css("display","block");
		   		$("#mainDiv").addClass("disabled");
		   	},
			success : function(result){
				$('#right-side').html(result);
				if(id != undefined && id != "")
					activeMenu(id);
				openMenu("master-details","ulMasterDetails",0);
	    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown) {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		 });
		}catch(e)
		{
			errorCode(e);
			}

	}
	
	function viewCurrencyMaster(id,index){
		try{
			// purpose:for checking internet conection
	 		var online = window.navigator.onLine;
	 	  	if(!online){
	 	  	alert("Check your internet connection,Please try agian after some time.");
	 	  	return;
	 	  	}
	 	  
		if($("#searchCurrency").length > 0 && $("#searchCurrency").val().trim() != ""){
			searchCurrencyMaster($("#searchCurrency").val(), 'currencyMaster',index);
			return;
		}
		
		 var maxRecords = 10;
   	  if($("#maxRecords").length>0)
   		  maxRecords = $("#maxRecords").val();
   	var searchName = "";
 	  if($("#searchCurrency").length>0)
 		  searchName = $("#searchCurrency").val().trim();

 	  
 	
		var contextPath = $("#contextPath").val();
	    URL = contextPath + "/genericMaster/viewCurrency.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				index : index,
 				maxRecords: maxRecords,
 				searchName: searchName
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
 			success : function(result) {
 				// console.info(result);
 				$("#right-side").html(result);
 				openMenu("liGenericData","ulGenericData",0);
	    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 				activeMenu(id);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
		}
		catch(e)
		{
			errorCode(e);
		}
	}

	function newAssetMaster(id){
		try{
		 var contextPath = $("#contextPath").val();
		var maxRecords = 10;
		if ($("#maxRecords").length > 0)
			maxRecords= $("#maxRecords").val();
		
		var searchName ="";
	  	  if($("#searchAsset").length>0)
		  searchName = $("#searchAsset").val();	 

		
	  	// purpose:for checking internet conection
	  	var online = window.navigator.onLine;
	    	if(!online){
	    	alert("Check your internet connection,Please try agian after some time.");
	    	return;
	    	}
	  	  

		 URL = contextPath + "/genericMaster/newAssetMaster.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					maxRecords : maxRecords,
					searchName : searchName
				},
				beforeSend: function(xhr){                    
		   			$("#loading").css("display","block");
		   			$("#mainDiv").addClass("disabled");
		   		  },
				success : function(result) {
					$("#right-side").html(result);
					if(id != undefined)
						activeMenu(id);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
				}
			});
		}
		catch(e)
		{
		errorCode(e);
		}

	}

function newCurrency(id){
	try{
		 var contextPath = $("#contextPath").val();

		 
		// purpose:for checking internet conection
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		 
		 var maxRecords = 10;
		    	  if($("#maxRecords").length>0)
		    		  maxRecords = $("#maxRecords").val();
		    	  var searchName = "";
		    	  if($("#searchCurrency").length>0)
		    		  searchName = $("#searchCurrency").val().trim();

    	 URL = contextPath + "/genericMaster/newCurrency.do";
  		$.ajax({
  			type: "GET",
  			url : URL,
  			data : {
  				maxRecords : maxRecords,
  				searchName : searchName
  			},
  			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
   				if(id != undefined)
   					activeMenu(id);
  				$("#right-side").html(result);
  				$("#loading").css("display","none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				 errorCode(jqXHR.status);
  				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
  			}
  		});
	}
	catch(e)
	{
	errorCode(e);
	}

 
	}
	
	/*
	 * function viewCurrencyMaster(id,index){ if($("#searchCurrency").length > 0 &&
	 * $("#searchCurrency").val().trim() != ""){
	 * searchCurrencyMaster($("#searchCurrency").val(), 'currencyMaster',index);
	 * return; } var contextPath = $("#contextPath").val(); URL = contextPath +
	 * "/genericMaster/viewCurrency.do"; $.ajax({ type: "GET", url : URL, data : {
	 * index : index }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { // console.info(result);
	 * $("#right-side").html(result);
	 * openMenu("liGenericData","ulGenericData",0);
	 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	 * activeMenu(id); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 */
	
	
function viewEmployeeMaster(id,index,location){
	/*
	 * if($("#searchEmployeeMaster").length > 0 &&
	 * $("#searchEmployeeMaster").val().trim() != ""){
	 * searchEmployeeMaster($("#searchEmployeeMaster").val(),
	 * 'employeeMaster',index); return; }
	 */
	// purpose:for checking internet conection
	try{
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
		// debugger;
	var	location=""
	   		 if($("#employeelocation").length>0)
	   			location = $("#employeelocation").val();
		
		var maxRecords="10";
		if($("#maxRecords").length > 0)
			maxRecords = $("#maxRecords").val();
		var searchName="";
		if($("#searchEmployeeMaster").length > 0)
			searchName = $("#searchEmployeeMaster").val().trim();
		
		
		var contextPath = $("#contextPath").val();
		URL = contextPath + "/genericMaster/viewEmployee.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				index : index,
 				location : location,
 				maxRecords : maxRecords,
 				searchName : searchName 
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
 			success : function(result) {
 				$("#right-side").html(result);
 				activeMenu(id);
 				openMenu("liGenericData","ulGenericData",0);
	    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	    		$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
	}
	catch(e)
	{
	errorCode(e);
	}
	}
	
	function viewNewEmployee(id){
		try{
		 var contextPath = $("#contextPath").val();
		 
		 
		// purpose:for checking internet conection
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
			var maxRecords="10";
			if($("#maxRecords").length > 0)
				maxRecords = $("#maxRecords").val();
			
			var searchName="";
			if($("#searchEmployeeMaster").length > 0)
				searchName = $("#searchEmployeeMaster").val();
   	 URL = contextPath + "/genericMaster/newEmployee.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				
 				maxRecords : maxRecords,
 				searchName : searchName 
 			},
 			beforeSend: function(xhr){                    
  	   			$("#loading").css("display","block");
  	   			$("#mainDiv").addClass("disabled");
  	   		  },
 			success : function(result) {
 				if(id != undefined)
 					activeMenu(id);
 				$("#right-side").html(result);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
 			}
 		});
		}catch(e)
		{
			errorCode(e);
			}

	}
	
		
     function viewDashboard(id){
    	 try{
    		 var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}
    	 
    	 var contextPath = $("#contextPath").val();
    	 URL = contextPath + "/"+id+"/dashboard.do";
  		 
    	 
    	 
  		$.ajax({
  			type: "GET",
  			url : URL,
  			data : {
  			},
  			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
  			success : function(result) {
  				$(".active-menu").removeClass("active-menu");
    			$(".menu-open").css("display","none");
    			$(".menu-open").removeClass("menu-open");
    			$(".active").removeClass("active");
  				$("#right-side").html(result);
  			// $('.left-side').css('height','500px');
  				activeMenu('dashboard');
  				$("#loading").css("display","none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				 errorCode(jqXHR.status);
  				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
  			}
  		});
    	 }catch(e)
    		{
    			errorCode(e);
    			}

     }
     
   
     
  		function viewNewUser(id){
  			try{
  			 var contextPath = $("#contextPath").val();
  			 
  			// purpose:for checking internet conection
  			var online = window.navigator.onLine;
  		  	if(!online){
  		  	alert("Check your internet connection,Please try agian after some time.");
  		  	return;
  		  	}
  			 
  			 var type ="";
  			if($("#type").length)
  	    		 type = $("#type").val();
  			 URL = contextPath + "/userAccessControl/newUser.do";
  	  		$.ajax({
  	  			type: "GET",
  	  			url : URL,
  	  			data : {
  	  				type : type
  	  			},
  	  			beforeSend: function(xhr){                    
  	  				$("#loading").css("display","block");
  	  				$("#mainDiv").addClass("disabled");
   	   		  	},
  	  			success : function(result) {
  	  				if(id != undefined)
  	  					activeMenu(id);
  	  				$("#right-side").html(result);
  	  				$("#loading").css("display","none");
  	  				$("#mainDiv").removeClass('disabled');
  	  			},
  	  			error : function(jqXHR, textStatus, errorThrown)  {
  	  				 errorCode(jqXHR.status);
  	  				$("#loading").css("display","none");
  	 				$("#mainDiv").removeClass('disabled');
  	  			}
  	  		});
  			}
  			catch(e)
  			{
  			errorCode(e);
  			}

    	 
     }
  		
  		function viewSalesReports(){
  			try{
  	    	 var contextPath = $("#contextPath").val();
  	    	 
  	    	// purpose:for checking internet conection
  	   	var online = window.navigator.onLine;
  	     	if(!online){
  	     	alert("Check your internet connection,Please try agian after some time.");
  	     	return;
  	     	}
  	    	 
  	    	 URL = contextPath + "/inventorymanager/getSalesReports.do";
  	  		$.ajax({
  	  			type: "GET",
  	  			url : URL,
  	  			data : {
  	  			},
  	  			beforeSend: function(xhr){                    
  	  				$("#loading").css("display","block");
  	  				$("#mainDiv").addClass("disabled");
   	   		  	},
  	  			success : function(result) {
  	  				$("#right-side").html(result);
  	  				activeMenu(id);
  	  				$("#loading").css("display","none");
  	  				$("#mainDiv").removeClass('disabled');
  	  			},
  	  			error : function(jqXHR, textStatus, errorThrown)  {
  	  				 errorCode(jqXHR.status);
  	  				$("#loading").css("display","none");
  	 				$("#mainDiv").removeClass('disabled');
  	  			}
  	  		});
  			}
  	  	catch(e)
  		{
  		errorCode(e);
  		}

  	    	 
  	     }
     
  		/*
		 * function newOutlet(){ var contextPath = $("#contextPath").val(); URL =
		 * contextPath + "/inventorymanager/newOutlet.do"; $.ajax({ type: "GET",
		 * url : URL, data : { }, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
		 * $("#right-side").html(result); $('.left-side').css('height','683px');
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); } function editOutlet(){
		 * var contextPath = $("#contextPath").val(); URL = contextPath +
		 * "/inventorymanager/editOutlet.do"; $.ajax({ type: "GET", url : URL,
		 * data : { }, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
		 * $("#right-side").html(result); $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 * 
		 * function viewOutlet(location){ var contextPath =
		 * $("#contextPath").val(); URL = contextPath +
		 * "/inventorymanager/viewOutlet.do"; $.ajax({ type: "GET", url : URL,
		 * data : { location:location }, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
		 * $("#right-side").html(result); $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 * 
		 * function validateOutlet(operation){ $('#currencyError').html('');
		 * $('#lanaguageError').html(''); $('#amountError').html('');
		 * $('#startTimeError').html(''); $('#endTimeError').html(''); var
		 * contextPath = $("#contextPath").val(); //var location =
		 * $('#workLocation :selected').val(); var storeName =
		 * $('#storename').val(); var defaultCountry =
		 * $("#defaultCountry").val().trim(); var phoneNumber =
		 * $("#phoneNumber").val().trim(); if(defaultCountry != "" &&
		 * phoneNumber != ""){ $("#phone").val(defaultCountry+"-"+phoneNumber); }
		 * var phone = $('#phone').val(); var fax = $('#fax').val(); var
		 * currency = $('#currency').val(); var language = $('#language').val();
		 * var amount = $('#amount').val(); //var remoteBilling =
		 * $('input[name="remoteBilling"]').val(); // var foodCoupons =
		 * $('input[name="foodCoupons"]').val(); // var printing =
		 * $('input[name="printing"]').val(); var startTime =
		 * $('#startTime').val(); var endTime = $('#endTime').val(); var taxes =
		 * $('#taxes').val(); var level = 1; if(storeName.trim()==""){
		 * $('#storeError').html('Store Name is required'); return false; }else
		 * if(phone.trim()==""){ $('#error').html('Phone No is required');
		 * return false; }else if(fax.trim()==""){ $('#faxError').html('Fax is
		 * required'); return false; }else if(language.trim()==""){
		 * $('#lanaguageError').html('Language is required'); }else
		 * if(currency.trim()==""){ $('#currencyError').html('currency is
		 * required'); }else if(amount.trim()==""){
		 * $('#amountError').html('Amount should be specified'); }else
		 * if(startTime.trim()==""){ $('#startTimeError').html('Start time is
		 * required'); }else if(endTime.trim()==""){
		 * $('#endTimeError').html('End Time is required'); }else if(taxes==""){
		 * alert('Enter all tax values'); }else{ var formData =
		 * JSON.stringify($('form').serializeObject()); if(operation=="new"){
		 * URL = contextPath + "/inventorymanager/createOutlet.do"; }else { URL =
		 * contextPath + "/inventorymanager/updateOutlet.do"; } $.ajax({ type:
		 * "POST", url : URL, data :{ formData : formData, level : level, taxes :
		 * taxes }, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); },
		 * 
		 * success : function(result) { $("#right-side").html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled');
		 *  }, error : function(jqXHR, textStatus, errorThrown) {
		 * errorCode(jqXHR.status); $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 *  }
		 */
  		
  		function newOutlet(id){
  			try{
  				// purpose:for checking internet conection
  				var online = window.navigator.onLine;
  				if(!online){
  					alert("Check your internet connection,Please try agian after some time.");
  					return;
  				}
  				var contextPath = $("#contextPath").val();
  				URL = contextPath + "/inventorymanager/newOutlet.do";
  				// URL = contextPath +
				// "/outletconfigurations/newGroceryConfigurations.do";
  				$.ajax({
  					type: "GET",
  					url : URL,
  					data : {
  					},
  					beforeSend: function(xhr){                    
  						$("#loading").css("display","block");
  						$("#mainDiv").addClass("disabled");
  					},

  					success : function(result) {
  						if(id != undefined && id != "")
  							activeMenu(id);
  						openMenu("storedetails", "ulstoredetails",0);
  						$("#right-side").html(result);
  						// $('.left-side').css('height','683px');
  						$("#loading").css("display","none");
  						$("#mainDiv").removeClass('disabled');

  					},
  					error : function(jqXHR, textStatus, errorThrown)  {
  						errorCode(jqXHR.status);
  						$("#loading").css("display","none");
  						$("#mainDiv").removeClass('disabled');
  					}
  				});
  			}catch(e)
  			{
  				errorCode(e);
  			}

  		}
 		function editOutlet(){
 			try{
 	    	 var contextPath = $("#contextPath").val();
 	    	 var location = $("#workLocation").val();
 	    	// alert(location);
 	    	 
 	    	// purpose:for checking internet conection
 	    	var online = window.navigator.onLine;
 	      	if(!online){
 	      	alert("Check your internet connection,Please try agian after some time.");
 	      	return;
 	      	}
 	    	 
 	    	 URL = contextPath + "/inventorymanager/editOutlet.do";
 	  		// alert(URL);
 	  		$.ajax({
 	  			type: "GET",
 	  			url : URL,
 	  			data : {
	  				location:location,
	  			},
 	  		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	        },

 	  			success : function(result) {
 	  				$("#right-side").html(result);
 	  			 $("#loading").css("display","none");
 			   $("#mainDiv").removeClass('disabled');

 	  			},
 	  			error : function(jqXHR, textStatus, errorThrown)  {
 	  				 errorCode(jqXHR.status);
 	  				$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
 	  			}
 	  		});
 			}
 			catch(e)
 			{
 			errorCode(e);
 			}

 	     }
 		
 		function viewOutlet(location){
 			try{
			 var contextPath = $("#contextPath").val();
			 
			// purpose:for checking internet conection
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
			 
	 	    	URL = contextPath + "/inventorymanager/viewOutlet.do";
	 	  		 $.ajax({
	 	  			type: "GET",
	 	  			url : URL,
	 	  			data : {
	 	  				location:location
	 	  			},
	 	  			beforeSend: function(xhr){                    
	   	   				$("#loading").css("display","block");
	   	   				$("#mainDiv").addClass("disabled");
	    	        },

	 	  			success : function(result) {
	 	  				$("#right-side").html(result);
	 	  			 $("#loading").css("display","none");
	  			   $("#mainDiv").removeClass('disabled');

	 	  			},
	 	  			error : function(jqXHR, textStatus, errorThrown)  {
	 	  				 errorCode(jqXHR.status);
	 	  				$("#loading").css("display","none");
	     			   $("#mainDiv").removeClass('disabled');
	 	  			}
	 	  		});
 			}
 			catch(e)
 			{
 			errorCode(e);
 			}

	   }
 		
 		/*
		 * function validateOutlet(operation){ var contextPath =
		 * $("#contextPath").val();
		 * 
		 * var location = $('#workLocation').val(); if(location == ""){
		 * $("#Error").html("Please Create Location Prior to Creating Outlet");
		 * return; } var storeName = $('#storename').val();
		 * if($("#error").text() != ""){ $("#phoneNumber").focus(); return
		 * false; } var defaultCountry = $("#defaultCountry").val().trim(); var
		 * phoneNumber = $("#phoneNumber").val().trim(); if(defaultCountry != "" &&
		 * phoneNumber != ""){ $("#phone").val(defaultCountry+"-"+phoneNumber); }
		 * var street = ""; var locality = ""; var email = ""; var periphery
		 * =""; var secured = false; var remoteMonitoring = false; var phone =
		 * $('#phone').val(); var amount = $('#amount').val(); var gpsLongitude =
		 * $('#gpsLongitude').val(); var gpsLatitude = $('#gpsLatitude').val();
		 * var category = $('#category').val(); var startTime =
		 * $('#startTime').val(); var endTime = $('#endTime').val(); var
		 * leadTime = ""; var warehouseId = "";
		 * if($('#street').val().trim()!="") street = $('#street').val();
		 * if($('#locality').val().trim()!="") locality = $('#locality').val();
		 * if($('#emailIDinOutlet').val().trim()!="") email =
		 * $('#emailIDinOutlet').val(); if($('#periphery').val().trim()!="")
		 * periphery = $('#periphery').val(); if($('#secured').val().trim()!="")
		 * secured = $('#secured').val();
		 * if($('#remoteMonitoring').val().trim()!="") remoteMonitoring =
		 * $('#remoteMonitoring').val(); if($('#leadTime').val().trim()!="")
		 * leadTime = $('#leadTime').val(); if($('#warehouseId').val()!="")
		 * warehouseId = $('#warehouseId').val(); if(storeName.trim()==""){
		 * $('#storeError').html('Store Name is required'); return false; }else
		 * if(phone.trim()==""){ $("#phoneNumber").focus();
		 * $('#error').html('Phone No is required'); return false; }else
		 * if(gpsLongitude.trim()==""){ $('#gpsLongitudeError').html('GPS
		 * Longitude is required'); }else if(gpsLatitude.trim()==""){
		 * $('#gpsLatitudeError').html('GPS Latitude is required'); }else
		 * if(amount.trim()==""){ $('#amountError').html('Amount should be
		 * specified'); }else if(startTime.trim()==""){
		 * $('#startTimeError').html('Start time is required'); }else
		 * if(endTime.trim()==""){ $('#endTimeError').html('End Time is
		 * required'); }else{ var finalObj = {}, facilitiesInfo = [], obj = {};
		 * finalObj.locationId = location; finalObj.storeName = storeName;
		 * finalObj.phone = phone; finalObj.location = location;
		 * finalObj.startTime = startTime; finalObj.endTime = endTime;
		 * finalObj.minPayAmount = amount; finalObj.gpsLongitude = gpsLongitude;
		 * finalObj.gpsLatitude = gpsLatitude; finalObj.category = category;
		 * finalObj.street = street; finalObj.email = email; finalObj.periphery =
		 * periphery; finalObj.secured = secured; finalObj.remoteMonitoring =
		 * remoteMonitoring; finalObj.locality = locality; finalObj.leadTime =
		 * leadTime; finalObj.warehouseId = warehouseId; finalObj.fax =
		 * $("#fax").val(); finalObj.tollFreeNum = $("#tollFreeNum").val();
		 * finalObj.gstIn = $("#gstIn").val(); var zoneId=""
		 * if($('#zoneId').val()!="") zoneId = $('#zoneId').val();
		 * 
		 * finalObj.outletType =
		 * $('input:radio[name=outletType]:checked').val();
		 * finalObj.manualDiscounts =
		 * $('input:radio[name=manualDiscounts]:checked').val();
		 * finalObj.discountCalculatedOn =
		 * $('input:radio[name=discountCalculatedOn]:checked').val();
		 * finalObj.discountTaxation =
		 * $('input:radio[name=discountTaxation]:checked').val();
		 * finalObj.employeeDiscounts =
		 * $('input:radio[name=employeeDiscounts]:checked').val();
		 * finalObj.productsMenu =
		 * $('input:radio[name=productsMenu]:checked').val(); finalObj.zeroStock =
		 * $('input:radio[name=zeroStock]:checked').val();
		 * finalObj.latestCampaigns =
		 * $('input:radio[name=latestCampaigns]:checked').val();
		 * finalObj.zoneId=zoneId; finalObj.billId =
		 * $('input:radio[name=billId]:checked').val(); finalObj.companyOwned =
		 * $("#companyOwned").val(); finalObj.stockVerificationType =
		 * $("#stockVerificationType").val(); finalObj.offLineDataTimedOutDays =
		 * $("#offLineDataTimedOutDays").val();
		 * finalObj.offLineDataTimedOutHours =
		 * $("#offLineDataTimedOutHours").val(); finalObj.foodCoupons =
		 * $('input:radio[name=foodCoupons]:checked').val();
		 * finalObj.remoteBilling =
		 * $('input:radio[name=remoteBilling]:checked').val(); finalObj.printing =
		 * $('input:radio[name=printing]:checked').val(); finalObj.dooorDelivery =
		 * $('input:radio[name=doorDelivery]:checked').val(); finalObj.exchange =
		 * $('input:radio[name=returns]:checked').val(); finalObj.returns =
		 * $('input:radio[name=exchanges]:checked').val(); finalObj.storeStatus =
		 * $('input:radio[name=storeStatus]:checked').val(); finalObj.returnMode =
		 * $('input:radio[name=returnMode]:checked').val();
		 * finalObj.employeeSaleId =
		 * $('input:radio[name=employeeSaleId]:checked').val();
		 * finalObj.barcodeType =
		 * $('input:radio[name=barcodeType]:checked').val();
		 * finalObj.telephonicOrders =
		 * $('input:radio[name=telephonicOrders]:checked').val();
		 * finalObj.onlineOrders =
		 * $('input:radio[name=onlineOrders]:checked').val();
		 * finalObj.attendanceEnabled =
		 * $('input:radio[name=attendanceEnabled]:checked').val();
		 * finalObj.offlineMode =
		 * $('input:radio[name=offlineMode]:checked').val();
		 * finalObj.mobileSecurity =
		 * $('input:radio[name=mobileSecurity]:checked').val();
		 * finalObj.outletType =
		 * $('input:radio[name=outletType]:checked').val();
		 * finalObj.stockRequest =
		 * $('input:radio[name=stockRequest]:checked').val();
		 * finalObj.stockReciept =
		 * $('input:radio[name=stockReciept]:checked').val();
		 * finalObj.stockIssue =
		 * $('input:radio[name=stockIssue]:checked').val(); finalObj.stockReturn =
		 * $('input:radio[name=stockReturn]:checked').val(); finalObj.outletGrn =
		 * $('input:radio[name=outletGrn]:checked').val();
		 * finalObj.roundingRequired =
		 * $('input:radio[name=roundingRequired]:checked').val();
		 * finalObj.exchangeMode =
		 * $('input:radio[name=exchangeMode]:checked').val();
		 * finalObj.enforceDenominations =
		 * $('input:radio[name=enforcedenominations]:checked').val();
		 * finalObj.enforceVoidItemsReason =
		 * $('input:radio[name=enforcevoiditems]:checked').val();
		 * finalObj.enforceBillCancelReason =
		 * $('input:radio[name=billcancel]:checked').val();
		 * 
		 * //added by manasa finalObj.editPrice =
		 * $('input:radio[name=editprice]:checked').val(); finalObj.masterFlag =
		 * $('input:radio[name=masterflag]:checked').val(); finalObj.testStore =
		 * $('input:radio[name=teststore]:checked').val();
		 * 
		 * private String companyOwned; private String stockVerificationType;
		 * var len = $("#buildingtable tr").length-1; if(len == 0){ alert("Add
		 * Atleast One Facility to Outlet"); return false; } for(var i=1;i<=len;i++){
		 * var idAttr = $("#buildingtable tr:eq("+i+") td:last").attr("id");
		 * idAttr = idAttr.replace('Del',''); obj =
		 * {buildingName:$("#buildingName"+idAttr).text(),businessCategory:$("#facilityCategory"+idAttr).text(),levels:$("#noOfLevels"+idAttr).text(),remarks:$("#remarks"+idAttr).val()};
		 * facilitiesInfo.push(obj); } finalObj.facilitiesInfo = facilitiesInfo;
		 * finalObj.storeCode = $("#storeCode").val(); finalObj.type =
		 * $("#type").val(); if(operation=="new"){ URL = contextPath +
		 * "/inventorymanager/createOutlet.do"; }else { URL = contextPath +
		 * "/inventorymanager/updateOutlet.do"; } var formData =
		 * JSON.stringify(finalObj); $.ajax({ type: "POST", url : URL,
		 * contentType: "application/json", data : formData, beforeSend:
		 * function(xhr){ $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); },
		 * 
		 * success : function(result) { $("#right-side").html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled');
		 *  }, error : function(jqXHR, textStatus, errorThrown) {
		 * errorCode(jqXHR.status); $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 *  }
		 */
 		 
 		 
		/* function validateOutlet(operation){
		debugger;
			 try{
 			 var contextPath = $("#contextPath").val();
 			 
 			
 			 
 			// purpose:for checking internet conection
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}
 			 
 			 
 	    	 var location = $('#workLocation').val();
 	    	 if(location == ""){
 	    		 $("#Error").html("Please Create Location Prior to Creating Outlet");
 	    		 return;
 	    	 }
 	    	 var storeName = $('#storename').val();
 	    	
			 * if($("#error").text() != ""){ $("#phoneNumber").focus(); return
			 * false; }
			 
 	    	 
 	    
	  	 	 var street = "";
 			 var locality = "";
 			 var email = "";
 			 var periphery ="";
 			 var secured = false;
 			 var remoteMonitoring = false;
 	    	
 			 var amount = $('#amount').val();
 			 var gpsLongitude = $('#gpsLongitude').val();
 			 var gpsLatitude = $('#gpsLatitude').val();
 			 var category = $('#category').val();
 			 var startTime = $('#startTime').val();
 			 var endTime = $('#endTime').val();
 			 
 			 //added by koti
 			 var maximumCashLimit = $('#maximumCashLimit').val();
 			 var leadTime = "";
 			 var warehouseId = "";
 			if($('#street').val().trim()!="")
 			 street = $('#street').val();
 			if($('#locality').val().trim()!="")
 			 locality = $('#locality').val();
 			if($('#emailIDinOutlet').val().trim()!="")
 			 email = $('#emailIDinOutlet').val();
 			if($('#periphery').val().trim()!="")
 			 periphery = $('#periphery').val();
 			if($('#secured').val().trim()!="")
 			 secured = $('#secured').val();
 			if($('#remoteMonitoring').val().trim()!="")
 			 remoteMonitoring = $('#remoteMonitoring').val();
 			if($('#leadTime').val().trim()!="")
 				leadTime = $('#leadTime').val();
 			if($('#warehouseId').val()!="")
 				warehouseId = $('#warehouseId').val();
 			if(maximumCashLimit =="" || maximumCashLimit == undefined || maximumCashLimit == null){
 				maximumCashLimit ="";
 			}
 		
 			 if(storeName.trim()==""){
 				$("#storename").focus();
 	    		 $('#storeError').html('Store Name is required');
 	    		 return false;
 	    	 }else if(street.trim()==""){
 				 $('#streetError').html('Street is required');
 	    	 }
 	    	else if(locality.trim()==""){
				 $('#localityError').html('Locality is required');
	    	 }
 	    	else if(gpsLongitude.trim()==""){
 				 $('#gpsLongitudeError').html('GPS Longitude is required');
 			 }else if(gpsLatitude.trim()==""){
 				 $('#gpsLatitudeError').html('GPS Latitude is required');
 			 }else if(email.trim()==""){
  				$("#emailIDinOutlet").focus();
				 $('#emailIDinOutletError').html('Email is required');
			 }else if(amount.trim()==""){
 				$("#amount").focus();
 				 $('#amountError').html('Amount should be specified');
 			 }
 			 
 			if($("#phoneNumber").val() == ""){
	 	   		 $("#phoneNumber").focus();
	 	   		$("#phoneNumberError").html("phone number should not be empty"); 
	 	   		 return false;
	 	   	 }
	    	 
	    	 var defaultCountry = $("#defaultCountry").val().trim();
	  	 	 var phoneNumber = $("#phoneNumber").val().trim();
	  	 	 if(defaultCountry != "" && phoneNumber != ""){
	  	 		 $("#phone").val(defaultCountry+"-"+phoneNumber);
	  	 	 }
	  	 	  var phone = $('#phone').val();
	  	 	 var mobileNumber = validateMobileNumber();
	  	 	 if(mobileNumber == false){
	  	 		 $("#phoneNumber").focus();
	  	 		$("#phoneNumberError").html("Enter 10 digits Only"); 
	  	 		return;
	  	 	 }
 			 
 			 if(phone.trim()==""){
	    		 $("#phoneNumber").focus();
	    		 $('#error').html('Phone No is required');
	    		 return false;
	    	 }
 			 else if(startTime.trim()==""){
 				 $('#startTimeError').html('Start time is required');
 			 }else if(endTime.trim()==""){
 				 $('#endTimeError').html('End Time is required');
 			 }else{
 				 var finalObj = {}, facilitiesInfo = [], obj = {};
 				finalObj.locationId = location;
 				finalObj.storeName = storeName;
 				finalObj.phone = phone;
 				finalObj.location = location;
 				finalObj.startTime = startTime;
 				finalObj.endTime = endTime;
 				finalObj.minPayAmount = amount;
 				finalObj.gpsLongitude = gpsLongitude;
 				finalObj.gpsLatitude = gpsLatitude;
 				finalObj.category = category;
 				finalObj.street = street;
 				finalObj.email = email;
  				finalObj.periphery = periphery;
 				finalObj.secured = secured;
 				finalObj.remoteMonitoring = remoteMonitoring;
 				finalObj.locality = locality;
 				finalObj.leadTime = leadTime;
 				finalObj.maximumCashLimit= maximumCashLimit;
 				finalObj.warehouseId = warehouseId;
 				finalObj.fax = $("#fax").val();
 				finalObj.tollFreeNum = $("#tollFreeNum").val();
 				finalObj.dayOpenMandatory = $('input:radio[name=dayOpenMandatory]:checked').val();
 				
 				finalObj.shiftReportMandatory=$('input:radio[name="shiftReportMandatory"]:checked').val();
 				finalObj.allStoreReturnBill=$('input:radio[name="allStoreReturnBill"]:checked').val();
 				finalObj.creditNoteOtp=$('input:radio[name="creditNoteOtp"]:checked').val();
 				finalObj.posStockDisplay=$('input:radio[name="posStockDisplay"]:checked').val();
 				finalObj.minimumOrderValue=$("#minimumOrderValue").val();
 				
 				
 				
 				
 				finalObj.gstIn = $("#gstIn").val();
 				var zoneId=""
                    if($('#zoneId').val()!="")
                    	zoneId = $('#zoneId').val();
// debugger
                finalObj.outletType = $('input:radio[name=outletType]:checked').val();
                finalObj.manualDiscounts = $('input:radio[name=manualDiscounts]:checked').val();
                finalObj.discountCalculatedOn = $('input:radio[name=discountCalculatedOn]:checked').val();
                finalObj.discountTaxation = $('input:radio[name=discountTaxation]:checked').val();
                finalObj.employeeDiscounts = $('input:radio[name=employeeDiscounts]:checked').val();
                finalObj.productsMenu = $('input:radio[name=productsMenu]:checked').val();
                finalObj.zeroStock = $('input:radio[name=zeroStock]:checked').val();
                finalObj.latestCampaigns = $('input:radio[name=latestCampaigns]:checked').val();
                finalObj.zoneId=zoneId;
                finalObj.billId = $('input:radio[name=billId]:checked').val();
 				finalObj.companyOwned = $("#companyOwned").val();
 				finalObj.stockVerificationType = $("#stockVerificationType").val();
 				finalObj.offLineDataTimedOutDays = $("#offLineDataTimedOutDays").val();
 				finalObj.offLineDataTimedOutHours = $("#offLineDataTimedOutHours").val();
 				finalObj.foodCoupons = $('input:radio[name=foodCoupons]:checked').val();
 				finalObj.remoteBilling = $('input:radio[name=remoteBilling]:checked').val();
 				finalObj.printing = $('input:radio[name=printing]:checked').val();
 				finalObj.dooorDelivery = $('input:radio[name=doorDelivery]:checked').val();
 				
 				finalObj.exchange = $('input:radio[name=returns]:checked').val();
 				finalObj.returns = $('input:radio[name=exchanges]:checked').val();
 				finalObj.storeStatus = $('input:radio[name=storeStatus]:checked').val();
 				finalObj.returnMode = $('input:radio[name=returnMode]:checked').val();
 				finalObj.employeeSaleId = $('input:radio[name=employeeSaleId]:checked').val();
 				finalObj.barcodeType = $('input:radio[name=barcodeType]:checked').val();
 				finalObj.telephonicOrders = $('input:radio[name=telephonicOrders]:checked').val();
 				finalObj.onlineOrders = $('input:radio[name=onlineOrders]:checked').val();
 				finalObj.attendanceEnabled = $('input:radio[name=attendanceEnabled]:checked').val();
 				finalObj.offlineMode = $('input:radio[name=offlineMode]:checked').val();
 				finalObj.mobileSecurity = $('input:radio[name=mobileSecurity]:checked').val();
 				finalObj.outletType = $('input:radio[name=outletType]:checked').val();
 				finalObj.stockRequest = $('input:radio[name=stockRequest]:checked').val();
 				finalObj.stockReciept = $('input:radio[name=stockReciept]:checked').val();
 				finalObj.stockIssue = $('input:radio[name=stockIssue]:checked').val();
 				finalObj.stockReturn = $('input:radio[name=stockReturn]:checked').val();
 				finalObj.outletGrn = $('input:radio[name=outletGrn]:checked').val();
 				finalObj.roundingRequired = $('input:radio[name=roundingRequired]:checked').val();
 				finalObj.exchangeMode = $('input:radio[name=exchangeMode]:checked').val();
 				finalObj.enforceDenominations = $('input:radio[name=enforcedenominations]:checked').val();
 				finalObj.enforceVoidItemsReason = $('input:radio[name=enforcevoiditems]:checked').val();
 				finalObj.enforceBillCancelReason = $('input:radio[name=billcancel]:checked').val();
 				
 				 // added by manasa
 				finalObj.editPrice = $('input:radio[name=editprice]:checked').val();
 				finalObj.masterFlag = $('input:radio[name=masterflag]:checked').val();
 				finalObj.testStore = $('input:radio[name=teststore]:checked').val();
 				finalObj.hybrid_mode = $('input:radio[name=hybrid_mode]:checked').val();
 				finalObj.dayStartSync = $("#dayStartSync").val();
 				
 				finalObj.returnAllowDays=$("#returnDays").val();
 				finalObj.exchangeAllowDays=$("#exchangeDays").val();
 				finalObj.cancelAllowDays=$("#cancelDays").val();
 				//added by koti
			
			   var creditnote =$("#expiryDays").val();
                if(creditnote = ""){
	             creditnote = 0;
                  }

			
 				finalObj.creditNoteExpiryDays=$("#expiryDays").val();
 				finalObj.requiredCustomerNumber = $('input:radio[name="customerNo"]:checked').val();
 				
 				finalObj.draftAllowDays=$("#draftAllowDays").val();
 				finalObj.stockSaleAllowDays=$("#stockSaleAllowDays").val();
 				
 				finalObj.signature=$("#signatureFile").val();
 				finalObj.sigantureImageRef=$("#signature_refId").val();
 				
 				finalObj.multipleStockReceipts=$('input:radio[name="multipleStockReceipts"]:checked').val();
 				finalObj.stockMaintainDays=$("#stockMaintainDays").val();
 				
 				//Sales FTP
 				finalObj.ftpUploadRequired=$('input:radio[name="salesFTP"]:checked').val();
 				finalObj.ftpServer=$("#ftpIp").val();
 				finalObj.ftpPort=$("#ftpPort").val();
 				finalObj.userId=$("#ftpUserId").val();
 				finalObj.password=$("#ftpPasword").val();
 				
 				
 				  var dateTime = getCurrentDate();
 	    		  var date = dateTime.split(' ');
 	    		  date = date[0].split('/');
 	    		  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
 	    		 // var startdate = formatedDate;
 				if($("#createddate").val().trim() == "")
 				finalObj.createdDatestr = formatedDate;
 				else
 				finalObj.createdDatestr = $("#createddate").val().trim();
 				
 				finalObj.updatedDatestr = $("#updatedddate").val().trim();
 				
 				
 				// added by vinay
 				finalObj.timeOutStr = $("#timeOutStr").val();
 			 	finalObj.suspendReason = $("#suspendReason").val();
				finalObj.fssaiNumber = $("#fssaiNumber").val();
 			 	finalObj.isInventoryRequired = $("#isInventoryRequired").val();
 			 	finalObj.isVirtualStore = $("#isVirtualStore").val();
 				finalObj.cardinfo = $('input:radio[name=cardinfo]:checked').val();
 				
 				finalObj.offlineDuplicateBill= $('input:radio[name=offlineDuplicateBill]:checked').val();
 				finalObj.creditNoteMultipleClaims= $('input:radio[name=creditNoteMultipleClaims]:checked').val();
 				finalObj.counterOTP = $('input:radio[name=counterOTP]:checked').val();
 				finalObj.returnBillRefRequired = $('input:radio[name=returnBillRefRequired]:checked').val();
 				
 				
 				
				 * private String companyOwned; private String
				 * stockVerificationType;
				 
 				 var len = $("#buildingtable tr").length-1;
 				if(len == 0){
 					alert("Add Atleast One Facility to Outlet");
 					return false;
 					}
 				for(var i=1;i<=len;i++){
 					var idAttr = $("#buildingtable tr:eq("+i+") td:last").attr("id");
 					idAttr = idAttr.replace('Del','');
 					obj = {buildingName:$("#buildingName"+idAttr).text(),businessCategory:$("#facilityCategory"+idAttr).text(),levels:$("#noOfLevels"+idAttr).text(),remarks:$("#remarks"+idAttr).val()};
 					facilitiesInfo.push(obj);
 				}
 				finalObj.facilitiesInfo = facilitiesInfo;
 				finalObj.storeCode = $("#storeCode").val();
 				finalObj.type = $("#type").val();
 				if(operation=="new"){
 					URL = contextPath + "/inventorymanager/createOutlet.do";
 				}else {
 					URL = contextPath + "/inventorymanager/updateOutlet.do";
 				}
 				var formData = JSON.stringify(finalObj);
 				console.log(formData);
 				$.ajax({
 					  type: "POST",
		  			  url : URL,
		  			  contentType: "application/json",
		              data : formData,
 	        	      beforeSend: function(xhr){                    
	       	   				$("#loading").css("display","block");
	       	   				$("#mainDiv").addClass("disabled");
	        	        },

 	        			success : function(result) {
 	        			   $("#right-side").html(result);
 	        			 $("#loading").css("display","none");
	        			   $("#mainDiv").removeClass('disabled');

 	        			 },
 	        			error : function(jqXHR, textStatus, errorThrown)  {
 	        				 errorCode(jqXHR.status);
 	        				$("#loading").css("display","none");
	        			   $("#mainDiv").removeClass('disabled');
 	        			}
 	        		});
 	    	 }
			 }
			 catch(e)
				{
				errorCode(e);
				}

 	    	
 	     }*/
 		 
 		 	
 		function validateOutlet(operation){
 			debugger;
 				 try{
 	 			 var contextPath = $("#contextPath").val();
 	 			 
 	 			// purpose:for checking internet conection
 	 			var online = window.navigator.onLine;
 	 		  	if(!online){
 	 		  	alert("Check your internet connection,Please try agian after some time.");
 	 		  	return;
 	 		  	}
 	 			 
 	 	    	 var location = $('#workLocation').val();
 	 	    	 if(location == ""){
 	 	    		 $("#Error").html("Please Create Location Prior to Creating Outlet");
 	 	    		 return;
 	 	    	 }
 	 	    	var zoneId=$('#zoneId').val();
 	 	    	if(zoneId=="" || zoneId==null||zoneId==undefined){
 	 	    		zoneId=""
 	 	    	$("#zoneId").focus();
 	 	    	$("#Error").html("Please Create one zone to Outlet");
 	 	    		return false;
 	 	    	}
 	 	    		
 	 	    	 var storeName = $('#storename').val();
 	 	    	/*
 				 * if($("#error").text() != ""){ $("#phoneNumber").focus(); return
 				 * false; }
 				 */
 	 	    
 		  	 	 var street = "";
 	 			 var locality = "";
 	 			 var email = "";
 	 			 var periphery ="";
 	 			 var secured = false;
 	 			 var remoteMonitoring = false;
 	 	    	
 	 			 var amount = $('#amount').val();
 	 			 var gpsLongitude = $('#gpsLongitude').val();
 	 			 var gpsLatitude = $('#gpsLatitude').val();
 	 			 var category = $('#category').val();
 	 			 var startTime = $('#startTime').val();
 	 			 var endTime = $('#endTime').val();
 	 			 var expectedDeliveryTime = $('#expectedDeliveryTime').val();
 	 			
 	 			 //added by koti
 	 			 var maximumCashLimit = $('#maximumCashLimit').val();
 	 			var b2cMaxValue = $('#b2cMaxValue').val();
 	 			 var leadTime = "";
 	 			 var warehouseId = "";
 	 			if($('#street').val().trim()!="")
 	 			 street = $('#street').val();
 	 			if($('#locality').val().trim()!="")
 	 			 locality = $('#locality').val();
 	 			if($('#emailIDinOutlet').val().trim()!="")
 	 			 email = $('#emailIDinOutlet').val();
 	 			if($('#periphery').val().trim()!="")
 	 			 periphery = $('#periphery').val();
 	 			if($('#secured').val().trim()!="")
 	 			 secured = $('#secured').val();
 	 			if($('#remoteMonitoring').val().trim()!="")
 	 			 remoteMonitoring = $('#remoteMonitoring').val();
 	 			if($('#leadTime').val().trim()!="")
 	 				leadTime = $('#leadTime').val();
 	 			if($('#warehouseId').val()!="")
 	 				warehouseId = $('#warehouseId').val();
 	 			if(maximumCashLimit =="" || maximumCashLimit == undefined || maximumCashLimit == null){
 	 				maximumCashLimit ="0";
 	 			}
 	 			if(b2cMaxValue =="" || b2cMaxValue == undefined || b2cMaxValue == null){
 	 				b2cMaxValue ="0";
 	 			}
 	 		
 	 	if(parseInt($("#organizationName").val().length)>150){
 	 				 $("#organizationName").focus();
 	 				 $("#organizationNameError").html("Orgnization Name can't exceeds 150 Character");
 	 				 return;
 	 			} else{
 	 			$("#organizationNameError").html("");
 	 		}
 	 			
 	 	if($("#storename").val().trim() == ""){
 			$("#storeError").html("Store Name is required");
 			focusDiv('storename');
 			$("#storename").focus();
 			return;
 		}
 		else if($("#storename").val().length>50){
 			$("#storeError").html("Store Name can't exceeds 50 Characters");
 			$("#storename").focus();
 			return false;
 		}
 	 		
 	 	if($("#street").val().trim() == ""){
 			$("#streetError").html("Street is required");
 			focusDiv('street');
 			$("#street").focus();
 			return;
 		}
 		else if($("#street").val().length>200){
 			$("#streetError").html("Street can't exceeds 200 Characters");
 			$("#street").focus();
 			return false;
 		}else{
 			$("#streetError").html("");
 		}
 	 	    	 
 	 	 if($("#locality").val().trim() == ""){
 			$("#localityError").html("Locality is required");
 			focusDiv('locality');
 			$("#locality").focus();
 			return;
 		}
 		else if($("#locality").val().length>200){
 			$("#localityError").html("Locality can't exceeds 200 Characters");
 			$("#locality").focus();
 			return false;
 		} 
 		else{
 			$("#localityError").html("");
 		}
 		
 		if($("#gpsLongitude").val().trim() == ""){
 			$("#gpsLongitudeError").html("GPS Longitude is required");
 			focusDiv('gpsLongitude');
 			$("#gpsLongitude").focus();
 			return;
 		}
 		else if($("#gpsLongitude").val().length>50){
 			$("#gpsLongitudeError").html("GPS Longitude should be less than 50 characters");
 			$("#gpsLongitude").focus();
 			return false;
 		}
 		else{
 			$("#gpsLongitudeError").html("");
 		}
 	 	  
 		
 		if($("#gpsLatitude").val().trim() == ""){
 			$("#gpsLatitudeError").html("GPS Latitude is required");
 			focusDiv('gpsLatitude');
 			$("#gpsLatitude").focus();
 			return;
 		}
 		else if($("#gpsLatitude").val().length>50){
 			$("#gpsLatitudeError").html("GPS Latitude should be less than 50 characters");
 			$("#gpsLatitude").focus();
 			return false;
 		}
 		else{
 			$("#gpsLatitudeError").html("");
 		}
 	 	  
 		if(parseInt($("#fax").val().length)>30){
				 $("#fax").focus();
				 $("#faxError").html("Fax can't exceeds 30 Character");
				 return;
			} else{
			$("#faxError").html("");
		}
 		
 		if(parseInt($("#tollFreeNum").val().length)>30){
			 $("#tollFreeNum").focus();
			 $("#tollFreeNumError").html("Toll Free Number can't exceeds 30 Character");
			 return;
		} else{
		$("#tollFreeNumError").html("");
	}
 		
 		if($("#amount").val().trim() == ""){
 			$("#amountError").html("Amount should be specified");
 			focusDiv('amount');
 			$("#amount").focus();
 			return;
 		}
 		else if($("#amount").val().length>45){
 			$("#amountError").html("Amount should be less than 45 digits");
 			$("#amount").focus();
 			return false;
 		}
 		else{
 			$("#amountError").html("");
 		}
 	 	  
 	 	 if(email == ""){
 		    	$("#emailIDinOutlet").focus();
 			   	$("#emailIDinOutletError").html("Please enter Email ID");
 			   	return false;
 		 }
 		else if(!emailValidation(email)){
 			$("#emailIDinOutlet").focus();
		   	$("#emailIDinOutletError").html("Invalid EmailId (Ex:abc@gmail.com)");
		   	return false;
		  } else {
 			$("#emailIDinOutletError").html("");
 		}
 	 			 
 	 			if($("#phoneNumber").val() == ""){
 		 	   		 $("#phoneNumber").focus();
 		 	   		$("#phoneNumberError").html("Phone number should not be empty"); 
 		 	   		 return false;
 		 	   	 }else if($("#phoneNumber").val().length != 10){
		 	   		 $("#phoneNumber").focus();
		 	   		$("#phoneNumberError").html("Phone number must be in 10 Characters"); 
		 	   		 return false;
 		 	   	 }else{
 		 	   	$("#phoneNumberError").html(""); 
 		 	   	 }
 		    	 
 	 			
 	 			if($("#maximumCashLimit").val() == ""){
		 	   		 $("#maximumCashLimit").focus();
		 	   		$("#Error").html("Max cash should not be empty"); 
		 	   		 return false;
		 	   	 }
 	 			
 	 			if($("#maximumCashLimit").val() == ""){
		 	   		 $("#maximumCashLimit").focus();
		 	   		 $("#Error").html("Max cash should not be empty"); 
		 	   		 return false;
		 	   	 }
 	 			
 	 			if($("#b2cMaxValue").val() == ""){
		 	   		 $("#b2cMaxValue").focus();
		 	   		$("#Error").html("Max Bill Amount should not be empty"); 
		 	   		 return false;
		 	   	 }
 	 			
 	 			if($("#gstIn").val().length>30){
 	 				$("#gstIn").focus();
 	 	 			$("#gstInError").html("GST In should be less than 30 character");
 	 	 			return false;
 	 	 		}
 	 	 		else{
 	 	 			$("#gstInError").html("");
 	 	 		}
 	 			
 	 			if($("#suspendReason").val().length>250){
 	 				$("#suspendReason").focus();
 	 	 			$("#suspendReasonError").html("Suspend Reason should be less than 250 character");
 	 	 			return false;
 	 	 		}
 	 	 		else{
 	 	 			$("#suspendReasonError").html("");
 	 	 		}
 	 			
 	 			
 	 			if($("#fssaiNumber").val().length>250){
 	 				$("#fssaiNumber").focus();
 	 	 			$("#fssaiNumberError").html("FSSAI Number should be less than 250 character");
 	 	 			return false;
 	 	 		}
 	 	 		else{
 	 	 			$("#fssaiNumberError").html("");
 	 	 		}
 	 			
 	 			
 	 			
 	 			
 	 			
 	 			
 		    	 var defaultCountry = $("#defaultCountry").val().trim();
 		  	 	 var phoneNumber = $("#phoneNumber").val().trim();
 		  	 	 if(defaultCountry != "" && phoneNumber != ""){
 		  	 		 $("#phone").val(defaultCountry+"-"+phoneNumber);
 		  	 	 }
 		  	 	  var phone = $('#phone').val();
 		  	 	 var mobileNumber = validateMobileNumber();
 		  	 	 if(mobileNumber == false){
 		  	 		 $("#phoneNumber").focus();
 		  	 		$("#phoneNumberError").html("Enter 10 digits Only"); 
 		  	 		return;
 		  	 	 }
 	 			 
 	 			 if(phone.trim()==""){
 		    		 $("#phoneNumber").focus();
 		    		 $('#error').html('Phone No is required');
 		    		 return false;
 		    	 }
 	 			 else if(startTime.trim()==""){
 	 				 $('#startTimeError').html('Start time is required');
 	 			 }else if(endTime.trim()==""){
 	 				 $('#endTimeError').html('End Time is required');
 	 			 }else{
 	 				 var finalObj = {}, facilitiesInfo = [], obj = {};
 	 				finalObj.locationId = location;
 	 				var orgName = $('#organizationName').val();
 	 				finalObj.companyName =orgName;
 	 				
 	 				finalObj.storeName = storeName;
 	 				finalObj.phone = phone;
 	 				finalObj.b2cMaxValue = b2cMaxValue;
 	 				finalObj.location = location;
 	 				finalObj.startTime = startTime;
 	 				finalObj.endTime = endTime;
 	 				finalObj.minPayAmount = amount;
 	 				finalObj.gpsLongitude = gpsLongitude;
 	 				finalObj.gpsLatitude = gpsLatitude;
 	 				finalObj.category = category;
 	 				finalObj.street = street;
 	 				finalObj.email = email;
 	  				finalObj.periphery = periphery;
 	 				finalObj.secured = secured;
 	 				finalObj.remoteMonitoring = remoteMonitoring;
 	 				finalObj.locality = locality;
 	 				finalObj.leadTime = leadTime;
 	 				finalObj.maximumCashLimit= maximumCashLimit;
 	 				finalObj.warehouseId = warehouseId;
 	 				finalObj.fax = $("#fax").val();
 	 				finalObj.tollFreeNum = $("#tollFreeNum").val();
 	 				finalObj.dayOpenMandatory = $('input:radio[name=dayOpenMandatory]:checked').val();
 	 				finalObj.instructions=$("#instructions").val();
 	 				finalObj.shiftReportMandatory=$('input:radio[name="shiftReportMandatory"]:checked').val();
 	 				finalObj.allStoreReturnBill=$('input:radio[name="allStoreReturnBill"]:checked').val();
 	 				finalObj.creditNoteOtp=$('input:radio[name="creditNoteOtp"]:checked').val();
 	 				finalObj.posStockDisplay=$('input:radio[name="posStockDisplay"]:checked').val();
 	 				finalObj.billOtp=$('input:radio[name="billOtp"]:checked').val();
 	 				finalObj.minimumOrderValue=$("#minimumOrderValue").val();
 	 				finalObj.expectedDeliveryTime= expectedDeliveryTime;
 	 				
 	 				finalObj.gstIn = $("#gstIn").val();
 	 				var zoneId=""
 	                    if($('#zoneId').val()!="")
 	                    	zoneId = $('#zoneId').val();
 	// debugger
 	                finalObj.outletType = $('input:radio[name=outletType]:checked').val();
 	                finalObj.manualDiscounts = $('input:radio[name=manualDiscounts]:checked').val();
 	                finalObj.discountCalculatedOn = $('input:radio[name=discountCalculatedOn]:checked').val();
 	                finalObj.discountTaxation = $('input:radio[name=discountTaxation]:checked').val();
 	                finalObj.employeeDiscounts = $('input:radio[name=employeeDiscounts]:checked').val();
 	                finalObj.productsMenu = $('input:radio[name=productsMenu]:checked').val();
 	                finalObj.zeroStock = $('input:radio[name=zeroStock]:checked').val();
 	                finalObj.latestCampaigns = $('input:radio[name=latestCampaigns]:checked').val();
 	                finalObj.zoneId=zoneId;
 	                finalObj.billId = $('input:radio[name=billId]:checked').val();
 	 				finalObj.companyOwned = $("#companyOwned").val();
 	 				finalObj.stockVerificationType = $("#stockVerificationType").val();
 	 				finalObj.offLineDataTimedOutDays = $("#offLineDataTimedOutDays").val();
 	 				finalObj.offLineDataTimedOutHours = $("#offLineDataTimedOutHours").val();
 	 				finalObj.foodCoupons = $('input:radio[name=foodCoupons]:checked').val();
 	 				finalObj.remoteBilling = $('input:radio[name=remoteBilling]:checked').val();
 	 				finalObj.printing = $('input:radio[name=printing]:checked').val();
 	 				finalObj.dooorDelivery = $('input:radio[name=doorDelivery]:checked').val();
 	 				
 	 				finalObj.exchange = $('input:radio[name=returns]:checked').val();
 	 				finalObj.returns = $('input:radio[name=exchanges]:checked').val();
 	 				finalObj.storeStatus = $('input:radio[name=storeStatus]:checked').val();
 	 				finalObj.returnMode = $('input:radio[name=returnMode]:checked').val();
 	 				finalObj.employeeSaleId = $('input:radio[name=employeeSaleId]:checked').val();
 	 				finalObj.barcodeType = $('input:radio[name=barcodeType]:checked').val();
 	 				finalObj.telephonicOrders = $('input:radio[name=telephonicOrders]:checked').val();
 	 				finalObj.onlineOrders = $('input:radio[name=onlineOrders]:checked').val();
 	 				finalObj.attendanceEnabled = $('input:radio[name=attendanceEnabled]:checked').val();
 	 				finalObj.offlineMode = $('input:radio[name=offlineMode]:checked').val();
 	 				finalObj.mobileSecurity = $('input:radio[name=mobileSecurity]:checked').val();
 	 				finalObj.outletType = $('input:radio[name=outletType]:checked').val();
 	 				finalObj.stockRequest = $('input:radio[name=stockRequest]:checked').val();
 	 				finalObj.stockReciept = $('input:radio[name=stockReciept]:checked').val();
 	 				finalObj.stockIssue = $('input:radio[name=stockIssue]:checked').val();
 	 				finalObj.stockReturn = $('input:radio[name=stockReturn]:checked').val();
 	 				finalObj.outletGrn = $('input:radio[name=outletGrn]:checked').val();
 	 				finalObj.roundingRequired = $('input:radio[name=roundingRequired]:checked').val();
 	 				finalObj.exchangeMode = $('input:radio[name=exchangeMode]:checked').val();
 	 				finalObj.enforceDenominations = $('input:radio[name=enforcedenominations]:checked').val();
 	 				finalObj.enforceVoidItemsReason = $('input:radio[name=enforcevoiditems]:checked').val();
 	 				finalObj.enforceBillCancelReason = $('input:radio[name=billcancel]:checked').val();
 	 				
 	 				 // added by manasa
 	 				finalObj.editPrice = $('input:radio[name=editprice]:checked').val();
 	 				finalObj.masterFlag = $('input:radio[name=masterflag]:checked').val();
 	 				finalObj.testStore = $('input:radio[name=teststore]:checked').val();
 	 				finalObj.hybrid_mode = $('input:radio[name=hybrid_mode]:checked').val();
 	 				finalObj.dayStartSync = $("#dayStartSync").val();
 	 				
 	 				finalObj.returnAllowDays=$("#returnDays").val();
 	 				finalObj.exchangeAllowDays=$("#exchangeDays").val();
 	 				finalObj.cancelAllowDays=$("#cancelDays").val();
 	 				//added by koti
 				
 				   var creditnote =$("#expiryDays").val();
 	                if(creditnote = ""){
 		             creditnote = 0;
 	               }

 				
 	 				finalObj.creditNoteExpiryDays=$("#expiryDays").val();
 	 				finalObj.requiredCustomerNumber = $('input:radio[name="customerNo"]:checked').val();
 	 				
 	 				finalObj.draftAllowDays=$("#draftAllowDays").val();
 	 				finalObj.stockSaleAllowDays=$("#stockSaleAllowDays").val();
 	 				
 	 				finalObj.signature=$("#signatureFile").val();
 	 				finalObj.sigantureImageRef=$("#signature_refId").val();
 	 				
 	 				finalObj.multipleStockReceipts=$('input:radio[name="multipleStockReceipts"]:checked').val();
 	 				finalObj.stockMaintainDays=$("#stockMaintainDays").val();
 	 				
 	 				//Sales FTP
 	 				finalObj.ftpUploadRequired=$('input:radio[name="salesFTP"]:checked').val();
 	 				finalObj.ftpServer=$("#ftpIp").val();
 	 				finalObj.ftpPort=$("#ftpPort").val();
 	 				finalObj.userId=$("#ftpUserId").val();
 	 				finalObj.password=$("#ftpPasword").val();
 	 				
 	 				
 	 				  var dateTime = getCurrentDate();
 	 	    		  var date = dateTime.split(' ');
 	 	    		  date = date[0].split('/');
 	 	    		  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
 	 	    		 // var startdate = formatedDate;
 	 				if($("#createddate").val().trim() == "")
 	 				finalObj.createdDatestr = formatedDate;
 	 				else
 	 				finalObj.createdDatestr = $("#createddate").val().trim();
 	 				
 	 				finalObj.updatedDatestr = $("#updatedddate").val().trim();
 	 				
 	 				// added by vinay
 	 				finalObj.timeOutStr = $("#timeOutStr").val();
 	 			 	finalObj.suspendReason = $("#suspendReason").val();
 					finalObj.fssaiNumber = $("#fssaiNumber").val();
 	 			 	finalObj.isInventoryRequired = $("#isInventoryRequired").val();
 	 			 	finalObj.isVirtualStore = $("#isVirtualStore").val();
 	 				finalObj.cardinfo = $('input:radio[name=cardinfo]:checked').val();
 	 				
 	 				finalObj.offlineDuplicateBill= $('input:radio[name=offlineDuplicateBill]:checked').val();
 	 				finalObj.creditNoteMultipleClaims= $('input:radio[name=creditNoteMultipleClaims]:checked').val();
 	 				finalObj.counterOTP = $('input:radio[name=counterOTP]:checked').val();
 	 				finalObj.returnBillRefRequired = $('input:radio[name=returnBillRefRequired]:checked').val();
 	 				finalObj.priceListCount = $("#priceListCount").val();
 	 				
 	 				/*
 					 * private String companyOwned; private String
 					 * stockVerificationType;
 					 */
 	 				 var len = $("#buildingtable tr").length-1;
 	 				if(len == 0){
 	 					alert("Add Atleast One Facility to Outlet");
 	 					return false;
 	 					}
 	 				for(var i=1;i<=len;i++){
 	 					var idAttr = $("#buildingtable tr:eq("+i+") td:last").attr("id");
 	 					idAttr = idAttr.replace('Del','');
 	 					obj = {buildingName:$("#buildingName"+idAttr).text(),businessCategory:$("#facilityCategory"+idAttr).text(),levels:$("#noOfLevels"+idAttr).text(),remarks:$("#remarks"+idAttr).val()};
 	 					facilitiesInfo.push(obj);
 	 				}
 	 				finalObj.facilitiesInfo = facilitiesInfo;
 	 				finalObj.storeCode = $("#storeCode").val();
 	 				finalObj.type = $("#type").val();
 	 				if(operation=="new"){
 	 					URL = contextPath + "/inventorymanager/createOutlet.do";
 	 				}else {
 	 					URL = contextPath + "/inventorymanager/updateOutlet.do";
 	 				}
 	 				var formData = JSON.stringify(finalObj);
 	 				//console.log(formData);
 	 				$.ajax({
 	 					  type: "POST",
 			  			  url : URL,
 			  			  contentType: "application/json",
 			              data : formData,
 	 	        	      beforeSend: function(xhr){                    
 		       	   				$("#loading").css("display","block");
 		       	   				$("#mainDiv").addClass("disabled");
 		        	        },

 	 	        			success : function(result) {
 	 	        			   $("#right-side").html(result);
 	 	        			 $("#loading").css("display","none");
 		        			   $("#mainDiv").removeClass('disabled');

 	 	        			 },
 	 	        			error : function(jqXHR, textStatus, errorThrown)  {
 	 	        				 errorCode(jqXHR.status);
 	 	        				$("#loading").css("display","none");
 		        			   $("#mainDiv").removeClass('disabled');
 	 	        			}
 	 	        		});
 	 	    	 }
 				 }
 				 catch(e)
 					{
 					errorCode(e);
 					}

 	 	    	
 	 	     }
 		
 		
 		 
 		 
 		function expand(ele){
 			try{
 				// purpose:for checking internet conection
 	 			var online = window.navigator.onLine;
 	 		  	if(!online){
 	 		  	alert("Check your internet connection,Please try agian after some time.");
 	 		  	return;
 	 		  	}
 			var id = ele;
 			$(".collapsed").addClass("collapse");
 			$(".collapsed").removeClass("collapsed");
 			   if($("#categoryExpand" + id + " " + "i").hasClass("fa-sort-desc"))
 				 {
 				   $('.rowone'+id).removeClass("collapse");
 				   $('.rowone'+id).addClass("collapsed");
 					$(".fa-sort-asc").addClass("fa-sort-desc");
 					$(".fa-sort-asc").removeClass("fa-sort-asc");
 					$("#categoryExpand" + id + " " + "i" + ".fa-sort-desc").removeClass("fa-sort-desc");
 					$("#categoryExpand" + id + " " + "i" + ".fa").addClass("fa-sort-asc");
 				 }
 			   else{
 				  $('.rowone'+id).removeClass("collapsed");
				   $('.rowone'+id).addClass("collapse");
 					  $(".fa-sort-asc").addClass("fa-sort-desc");
 						$(".fa-sort-asc").removeClass("fa-sort-asc");
 				
 			   }
 			}
 			catch(e)
 			{
 			errorCode(e);
 			}

 		}
 		
 		
 		function expandSkuPrice(ele){
 			try{
 				// purpose:for checking internet conection
 	 			var online = window.navigator.onLine;
 	 		  	if(!online){
 	 		  	alert("Check your internet connection,Please try agian after some time.");
 	 		  	return;
 	 		  	}
 	 		  	debugger;
 			var id = ele;
 			$("#Error").text("");
 		    $("#Success").text("");
 			$(".collapsed").addClass("collapse");
 			$(".collapsed").removeClass("collapsed");
 			   if($("#categoryExpand" + id + " " + "i").hasClass("fa-sort-desc"))
 				 {
 				   $('.rowone'+id).removeClass("collapse");
 				   $('.rowone'+id).addClass("collapsed");
 					$(".fa-sort-asc").addClass("fa-sort-desc");
 					$(".fa-sort-asc").removeClass("fa-sort-asc");
 					$("#categoryExpand" + id + " " + "i" + ".fa-sort-desc").removeClass("fa-sort-desc");
 					$("#categoryExpand" + id + " " + "i" + ".fa").addClass("fa-sort-asc");
 				 }
 			   else{
 				  $('.rowone'+id).removeClass("collapsed");
				   $('.rowone'+id).addClass("collapse");
 					  $(".fa-sort-asc").addClass("fa-sort-desc");
 						$(".fa-sort-asc").removeClass("fa-sort-asc");
 				
 			   }
 			   // debugger
 			   var rowno=$("#rowcount").val();
 			  caluclateProfitability(rowno);
 			}
 			catch(e)
 			{
 			errorCode(e);
 			}

 		}

 		
 		
 		
 		function expandSkuPriceForStockUpdate(ele){
 			try{
 				// purpose:for checking internet conection
 	 			var online = window.navigator.onLine;
 	 		  	if(!online){
 	 		  	alert("Check your internet connection,Please try agian after some time.");
 	 		  	return;
 	 		  	}
 			var id = ele;
 			$("#Error").text("");
 		    $("#Success").text("");
 			$(".collapsed").addClass("collapse");
 			$(".collapsed").removeClass("collapsed");
 			   if($("#categoryExpand" + id + " " + "i").hasClass("fa-sort-desc"))
 				 {
 				   $('.rowone'+id).removeClass("collapse");
 				   $('.rowone'+id).addClass("collapsed");
 					$(".fa-sort-asc").addClass("fa-sort-desc");
 					$(".fa-sort-asc").removeClass("fa-sort-asc");
 					$("#categoryExpand" + id + " " + "i" + ".fa-sort-desc").removeClass("fa-sort-desc");
 					$("#categoryExpand" + id + " " + "i" + ".fa").addClass("fa-sort-asc");
 				 }
 			   else{
 				  $('.rowone'+id).removeClass("collapsed");
				   $('.rowone'+id).addClass("collapse");
 					  $(".fa-sort-asc").addClass("fa-sort-desc");
 						$(".fa-sort-asc").removeClass("fa-sort-asc");
 				
 			   }
 			   // debugger
 			   var rowno=$("#rowcount").val();
// caluclateProfitability(rowno);
 			}
 			catch(e)
 			{
 			errorCode(e);
 			}

 		}

 		
     function activeMenu(id){
    	 $(".active-menu").removeClass("active-menu");
    	 $("#"+id).addClass("active-menu");
     }
     
     function activeLi(){
    	 var id = $(".active").attr('id');
    	 $(".active").removeClass("active");
    	 $("#"+id+" a i:last").removeClass("active");
     }
     
     function viewUserDetails(type,index){
    	 try{
    	 if(type != "active" && type != "suspend" && type != "all"){
    	 if($("#type").length)
    		 type = $("#type").val();
    	 }
    	 
    	 
    	// purpose:for checking internet conection
    		var online = window.navigator.onLine;
    	  	if(!online){
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	 // debugger
    	 var name=""
	   		 if($("#SkuMaster").length>0)
	   			name = $("#SkuMaster").val().trim();

    	 var userLocation=""
	   		 if($("#location").length>0)
	   			userLocation = $("#location").val();
    	 
    	 var roleName=""
	   		 if($("#rolesName").length>0)
	   			roleName = $("#rolesName").val();
    	 
    	 
    	 var maxRecords = 10;
  	   if($("#maxRecords").length > 0)
  	     maxRecords = $("#maxRecords").val();
    	
  	 var allLocationsList = [];
	 var length = $('#location').children('option').length;
      	$('#location option').each(function() { 
      		allLocationsList.push( $(this).attr('value'));
      	});
	 var  locationList="";
   	for(i=1;i<allLocationsList.length;i++)
   		{
   		locationList =locationList+ allLocationsList[i]+',';
   		}
  	   
  	   
  	   
    	 var contextPath = $("#contextPath").val();
    	 URL = contextPath + "/userAccessControl/userDetails.do";
  		$.ajax({
  			type: "GET",
  			url : URL,
  			data : {
  				type : type,
  				searchName: name,
  				index : index,
  				maxRecords : maxRecords,
  				userLocation : userLocation,
  				roleName : roleName,
// locationList : locationList
  				
  			},
  			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
  			success : function(result) {
  				openMenu("user-details", "ulUserDetails",1);
  				$("#right-side").html(result);
  				if(type == "active")
  					activeMenu('activeUsers');
  				else if(type == "suspend")
  					activeMenu('suspendedUsers');
  				else if(type == 'all')
  					activeMenu('allUsers');
  				$("#loading").css("display","none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				 errorCode(jqXHR.status);
  				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
  			}
  		});
    	 }
    	 catch(e)
    		{
    		errorCode(e);
    		}

    	 
     }
    
     
     function editProfile(){
    	 try{
    	 
    	// purpose:for checking internet conection
    		var online = window.navigator.onLine;
    	  	if(!online){
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	 
    	 
    	 var contextPath = $("#contextPath").val();
 		URL = contextPath + "/login/profile.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
 			success : function(result) {
 				$("#right-side").html(result);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
    	 }
    	 catch(e)
    		{
    		errorCode(e);
    		}

    	 
     }
     
     
    		/*
			 * function newOutlet(){ var contextPath = $("#contextPath").val();
			 * URL = contextPath + "/inventorymanager/newOutlet.do"; $.ajax({
			 * type: "GET", url : URL, data : { }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
			 * $("#right-side").html(result);
			 * $('.left-side').css('height','683px');
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); } function
			 * editOutlet(){ var contextPath = $("#contextPath").val(); URL =
			 * contextPath + "/inventorymanager/editOutlet.do"; $.ajax({ type:
			 * "GET", url : URL, data : { }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
			 * $("#right-side").html(result);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 * 
			 * function viewOutlet(location){ var contextPath =
			 * $("#contextPath").val(); URL = contextPath +
			 * "/inventorymanager/viewOutlet.do"; $.ajax({ type: "GET", url :
			 * URL, data : { location:location }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
			 * $("#right-side").html(result);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 */
     		
     		
     
     function validateLayout(operation){
    	 try{
    	 var contextPath = $("#contextPath").val();
    	 var location = $('#workLocation').val();
    	
    	// purpose:for checking internet conection
    		var online = window.navigator.onLine;
    	  	if(!online)
    	  	{
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	     	 
    	 if(operation=="cancel")
    	 	{
    		 URL = contextPath + "/inventorymanager/createLayout.do";
			 layoutName = $('#samplelayoutName').val();
			 layoutDesc = $('#samplelayoutDesc').val();
			 tablesList = $('#tableInfo').val();
			 $.ajax({
     			type: "GET",
     			url : URL,
     			data : {
     				location : location,
     				layoutName : layoutName,
     				layoutDesc :layoutDesc,
     				tablesList : tablesList
     			},
     			beforeSend: function(xhr){                    
       	   			$("#loading").css("display","block");
       	   			$("#mainDiv").addClass("disabled");
       	   		  },
     			success : function(result) {
     			 $("#right-side").html(result);
     		 	// $('.left-side').css('height','660px');
     		 	$("#loading").css("display","none");
     		 	$("#mainDiv").removeClass('disabled');
      	  	   },
     			error : function(jqXHR, textStatus, errorThrown)  {
     				 errorCode(jqXHR.status);
     				$("#loading").css("display","none");
     				$("#mainDiv").removeClass('disabled');
     			}
     		});
    	 }else{
    		 var layoutName = $('#layoutName').val();
        	 var layoutDesc = $('#layoutDesc').val();
        	 var tablesList = $('#layoutInfo').val();
        	 if(layoutName.trim()==""){
        		 $('#layoutNameError').html('Layout Name is required');
        	 }else if(layoutDesc.trim()==""){
        		 $('#layoutDescError').html('Layout Description is required');
        	 }else if(tablesList.trim()==""){
        		 $('#layoutError').html('Please save atleast one table info');
        		 $('#layoutError').show();
        	 }else{
        		 if(operation=="new"){
        			 URL = contextPath + "/inventorymanager/createLayout.do";
        		 }else if(operation=="edit"){
        			 URL = contextPath + "/inventorymanager/updateLayout.do";
        		 }
        		 $.ajax({
            			type: "GET",
            			url : URL,
            			data : {
            				location : location,
            				layoutName : layoutName,
            				layoutDesc :layoutDesc,
            				tablesList : tablesList
            			},
            			beforeSend: function(xhr){                    
               	   			$("#loading").css("display","block");
               	   			$("#mainDiv").addClass("disabled");
               	   		  },
            			success : function(result) {
            			 $("#right-side").html(result);
            		 // $('.left-side').css('height','660px');
            		 	$("#loading").css("display","none");
            		 	$("#mainDiv").removeClass('disabled');
             	  	   },
            			error : function(jqXHR, textStatus, errorThrown)  {
            				 errorCode(jqXHR.status);
            				 $("#loading").css("display","none");
            	 			 $("#mainDiv").removeClass('disabled');
            			}
            		});
        	 }
    	 }
    	 }catch(e)
    		{
    			errorCode(e);
    			}

    	
    	 
    	
     }
     
     function selectAll(source){	
    	 
 		checkboxes = document.getElementsByName('selectall');		
 		  /*
			 * for each( var checkbox in checkboxes) { checkbox.checked =
			 * source.checked; }
			 */
 		
 		for ( var i = 0; i < checkboxes.length; i++) {
 		
 			 checkboxes[i].checked= source.checked;	
 		}
 		
     }
     
     
	 function viewAllSales(id){
		 try
		 {
    	 var contextPath = $("#contextPath").val();
    	// purpose:checking internet conection availablity
    		var online = window.navigator.onLine;
    	  	if(!online){
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	 
    	 URL = contextPath + "/inventorymanager/getAllSalesDetails.do";
  		$.ajax({
  			type: "GET",
  			url : URL,
  			data : {
  			},
  			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
  			success : function(result) {
                $("#right-side").html(result);
  				activeMenu(id);
  				$("#loading").css("display","none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				 errorCode(jqXHR.status);
  				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
  			}
  		});
		 }
		 catch(e)
			{
			errorCode(e);
			}

     }
	 
    
	 function viewConfigurations(id,index){
		 try{
		 var contextPath = $("#contextPath").val();
		 
		// purpose:for checking internet conection
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		 
		 
		 // added maxrecords as param by manasa
		 var maxRecords = 10;
    	  if($("#maxRecords").length>0)
    		  maxRecords = $("#maxRecords").val();
    	  
    	  
    	  var searchStores = "";
    	  if($("#searchStores").length>0)
    		  searchStores = $("#searchStores").val();
    	  

    	 URL = contextPath + "/inventorymanager/configurations.do";
    	 $.ajax({
   			type: "GET",
   			url : URL,
   			data : {
   				index : index,
   				maxRecords : maxRecords,
   				searchStores : searchStores
   			},
   			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
                $("#right-side").html(result);
                if(id != undefined && id != "")
                	activeMenu(id);
                openMenu("storedetails", "ulstoredetails",0);
   				$("#loading").css("display","none");
   				$("#mainDiv").removeClass('disabled');
   			},
   			error : function(jqXHR, textStatus, errorThrown)  {
   				 errorCode(jqXHR.status);
   				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
   			}
   		});
		 }
		 catch(e)
			{
			 errorCode(e);
			}

	 }
    	
	 
	

	 
	 function viewEventsManagement(id,index){
			 debugger;
		 try{
		 var contextPath = $("#contextPath").val();
		 
		// purpose:for checking internet conection
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		  

 	 
    
		  	 var  zone = "";
			  	if($("#outletZone").length > 0)
			  		zone= $("#outletZone").val();
		  	 
			  	var location = "";
			  	if($("#outletLocationSummary").length > 0)
			  		location= $("#outletLocationSummary").val();
		  	 var eventType = "";
			  	if($("#eventTypeSummary").length > 0)
			  		eventType= $("#eventTypeSummary").val();
		  	 var salesPerson = "";
			  	if($("#salesPersonSummary").length > 0)
			  		salesPerson= $("#salesPersonSummary").val();
		  	 var status = "";
			  	if($("#eventstatusSummary").length > 0)
			  		status= $("#eventstatusSummary").val();
			  	
			  	if(status == undefined || status == null || status == ""){
			  		status = "";
				 }
			  
	

		  	 var startDate = "";
		  	if($("#from").length > 0)
	  			startDate= $("#from").val();
		  	 var endDate = $("#to").val();
		  	 
		  	 var searchName = "";
		  	if($("#searchEvent").length > 0)
		  		searchName= $("#searchEvent").val();
		  	
	
	

		  	if(endDate == "" || endDate == undefined || endDate == null){
	  			
		  		endDate = "";
		  
		  		}
		  	 
		  	
		  	if ($("#from").val() != "" && $("#to").val() != "") {
   		   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
   		   		if (noOfDays < 0) {
   		   			alert("Start Date can't be less than End Date");
   		   			return;
   		   		}
   		   	}
		  	
		 // added maxrecords as param by manasa
		 var maxRecords = 10;
    	  if($("#maxRecords").length>0)
    		  maxRecords = $("#maxRecords").val();

    	 URL = contextPath + "/inventorymanager/eventSummary.do";
    	 $.ajax({
   			type: "GET",
   			url : URL,
   			data : {
   				index : index,
   				maxRecords : maxRecords,
   				zone : zone,
   				location : location,
   				eventType : eventType,
   				salesPerson : salesPerson,
   				status : status,
   				startDate : startDate,
   				endDate : endDate,
   				searchName : searchName

   				
   			},
   			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
   			success : function(result) {
                $("#right-side").html(result);
                if(id != undefined && id != "")
                	activeMenu(id);
                openMenu("storedetails", "ulstoredetails",0);
   				$("#loading").css("display","none");
   				$("#mainDiv").removeClass('disabled');
   			},
   			error : function(jqXHR, textStatus, errorThrown)  {
   				 errorCode(jqXHR.status);
   				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
   			}
   		});
		 }
		 catch(e)
			{
			 errorCode(e);
			}

	 }
    	
	 
	 function viewLayout(storeCode,storeLocation){
    		 try{
    		 var contextPath = $("#contextPath").val();
    		 
    		// purpose:for checking internet conection
    			var online = window.navigator.onLine;
    		  	if(!online){
    		  	alert("Check your internet connection,Please try agian after some time.");
    		  	return;
    		  	}
    		 
    		// URL = contextPath + "/inventorymanager/viewLayout.do";
    		 URL = contextPath + "/outletconfigurations/viewStorageSystems.do";
    			 $.ajax({
    				 type: "POST",
    	       			url : URL,
    	       			data : {
    	       				storeCode : storeCode,
    	       				location : storeLocation
    	       			},
    	       			beforeSend: function(xhr){                    
    	       	   			$("#loading").css("display","block");
    	       	   			$("#mainDiv").addClass("disabled");
    	       	   		  },
    	       			success : function(result) {
    	                  $("#right-side").html(result);
    	                  $("#loading").css("display","none");
    	                  $("#mainDiv").removeClass('disabled');
    	       			},
    	       			error : function(jqXHR, textStatus, errorThrown)  {
    	       				 errorCode(jqXHR.status);
    	       				$("#loading").css("display","none");
    	     				$("#mainDiv").removeClass('disabled');
    	       			}
    	       		});
    		 }
    		 catch(e)
    			{
    			errorCode(e);
    			}

    	  }
    	
    	 function editLayout(){
    		 try{
    		 var contextPath = $("#contextPath").val();
    		 
    		// purpose:for checking internet conection
    			var online = window.navigator.onLine;
    		  	if(!online){
    		  	alert("Check your internet connection,Please try agian after some time.");
    		  	return;
    		  	}
    		 
    		 
    		 URL = contextPath + "/inventorymanager/editLayout.do";
    			 $.ajax({
    	       			type: "GET",
    	       			url : URL,
    	       			data : {
    	       			},
    	       			beforeSend: function(xhr){                    
    	       	   			$("#loading").css("display","block");
    	       	   			$("#mainDiv").addClass("disabled");
    	       	   		  },
    	       			success : function(result) {
    	                  $("#right-side").html(result);
    	                  $("#loading").css("display","none");
    	                  $("#mainDiv").removeClass('disabled');
    	       			},
    	       			error : function(jqXHR, textStatus, errorThrown)  {
    	       				 errorCode(jqXHR.status);
    	       				$("#loading").css("display","none");
    	     				$("#mainDiv").removeClass('disabled');
    	       			}
    	       		});
    		 }catch(e)
    			{
    				errorCode(e);
    				}

    	 }
    	 
    	 
    
    	
    	 
    	
    	 function viewAllStockReceipts(id,operation,index,flowUnder,location){
    		 debugger;
    		 try{
    			 
    				var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
    		 if(flowUnder == undefined){
    			 if((($("#stockReceipts").length > 0 && $("#stockReceipts").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != "") || ($("#maxRecords").length > 0  && $("#maxRecords").val() != 10))  || index != '0'){
    				 searchStockReceipts($("#stockReceipts").val(), 'stockReceipts',index);
    				 return;
    			 }
    		 }
    		// purpose:for checking internet conection
    		
    		 var startDate = "";
    		 if($("#from").length > 0)
    			 startDate = $("#from").val();
    		 
    		 if(startDate == ""){

    		  var dateTime = getCurrentDate();
    			    	  var date = dateTime.split(' ');
    			    	  date = date[0].split('/');
    			    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];

    		startDate = formatedDate;
    		 }

    		 
    		 var location = "";
    		 if($("#toLocation").length > 0)
    			 location = $("#toLocation").val();
    	
    		// var locations = $("#toLocation").val();
    			
    		/*
			 * if(flowUnder=='warehouse') { if(locations == "undefined" ||
			 * locations == "" || locations == null){
			 * 
			 * location = locations; alert(location);
			 *  } else { location = "all"; alert(location); } }
			 */
    		 
    			var zone = "";
    	    	if($("#outletZone").length > 0)
    	    		zone = $("#outletZone").val();

    var category = "";
    	    	if($("#outletCategory").length > 0)
    	    		category = $("#outletCategory").val();
    	    	var subcategory = "";
    	    	if($("#outletSubcategory").length > 0)
    	    		subcategory = $("#outletSubcategory").val();
    	    	var brand = "";
    	    	if($("#outletBrandId").length > 0)
    	    		brand = $("#outletBrandId").val();
    	 		
    		 
        	 var contextPath = $("#contextPath").val();
        	 if(flowUnder == undefined && $("#flowUnder").length > 0)
        		 flowUnder = $("#flowUnder").val();
        	 console.log(location);
        	 var maxRecords = 10;
        	 if($("#maxRecords").length > 0)
        		 maxRecords = $("#maxRecords").val();
        	 URL = contextPath + "/inventorymanager/viewAllStockReceipts.do";
        	 $.ajax({
       			type: "GET",
       			url : URL,
       			data : {
       				operation : operation,
       				index : index,
       				flowUnder : flowUnder,
       				productCategory : category,
 					subcategory : subcategory,
 					brand : brand,
 					zone : zone,
       				location : location,
       				maxRecords : maxRecords,
       				startDate : startDate
       			},
       			beforeSend: function(xhr){                    
       	   			$("#loading").css("display","block");
       	   			$("#mainDiv").addClass("disabled");
       	   		  },
       			success : function(result) {
       				/*
					 * $("#tab_2").html(""); $("#tab_1").html(result);
					 */
       				$("#right-side").html(result);
       				if(id != '')
       					activeMenu(id);
       				if(flowUnder == "outlet"){
    					openMenu("liGoodsTransfer","ulGoodsTransfer",0);
    					openMenu("liInventoryManagement","ulInventoryManagement",1);
    					openMenu("storedetails","ulstoredetails",1);
    				}
    				else if(flowUnder == "warehouse"){
    					openMenu("liWarehouseGoodsTransfer","ulWarehouseGoodsTransfer",0);
    					openMenu("liStockManagement","ulStockManagement",1);
    					openMenu("warehouseDetails","ulwarehouseDetails",1);
    				
       			}
         			$("#loading").css("display","none");
         			$("#mainDiv").removeClass('disabled');
       			},
       			error : function(jqXHR, textStatus, errorThrown)  {
       				 errorCode(jqXHR.status);
       				$("#loading").css("display","none");
     				$("#mainDiv").removeClass('disabled');
       			}
       		});
    		 }
    		 catch(e)
    		 {
    			 errorCode(e);
    		 }
         }
         
       
         
         function getStockReceiptsByLocation(operation){
        	 try{
        	// purpose:for checking internet conection
        		var online = window.navigator.onLine;
        	  	if(!online){
        	  	alert("Check your internet connection,Please try agian after some time.");
        	  	return;
        	  	}
        	 
        	 
        	 var receipt_location = $('#toLocation').val();
        	 var contextPath = $("#contextPath").val();
        	 var flowUnder = $("#flowUnder").val();
        	 URL = contextPath + "/inventorymanager/getStockReceiptsByLocation.do";
        	 $.ajax({
       			type: "GET",
       			url : URL,
       			data : {
       				receipt_location : receipt_location,
       				operation : operation,
       				flowUnder : flowUnder
       			},
       			beforeSend: function(xhr){                    
       	   			$("#loading").css("display","block");
       	   			$("#mainDiv").addClass("disabled");
       	   		  },
       			success : function(result) {
// $("#tab_1").html(result);
       			    $("#right-side").html(result);
         			$("#loading").css("display","none");
         			$("#mainDiv").removeClass('disabled');
       			},
       			error : function(jqXHR, textStatus, errorThrown)  {
       				 errorCode(jqXHR.status);
       				$("#loading").css("display","none");
     				$("#mainDiv").removeClass('disabled');
       			}
       		});
        	 }
        	 catch(e)
        	 {
        		 errorCode(e);
        	 }
         }
         
         

         
         function newStockReceiptView(id,flowUnder){
        	 try{
        	 
        	// purpose:for checking internet conection
        		var online = window.navigator.onLine;
        	  	if(!online){
        	  	alert("Check your internet connection,Please try agian after some time.");
        	  	return;
        	  	}
        	 
        		var outletlocation = "";
        		if($("#toLocation").length > 0)
        			outletlocation = $("#toLocation").val();
        	  	
			 var contextPath = $("#contextPath").val();
			 if(flowUnder == undefined || flowUnder == "")
				 flowUnder = $("#flowUnder").val();
			 var location = $("#toLocation").val();
	    	 URL = contextPath + "/inventorymanager/newStockReceiptView.do";
	  		 $.ajax({
	  			type: "GET",
	  			url : URL,
	  			data : {
       				flowUnder : flowUnder,
       				outletlocation : outletlocation
	  			},
	  			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	  			success : function(result) {
// $("#tab_1").html(result);
	  				 $("#right-side").html(result);
	  				if(id != '' && id != undefined)
       					activeMenu(id);
	  				if(flowUnder == "outlet"){
						openMenu("liGoodsTransfer","ulGoodsTransfer",0);
						openMenu("liInventoryManagement","ulInventoryManagement",1);
						openMenu("storedetails","ulstoredetails",1);
					}
					else if(flowUnder == "warehouse"){
						openMenu("liWarehouseGoodsTransfer","ulWarehouseGoodsTransfer",0);
						openMenu("liStockManagement","ulStockManagement",1);
						openMenu("warehouseDetails","ulwarehouseDetails",1);
					}
	  				 $("#toLocation").val(location);
	  				$("#loading").css("display","none");
	  				$("#mainDiv").removeClass('disabled');
	  			},
	  			error : function(jqXHR, textStatus, errorThrown)  {
	  				 errorCode(jqXHR.status);
	  				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	  			}
	  		});
        	 }
        	 catch(e)
        	 {
        		 errorCode(e);
        	 }
     }
         
         function viewStockReceipt(goods_receipt_ref_num){
        	 debugger;
        	 try{
        	 var flowUnder = $("#flowUnder").val();
        	 var contextPath = $("#contextPath").val();
        	 var location = $("#toLocation").val();
        	 
        	// purpose:for checking internet conection
        		var online = window.navigator.onLine;
        	  	if(!online){
        	  	alert("Check your internet connection,Please try agian after some time.");
        	  	return;
        	  	}
        	 
        	 // added by manasa
        	 var operation ="";
 			 if($("#operation").val() != '' && $("#operation").val().length>0)
 				 operation=$("#operation").val();
        	 
        	 var formData={}
        	 var productCategory = "";
        	 if($("#outletCategory").length > 0)
        		 productCategory = $("#outletCategory").val();
        	// alert(productCategory)
        	 formData.zone = $("#outletZone").val();
        	 formData.storeLocation = $("#toLocation").val();
        	 formData.category = productCategory;
        	 formData.subCategory = $("#outletSubcategory").val();
        	 formData.brand= $("#outletBrandId").val();
        	 // formData.department = $("#outletDepartmentId").val();
        	// formData.supplierName = $("#outletSupplierId").val();
        	 formData.startDate = $("#from").val();
        	 formData.endDate = $("#to").val();
        	 formData.searchCriteria = $("#stockReceipts").val();
        	 
        	// alert(formData.searchCriteria)
        	 var objData = JSON.stringify(formData);
        	 
        	 URL = contextPath + "/inventorymanager/viewStockReceipt.do";
      		 $.ajax({
      			type: "GET",
      			url : URL,
      			data : {
      				goods_receipt_ref_num : goods_receipt_ref_num,
       				flowUnder : flowUnder,
       				operation : operation,
       				formData : objData
      			},
      			beforeSend: function(xhr){                    
       	   			$("#loading").css("display","block");
       	   			$("#mainDiv").addClass("disabled");
       	   		  },
      			success : function(result) {
      				 $("#right-side").html(result);
      				$("#loading").css("display","none");
      				$("#mainDiv").removeClass('disabled');
      				
      				$("#outletZone").val(formData.zone);
  					$("#toLocation").val(formData.storeLocation);
  					$("#outletCategory").val(formData.category);
  					$("#outletSubcategory").val(formData.subCategory);
  					$("#outletBrandId").val(formData.brand);
  					$("#from").val(formData.startDate);
  					$("#to").val(formData.endDate);
  					$("#stockReceipts").val(formData.searchCriteria);
      				
      			},
      			error : function(jqXHR, textStatus, errorThrown)  {
      				 errorCode(jqXHR.status);
      				$("#loading").css("display","none");
     				$("#mainDiv").removeClass('disabled');
      			}
      		});
        	 
         }
    	 catch(e)
    	 {
    		 errorCode(e);
    	 }
         }
         
         function editStockReceipt(goods_receipt_ref_num){
        	 try{
        	 var flowUnder = $("#flowUnder").val();
        	 var contextPath = $("#contextPath").val();
        	 var location = $("#toLocation").val();
        	// purpose:for checking internet conection
        		var online = window.navigator.onLine;
        	  	if(!online){
        	  	alert("Check your internet connection,Please try agian after some time.");
        	  	return;
        	  	}
        	 // added by mansa
        	 var operation ="";
 			 if($("#operation").val() != '' && $("#operation").val().length>0)
 				 operation=$("#operation").val();
        	 var formData={}
        	 var productCategory = "";
        	 if($("#outletCategory").length > 0)
        		 productCategory = $("#outletCategory").val();
        	// alert(productCategory)
        	 formData.zone = $("#outletZone").val();
        	 formData.storeLocation = $("#toLocation").val();
        	 formData.category = productCategory;
        	 formData.subCategory = $("#outletSubcategory").val();
        	 formData.brand= $("#outletBrandId").val();
        	 // formData.department = $("#outletDepartmentId").val();
        	// formData.supplierName = $("#outletSupplierId").val();
        	 formData.startDate = $("#from").val();
        	 formData.endDate = $("#to").val();
        	 formData.searchCriteria = $("#stockReceipts").val();
        	 var formData = JSON.stringify(formData);
        	 
        	 URL = contextPath + "/inventorymanager/editStockReceiptView.do";
      		 $.ajax({
      			type: "GET",
      			url : URL,
      			data : {
      				goods_receipt_ref_num : goods_receipt_ref_num,
       				flowUnder : flowUnder,
       				operation : operation,
       				formData : formData
      			},
      			beforeSend: function(xhr){                    
       	   			$("#loading").css("display","block");
       	   			$("#mainDiv").addClass("disabled");
       	   		  },
      			success : function(result) {
// $("#tab_1").html(result);
      				 $("#right-side").html(result);
      				// $('.left-side').css('height','683px');
      				 $("#toLocation").val(location);
      				$("#loading").css("display","none");
      				$("#mainDiv").removeClass('disabled');
      			},
      			error : function(jqXHR, textStatus, errorThrown)  {
      				 errorCode(jqXHR.status);
      				$("#loading").css("display","none");
     				$("#mainDiv").removeClass('disabled');
      			}
      		});
        	 
         }
    	 catch(e)
    	 {
    		 errorCode(e);
    	 }
         }
         
      
        	     
        	 function viewGoodsTransfers(id,operation,index){
        		 try{
        		 var contextPath = $("#contextPath").val();
        		 
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
        		 
        		 
            	 URL = contextPath + "/inventorymanager/goodsTransfer.do";
            	 $.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				operation : operation,
           				index : index
           			},
           			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
           			success : function(result) {
           				openMenu("liInventoryManagement","ulInventoryManagement",1);
                         $("#right-side").html(result);
           				activeMenu(id);
           				$("#loading").css("display","none");
           				$("#mainDiv").removeClass('disabled');
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
        		 
        	 }
        	 catch(e)
        	 {
        		 errorCode(e);
        	 }
        	 }
        	 
        	 
        	






    	  
    	  function viewAllStockIssues(id,operation,index,flowUnder){
    		  
    		  try{
    		  var location = "";
    		  
    		// purpose:for checking internet conection
    			var online = window.navigator.onLine;
    		  	if(!online){
    		  	alert("Check your internet connection,Please try agian after some time.");
    		  	return;
    		  	}
    		  var zone = "";
    		  if(flowUnder == undefined){
    			  if((($("#allIssuedStocks").length > 0 && $("#allIssuedStocks").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != "") || ($("#maxRecords").length > 0  && $("#maxRecords").val() != 10))  || index != '0'){
    				  searchStockIssues($("#allIssuedStocks").val(), 'issuedStocks',index);
    				  return;
    			  }
    		  }
    		  var dateTime = getCurrentDate();
    		  var date = dateTime.split(' ');
    		  date = date[0].split('/');
    		  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
    		  var startdate = formatedDate;
    		  if($("#outletZone").length>0 && $("#outletZone").val != "select" && $("#outletZone").val != "-- Select --")
	    	 		zone = $("#outletZone").val();
    		  if($("#fromlocation").length > 0)
    			  location = $("#fromlocation").val();
    		 var maxRecords = 10;
    		 if($("#maxRecords").length > 0)
    			 maxRecords = $("#maxRecords").val();
        	 var contextPath = $("#contextPath").val();
        	 if(flowUnder == undefined && $("#flowUnder").length > 0)
        		 flowUnder = $("#flowUnder").val();
         	 URL = contextPath + "/inventorymanager/viewAllStockIssues.do";
         	 $.ajax({
        			type: "GET",
        			url : URL,
        			data : {
        				operation : operation,
        				index : index,
        				location : location,
        				flowUnder : flowUnder,
        				maxRecords : maxRecords,
        				zone : zone,
        				startdate : startdate
        			},
        			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
        			success : function(result) {
        				/*
						 * $("#tab_1").html(""); $("#tab_2").html(result);
						 */
        				 $("#right-side").html(result);
        				 $("#from").val(startdate);
        				 if(id != "")
        					 activeMenu(id);
        				 if(flowUnder == "outlet"){
    						openMenu("liGoodsTransfer","ulGoodsTransfer",0);
    						openMenu("liInventoryManagement","ulInventoryManagement",1);
    						openMenu("storedetails","ulstoredetails",1);
    					}
    					else if(flowUnder == "warehouse"){
    						openMenu("liWarehouseGoodsTransfer","ulWarehouseGoodsTransfer",0);
    						openMenu("liStockManagement","ulStockManagement",1);
    						openMenu("warehouseDetails","ulwarehouseDetails",1);
    					}
        				$("#loading").css("display","none");
        				$("#mainDiv").removeClass('disabled');
        			},
        			error : function(jqXHR, textStatus, errorThrown)  {
        				 errorCode(jqXHR.status);
        				 $("#loading").css("display","none");
        	 			 $("#mainDiv").removeClass('disabled');
        			}
        		});
    		  }
         	 catch(e)
         	 {
         		 errorCode(e);
         	 }
          }
    	     
    	     function newStockIssueView(id,flowUnder){
    	    	 debugger;
    	    	 try{
    	    	 if(flowUnder == undefined || flowUnder == "")
    	    		 flowUnder = $("#flowUnder").val();
    	    	 
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 
    	    		var outletlocation = "";
    	    		if($("#fromlocation").length > 0)
    	    			outletlocation = $("#fromlocation").val();
    	    	  	
    				 var contextPath = $("#contextPath").val();
    				 // var location = $("#fromlocation").val();
    		    	 URL = contextPath + "/inventorymanager/newStockIssueView.do";
    		  		 $.ajax({
    		  			type: "GET",
    		  			url : URL,
    		  			data : {
    		  				flowUnder : flowUnder,
    		  				outletlocation : outletlocation
    		  			},
    		  			beforeSend: function(xhr){                    
    		   	   			$("#loading").css("display","block");
    		   	   			$("#mainDiv").addClass("disabled");
    		   	   		  },
    		  			success : function(result) {
// $("#tab_2").html(result);
    		  				 $("#right-side").html(result);
    		  				 if(id != undefined && id != "")
    		  					 activeMenu(id);
    		  				
    		  				if(flowUnder == "outlet"){
        						openMenu("liGoodsTransfer","ulGoodsTransfer",0);
        						openMenu("liInventoryManagement","ulInventoryManagement",1);
        						openMenu("storedetails","ulstoredetails",1);
        					}
        					else if(flowUnder == "warehouse"){
        						openMenu("liWarehouseGoodsTransfer","ulWarehouseGoodsTransfer",0);
        						openMenu("liStockManagement","ulStockManagement",1);
        						openMenu("warehouseDetails","ulwarehouseDetails",1);
        					}
    		  				 /*
								 * if(flowUnder == "outlet"){
								 * openMenu("liGoodsTransfer","ulGoodsTransfer",0);
								 * openMenu("liInventoryManagement","ulInventoryManagement",1);
								 * openMenu("storedetails","ulstoredetails",1); }
								 * else if(flowUnder == "warehouse"){
								 * openMenu("liWarehouseGoodsTransfer","ulWarehouseGoodsTransfer",0);
								 * openMenu("warehouseDetails","ulwarehouseDetails",1); }
								 */
    		  				 // $("#fromlocation").val(location);
    		  				$("#loading").css("display","none");
    		  				$("#mainDiv").removeClass('disabled');
    		  			},
    		  			error : function(jqXHR, textStatus, errorThrown)  {
    		  				 errorCode(jqXHR.status);
    		  				$("#loading").css("display","none");
    		 				$("#mainDiv").removeClass('disabled');
    		  			}
    		  		});
    	    	 }
            	 catch(e)
            	 {
            		 errorCode(e);
            	 }
    	}
    	     function newStockRequestView(id,flowUnder){
    	    	 try{
    	    	 if(flowUnder == undefined || flowUnder == "")
    	    		 flowUnder = $("#flowUnder").val();
    				 var contextPath = $("#contextPath").val();
    				 var location = $("#fromlocation").val();
    				 
    				// purpose:for checking internet conection
    					var online = window.navigator.onLine;
    				  	if(!online){
    				  	alert("Check your internet connection,Please try agian after some time.");
    				  	return;
    				  	}
    				 
    		    	 URL = contextPath + "/inventorymanager/newStockRequestView.do";
    		  		 $.ajax({
    		  			type: "GET",
    		  			url : URL,
    		  			data : {
    		  				flowUnder : flowUnder
    		  			},
    		  			beforeSend: function(xhr){                    
    		   	   			$("#loading").css("display","block");
    		   	   			$("#mainDiv").addClass("disabled");
    		   	   		  },
    		  			success : function(result) {
// $("#tab_2").html(result);
    		  				 $("#right-side").html(result);
    		  				 if(id != undefined && id != "")
    		  					 activeMenu(id);
    		  				if(flowUnder == "outlet"){
    							openMenu("liGoodsTransfer","ulGoodsTransfer",0);
    							openMenu("liInventoryManagement","ulInventoryManagement",1);
    							openMenu("storedetails","ulstoredetails",1);
    						}
    						else if(flowUnder == "warehouse"){
    							openMenu("liWarehouseGoodsTransfer","ulWarehouseGoodsTransfer",0);
    							openMenu("liStockManagement","ulStockManagement",1);
    							openMenu("warehouseDetails","ulwarehouseDetails",1);
    						}
    		  				 $("#fromlocation").val(location);
    		  				$("#loading").css("display","none");
    		  				$("#mainDiv").removeClass('disabled');
    		  			},
    		  			error : function(jqXHR, textStatus, errorThrown)  {
    		  				 errorCode(jqXHR.status);
    		  				$("#loading").css("display","none");
    		 				$("#mainDiv").removeClass('disabled');
    		  			}
    		  		});
    	    	 }
        	 catch(e)
        	 {
        		 errorCode(e);
        	 }
    	}
    	     
    	     
    	     function searchlocationsBasedOnZoneForDashboard(id,subCategoryId,bussinessActivity)
    	     {
    	    	 debugger;
    	    	 try{
				 var categoryName = $("#"+id).val();
				 
				// purpose:for checking internet conection
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				 
				 if(categoryName != "-- Select --"){
					 var contextPath = $("#contextPath").val();
					 URL = contextPath + "/inventorymanager/searchZonalLocationsBasedZone.do";
					 $.ajax({
						 type: "GET",
						 url : URL,
						 data : {
							 zoneID : categoryName,
							 bussinessActivity: bussinessActivity
						 },
						 beforeSend: function(xhr){                    
							 $("#loading").css("display","block");
							 $("#mainDiv").addClass("disabled");
						 },
						 success : function(result) {
							 appendlocationsForDashbord(result,subCategoryId,bussinessActivity);
							 $("#loading").css("display","none");
							 $("#mainDiv").removeClass('disabled');
						 },
						 error : function(jqXHR, textStatus, errorThrown)  {
							 errorCode(jqXHR.status);
							 $("#loading").css("display","none");
							 $("#mainDiv").removeClass('disabled');
						 }
					 });

				 }
				// $("#"+subCategoryId).html('');
    	    	 }
            	 catch(e)
            	 {
            		 errorCode(e);
            	 }
			}
    	     
    	     
    	     
    	     function searchZonallocationsBasedOnZone(id,subCategoryId,bussinessActivity)
    	     {
    	    	 // debugger;
    	    	 try{
				 var categoryName = $("#"+id).val();
				 
				// purpose:for checking internet conection
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				 
				 if(categoryName != "-- Select --"){
					 var contextPath = $("#contextPath").val();
					 URL = contextPath + "/inventorymanager/searchZonalLocationsBasedZone.do";
					 $.ajax({
						 type: "GET",
						 url : URL,
						 data : {
							 zoneID : categoryName,
							 bussinessActivity: bussinessActivity
						 },
						 beforeSend: function(xhr){                    
							 $("#loading").css("display","block");
							 $("#mainDiv").addClass("disabled");
						 },
						 success : function(result) {
							 appendZonallocations(result,subCategoryId,bussinessActivity);
							 $("#loading").css("display","none");
							 $("#mainDiv").removeClass('disabled');
						 },
						 error : function(jqXHR, textStatus, errorThrown)  {
							 errorCode(jqXHR.status);
							 $("#loading").css("display","none");
							 $("#mainDiv").removeClass('disabled');
						 }
					 });
				 
				 
				 }
				 $("#"+subCategoryId).html('');
    	    	 }
            	 catch(e)
            	 {
            		 errorCode(e);
            	 }
			}
    	     
    	     
    	     function searchlocationsBasedOnZone(id,subCategoryId,warehouse)
    	     {
    	    	 try{
				 var categoryName = $("#"+id).val();
				 
				// purpose:for checking internet conection
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				 
				 if(categoryName != "-- Select --"){
					 var contextPath = $("#contextPath").val();
					 URL = contextPath + "/inventorymanager/searchlocationsBasedOnZone.do";
					 $.ajax({
						 type: "GET",
						 url : URL,
						 data : {
							 zoneID : categoryName
						 },
						 beforeSend: function(xhr){                    
							 $("#loading").css("display","block");
							 $("#mainDiv").addClass("disabled");
						 },
						 success : function(result) {
							 appendlocations(result,subCategoryId,warehouse);
							 $("#loading").css("display","none");
							 $("#mainDiv").removeClass('disabled');
						 },
						 error : function(jqXHR, textStatus, errorThrown)  {
							 errorCode(jqXHR.status);
							 $("#loading").css("display","none");
							 $("#mainDiv").removeClass('disabled');
						 }
					 });
				 
				 
				 }
				 $("#"+subCategoryId).html('');
    	    	 }
            	 catch(e)
            	 {
            		 errorCode(e);
            	 }
			}
    	     
    	     
    	     function viewoutletUserLog(id,index){
      	     	try{
      	     		// debugger;

      	     		var online = window.navigator.onLine;
      	     		if(!online){
      	     			alert("Check your internet connection,Please try agian after some time.");
      	     			return;
      	     		}
      	     		
      	     		var zone = "";
      	     		if($("#outletZone").length >0 && $("#outletZone").val() != "" ) 
      	     			zone = 	$("#outletZone").val();
      	     		
      	     		var location = "";
      	     		if($("#outletLocation").length >0 && $("#outletLocation").val() != "" && $("#outletLocation").val() != "all") 
      	     			location = 	$("#outletLocation").val();
      	     		
      	     		var startDate= "";
      	     		if($("#fromUserLog").length >0 && $("#fromUserLog").val() != "") 
      	     			startDate = $("#fromUserLog").val();
      	     		var endDate = "";
      	     		if($("#toUserLog").length >0 && $("#toUserLog").val()!= "") 
      	     			endDate = $("#toUserLog").val();
      	     		
      	     		var emailId = "";
      	     		if($("#outletUser").length >0 && $("#outletUser").val()!= "") 
      	     			emailId = $("#outletUser").val()
      	     			
      	     			
      	     		var appName = "";
      	     		if($("#outletAppName").length >0 && $("#outletAppName").val()!= "") 
      	     			appName = $("#outletAppName").val()
      	     			
      	     		
      	     			
      	     			if ($("#fromUserLog").val() != "" && $("#toUserLog").val() != "") {
      	     		   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
      	     		   		if (noOfDays < 0) {
      	     		   			alert("Start Date can't be less than End Date");
      	     		   			return;
      	     		   		}
      	     		   	}
      	     		
      	     		var maxRecords = 10;
      	     		if($("#maxRecords").length >0) 
      	     			maxRecords = $("#maxRecords").val();
      	     		
      	     		var searchCriteria = "";
      	     		if($("#searchCriteria").length >0) 
      	     			searchCriteria = $("#searchCriteria").val();
      	     		
      	     		var contextPath = $('#contextPath').val();
      	     		var URL = contextPath + "/inventorymanager/viewoutletUserLog.do";
      	     		$.ajax({
      	     			type : "GET",
      	     			url : URL,
      	     			data : {
      	     				
      	     				startIndex : index,
      	     				maxRecords : maxRecords,
      	     				location : location,
      	     				zone : zone,
      	     				startDate : startDate,
      	     				endDate : endDate,
      	     				searchCriteria : searchCriteria,
      	     				emailId : emailId,
      	     				appName : appName
      	     				
      	     								
      	     			},
      	     			beforeSend: function(xhr){                    
      	     				$("#loading").css("display","block");
      	     				$("#mainDiv").addClass("disabled");
      	     			},
      	     			success : function(result){
      	     				if(id != undefined)
       		  					activeMenu(id);
       						openMenu("liOutletMonitoring","uloutletMonitoring",1);
      	     				$('#right-side').html(result);
      	     				$("#loading").css("display","none");
      	     				$("#mainDiv").removeClass('disabled');
      	     			},
      	     			error : function(jqXHR, textStatus, errorThrown) {
      	     				errorCode(jqXHR.status);
      	     				$("#loading").css("display","none");
      	     				$("#mainDiv").removeClass('disabled');
      	     			}
      	     		});
      	     	}
      	     	catch(e)
      	     	{
      	     		errorCode(e);
      	     	}

      	     }     	     

    	     
    	     

    	     function viewoutletSynchStatus(id,index,save){
                         try{
                                  debugger;
                                 var online = window.navigator.onLine;
                                 if(!online){
                                         alert("Check your internet connection,Please try agian after some time.");
                                         return;
                                 }
                                 if(save == "" || save == null || save == undefined)
                                         save = "";
                                 
                                 
                                 if (save == "save")
                                         var saveFlag = true;
                                 else
                                         var saveFlag =false;
                                 
                                 debugger
                                 
                                 var zone = "";
                                 if($("#outletZone").length >0 && $("#outletZone").val() != "" ) 
                                         zone =         $("#outletZone").val();
                                 var location = "";
                                 if($("#outletLocation").length >0 && $("#outletLocation").val() != "") 
                                         location =         $("#outletLocation").val();
                                 var startDate= "";
                                 if($("#fromStatus").length >0 && $("#fromStatus").val() != "") 
                                         startDate = $("#fromStatus").val();
                                 var endDate = "";
                                 if($("#toStatus").length >0 && $("#toStatus").val()!= "") 
                                         endDate = $("#toStatus").val();
                                  if ($("#fromStatus").val() != "" && $("#toStatus").val() != "") {
                                                    var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
                                                    if (noOfDays < 0) {
                                                            alert("Start Date can't be less than End Date");
                                                            return;
                                                    }
                                            }
                                 var maxRecords = 10;
                                 if($("#maxRecords").length >0) 
                                         maxRecords = $("#maxRecords").val();
                                 
                                 var searchCriteria = "";
                                 if($("#searchOutletLogs").length >0) 
                                         searchCriteria = $("#searchOutletLogs").val();
                                  
                                 // written by manasa
                                 
                                  var allLocationsList = [];
                                  var length = $('#outletLocation').children('option').length;
                                       $('#outletLocation option').each(function() { 
                                               allLocationsList.push( $(this).attr('value'));
                                       });
                                 
                                  var  locationList="";
                                  
                                 for(i=1;i<allLocationsList.length;i++)
                                            {
                                            locationList =locationList+ allLocationsList[i]+',';
                                            }
                                  console.log(locationList)
                                  
                                 var contextPath = $('#contextPath').val();
                                 var URL = contextPath + "/inventorymanager/outletSynchStatus.do";
                                 $.ajax({
                                         type : "GET",
                                         url : URL,
                                         data : {
                                                 startIndex : index,
                                                 maxRecords : maxRecords,
                                                 location : location,
                                                 zone : zone,
                                                 startDate : startDate,
                                                 endDate : endDate,
                                                 searchCriteria : searchCriteria,
                                                 locationAllList : locationList,
                                                 saveFlag : saveFlag                
                                         },
                                         beforeSend: function(xhr){                    
                                                 $("#loadingreport").css("display","block");
                                                 $("#mainDiv").addClass("disabled");
                                         },
                                         success : function(result){
                                                 if(id != undefined)
                                                               activeMenu(id);
                                                     openMenu("liOutletMonitoring","uloutletMonitoring",1);
                                                 $('#right-side').html(result);
                                                 
                                                 if(saveFlag == true || saveFlag == "true"){
                                                  var anchor = document.createElement('a');
                                                  
                                                   anchor.href = $("#outletdownloadurl").val();
                                                   anchor.target = '_blank';
                                                   anchor.download = '';
                                                 if($("#outletdownloadurl").val()!=null && $("#outletdownloadurl").val()!='')
                                                   anchor.click();
                                                 }
                                                 
                                                 $("#loadingreport").css("display","none");
                                                 $("#mainDiv").removeClass('disabled');
                                         },
                                         error : function(jqXHR, textStatus, errorThrown) {
                                                 errorCode(jqXHR.status);
                                                 $("#loadingreport").css("display","none");
                                                 $("#mainDiv").removeClass('disabled');
                                         }
                                 });
                         }
                         catch(e)
                         {
                                 errorCode(e);
                         }

                 }

    	     
    	     
    	     
    	     
    	     function viewoutletNewSynchStatus(id,index){
     	     	try{
     	     		// debugger;

     	     		var online = window.navigator.onLine;
     	     		if(!online){
     	     			alert("Check your internet connection,Please try agian after some time.");
     	     			return;
     	     		}
     	     		
     	     		var zone = "";
     	     		if($("#outletZone").length >0 && $("#outletZone").val() != "" ) 
     	     			zone = 	$("#outletZone").val();
     	     		
     	     		var location = "";
     	     		if($("#outletLocation").length >0 && $("#outletLocation").val() != "" && $("#outletLocation").val() != "all") 
     	     			location = 	$("#outletLocation").val();
     	     		
     	     		
     	     		
     	     		var maxRecords = 10;
     	     		if($("#maxRecords").length >0) 
     	     			maxRecords = $("#maxRecords").val();
     	     		
     	     		var searchCriteria = "";
     	     		if($("#searchCriteria").length >0) 
     	     			searchCriteria = $("#searchCriteria").val();
     	     		
     	     		var contextPath = $('#contextPath').val();
     	     		var URL = contextPath + "/inventorymanager/viewoutletNewSynchStatus.do";
     	     		$.ajax({
     	     			type : "GET",
     	     			url : URL,
     	     			data : {
     	     				
     	     				startIndex : index,
     	     				maxRecords : maxRecords,
     	     				location : location
     	     				/*
							 * zone : zone, startDate : startDate, endDate :
							 * endDate, searchCriteria : searchCriteria
							 */
     	     								
     	     			},
     	     			beforeSend: function(xhr){                    
     	     				$("#loading").css("display","block");
     	     				$("#mainDiv").addClass("disabled");
     	     			},
     	     			success : function(result){
     	     				if(id != undefined)
      		  					activeMenu(id);
      						openMenu("liOutletMonitoring","uloutletMonitoring",1);
     	     				$('#right-side').html(result);
     	     				$("#loading").css("display","none");
     	     				$("#mainDiv").removeClass('disabled');
     	     			},
     	     			error : function(jqXHR, textStatus, errorThrown) {
     	     				errorCode(jqXHR.status);
     	     				$("#loading").css("display","none");
     	     				$("#mainDiv").removeClass('disabled');
     	     			}
     	     		});
     	     	}
     	     	catch(e)
     	     	{
     	     		errorCode(e);
     	     	}

     	     }
     	     
    	     
    	     
    	     
    	     
    	     
    	     function appendlocationsForDashbord(subCategoryList,subCategoryId,warehouse){
    	    	 debugger;
    	    	 try{

    	    		 var online = window.navigator.onLine;
    	    		 if(!online){
    	    			 alert("Check your internet connection,Please try agian after some time.");
    	    			 return;
    	    		 }
    	    		 
    	    		 var flowLocation = $("#flowLocations").val();
    	    		 if(flowLocation == null || flowLocation == undefined || flowLocation== ""){
    	    			 flowLocation ="";
    	    		 }
    	    		 
    	    		 var flowunder = "";
    	    		 if($("#flowUnder").length > 0)
    	    			 flowunder = $("#flowUnder").val();
    	    		 var op = '<option value="" >ALL</option>';
    	    		 var wa = '';
    	    		 var outlets ="";
    	    		 var locations = "";
    	    		 for(var i=0;i<subCategoryList.length;i++){
    	    			 outlets ="";
    	    			 locations = subCategoryList[i];
    	    			 outlets = locations.split('+');
    	    			 if(outlets.length > 1)
    	    			 {
    	    				 if(outlets[2] != null && outlets[2] != ""  && outlets[2] != undefined)
    	    					 outlets2 = '-'+outlets[2]
    	    				 else
    	    					 outlets2=""
    	    						 if(outlets[1] == 'Retail Outlet')
    	    							 op += '<option value="'+outlets[0]+'" >'+outlets[0]+''+outlets2+'</option>';
    	    						 else
    	    							 wa += '<option value="'+outlets[0]+'" >'+outlets[0]+'</option>'; 
    	    			 }
    	    			 else
    	    			 {
    	    				 if(flowunder !='warehouse')
    	    					 op += '<option value="'+outlets[0]+'" >'+outlets[0]+'</option>';
    	    				 else
    	    					 wa += '<option value="'+outlets[0]+'" >'+outlets[0]+'</option>';
    	    			 }

    	    		 }
    	    		/*
					 * for(var i=0;i<subCategoryList.length;i++){ outlets ="";
					 * locations = subCategoryList[i]; outlets =
					 * locations.split('+'); if(outlets[2] != null || outlets[2] != "" ||
					 * outlets[2] != undefined) outlets2 = '-'+outlets[2] else
					 * outlets2="" if(outlets[1] == 'Retail Outlet') op += '<option
					 * value="'+outlets[0]+'" >'+outlets[0]+''+outlets2+'</option>';
					 * else wa += '<option value="'+outlets[0]+'"
					 * >'+outlets[0]+'</option>'; }
					 * 
					 */
    	    		 
    	    		 
    	    		 if(warehouse == 'warehouse'){
    	    			 
    	    			 $("#"+subCategoryId).html('');
	    				 $("#"+subCategoryId).html(wa); 
    	    			 
    	    		 }else{
    	    		 
    	    		 if(flowunder == 'warehouse')
    	    		 {
// if(warehouse == ''){
// $("#"+subCategoryId).html('');
// $("#"+subCategoryId).html(wa);
// }
// else{
// $("#"+subCategoryId).html('');
// $("#"+subCategoryId).html(op);
    	    				 $("#"+subCategoryId).html('');
    	    				 $("#"+subCategoryId).html(wa); 
// }
    	    		 }
    	    		 else{
    	    			 
 if(flowLocation != ""){
    	    				 
    	    			 }else{
    	    			 $("#"+subCategoryId).html('');
    	    			 $("#"+subCategoryId).html(op);
    	    			 }}
// $("#"+subCategoryId).html('');
// $("#"+subCategoryId).html(wa);
    	    		 }
    	    		 
    	    		/*var IsOrderPage = $("#IsOrderPage").val();
    	    		if(IsOrderPage=="Orders")
    	    			{
    	    			searchOrders('','','0','false');
    	    			}*/
    	    		 
    	    	 }
            	 catch(e)
            	 {
            		 errorCode(e);
            	 }
				
			}
    	     
    	     
    	     function appendZonallocations(subCategoryList,subCategoryId,warehouse){
    	    	 // debugger
    	    	 try{
    	    		 
    	    		 var online = window.navigator.onLine;
 				  	if(!online){
 				  	alert("Check your internet connection,Please try agian after some time.");
 				  	return;
 				  	}
 				  	debugger
 				 var op = '';
				 var wa = '';
				 var outlets ="";
				 var locations = "";
				 for(var i=0;i<subCategoryList.length;i++){
					 outlets ="";
					 locations = subCategoryList[i];
					 outlets = locations.split('+');
					 if(outlets[2] != null || outlets[2] != ""  || outlets[2] != undefined)
							outlets2 = '-'+outlets[2]
						 else
							outlets2=""
					 if(outlets[1] == 'Retail Outlet')
						 op += '<option value="'+outlets[0]+'" >'+outlets[0]+''+outlets2+'</option>';
					 else
						 wa += '<option value="'+outlets[0]+'" >'+outlets[0]+'</option>'; 
				 }
				 var flowunder = "";
				 if($("#flowUnder").length > 0)
					 flowunder = $("#flowUnder").val();
				 if(flowunder == 'warehouse')
				 {
					 // if(warehouse == ''){
						 $("#"+subCategoryId).html('');
						 $("#"+subCategoryId).html(wa); 
					/*
					 * } else if(warehouse == flowunder){
					 * $("#"+subCategoryId).html('');
					 * $("#"+subCategoryId).html(wa); } else{
					 * $("#"+subCategoryId).html('');
					 * $("#"+subCategoryId).html(op); $("#"+warehouse).html('');
					 * $("#"+warehouse).html(wa); }
					 */
				 }
				 else{
					 $("#"+subCategoryId).html('');
					 $("#"+subCategoryId).html(op);
					 $("#"+warehouse).html('');
					 $("#"+warehouse).html(wa); 
				 }
    	    	 }
            	 catch(e)
            	 {
            		 errorCode(e);
            	 }
				
			}
    	     
    	     function appendlocations(subCategoryList,subCategoryId,warehouse){
    	    	 // debugger
    	    	 try{
    	    		 
    	    		 var online = window.navigator.onLine;
 				  	if(!online){
 				  	alert("Check your internet connection,Please try agian after some time.");
 				  	return;
 				  	}
				 var op = '';
				 var wa = '';
				 var outlets ="";
				 var locations = "";
				 for(var i=0;i<subCategoryList.length;i++){
					 outlets ="";
					 var outlets2=""
					 locations = subCategoryList[i];
					 outlets = locations.split('+');
					 console.log(outlets[2])
					 if(outlets[2] != null)
						outlets2 = '-'+outlets[2]
					 else
						outlets2=""
					 if(outlets[1] == 'Retail Outlet')
						 op += '<option value="'+outlets[0]+'" >'+outlets[0]+'</option>';
					 else
						 wa += '<option value="'+outlets[0]+'" >'+outlets[0]+'</option>'; 
				 }
				 var flowunder = "";
				 if($("#flowUnder").length > 0)
					 flowunder = $("#flowUnder").val();
				 if(flowunder == 'warehouse')
					 {
					 if(warehouse == ''){
						 $("#"+subCategoryId).html('');
						 $("#"+subCategoryId).html(wa); 
					 }
					 else{
						 $("#"+subCategoryId).html('');
						 $("#"+subCategoryId).html(op);
						 $("#"+warehouse).html('');
						 $("#"+warehouse).html(wa); 
					 }
					 }
				 else{
					 $("#"+subCategoryId).html('');
					 $("#"+subCategoryId).html(op);
					 $("#"+warehouse).html('');
					 $("#"+warehouse).html(wa); 
				 }
    	    	 }
            	 catch(e)
            	 {
            		 errorCode(e);
            	 }
				
			}
    	     
    	     function getSkuList(catageoryName, PriceRange) {
    	    	 try{
    	    		contextPath = $('#contextPath').val();
    	    		
    	    		// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    		
    	    		var URL = contextPath + "/b2c/getProductsByCriteria.do";
    	    		     $.ajax({
    	    					type : "GET",
    	    					url : URL,
    	    					contentType : "application/json",
    	    					data : {
    	    						maxRecords : "30",
    	    						priceRange : PriceRange,
    	    						searchName : "",
    	    						index : "0",
    	    						category : catageoryName,
    	    						brand : ""

    	    					},
    	    					beforeSend : function(xhr) {
    	    						$("#loading").css("display", "block");
    	    						$("#mainDiv").addClass("disabled");
    	    					},
    	    					success : function(result) {

    	    						openMenu("master-details", "ulMasterDetails", 0);
    	    						openMenu("liMasterDataManagement",
    	    								"ulMasterDataManagement", 1);
    	    						$("#loading").css("display", "none");
    	    						$("#mainDiv").removeClass('disabled');
    	    						/* skuResult=JSON.stringify(result); */
    	    						if (result.length == 0) {
    	    							alert('No Results Found')
    	    						} else {
    	    							for (index = 0; index < result.length; index++) {
    	    								if (result[index].skuId.trim() != '') {

    	    									$("#skuList").append(
    	    											'<option>' + result[index].skuId
    	    													+ '</option>');
    	    								}
    	    							}
    	    						}
    	    					},
    	    					error : function(jqXHR, textStatus, errorThrown)  {
    	    						errorCode(jqXHR.status);
    	    						$("#loading").css("display", "none");
    	    						$("#mainDiv").removeClass('disabled');
    	    					}

    	    				});
    	    	 }
    	    	 catch(e)
            	 {
            		 errorCode(e);
            	 }

    	    	}

    	    	/*
				 * function validatepriceRangeform(id, type) {
				 * if($("#priceRangDescription").val().trim()==""){
				 *  }
				 * 
				 * var maxRecords = 10; if($("#maxRecords").length >0)
				 * maxRecords = $("#maxRecords").val();
				 * 
				 * var searchName =""; if($("#searchPriceRange").length >0)
				 * searchName = $("#searchPriceRange").val().trim();
				 * 
				 * priceRangeRef:$("#priceRangeRef").val(),productCategory:$("priceRangCriteria")
				 * 
				 * var skuList = [], productCategory = [], startPrice = [],
				 * endPrice = [],sno=[], big = 0;
				 * 
				 * var priceRangeMaster = {}, priceRangeChilds = [], obj = {};
				 * 
				 * var skuList1,productCategory1,startPrice1,endPrice1;
				 * 
				 * contextPath = $('#contextPath').val();
				 * if($("#priceRangDescription").val().trim!=''){
				 * $("#priceDescError").html('Please Enter Price Range
				 * Description'); return false;
				 *  }
				 * 
				 * $('#priceRangs option').each(function() {
				 * 
				 * $(this).val().split("-")[0].trim();
				 * startPrice.push($(this).val().split("-")[0].trim());
				 * endPrice.push($(this).val().split("-")[1].trim());
				 *  })
				 * 
				 * $('#skuListSelected option').each(function() {
				 * 
				 * skuList.push($(this).val()); });
				 * 
				 * $('#ProductCategoriesSelected option').each(function() {
				 * 
				 * productCategory.push($(this).val()); });
				 * 
				 * $('#skuListSelected option').each(function() {
				 * 
				 * sno.push($(this).val()); });
				 * 
				 * 
				 * for(index=0;index<productCategory.length;index++){
				 *  } if ($('#skuListSelected option').length >
				 * $('#ProductCategoriesSelected option').length) big =
				 * $('#skuListSelected option').length; else big =
				 * $('#ProductCategoriesSelected option').length;
				 * 
				 * 
				 * if (type == 'new') {
				 * 
				 * var URL = contextPath +
				 * "/outletMaster/createPriceRangeMaster.do"; } else {
				 * priceRangeMaster.priceRangeId = id;
				 * 
				 * 
				 * for(var i=1;i<len;i++){ var idAttr = $("#priceRangeList
				 * tr:eq("+i+") td:last").attr("id"); idAttr =
				 * idAttr.replace('Del','');
				 * 
				 * obj.sno =$("#itemno"+idAttr).val();
				 * 
				 *  } var URL = contextPath +
				 * "/outletMaster/updatePriceRangeMaster.do"; }
				 * 
				 * for (index = 0; index < big; index++) { if (skuList[index] !=
				 * undefined) skuList1 = skuList[index]; else skuList1 = ''; if
				 * (productCategory[index] != undefined) {
				 * 
				 * productCategory1 = productCategory[index];
				 *  } else productCategory1 = ''; if (startPrice[index] !=
				 * undefined) startPrice1 = startPrice[index]; else startPrice1 =
				 * ''; if (endPrice[index] != undefined) endPrice1 =
				 * endPrice[index]; else endPrice1 = '';
				 * 
				 * obj = { skuId : skuList1, productCategory : productCategory1,
				 * startPrice : startPrice1, endPrice : endPrice1,
				 *  }
				 * 
				 * if(type!='new'){ if (sno[index] != undefined)
				 * obj.sno=sno[index]; else obj.sno = ''; }
				 * 
				 * 
				 * priceRangeChilds.push(obj);
				 * 
				 * productCategory.push($(this).val()); }
				 * 
				 * priceRangeMaster.priceRangeChilds = priceRangeChilds;
				 * 
				 * priceRangeMaster.priceRangeDescription =
				 * $("#priceRangDescription").val();
				 * priceRangeMaster.priceRangeId = $("#priceRangeRef").val();
				 * 
				 * 
				 * priceRangeMaster.searchCriteria = searchName;
				 * priceRangeMaster.maxRecords = maxRecords;
				 * 
				 * var priceRangeMasterObj = JSON.stringify(priceRangeMaster);
				 * 
				 * 
				 * $.ajax({ type : "POST", url : URL, contentType :
				 * "application/json", data : priceRangeMasterObj,
				 * 
				 * beforeSend : function(xhr) { $("#loading").css("display",
				 * "block"); $("#mainDiv").addClass("disabled"); }, success :
				 * function(result) { $('#right-side').html(result); if (id !=
				 * undefined && id != "") activeMenu(id);
				 * openMenu("master-details", "ulMasterDetails", 0);
				 * openMenu("liMasterDataManagement", "ulMasterDataManagement",
				 * 1); $("#loading").css("display", "none");
				 * $("#mainDiv").removeClass('disabled'); }, error :
				 * function(jqXHR, textStatus, errorThrown) {
				 * errorCode(jqXHR.status); $("#loading").css("display",
				 * "none"); $("#mainDiv").removeClass('disabled'); }
				 * 
				 * });
				 *  }
				 */
    	     
    	     
    	     function validatepriceRangeform(id, type) {
   	    		
   	    		try{
    	    		if($("#priceRangDescription").val().trim()==""){
    	    		}
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	  	debugger;
    	    		var maxRecords = 10;
 	 	 		if($("#maxRecords").length >0 && $("#maxRecords").val() !="")
 	 	 			maxRecords = $("#maxRecords").val();
 	 	 		
 	 	 		var searchName ="";
 	 	 		if($("#searchPriceRange").length >0)
 	 	 			searchName = $("#searchPriceRange").val().trim();
    	    		
    	    		
    	    		/* priceRangeRef:$("#priceRangeRef").val(),productCategory:$("priceRangCriteria") */

    	    		var skuList = [], productCategory = [], startPrice = [], endPrice = [],sno=[], big = 0;

    	    		var priceRangeMaster = {}, priceRangeChilds = [], obj = {};

    	    		/* var skuList1,productCategory1,startPrice1,endPrice1; */

    	    		contextPath = $('#contextPath').val();
    	    		
    	    		if(parseInt($("#priceRangeRef").val().length)>20){
    	 				 $("#priceRangeRef").focus();
    	 				 $("#priceRangeRefError").html("Price Range can't exceeds 20 characters");
    	 				 return;
    	 			} else {
    					$("#priceRangeRefError").html("");
    				}
    	    		
    	    		
    	    		if($("#priceRangDescription").val().trim()==''){
    	    			$("#priceDescError").html('Please Enter Price Range Description');
    	    			return false;
    	    			
    	    		}else if(parseInt($("#priceRangDescription").val().length)>250){
    				 $("#priceRangDescription").focus();
    				 $("#priceDescError").html("Price Range Description should be within 250 character");
    				 return;
    			}

    	    		$('#priceRangs option').each(function() {

    	    			/* $(this).val().split("-")[0].trim(); */
    	    			startPrice.push($(this).val().split("-")[0].trim());
    	    			endPrice.push($(this).val().split("-")[1].trim());

    	    		})

    	    		$('#skuListSelected option').each(function() {

    	    			skuList.push($(this).val());
    	    		});

    	    		$('#ProductCategoriesSelected option').each(function() {

    	    			productCategory.push($(this).val());
    	    		});
    	    		
    	    		$('#skuListSelected option').each(function() {

    	    			sno.push($(this).val());
    	    		});

    	    		/*
 				 * for(index=0;index<productCategory.length;index++){
 				 *  }
 				 */if ($('#skuListSelected option').length > $('#ProductCategoriesSelected option').length)
    	    			big = $('#skuListSelected option').length;
    	    		else
    	    			big = $('#ProductCategoriesSelected option').length;

    	    		 
    	    		 if (type == 'new') {

    	    				var URL = contextPath + "/outletMaster/createPriceRangeMaster.do";
    	    			} else {
    	    				priceRangeMaster.priceRangeId = id;
    	    				
    	    				
    	    			/*
 					 * for(var i=1;i<len;i++){ var idAttr = $("#priceRangeList
 					 * tr:eq("+i+") td:last").attr("id"); idAttr =
 					 * idAttr.replace('Del','');
 					 * 
 					 * obj.sno =$("#itemno"+idAttr).val();
 					 * 
 					 *  }
 					 */
    	    				var URL = contextPath + "/outletMaster/updatePriceRangeMaster.do";
    	    			} 
    	    		 
    	    		for (index = 0; index < big; index++) {
    	    			if (skuList[index] != undefined)
    	    				skuList1 = skuList[index];
    	    			else
    	    				skuList1 = '';
    	    			if (productCategory[index] != undefined) {
    	    				
    	    				productCategory1 = productCategory[index];
    	    				
    	    			} else
    	    				productCategory1 = '';
    	    			if (startPrice[index] != undefined)
    	    				startPrice1 = startPrice[index];
    	    			else
    	    				startPrice1 = '';
    	    			if (endPrice[index] != undefined)
    	    				endPrice1 = endPrice[index];
    	    			else
    	    				endPrice1 = '';
    	    			
    	    			obj = {
    	    				skuId : skuList1,
    	    				productCategory : productCategory1,
    	    				startPrice : startPrice1,
    	    				endPrice : endPrice1,
    	    				
    	    			}

    	    			if(type!='new'){
    	    			if (sno[index] != undefined)
    	    				obj.sno=sno[index];
    	    			else
    	    				obj.sno = '';
    	    			}
    	    			
    	    			priceRangeChilds.push(obj);
    	    			
    	    			/* productCategory.push($(this).val()); */
    	    		}

    	    		priceRangeMaster.priceRangeChilds = priceRangeChilds;

    	    		priceRangeMaster.priceRangeDescription = $("#priceRangDescription").val().trim();
    	    		priceRangeMaster.priceRangeId = $("#priceRangeRef").val().trim();
    	    		priceRangeMaster.maxRecords = maxRecords;
    	    		priceRangeMaster.searchCriteria = searchName;
    	    		var priceRangeMasterObj = JSON.stringify(priceRangeMaster);
    	    		$.ajax({
    	    			type : "POST",
    	    			url : URL,
    	    			contentType : "application/json",
    	    			data : priceRangeMasterObj,

    	    			beforeSend : function(xhr) {
    	    				$("#loading").css("display", "block");
    	    				$("#mainDiv").addClass("disabled");
    	    			},
    	    			success : function(result) {
    	    				$('#right-side').html(result);
    	    				if (id != undefined && id != "")
    	    					activeMenu(id);
    	    				openMenu("master-details", "ulMasterDetails", 0);
    	    				openMenu("liMasterDataManagement", "ulMasterDataManagement", 1);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			},
    	    			error : function(jqXHR, textStatus, errorThrown)  {
    	    				errorCode(jqXHR.status);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			}

    	    		});
   	    		}
   	    		catch(e)
   	    		{
   	    			errorCode(e);
   	    		}

    	    	}
    	     
    	     
    	     
    	     
  	   /* function validatepriceRangeform(id, type) {
  	    		
  	    		try{
   	    		if($("#priceRangDescription").val().trim()==""){
   	    			
   	    		}
   	    	// purpose:for checking internet conection
   	    		var online = window.navigator.onLine;
   	    	  	if(!online){
   	    	  	alert("Check your internet connection,Please try agian after some time.");
   	    	  	return;
   	    	  	}
   	    	  	debugger;
   	    		var maxRecords = 10;
	 	 		if($("#maxRecords").length >0 && $("#maxRecords").val() !="")
	 	 			maxRecords = $("#maxRecords").val();
	 	 		
	 	 		var searchName ="";
	 	 		if($("#searchPriceRange").length >0)
	 	 			searchName = $("#searchPriceRange").val().trim();
   	    		
   	    		
   	    		 priceRangeRef:$("#priceRangeRef").val(),productCategory:$("priceRangCriteria") 

   	    		var skuList = [], productCategory = [], startPrice = [], endPrice = [],sno=[], big = 0;

   	    		var priceRangeMaster = {}, priceRangeChilds = [], obj = {};

   	    		 var skuList1,productCategory1,startPrice1,endPrice1; 

   	    		contextPath = $('#contextPath').val();
   	    		if($("#priceRangDescription").val().trim()==''){
   	    			$("#priceDescError").html('Please Enter Price Range Description');
   	    			return false;
   	    			
   	    		}

   	    		$('#priceRangs option').each(function() {

   	    			 $(this).val().split("-")[0].trim(); 
   	    			startPrice.push($(this).val().split("-")[0].trim());
   	    			endPrice.push($(this).val().split("-")[1].trim());

   	    		})

   	    		$('#skuListSelected option').each(function() {

   	    			skuList.push($(this).val());
   	    		});

   	    		$('#ProductCategoriesSelected option').each(function() {

   	    			productCategory.push($(this).val());
   	    		});
   	    		
   	    		$('#skuListSelected option').each(function() {

   	    			sno.push($(this).val());
   	    		});

   	    		
				 * for(index=0;index<productCategory.length;index++){
				 *  }
				 if ($('#skuListSelected option').length > $('#ProductCategoriesSelected option').length)
   	    			big = $('#skuListSelected option').length;
   	    		else
   	    			big = $('#ProductCategoriesSelected option').length;

   	    		 
   	    		 if (type == 'new') {

   	    				var URL = contextPath + "/outletMaster/createPriceRangeMaster.do";
   	    			} else {
   	    				priceRangeMaster.priceRangeId = id;
   	    				
   	    				
   	    			
					 * for(var i=1;i<len;i++){ var idAttr = $("#priceRangeList
					 * tr:eq("+i+") td:last").attr("id"); idAttr =
					 * idAttr.replace('Del','');
					 * 
					 * obj.sno =$("#itemno"+idAttr).val();
					 * 
					 *  }
					 
   	    				var URL = contextPath + "/outletMaster/updatePriceRangeMaster.do";
   	    			} 
   	    		 
   	    		for (index = 0; index < big; index++) {
   	    			if (skuList[index] != undefined)
   	    				skuList1 = skuList[index];
   	    			else
   	    				skuList1 = '';
   	    			if (productCategory[index] != undefined) {
   	    				
   	    				productCategory1 = productCategory[index];
   	    				
   	    			} else
   	    				productCategory1 = '';
   	    			if (startPrice[index] != undefined)
   	    				startPrice1 = startPrice[index];
   	    			else
   	    				startPrice1 = '';
   	    			if (endPrice[index] != undefined)
   	    				endPrice1 = endPrice[index];
   	    			else
   	    				endPrice1 = '';
   	    			
   	    			obj = {
   	    				skuId : skuList1,
   	    				productCategory : productCategory1,
   	    				startPrice : startPrice1,
   	    				endPrice : endPrice1,
   	    				
   	    			}

   	    			if(type!='new'){
   	    			if (sno[index] != undefined)
   	    				obj.sno=sno[index];
   	    			else
   	    				obj.sno = '';
   	    			}
   	    			
   	    			priceRangeChilds.push(obj);
   	    			
   	    			 productCategory.push($(this).val()); 
   	    		}

   	    		priceRangeMaster.priceRangeChilds = priceRangeChilds;

   	    		priceRangeMaster.priceRangeDescription = $("#priceRangDescription").val().trim();
   	    		priceRangeMaster.priceRangeId = $("#priceRangeRef").val().trim();
   	    		priceRangeMaster.maxRecords = maxRecords;
   	    		priceRangeMaster.searchCriteria = searchName;
   	    		

   	    		var priceRangeMasterObj = JSON.stringify(priceRangeMaster);

   	    		
   	    		$.ajax({
   	    			type : "POST",
   	    			url : URL,
   	    			contentType : "application/json",
   	    			data : priceRangeMasterObj,

   	    			beforeSend : function(xhr) {
   	    				$("#loading").css("display", "block");
   	    				$("#mainDiv").addClass("disabled");
   	    			},
   	    			success : function(result) {
   	    				$('#right-side').html(result);
   	    				if (id != undefined && id != "")
   	    					activeMenu(id);
   	    				openMenu("master-details", "ulMasterDetails", 0);
   	    				openMenu("liMasterDataManagement", "ulMasterDataManagement", 1);
   	    				$("#loading").css("display", "none");
   	    				$("#mainDiv").removeClass('disabled');
   	    			},
   	    			error : function(jqXHR, textStatus, errorThrown)  {
   	    				errorCode(jqXHR.status);
   	    				$("#loading").css("display", "none");
   	    				$("#mainDiv").removeClass('disabled');
   	    			}

   	    		});
  	    		}
  	    		catch(e)
  	    		{
  	    			errorCode(e);
  	    		}

   	    	}*/
    	     

/*
 * function viewEditPriceRangeMaster(priceRangeId, type) { contextPath =
 * $('#contextPath').val(); var URL = contextPath +
 * "/outletMaster/viewEditPriceRangeMaster.do"; $.ajax({ type : "GET", url :
 * URL, data : { type : type, priceRangeId : priceRangeId }, success :
 * function(result) { $('#right-side').html(result);
 * 
 * if(id != undefined && id != "") activeMenu(id);
 * 
 * openMenu("master-details", "ulMasterDetails", 0);
 * openMenu("liMasterDataManagement", "ulMasterDataManagement", 1);
 * $("#loading").css("display", "none"); $("#mainDiv").removeClass('disabled'); },
 * error : function(jqXHR, textStatus, errorThrown) { errorCode(jqXHR.status);
 * $("#loading").css("display", "none"); $("#mainDiv").removeClass('disabled'); }
 * 
 * }); }
 */
    	    	   function getSkuList(catageoryName, PriceRange,operation) {
    	    		   try{
       	    		contextPath = $('#contextPath').val();
       	    	// purpose:for checking internet conection
       	    		var online = window.navigator.onLine;
       	    	  	if(!online){
       	    	  	alert("Check your internet connection,Please try agian after some time.");
       	    	  	return;
       	    	  	}
       	    		
       	    		var URL = contextPath + "/b2c/getProductsByCriteria.do";
       	    		     $.ajax({
       	    					type : "GET",
       	    					url : URL,
       	    					contentType : "application/json",
       	    					data : {
       	    						maxRecords : "30",
       	    						priceRange : PriceRange,
       	    						searchName : "",
       	    						index : "0",
       	    						category : catageoryName,
       	    						brand : ""

       	    					},
       	    					beforeSend : function(xhr) {
       	    						$("#loading").css("display", "block");
       	    						$("#mainDiv").addClass("disabled");
       	    					},
       	    					success : function(result) {

       	    						openMenu("master-details", "ulMasterDetails", 0);
       	    						openMenu("liMasterDataManagement",
       	    								"ulMasterDataManagement", 1);
       	    						$("#loading").css("display", "none");
       	    						$("#mainDiv").removeClass('disabled');
       	    						/* skuResult=JSON.stringify(result); */
       	    						 
       	    						if (result.length == 0) {
       	    							/* alert('No Results Found'); */
       	    						} 
       	    						
       	    						else {
       	    							for (index = 0; index < result.length; index++) {
       	    								if (result[index].skuId.trim() != '') {
      
       	    									
       	    									if (operation == 'remove') {
       	    									$("#skuList option[value='" + result[index].skuId + "']").remove();
       	    									$("#skuListSelected option[value='" + result[index].skuId + "']").remove();
       	    										
       	    		    						} 
       	    									
       	    									else{
       	    									$("#skuList").append(
       	    											"<option value='" + result[index].skuId + "'>" + result[index].skuId
       	    													+ "</option>");
       	    									}
       	    								}
       	    							}
       	    						}
       	    						
       	    					},
       	    					error : function(jqXHR, textStatus, errorThrown)  {
       	    						errorCode(jqXHR.status);
       	    						$("#loading").css("display", "none");
       	    						$("#mainDiv").removeClass('disabled');
       	    					}

       	    				});
    	    		   }
    	    		   catch(e)
    	    		   {
    	    			   errorCode(e);
    	    		   }

       	    	}
       	     
       	     
       	   /*
			 * function newPriceRangeMaster(id) {
			 * 
			 * var contextPath = $('#contextPath').val(); var URL = contextPath +
			 * "/outletMaster/newPriceRangeMaster.do"; $.ajax({ type : "GET",
			 * url : URL, data : {
			 *  }, beforeSend : function(xhr) { $("#loading").css("display",
			 * "block"); $("#mainDiv").addClass("disabled"); }, success :
			 * function(result) { $('#right-side').html(result); if (id !=
			 * undefined && id != "") activeMenu(id); openMenu("master-details",
			 * "ulMasterDetails", 0); openMenu("liMasterDataManagement",
			 * "ulMasterDataManagement", 1); $("#loading").css("display",
			 * "none"); $("#mainDiv").removeClass('disabled'); }, error :
			 * function(jqXHR, textStatus, errorThrown) {
			 * errorCode(jqXHR.status); $("#loading").css("display", "none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 */

       	    	/*
				 * function validatepriceRangeform(id, type) {
				 * if($("#priceRangDescription").val().trim()==""){
				 *  }
				 * priceRangeRef:$("#priceRangeRef").val(),productCategory:$("priceRangCriteria")
				 * 
				 * var skuList = [], productCategory = [], startPrice = [],
				 * endPrice = [],sno=[], big = 0;
				 * 
				 * var priceRangeMaster = {}, priceRangeChilds = [], obj = {};
				 * 
				 * var skuList1,productCategory1,startPrice1,endPrice1;
				 * 
				 * contextPath = $('#contextPath').val();
				 * if($("#priceRangDescription").val().trim()==''){
				 * $("#priceDescError").html('Please Enter Price Range
				 * Description'); return false;
				 *  }
				 * 
				 * $('#priceRangs option').each(function() {
				 * 
				 * $(this).val().split("-")[0].trim();
				 * startPrice.push($(this).val().split("-")[0].trim());
				 * endPrice.push($(this).val().split("-")[1].trim());
				 *  })
				 * 
				 * $('#skuListSelected option').each(function() {
				 * 
				 * skuList.push($(this).val()); });
				 * 
				 * $('#ProductCategoriesSelected option').each(function() {
				 * 
				 * productCategory.push($(this).val()); });
				 * 
				 * $('#skuListSelected option').each(function() {
				 * 
				 * sno.push($(this).val()); });
				 * 
				 * 
				 * for(index=0;index<productCategory.length;index++){
				 *  } if ($('#skuListSelected option').length >
				 * $('#ProductCategoriesSelected option').length) big =
				 * $('#skuListSelected option').length; else big =
				 * $('#ProductCategoriesSelected option').length;
				 * 
				 * 
				 * if (type == 'new') {
				 * 
				 * var URL = contextPath +
				 * "/outletMaster/createPriceRangeMaster.do"; } else {
				 * priceRangeMaster.priceRangeId = id;
				 * 
				 * 
				 * for(var i=1;i<len;i++){ var idAttr = $("#priceRangeList
				 * tr:eq("+i+") td:last").attr("id"); idAttr =
				 * idAttr.replace('Del','');
				 * 
				 * obj.sno =$("#itemno"+idAttr).val();
				 * 
				 *  } var URL = contextPath +
				 * "/outletMaster/updatePriceRangeMaster.do"; }
				 * 
				 * for (index = 0; index < big; index++) { if (skuList[index] !=
				 * undefined) skuList1 = skuList[index]; else skuList1 = ''; if
				 * (productCategory[index] != undefined) {
				 * 
				 * productCategory1 = productCategory[index];
				 *  } else productCategory1 = ''; if (startPrice[index] !=
				 * undefined) startPrice1 = startPrice[index]; else startPrice1 =
				 * ''; if (endPrice[index] != undefined) endPrice1 =
				 * endPrice[index]; else endPrice1 = '';
				 * 
				 * obj = { skuId : skuList1, productCategory : productCategory1,
				 * startPrice : startPrice1, endPrice : endPrice1,
				 *  }
				 * 
				 * if(type!='new'){ if (sno[index] != undefined)
				 * obj.sno=sno[index]; else obj.sno = ''; }
				 * 
				 * 
				 * priceRangeChilds.push(obj);
				 * 
				 * productCategory.push($(this).val()); }
				 * 
				 * priceRangeMaster.priceRangeChilds = priceRangeChilds;
				 * 
				 * priceRangeMaster.priceRangeDescription =
				 * $("#priceRangDescription").val();
				 * priceRangeMaster.priceRangeId = $("#priceRangeRef").val();
				 * 
				 * var priceRangeMasterObj = JSON.stringify(priceRangeMaster);
				 * 
				 * 
				 * $.ajax({ type : "POST", url : URL, contentType :
				 * "application/json", data : priceRangeMasterObj,
				 * 
				 * beforeSend : function(xhr) { $("#loading").css("display",
				 * "block"); $("#mainDiv").addClass("disabled"); }, success :
				 * function(result) { $('#right-side').html(result); if (id !=
				 * undefined && id != "") activeMenu(id);
				 * openMenu("master-details", "ulMasterDetails", 0);
				 * openMenu("liMasterDataManagement", "ulMasterDataManagement",
				 * 1); $("#loading").css("display", "none");
				 * $("#mainDiv").removeClass('disabled'); }, error :
				 * function(jqXHR, textStatus, errorThrown) {
				 * errorCode(jqXHR.status); $("#loading").css("display",
				 * "none"); $("#mainDiv").removeClass('disabled'); }
				 * 
				 * });
				 *  }
				 */

       	    	/*
				 * function viewEditPriceRangeMaster(priceRangeId, type) {
				 * contextPath = $('#contextPath').val();
				 * 
				 * var URL = contextPath +
				 * "/outletMaster/viewEditPriceRangeMaster.do";
				 * 
				 * $.ajax({ type : "GET", url : URL,
				 * 
				 * data : { type : type, priceRangeId : priceRangeId }, success :
				 * function(result) { $('#right-side').html(result);
				 * 
				 * if(id != undefined && id != "") activeMenu(id);
				 * 
				 * openMenu("master-details", "ulMasterDetails", 0);
				 * openMenu("liMasterDataManagement", "ulMasterDataManagement",
				 * 1); $("#loading").css("display", "none");
				 * $("#mainDiv").removeClass('disabled'); }, error :
				 * function(jqXHR, textStatus, errorThrown) {
				 * errorCode(jqXHR.status); $("#loading").css("display",
				 * "none"); $("#mainDiv").removeClass('disabled'); }
				 * 
				 * }); }
				 */
       	    	
       	    	function viewEditPriceRangeMaster(priceRangeId, type) {
       	    		try{
       	    			
       	    			var online = window.navigator.onLine;
        	    	  	if(!online){
        	    	  	alert("Check your internet connection,Please try agian after some time.");
        	    	  	return;
        	    	  	}
    	    		contextPath = $('#contextPath').val();
    	    		var URL = contextPath + "/outletMaster/viewEditPriceRangeMaster.do";
    	    		// purpose:for checking internet conection
    	    		
    	    		
    	    		var maxRecords="";
    	    		if($("#maxRecords").length > 0);
    	    		 maxRecords = $("#maxRecords").val();
    	    		 
    	    		var searchName="";
     	    		if($("#searchPriceRange").length > 0);
     	    		searchName = $("#searchPriceRange").val();
    	    		
    	    		
    	    		$.ajax({
    	    			type : "GET",
    	    			url : URL,
    	    			data : {
    	    				type : type,
    	    				priceRangeId : priceRangeId,
    	    				maxRecords : maxRecords,
    	    				searchName : searchName
    	    			},
    	    			success : function(result) {
    	    				$('#right-side').html(result);
    	    				/*
							 * if(id != undefined && id != "") activeMenu(id);
							 */
    	    				openMenu("master-details", "ulMasterDetails", 0);
    	    				openMenu("liMasterDataManagement", "ulMasterDataManagement", 1);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			},
    	    			error : function(jqXHR, textStatus, errorThrown)  {
    	    				errorCode(jqXHR.status);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			}

    	    		});
       	    		}
       	    		catch(e)
       	    		{
       	    		errorCode(e);
       	    		}

    	    	}
       	    	
    	     function getStockIssuessByLocation(operation){
    	    	 try{
    	    	 var fromlocation = $('#fromlocation').val();
            	 var contextPath = $("#contextPath").val();
            	 var flowUnder = $("#flowUnder").val();
            	 
            	// purpose:for checking internet conection
            		var online = window.navigator.onLine;
            	  	if(!online){
            	  	alert("Check your internet connection,Please try agian after some time.");
            	  	return;
            	  	}
            	 URL = contextPath + "/inventorymanager/getStockIssuessByLocation.do";
            	 $.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				fromlocation : fromlocation,
           				operation : operation,
           				flowUnder : flowUnder
           			},
           			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
           			success : function(result) {
// $("#tab_2").html(result);
           			 $("#right-side").html(result);
             			// activeMenu(id);
             			$("#loading").css("display","none");
             			$("#mainDiv").removeClass('disabled');
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
    	    	 }
    	    	 catch(e)
    	    		{
    	    		errorCode(e);
    	    		}

             }
    	     
    	     function viewStockIssue(goods_issue_ref_num){
    	    	 try{
    	    	 var contextPath = $("#contextPath").val();
    	    	 var flowUnder = $("#flowUnder").val();
    	    	 var location = $("#fromlocation").val();
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 
    	    	 // added by manasa
    	    	 var startDate = "";
    	 		 var endDate = "";
    	    	 var CurrentDate=getCurrentDate().split(" ");
 	 			var  finalstr=CurrentDate[0];
 	 			var dobDiff = daydiff(parseDateMMDDYYYY(finalstr), parseDate($('#from').val()));
 	 			if(dobDiff > 0){
 	 				alert("Start Date  can't be Future Date");
 	 				return false;
 	 			}
 	 			if($("#from").val() != "" && $("#to").val() != ""){
 		 			var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
 					 if(noOfDays < 0){
 						 alert("Start Date can't be less than End Date");
 						 return;
 					 }
 					 startDate = $("#from").val() + " 00:00:00";
 					 endDate = $("#to").val() + " 00:00:00";
 	 			}else if($("#from").val() != "")
 					 startDate = $("#from").val() + " 00:00:00";
 	 			else if($("#to").val() != "")
 	 				endDate = $("#to").val() + " 00:00:00";

    	    	 var operation ="";
    	    	  			 if($("#operation").val() != '' && $("#operation").val().length>0)
    	    	  				 operation=$("#operation").val();

    	    	 
    	    	
    	    	 var formData={}
    			 formData.zoneID = $("#outletZone").val();
    			 formData.outletLocation= $("#fromlocation").val();
    			 formData.shipped_from= $("#warehouseLocation").val();
    			 formData.startDate = startDate;
    			 formData.endDate = endDate;
    			 formData.searchCriteria = $("#allIssuedStocks").val();
    			 var formData = JSON.stringify(formData);
    	    	 
    	    	 
            	 URL = contextPath + "/inventorymanager/viewStockIssue.do";
          		 $.ajax({
          			type: "GET",
          			url : URL,
          			data : {
          				goods_issue_ref_num : goods_issue_ref_num,
          				flowUnder : flowUnder,
          				operation : operation,
          				formData : formData
          			},
          			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
          			success : function(result) {
// $("#tab_2").html(result);
          				 $("#right-side").html(result);
          				$("#fromlocation").val(location);
          				// $('.left-side').css('height','683px');
          				$("#loading").css("display","none");
          				$("#mainDiv").removeClass('disabled');
          			},
          			error : function(jqXHR, textStatus, errorThrown)  {
          				 errorCode(jqXHR.status);
          				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
          			}
          		});
    	    	 }
    	    	 catch(e)
    	    		{
    	    		errorCode(e);
    	    		}

    	    	 
             }
             
             function editStockIssue(goods_issue_ref_num){
            	 try{
            	 var contextPath = $("#contextPath").val();
            	 var flowUnder = $("#flowUnder").val();
            	 var location = $("#fromlocation").val();
            	 
            	// purpose:for checking internet conection
            		var online = window.navigator.onLine;
            	  	if(!online){
            	  	alert("Check your internet connection,Please try agian after some time.");
            	  	return;
            	  	}
            	 
            	 // added by manasa
            	 var operation ="";
     			 if($("#operation").val() != '' && $("#operation").val().length>0)
     				 operation=$("#operation").val();
     			 
            	 
     			 
     			 var startDate = "";
    	 		 var endDate = "";
    	    	 var CurrentDate=getCurrentDate().split(" ");
 	 			var  finalstr=CurrentDate[0];
 	 			var dobDiff = daydiff(parseDateMMDDYYYY(finalstr), parseDate($('#from').val()));
 	 			if(dobDiff > 0){
 	 				alert("Start Date  can't be Future Date");
 	 				return false;
 	 			}
 	 			if($("#from").val() != "" && $("#to").val() != ""){
 		 			var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
 					 if(noOfDays < 0){
 						 alert("Start Date can't be less than End Date");
 						 return;
 					 }
 					 startDate = $("#from").val() + " 00:00:00";
 					 endDate = $("#to").val() + " 00:00:00";
 	 			}else if($("#from").val() != "")
 					 startDate = $("#from").val() + " 00:00:00";
 	 			else if($("#to").val() != "")
 	 				endDate = $("#to").val() + " 00:00:00";
     			 
     			
    	    	 var formData={}
    			 formData.zoneID = $("#outletZone").val();
    			 formData.shipped_from= $("#fromlocation").val();
    			 formData.startDate = $("#from").val();
    			 formData.endDate = $("#to").val();
    			 
    			 
    			 var formData = JSON.stringify(formData);
            	 
    			// purpose:for checking internet conection
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}
    			 
            	 URL = contextPath + "/inventorymanager/editStockIssueView.do";
          		 $.ajax({
          			type: "GET",
          			url : URL,
          			data : {
          				goods_issue_ref_num : goods_issue_ref_num,
          				flowUnder : flowUnder,
          				operation : operation,
          				formData : formData
          			},
          			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
          			success : function(result) {
// $("#tab_2").html(result);
          				 $("#right-side").html(result);
          				// $('.left-side').css('height','683px');
          				$("#fromlocation").val(location);
          				$("#loading").css("display","none");
          				$("#mainDiv").removeClass('disabled');
          			},
          			error : function(jqXHR, textStatus, errorThrown)  {
          				 errorCode(jqXHR.status);
          				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
          			}
          		});
            	 }
            	 catch(e)
            		{
            		errorCode(e);
            		}

             }
             
             function validateStockIssue(status,operation,issue_ref_num,id_goods_issue){
            	 try{
            		 debugger;
            		 
            		 $('#Error').html("");
            		 $('#Suceess').html("");
            		 
            	var stockissueobj = {},stockReqobj = {},itemDetails=[], skuId = [], Qty = [],issuedqty = [];
            	stockissueobj.issue_total_qty = $('#totalQty').val().replace( /,/g, "" );;
            	stockissueobj.issue_total = $('#totalCost').val().replace( /,/g, "" );
            	stockissueobj.remarks = $('#remarks').val();
            	stockissueobj.issue_to = $('#tolocation').val();
            	stockissueobj.shipped_from = $('#fromLocation').val();
            	stockissueobj.delivered_by = $('#delivered').val();
            	stockissueobj.indentedBy = $('#requested').val();
            	stockissueobj.requestedBy = $('#requested').val();
            	stockissueobj.issuedBy = $('#delivered').val();
            	if($('#stockRequestRef').val()!="")
            	stockissueobj.goods_Request_Ref = $('#stockRequestRef').val();
            	stockissueobj.received_by = $('#received').val();
            	stockissueobj.inspectedBy = $('#inspected').val();
            	stockissueobj.deliveryDate = $('#date').val();
            	stockissueobj.shipmentMode=$('#shipmentMode').val();
            	
            /*	//added by koti
            	
            	stockissueobj.requestedDate=$('#reqdatetime').val();
            	stockissueobj.transporter=$('#transporter').val();*/
                   
            	
            	var locationId=$('#tolocation').val();
            	var fromlocationId=$('#fromLocation').val();
            	/*
				 * var companyOwned=""; if(locationId!=null &&
				 * locationId!=undefined && locationId!="") {
				 * 
				 * locationId=locationId.replace(" ", "_");
				 * companyOwned=$('#'+locationId).val(); }
				 */
            	var outState=false;
            	var outletState="";
            	if(locationId!=null && locationId!=undefined && locationId!="")
            		{
            		locationId=locationId.replace(" ", "_");     
            		outletState=$('#'+locationId).val();
            		}
            	
            	var warehouseState="";
            	if(fromlocationId!=null && fromlocationId!=undefined && fromlocationId!="")
            		{
            		fromlocationId=fromlocationId.replace(" ", "_");     
            		warehouseState=$('#'+fromlocationId).val();
            		}
            	
            	if(outletState!=warehouseState){
            		outState =true;
            	}
            	
            	// purpose:for back button filters
            	var startDate = "";
    	    	 var endDate = "";
    	    	 if($("#from").length>0)
    	    		 startDate = $("#from").val();
    	    	 if($("#to").length>0)
    	    		 endDate = $("#to").val();
    	    	var searchName=""
    	 	   	if($("#allIssuedStocks").length>0)
    	 	   			searchName = $("#allIssuedStocks").val().trim();
    	    	 
    	    	 
            	// purpose:for checking internet conection
            	var online = window.navigator.onLine;
              	if(!online){
              	alert("Check your internet connection,Please try agian after some time.");
              	return;
              	}
            	
            	/*
				 * stockissueobj.Goods_Request_Ref =
				 * $('#stockRequestRef').val(); stockissueobj.received_by =
				 * $('#received').val(); stockissueobj.inspectedBy =
				 * $('#inspected').val();
				 */
            	/*
				 * stockissueobj.indentedBy = $('#requested').val();
				 * stockissueobj.issuedBy = $('#delivered').val();
				 */
            /*
			 * stockissueobj.InspectedBy = $('#inspected').val();
			 * stockissueobj.Received_by = $('#received').val();
			 */
            /* stockissueobj.requestId = $("#stockRequestRef").val(); */
            /*
			 * stockissueobj.deliveryDate = $('#date').val();
			 * stockissueobj.shipmentRefNo=$('#shipmentrefno').val();
			 */
        	/* stockissueobj.requestedBy=$('#requested').val(); */
        	/* stockissueobj.shipmentMode=$('#shipmentMode').val(); */
        		 stockissueobj.goods_issue_ref_num = issue_ref_num;
        		 if(operation=="update"){
        			 if($('#nostatus').val()=='nostatus'){
            			 stockissueobj.status = $('#defaultstatus').val();
    	        		 }
        			 else if($('#statusissue').val() == ''){
        				 stockissueobj.status = $('#defaultstatus').val();
        			 }
    	        		 else{
    	        			 stockissueobj.status = $('#statusissue').val(); 
    	        		 }
        			 if($('#statusissue').val() == '' && $('#defaultstatus').val() != "Draft"){
            			 $('#Error').html("Stock Issue Already in "+$('#defaultstatus').val()+" State");
            			 
            			 return false;
            		 }
        		 }
        		 else{
        			 stockissueobj.status = status;
        		 }
        		 
        		  if(operation == 'gridupdate'){
        		    	 stockissueobj.status = ""; 
        			 var reqid = issue_ref_num
        		 		$('.'+reqid).each(function(){
        		 			var id= $(this).attr("id").replace('actualQty','');
        		 			id = id.replace(reqid,'');
        		 			var srid = reqid.concat(id)
        		 		
        		 	 		skuId.push($("#skuId"+srid).text());
        		 	 		Qty.push($("#actualQty"+srid).text());
        		 	 		issued.push($("#Issued"+srid).text());
        		 	 		 stockissueobj.issuedqty = issued;
        	        		 stockissueobj.qty = Qty;
        	        		 stockissueobj.skuId = skuId;
        		 		
        		 		});
        		 	}
        		 else{
        			 if($('#date').val()==""){
                  		  $('#deliveryDateError').html('Enter Delivery Date');
                  		focusDiv("date");
       	       	    		 return false;
       	       	    	 }
        			 
        			 var createddate = $('#createdDate').val();
                     var deliverydate = $('#date').val();
                     var noOfDays = daydiff(parseDate(createddate), parseDate(deliverydate));
     	 	   		if (noOfDays < 0) {
     	 	   		 $('#deliveryDateError').html("Delivery Date can't be less than Created Date");
     	 	   			return;
     	 	   		}

        			 
        			 
                   	 if($('#fromLocation :selected').val().trim()==""){
                     		  $('#locationError').html('Enter From Location');
                     		 focusDiv("fromLocation");
          	       	    		 return false;
          	       	    	 }
                   	 if($('#tolocation :selected').val().trim()==""){
                     		  $('#locationError').html('Enter To Location');
                     		 focusDiv("tolocation");
          	       	    		 return false;
          	       	    	 }
                   	if(parseInt($("#transporter").val().length)>50){
           			 $("#transporter").focus();
           				$("#transporterError").html("Transporter can't exceeds 50 Characters");
           				return;
           		}else{
           	   	 $("#transporterError").html(" ");
           	    }
                   	  if($('#delivered').val().trim()==""){
       	         			$('#deliveredByError').html('Enter Delivered Name');
       	         		focusDiv("delivered");
       	       	    		 return false;
       	       	    	 }

                   	
                   	  
                   	if(parseInt($("#delivered").val().length)>50){
             			 $("#delivered").focus();
             				$("#deliveredByError").html("Delivered by can't exceeds 50 Characters");
             				return;
             		}else{
             	   	 $("#deliveredByError").html(" ");
             	 }
                   	  debugger;
                   	if(operation=="update"){
                   	 	
                   		if(parseInt($("#received").val().length)>40){
                			 $("#received").focus();
                				$("#receivedError").html("Received by can't exceeds 40 Characters");
                				return;
                		}else{
                	   	 $("#receivedError").html(" ");
                	 }
                   	 	
                   	}
                   
        			 var re = /^[0-9/]+$/;
            		 if($("#date").val() == ""){
            				// $("#deliveryDateError").html("Enter a Date");
            				$("#date").focus();
            				return;
            		 }
            		 if(!re.test($("#date").val())){
            				$("#deliveryDateError").html("Invalid Date");
            				$("#date").focus();
            				return;
            		 }
            		 
            			if(parseInt($("#remarks").val().length)>250){
                			 $("#remarks").focus();
                				$("#remarksError").html("Remark can't exceeds 250 Characters");
                				return;
                		}else{
                	   	 $("#remarksError").html(" ");
                	 }
            			
            			
            	
            		debugger
            		 var itemScanCodes = [];
            		 var trackingRequireds = [];
            			  $('.itemScanCode').each( function(){
            				  			  
            				  		itemScanCodes.push($(this).text() );  
            					});
            		 $('.trackingRequired').each(function() {
             			  
           			  trackingRequireds.push($(this).val() );  
           			});
           		
           		// var trackReq = $("#itemScanCode"+idAttr).text();
           		
           	 // if(trackReq == true){
           		  for(var i=0; i<itemScanCodes.length;i++)
           			  {
           			  var scanCode=itemScanCodes[i];
           			  
           			  if(trackingRequireds[i] == "true"){
           			  if(scanCode == "")
           	  			{
           	  				alert("Scan Codes can't be Empty");
           	  				return;
           	  			}
           			  
           			  for(var j=i+1; j<itemScanCodes.length;j++)
           			   {
           				  var scanTempCode = itemScanCodes[j];
           			  		if(scanTempCode == scanCode)
           			  			{
           			  				alert("can't be duplicates in Scan Codes");
           			  				return;
           			  			}
           			   }	
           			  }
           	// }
           	
           			  }
            		 
            		 var noOfDays = daydiff(parseDate($('#createdDate').val()), parseDate($('#date').val()));
            		 if(noOfDays < 0){
            			 $("#deliveryDateError").html("Delivery Date can't be less than Date");
            			 return;
            		 }
        			 
        			 
        			 var len = $("#productsList tr").length-1;
        			 if(len == 0){
        	            alert("Add Atleast One Item to Receipt");
        	            $("#searchItems").focus();
        	           	return;
        	         }
        			    var len = $("#productsList tr").length-1;
        			  	for(var i=1;i<=len;i++){
        			  		var obj;
        			  		var idAttr = $("#productsList tr:eq("+i+") td:last").attr("id").replace('Del','');
        			  	  		if($("#flowUnder").val()== 'warehouse'){
        			  	  			if(outState==true){
        			  	  			obj = {trackingRequired:$("#trackingRequired"+idAttr).val(),utility:$("#utility"+idAttr).val(),
        			  	  	  				itemScanCode:$("#itemScanCode"+idAttr).text(),ean:$("#ean"+idAttr).val(),
        			  	  	  				avlQty:$("#availableQty"+idAttr).text(),color:$("#color"+idAttr).val(),size:$("#size"+idAttr).val(),
        			  	  	  				category:$("#category"+idAttr).val(),measurementRange:$("#measureRange"+idAttr).val(),
        			  	  	  				productRange:$("#productRange"+idAttr).val(),brand:$("#brandCode"+idAttr).val(),
        			  	  	  				skuId:$("#skuId"+idAttr).val(),pluCode:$("#pluCode"+idAttr).val(),item:$("#Name"+idAttr).text(),
        			  	  	  				description:$("#Desc"+idAttr).text(),uom:$("#UOM"+idAttr).text(),price:$("#Price"+idAttr).text(),salePrice:$("#mrpPrice"+idAttr).val(),
        			  	  	  				cost:$("#Cost"+idAttr).text(),actualQty:$("#Received"+idAttr).text(),packageReference:$("#packReference"+idAttr).text(),quantity:$("#Supplied"+idAttr).text(),
        			  	  	  				indentQty:$("#Pack"+idAttr).text(),taxRate:$("#taxRate"+idAttr).val(),batchNumber:$("#productBatchNo"+idAttr).val(),
        			  	  	  				cgstValue:0,sgstValue:0,
        			  	  	  				igstValue:(($("#cgsgstAmt"+idAttr).val()*2)*($("#Supplied"+idAttr).text())),hsnCode:$("#itemHSNCode"+idAttr).text()};
        			  	  		itemDetails.push(obj);	
        			  	  			}else{
        			  	  			obj = {trackingRequired:$("#trackingRequired"+idAttr).val(),utility:$("#utility"+idAttr).val(),
        			  	  	  				itemScanCode:$("#itemScanCode"+idAttr).text(),ean:$("#ean"+idAttr).val(),
        			  	  	  				avlQty:$("#availableQty"+idAttr).text(),color:$("#color"+idAttr).val(),size:$("#size"+idAttr).val(),
        			  	  	  				category:$("#category"+idAttr).val(),measurementRange:$("#measureRange"+idAttr).val(),
        			  	  	  				productRange:$("#productRange"+idAttr).val(),brand:$("#brandCode"+idAttr).val(),
        			  	  	  				skuId:$("#skuId"+idAttr).val(),pluCode:$("#pluCode"+idAttr).val(),item:$("#Name"+idAttr).text(),
        			  	  	  				description:$("#Desc"+idAttr).text(),uom:$("#UOM"+idAttr).text(),price:$("#Price"+idAttr).text(),salePrice:$("#mrpPrice"+idAttr).val(),
        			  	  	  				cost:$("#Cost"+idAttr).text(),actualQty:$("#Received"+idAttr).text(),packageReference:$("#packReference"+idAttr).text(),quantity:$("#Supplied"+idAttr).text(),
        			  	  	  				indentQty:$("#Pack"+idAttr).text(),taxRate:$("#taxRate"+idAttr).val(),
        			  	  	  				cgstValue:($("#cgsgstAmt"+idAttr).val())*($("#Supplied"+idAttr).text()),sgstValue:($("#cgsgstAmt"+idAttr).val())*($("#Supplied"+idAttr).text()),
        			  	  	  				igstValue:0,hsnCode:$("#itemHSNCode"+idAttr).text(),batchNumber:$("#productBatchNo"+idAttr).val()};
        			  	  		itemDetails.push(obj);	
        			  	  			}
        			  	  	  	
        			  	  		}
        			  	  		else{
        			  	  		obj = {trackingRequired:$("#trackingRequired"+idAttr).val(),utility:$("#utility"+idAttr).val(),itemScanCode:$("#itemScanCode"+idAttr).text(),ean:$("#ean"+idAttr).val(),avlQty:$("#availableQty"+idAttr).text(),color:$("#color"+idAttr).val(),size:$("#size"+idAttr).val(),category:$("#category"+idAttr).val(),measurementRange:$("#measureRange"+idAttr).val(),productRange:$("#productRange"+idAttr).val(),brand:$("#brandCode"+idAttr).val(),skuId:$("#skuId"+idAttr).val(),pluCode:$("#pluCode"+idAttr).val(),item:$("#Name"+idAttr).text(),description:$("#Desc"+idAttr).text(),uOM:$("#UOM"+idAttr).text(),price:$("#Price"+idAttr).text(),cost:$("#Cost"+idAttr).text(),recieved:parseInt($("#Received"+idAttr).text()),issued:parseInt($("#Supplied"+idAttr).text()),quantity:$("#Pack"+idAttr).text(),hsnCode:$("#itemHSNCode"+idAttr).text()};
            			  	  	itemDetails.push(obj);  
        			  	  		}
        			  	  					
        			  	}
        			
        		 }
        		 stockissueobj.reciptDetails=itemDetails;
        		 stockissueobj.flowUnder = $("#flowUnder").val();
        		 	 var formData = JSON.stringify(stockissueobj);
        		 	 console.log(formData)
    				 var contextPath = $("#contextPath").val();
    				 var location = $("#fromlocation").val();
    				 if(operation=="new"){
    					URL = contextPath + "/inventorymanager/createStockIssue.do";
    				 }else if(operation=="update"){
    					 URL = contextPath + "/inventorymanager/updateStockIssue.do";
    				 }
    				 else if(operation=="gridupdate"){
    					 URL = contextPath + "/inventorymanager/updateStockIssue.do";
    				 }
    	    		 $.ajax({
    		       			type: "POST",
    		       			url : URL,
    		       			//contentType: "application/json",
    		       		 data :{
 		                	formData : formData,
 		                },
    		       			beforeSend: function(xhr){                    
    		       	   			$("#loading").css("display","block");
    		       	   			$("#mainDiv").addClass("disabled");
    		       	   		  },
    		       			success : function(result) {
// $("#tab_2").html(result);
    		       				$("#right-side").html(result);
    		       				$("#from").val(startDate);
    		       				$("#to").val(endDate);
    		       				$("#allIssuedStocks").val(searchName);
    		       			    $("#fromlocation").val(location);
    		       				$("#loading").css("display","none");
    		       				$("#mainDiv").removeClass('disabled');
    		       			},
    		       			error : function(jqXHR, textStatus, errorThrown)  {
    		       				 errorCode(jqXHR.status);
    		       				$("#loading").css("display","none");
    		     				$("#mainDiv").removeClass('disabled');
    		       			}
    		       		});
            	 }
            	 catch(e)
            		{
            		errorCode(e);
            		}

        		 }
        	 
        	 
    	     /*
				 * function viewOutletStocks(id,stockType,index){ var
				 * contextPath = $("#contextPath").val(); URL = contextPath +
				 * "/inventorymanager/viewOutletStocks.do"; $.ajax({ type:
				 * "GET", url : URL, data : { stockType : stockType, index :
				 * index }, beforeSend: function(xhr){
				 * $("#loading").css("display","block");
				 * $("#mainDiv").addClass("disabled"); }, success :
				 * function(result) {
				 * openMenu("liInventoryManagement","ulInventoryManagement",1);
				 * $("#right-side").html(result);
				 * $(".tab").removeClass('active'); if(stockType == 'Normal
				 * Stock') $("#tab1").addClass('active'); else if(stockType ==
				 * 'Ordered') $("#tab2").addClass('active'); else if(stockType ==
				 * 'Critical Stock') $("#tab3").addClass('active'); else
				 * if(stockType == 'Blocked') $("#tab4").addClass('active');
				 * else if(stockType == 'Returned')
				 * $("#tab5").addClass('active'); else if(stockType ==
				 * 'Boneyard') $("#tab6").addClass('active'); id = stockType +
				 * "Stock"; activeMenu(id); $("#loading").css("display","none");
				 * $("#mainDiv").removeClass('disabled'); }, error :
				 * function(jqXHR, textStatus, errorThrown) {
				 * errorCode(jqXHR.status); $("#loading").css("display","none");
				 * $("#mainDiv").removeClass('disabled'); } }); }
				 */
    	    /*
			 * function searchStocks(name,searchCategory,index){ if(name == "")
			 * name = $("#searchStocks").val(); var maxRecords = 10;
			 * if($("#maxRecords").length>0) maxRecords =
			 * $("#maxRecords").val(); var startDate = ""; var endDate = "";
			 * if($("#from").length>0) startDate = $("#from").val();
			 * if($("#to").length>0) endDate = $("#to").val(); var stockType =
			 * ""; if($("#stockType").length>0) stockType =
			 * $("#stockType").val(); var location = "";
			 * if($("#outletLocation").length>0) location =
			 * $("#outletLocation").val(); var contextPath =
			 * $("#contextPath").val(); URL = contextPath +
			 * "/inventorymanager/searchStocks.do"; $.ajax({ type: "GET", url :
			 * URL, data : { searchName : name, index : index, location :
			 * location, maxRecords : maxRecords, startDate : startDate, endDate :
			 * endDate, stockType : stockType }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
			 * $('#right-side').html(result);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 */
    	 
    	     function searchStocks(name,searchCategory,index){
    	    	 try{
     	 		if(name == "")
     	 			name = $("#searchStocks").val();
     	 		 debugger
     	 	// purpose:for checking internet conection
     	 		var online = window.navigator.onLine;
     	 	  	if(!online){
     	 	  	alert("Check your internet connection,Please try agian after some time.");
     	 	  	return;
     	 	  	}
     	 		
     	 		 var maxRecords = 10;
     	 		 if($("#maxRecords").length>0)
     	 			 maxRecords = $("#maxRecords").val();
     	 		 var startDate = "";
     	 		 var endDate = "";
     	 		 if($("#from").length>0)
     	 			 startDate = $("#from").val();
     	 		 if($("#to").length>0)
     	 			 endDate = $("#to").val();
     	 		var searchType=$("#searchType").val();
     	 		 var stockType = "";
     	 		 if($("#stockType").length>0)
     	 			 stockType = $("#stockType").val();
     	 		 var location = "";
 	    	 	 if($("#outletLocation").length>0)
 	    	 		location = $("#outletLocation").val();
 	    	 	 var flowUnder = $('#flowUnder').val();
     	 		 var contextPath = $("#contextPath").val();
     	 		 
     	 		/*
				 * if ($("#from").val() != "" && $("#to").val() != "") { var
				 * noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
				 * if (noOfDays < 0) { alert("Start Date can't be less than End
				 * Date"); return; } }
				 */
     	 		 
     	 		 
     	 		// written by manasa
     			 var billedLocationsList = [];
     			 var length = $('#outletLocation').children('option').length;
     			 console.log(length)
     		      	$('#outletLocation option').each(function() { 
     		      		billedLocationsList.push( $(this).attr('value'));
     		      	   
     		      	});
     			
     			 console.log(billedLocationsList)
     			// finalobj.billedLocations = billedLocationsList;
     			
     			// written by manasa
     				 var  locationList="";
     			      	for(i=1;i<billedLocationsList.length;i++)
     			      		{
     			      		locationList =locationList+ billedLocationsList[i]+',';
     			      		}
     			      // locationList = locationList.slice(0,-1);//remove last
						// comma
     			    
     			      	console.log(locationList)
     	 		 
     	 		 URL = contextPath + "/inventorymanager/searchStocks.do";
     	 		 $.ajax({
     	 				type: "GET",
     	 				url : URL,
     	 				data : {
     	 					searchName : name,
     	 					index : index,
     	 					location : location,
     	 					maxRecords : maxRecords,
     	 					startDate : startDate,
     	 					endDate : endDate,
     	 					searchType :searchType,
     	 					stockType : stockType,
     	 					flowUnder : flowUnder,
     	 					locationList : locationList
     	 				},
     	 				beforeSend: function(xhr){                    
     	 		   	   		$("#loading").css("display","block");
     	 		   	   		$("#mainDiv").addClass("disabled");
     	 		   	   	},
     	 				success : function(result) {
     	 					// debugger
     	 					$('#right-side').html(result);
     	 					$("#loading").css("display","none");
     	 					$("#mainDiv").removeClass('disabled');
     	 				},
     	 				error : function(jqXHR, textStatus, errorThrown)  {
     	 					 errorCode(jqXHR.status);
     	 					 $("#loading").css("display","none");
     	 		 			 $("#mainDiv").removeClass('disabled');
     	 				}
     	 			});
    	    	 }
    	    	 catch(e)
    	    		{
    	    		errorCode(e);
    	    		}

     	 	}
    	     
    	   // Written by vijay
   	    	function viewTenderWiseSales(flowUnder,index,flow) {
   	    		// debugger;
   	    		if (flowUnder == undefined && $("#flowUnder").length > 0)
   	    			flowUnder = $("#flowUnder").val();
   	    		
   	    		var maxRecords = "10";
   	    		if ($("#maxRecords").length > 0)
   	    			maxRecords = $("#maxRecords").val();


   	    		var location = "";
   	    		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
   	    			location = $("#location").val();
   	    		var zone = "";
   	    		if ($("#outletZone").length > 0)
   	    			zone = $("#outletZone").val();
   	    		var startDate = "";
   	    		if ($("#startDateTender").length > 0)
   	    			startDate = $("#startDateTender").val();
   	    		var endDate = "";
   	    		if ($("#endDateTender").length > 0 )
   	    			endDate = $("#endDateTender").val();
   	    	/*
			 * var dt = new Date(); var time = dt.getSeconds();
			 * console.log("before"+time);
			 */
   	    		var searchCriteria="";
   	    		if ($("#searchCriteria").length > 0)
   	    			searchCriteria = $("#searchCriteria").val();
   	    		
   	    		

   	    		
   	    		/*
				 * if(noOfDays>15){ var returnValue = getConfirmation();
				 * if(returnValue == false) return; }
				 */
   	    		
   	    		
   	    		// var formData = JSON.stringify(formData);
   	    		var contextPath = $('#contextPath').val();
   	    		var URL = contextPath + "/reports/viewTenderWise.do";
   	    		$.ajax({
   	    			url : URL,
   	    			type : "GET",
   	    			data : {
   	    				maxRecords : maxRecords,
   	    				index : index,
   	    				searchCriteria : searchCriteria,
   	    				location : location,
   	    				zone : zone,
   	    				startDate :startDate,
   	    				endDate : endDate,
   	    				flow : flow
   	    			
   	    			},
   	    			beforeSend : function(xhr) {
   	    				// debugger
   	    				$("#loadingreport").css("display", "block");
   	    				$("#mainDiv").addClass("disabled");
   	    			},

   	    			success : function(result) {
   	    				activeMenu(flowUnder);
   	    				$('#right-side').html(result);
// $("#loadingReports").css("display", "none");
   	    			 $("#loading").css("display","none");
   	    				$("#loadingreport").css("display", "none");
   	    				$("#mainDiv").removeClass('disabled');
   	    			},
   	    			error : function() {
   	    				alert("Internal error, please contact Technolabs support. ");
   	    			 $("#loading").css("display","none");
   	    				$("#loadingreport").css("display", "none");
// $("#loadingReports").css("display", "none");
   	    				$("#mainDiv").removeClass('disabled');
   	    			}
   	    		});
   	    	}
    	     
   	    	
   	     // Written by koti bommineni
   	 	function searchTenderWiseSales(flowUnder,index,popup,flow) {
	    		// debugger;
	    		
	    		
	    	 $('#myModalIos').modal('hide');
	 	 $('#myModalIoss').modal('hide');
	    		if (flowUnder == undefined && $("#flowUnder").length > 0)
	    			flowUnder = $("#flowUnder").val();
	    		
	    		var maxRecords = "10";
	    		if ($("#maxRecords").length > 0)
	    			maxRecords = $("#maxRecords").val();


	    		var location = "";
	    		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
	    			location = $("#location").val();
	    		var zone = "";
	    		if ($("#outletZone").length > 0)
	    			zone = $("#outletZone").val();
	    		var startDate = "";
	    		if ($("#startDateTender").length > 0)
	    			startDate = $("#startDateTender").val();
	    		var endDate = "";
	    		if ($("#endDateTender").length > 0 )
	    			endDate = $("#endDateTender").val();
	    	/*
		 * var dt = new Date(); var time = dt.getSeconds();
		 * console.log("before"+time);
		 */
	    		
	    		if(popup == "" || popup == undefined || popup == null){
		  			popup="";
		  		}
				
				
				
					
					
	    		var searchCriteria="";
	    		if ($("#searchCriteria").length > 0)
	    			searchCriteria = $("#searchCriteria").val();
	    		
	    		
	    		if ($("#startDateTender").val() != "" && $("#endDateTender").val() != "") {
	 	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	 	   		if (noOfDays < 0) {
	 	   			alert("Start Date can't be less than End Date");
	 	   			return;
	 	   		}
	 	   	}
	    		
	    		if($("#endDateTender").length > 0 && $("#endDateTender").val() !=""){
//if(criteria == 'Department' || criteria == 'Brand'){
	    		  	   var  allownoOfDays = daydiff(parseDate($('#startDateTender').val()), parseDate(endDate));
	    				if(allownoOfDays > 31){
	    					alert("Date Range should not exceed a Month");
	    					return false;
	    				}
	    				if(popup=="NOPOP"){
	   		  			 if(allownoOfDays>15 ){
	   		  				 
	   		  				 $('#myModalIoss').modal('show');

	   		  				 
	   		  					/*var returnValue = getConfirmation();
	   		  					if(returnValue == false)*/
	   		  						return;
	   		  					}
	   		  		     } 
//}
	    		}
	    		
	    		/*
			 * if(noOfDays>15){ var returnValue = getConfirmation();
			 * if(returnValue == false) return; }
			 */
	    		
	    		
	    		// var formData = JSON.stringify(formData);
	    		var contextPath = $('#contextPath').val();
	    		var URL = contextPath + "/reports/viewTenderWise.do";
	    		$.ajax({
	    			url : URL,
	    			type : "GET",
	    			data : {
	    				maxRecords : maxRecords,
	    				index : index,
	    				searchCriteria : searchCriteria,
	    				location : location,
	    				zone : zone,
	    				startDate :startDate,
	    				endDate : endDate,
	    				flow : flow
	    			
	    			},
	    			beforeSend : function(xhr) {
	    				// debugger
	    				$("#loadingreport").css("display","block");
	 				$("#mainDiv").addClass('disabled');
	    			},

	    			success : function(result) {
	    				activeMenu(flowUnder);
	    				$('#right-side').html(result);
//$("#loadingReports").css("display", "none");
	    				$("#loading").css("display", "none");
	    				$("#mainDiv").removeClass('disabled');
	    				$("#loadingreport").css("display","none");
	 				$("#tender").removeClass('disabled');
	    			},
	    			error : function() {
	    				alert("Internal error, please contact Technolabs support. ");
	    				$("#loadingreport").css("display","none");
	 				$("#tender").removeClass('disabled');
	    			}
	    		});
	    	}
	     
	    	
	    	
	    	
	    	
	    	
	    	
	    	
	     
   	    	
   	    	
    	     
   	    	function viewOutletStocks(id,stockType,index,flowUnder,menu){
   	    		debugger;
   	    		try{
   	    			/*
					 * if(menu == undefined){ if((($("#searchStocks").length > 0 &&
					 * $("#searchStocks").val().trim() != "") ||
					 * ($("#from").length > 0 && $("#from").val().trim() != "") ||
					 * ($("#to").length > 0 && $("#to").val().trim() != "")) ||
					 * index != '0'){ searchStocks($("#searchStocks").val(),
					 * 'searchStocks',index); return; } }
					 */

   	    			// purpose:for checking internet conection
   	    			var online = window.navigator.onLine;
   	    			if(!online){
   	    				alert("Check your internet connection,Please try agian after some time.");
   	    				return;
   	    			}
   	    			// debugger
   	    			var searchName=""
   	    				if($("#searchStocks").length>0)
   	    					searchName = $("#searchStocks").val();
   	    			if(flowUnder == undefined && $("#flowUnder").length > 0)
   	    				flowUnder = $("#flowUnder").val();
   	    			var maxRecords = 10;
   	    			if($("#maxRecords").length>0)
   	    				maxRecords = $("#maxRecords").val();
   	    			var stockdownload = false;
   	    			if($("#stockdownload").val())
   	    				stockdownload = $("#stockdownload").val();
   	    			var location = "";
   	    			if($("#outletLocation").length > 0)
   	    				location = $("#outletLocation").val();
   	    			var zone = "";
   	    			if($("#outletZone").length > 0)
   	    				zone = $("#outletZone").val();
   	    			var startdate = "";
   	    			if($("#from").length > 0)
   	    				startdate = $("#from").val();
   	    			var enddate = "";
   	    			if($("#to").length > 0)
   	    				enddate = $("#to").val();
   	    			var category = "";
   	    			if($("#outletCategory").length > 0)
   	    				category = $("#outletCategory").val();
   	    			var subcategory = "";
   	    			if($("#outletSubcategory").length > 0)
   	    				subcategory = $("#outletSubcategory").val();
   	    			var brand = "";
   	    			if($("#outletBrandId").length > 0)
   	    				brand = $("#outletBrandId").val();
   	    			var department = "";
   	    			if($("#outletDepartmentId").length > 0)
   	    				department = $("#outletDepartmentId").val();
   	    			var startprice = "";
   	    			if($("#outletStartPrice").length > 0)
   	    				startprice = $("#outletStartPrice").val();
   	    			var endprice = "";
   	    			if($("#outletEndPrice").length > 0)
   	    				endprice = $("#outletEndPrice").val();
   	    			
   	    			if(startprice != "" && endprice != ""){
   	   	    		   if (startprice > endprice){
   	   	    		     $("#priceError").html("End price can't be less than Start price");
   	   	    		           return;
   	   	    		  }else{
     	    	  	   	 $("#priceError").html(" ");
     	    	  	  }
   	    			}
   	    			
   	    			var suppliername = "";
   	    			if($("#outletSupplierId").length > 0)
   	    				suppliername = $("#outletSupplierId").val();
   	    			if(stockType == "" && $("#stockType").length>0)
   	    				stockType = $("#stockType").val();
   	    		if(startdate != "" && enddate != ""){
   	    		 var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
   	    		 if(noOfDays < 0){
   	    			 $("#endDateError").html("End Date can't be less than Start Date");
   	    			 return;
   	    		 }else{
   	    	  	   	 $("#endDateError").html(" ");
   	    	  	 }
   	    		}
   	    		
   	    		
   	    		
   	    			
   	    			var contextPath = $("#contextPath").val();
   	    			URL = contextPath + "/inventorymanager/viewOutletStocks.do";
   	    			$.ajax({
   	    				type: "GET",
   	    				url : URL,
   	    				data : {
   	    					location : location,
   	    					index : index,
   	    					maxRecords : maxRecords,
   	    					stockType : stockType,
   	    					flowUnder : flowUnder,
   	    					zone : zone,
   	    					category : category,
   	    					subcategory : subcategory,
   	    					brand : brand,
   	    					department : department,
   	    					startprice : startprice,
   	    					endprice : endprice,
   	    					startdate : startdate,
   	    					enddate : enddate,
   	    					stockdownload : stockdownload,
   	    					suppliername : suppliername,
   	    					searchName : searchName
   	    				},
   	    				beforeSend: function(xhr){                    
   	    					$("#loading").css("display","block");
   	    					$("#mainDiv").addClass("disabled");
   	    				},
   	    				success : function(result) {
   	    					$("#right-side").html(result);
   	    					// if(stockdownload){

   	    					var anchor = document.createElement('a');
   	    					anchor.href = $("#stockdownloadurl").val();
   	    					anchor.target = '_blank';
   	    					anchor.download = '';
   	    					if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
   	    						anchor.click();


   	    					if(flowUnder == "outlet"){
   	    						id = stockType + "Stock";
   	    						activeMenu(id);
   	    						openMenu("liOutletStocks","ulOutletStocks",0);
   	    						openMenu("liInventoryManagement","ulInventoryManagement",1);
   	    						openMenu("storedetails","ulstoredetails",1);
   	    					}
   	    					if(flowUnder == "warehouse"){
   	    						id = "warehouse" + stockType + "Stock";
   	    						activeMenu(id);
   	    						openMenu("liwarehouseStocks","ulwarehouseStocks",0);
   	    						openMenu("liStockManagement","ulStockManagement",1);
   	    						openMenu("warehouseDetails","ulwarehouseDetails",1);
   	    					}
   	    					$("#loading").css("display","none");
   	    					$("#mainDiv").removeClass('disabled');
   	    				},
   	    				error : function(jqXHR, textStatus, errorThrown)  {
   	    					errorCode(jqXHR.status);
   	    					$("#loading").css("display","none");
   	    					$("#mainDiv").removeClass('disabled');
   	    				}
   	    			});
   	    		}
   	    		catch(e)
   	    		{
   	    			errorCode(e);
   	    		}

   	    	}
    	     

/*function viewOutletStocksHistory(id,stockType,index,flowUnder,menu){
	    		debugger;
	    		try{
	    			// purpose:for checking internet conection
	    			var online = window.navigator.onLine;
	    			if(!online){
	    				alert("Check your internet connection,Please try agian after some time.");
	    				return;
	    			}

	    			// debugger

	    			var searchName=""
	    				if($("#searchStocks").length>0)
	    					searchName = $("#searchStocks").val();
	    			if(flowUnder == undefined && $("#flowUnder").length > 0)
	    				flowUnder = $("#flowUnder").val();
	    			var maxRecords = 10;
	    			if($("#maxRecords").length>0)
	    				maxRecords = $("#maxRecords").val();
	    			var stockdownload = false;
	    			if($("#stockdownload").val())
	    				stockdownload = $("#stockdownload").val();
	    			var location = "";
	    			if($("#outletLocation").length > 0)
	    				location = $("#outletLocation").val();
	    			var zone = "";
	    			if($("#outletZone").length > 0)
	    				zone = $("#outletZone").val();
	    			var startdate = "";
	    			if($("#from").length > 0)
	    				startdate = $("#from").val();
	    			var enddate = "";
	    			if($("#to").length > 0)
	    				enddate = $("#to").val();
	    			var category = "";
	    			if($("#outletCategory").length > 0)
	    				category = $("#outletCategory").val();
	    			var subcategory = "";
	    			if($("#outletSubcategory").length > 0)
	    				subcategory = $("#outletSubcategory").val();
	    			var brand = "";
	    			if($("#outletBrandId").length > 0)
	    				brand = $("#outletBrandId").val();
	    			var department = "";
	    			if($("#outletDepartmentId").length > 0)
	    				department = $("#outletDepartmentId").val();
	    		
	    			var suppliername = "";
	    			if($("#outletSupplierId").length > 0)
	    				suppliername = $("#outletSupplierId").val();
	    			if(stockType == "" && $("#stockType").length>0)
	    				stockType = $("#stockType").val();
	    			var contextPath = $("#contextPath").val();
	    			URL = contextPath + "/inventorymanager/viewOutletStocksHistory.do";
	    			$.ajax({
	    				type: "GET",
	    				url : URL,
	    				data : {
	    					location : location,
	    					index : index,
	    					maxRecords : maxRecords,
	    					stockType : stockType,
	    					flowUnder : flowUnder,
	    					zone : zone,
	    					category : category,
	    					subcategory : subcategory,
	    					brand : brand,
	    					department : department,
	    					startdate : startdate,
	    					enddate : enddate,
	    					stockdownload : stockdownload,
	    					suppliername : suppliername,
	    					searchName : searchName
	    				},
	    				beforeSend: function(xhr){                    
	    					$("#loading").css("display","block");
	    					$("#mainDiv").addClass("disabled");
	    				},
	    				success : function(result) {
	    					$("#right-side").html(result);
	    					// if(stockdownload){

	    					var anchor = document.createElement('a');
	    					anchor.href = $("#stockdownloadurl").val();
	    					anchor.target = '_blank';
	    					anchor.download = '';
	    					if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
	    						anchor.click();


	    					if(flowUnder == "outlet"){
	    						id = stockType + "Stock";
	    						activeMenu(id);
	    						openMenu("liOutletStocks","ulOutletStocks",0);
	    						openMenu("liInventoryManagement","ulInventoryManagement",1);
	    						openMenu("storedetails","ulstoredetails",1);
	    					}
	    					if(flowUnder == "warehouse"){
	    						id = "warehouse" + stockType + "Stock";
	    						activeMenu(id);
	    						openMenu("liwarehouseStocks","ulwarehouseStocks",0);
	    						openMenu("liStockManagement","ulStockManagement",1);
	    						openMenu("warehouseDetails","ulwarehouseDetails",1);
	    					}
	    					$("#loading").css("display","none");
	    					$("#mainDiv").removeClass('disabled');
	    				},
	    				error : function(jqXHR, textStatus, errorThrown)  {
	    					errorCode(jqXHR.status);
	    					$("#loading").css("display","none");
	    					$("#mainDiv").removeClass('disabled');
	    				}
	    			});
	    		}
	    		catch(e)
	    		{
	    			errorCode(e);
	    		}

	    	}*/
	  


function viewOutletStocksHistory(id,stockType,index,flowUnder,menu){

	    		try{
		        $("#Error").html("");
	    			// purpose:for checking internet conection
	    			var online = window.navigator.onLine;
	    			if(!online){
	    				alert("Check your internet connection,Please try agian after some time.");
	    				return;
	    			}

	    			// debugger

	    			var searchName=""
	    				if($("#searchStocks").length>0)
	    					searchName = $("#searchStocks").val();
	    			if(flowUnder == undefined && $("#flowUnder").length > 0)
	    				flowUnder = $("#flowUnder").val();
	    			var maxRecords = 10;
	    			if($("#maxRecords").length>0)
	    				maxRecords = $("#maxRecords").val();
	    			var stockdownload = false;
	    			if($("#stockdownload").val())
	    				stockdownload = $("#stockdownload").val();
	    			var location = "";
	    			if($("#outletLocation").length > 0)
	    				location = $("#outletLocation").val();
	    			var zone = "";
	    			if($("#outletZone").length > 0)
	    				zone = $("#outletZone").val();
	    			
	    			
	    			
	    			var startdate = "";
	    			if($("#from").length > 0)
	    				startdate = $("#from").val();
	    			var enddate = "";
	    			if($("#to").length > 0)
	    				enddate = $("#to").val();
	    			var dateTime = getCurrentDate();
	   				var date = dateTime.split(' ');
	   				date = date[0].split('/');
	   				var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	 	   			if(enddate == "" || enddate == undefined || enddate == null){
	 	   			    enddate = formatedDate;	
	 	   			$("#to").val(formatedDate);
	 	   			}
	 	   		if(startdate == "" || startdate == undefined || startdate == null){
			    	  startdate = formatedDate;	
			    	  $("#from").val(formatedDate);
			  		}
	 	
	
	
	
	 		 var noOfDaysstart = daydiff(parseDate(startdate), parseDate(enddate));
	        if(noOfDaysstart < 0){
    		 	 $("#Error").html("End Date can't be less than Start Date");
    		 	return;
    		 	   		}
	    	 if(noOfDaysstart > 1){
	   		  $("#Error").html("End date can't select more than one day."); 
	   		 return false;
	    	 }
	    	 
	    			var category = "";
	    			if($("#outletCategory").length > 0)
	    				category = $("#outletCategory").val();
	    			var subcategory = "";
	    			if($("#outletSubcategory").length > 0)
	    				subcategory = $("#outletSubcategory").val();
	    			var brand = "";
	    			if($("#outletBrandId").length > 0)
	    				brand = $("#outletBrandId").val();
	    			var department = "";
	    			if($("#outletDepartmentId").length > 0)
	    				department = $("#outletDepartmentId").val();
	    			var suppliername = "";
	    			if($("#outletSupplierId").length > 0)
	    				suppliername = $("#outletSupplierId").val();
	    			if(stockType == "" && $("#stockType").length>0)
	    				stockType = $("#stockType").val();
	    			var contextPath = $("#contextPath").val();
	    			URL = contextPath + "/inventorymanager/viewOutletStocksHistory.do";
	    			$.ajax({
	    				type: "GET",
	    				url : URL,
	    				data : {
	    					location : location,
	    					index : index,
	    					maxRecords : maxRecords,
	    					stockType : stockType,
	    					flowUnder : flowUnder,
	    					zone : zone,
	    					category : category,
	    					subcategory : subcategory,
	    					brand : brand,
	    					department : department,
	    					startdate : startdate,
	    					enddate : enddate,
	    					stockdownload : stockdownload,
	    					suppliername : suppliername,
	    					searchName : searchName
	    				},
	    				beforeSend: function(xhr){                    
	    					$("#loading").css("display","block");
	    					$("#mainDiv").addClass("disabled");
	    				},
	    				success : function(result) {
	    					$("#right-side").html(result);
	    					// if(stockdownload){

	    					var anchor = document.createElement('a');
	    					anchor.href = $("#stockdownloadurl").val();
	    					anchor.target = '_blank';
	    					anchor.download = '';
	    					if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
	    						anchor.click();


	    					if(flowUnder == "outlet"){
	    						id = stockType + "Stock";
	    						activeMenu(id);
	    						openMenu("liOutletStocks","ulOutletStocks",0);
	    						openMenu("liInventoryManagement","ulInventoryManagement",1);
	    						openMenu("storedetails","ulstoredetails",1);
	    					}
	    					if(flowUnder == "warehouse"){
	    						id = "warehouse" + stockType + "Stock";
	    						activeMenu(id);
	    						openMenu("liwarehouseStocks","ulwarehouseStocks",0);
	    						openMenu("liStockManagement","ulStockManagement",1);
	    						openMenu("warehouseDetails","ulwarehouseDetails",1);
	    					}
	    					$("#loading").css("display","none");
	    					$("#mainDiv").removeClass('disabled');
	    				},
	    				error : function(jqXHR, textStatus, errorThrown)  {
	    					errorCode(jqXHR.status);
	    					$("#loading").css("display","none");
	    					$("#mainDiv").removeClass('disabled');
	    				}
	    			});
	    		}
	    		catch(e)
	    		{
	    			errorCode(e);
	    		}

	    	}





       function downloadstockreportHistory(ele){
    	    	 var stocktype= $("#stockType").val();
    	    	 // $("#maxRecords").val("-1");
    	    	 $("#stockdownload").val(true);
    	    	 viewOutletStocksHistory('DayWiseHistoryStock','DayWiseHistory','0','outlet','menu')
    	     }





    	     
    	     function viewprofitabilityReports(id,index,searchname){
    	    	 try{
    	    		 debugger;
    			 var contextPath = $('#contextPath').val();
    	  			var maxRecords = 10;
    		    	if($("#maxRecords").length>0)
    		    		  maxRecords = $("#maxRecords").val();
    		    	var stockdownload = false;
    		    	if($("#stockdownload").val())
    		    	stockdownload = $("#stockdownload").val();
    		    	var location = "";
    		    	if($("#outletLocation").length > 0)
    		    		location = $("#outletLocation").val();
    		    	var zone = "";
    		    	if($("#outletZone").length > 0)
    		    		zone = $("#outletZone").val();
    		    	var startdate = "";
    		    	if($("#fromProfitability").length > 0)
    		    		startdate = $("#fromProfitability").val();
    		    	var enddate = "";
    		    	if($("#toProfitability").length > 0)
    		    		enddate = $("#toProfitability").val();
    		    	
    		    	 if ($("#fromProfitability").val() != "" && $("#toProfitability").val() != "") {
    		 	   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
    		 	   		if (noOfDays < 0) {
    		 	   			alert("Start Date can't be less than End Date");
    		 	   			return;
    		 	   		}
    		 	   	}
    		    	
    		    	
    		    	var category = "";
    		    	if($("#outletCategory").length > 0)
    		    		category = $("#outletCategory").val();
    		    	var subcategory = "";
    		    	if($("#outletSubcategory").length > 0)
    		    		subcategory = $("#outletSubcategory").val();
    		    	var brand = "";
    		    	if($("#outletBrandId").length > 0)
    		    		brand = $("#outletBrandId").val();
    		    	var section = "";
    		    	if($("#section").length > 0)
    		    		section = $("#section").val();
    		    	var supplierId = "";
    		    	if($("#outletSupplierId").length > 0)
    		    		supplierId = $("#outletSupplierId").val();
    		    	
    		    	// purpose:for checking internet conection
    		    	var online = window.navigator.onLine;
    		      	if(!online){
    		      	alert("Check your internet connection,Please try agian after some time.");
    		      	return;
    		      	}
    		    	
    		    	
    		    	var flag = false;
    		    	
    		    	if(searchname=='true')
    		    		{
    		    		searchname ="";
    		    		flag = true;
    		    		}
    	  			 var URL = contextPath + "/reports/viewOutletProfitabilityReport.do";
    	  			 $.ajax({
    	  				type : "GET",
    	  				url : URL,
    	  				data : {
    	  					index :index,
    	  					searchName : searchname,
    	  					maxRecords : maxRecords,
    	  					location : location,
    	  					productCategory : category,
    	  					subcategory : subcategory,
    	  					brand : brand,
    	  					zone : zone,
    	  					startdate :startdate,
    	  					enddate : enddate,
    	  					supplierId :supplierId,
    	  					flag : flag,
    	  					section : section
    	  					
    	  				},
    	  				beforeSend: function(xhr){   
    	  					
    	  			   		$("#loading").css("display","block");
    	  			   	// alert("it may take ")
    	  			   		$("#mainDiv").addClass("disabled");
    	  			   	},
     	  		success : function(result){
     	  			$('#right-side').html(result);
     	  			if(flag){
     	  				var anchor = document.createElement('a');
   					 
  	 				  anchor.href = $("#stockdownloadurl").val();
  	 				  anchor.target = '_blank';
  	 				  anchor.download = '';
  	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
  	 				  anchor.click();
     	  			}
     	  			if(id != undefined && id != ""){
     	  		
     	  				// $(".active-menu").removeClass("active-menu");
     	  				// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
     	  				// openMenu("liOutletReports","ulOutletReports",1);
     	  				openMenu("liOutletReports","ulOutletReports",0);
    	 	  			openMenu("reports", "ulReports",1);
     	  				// openMenu("reports", "ulReports",1);
     	  				activeMenu(id);
     	  			}
     	  			
     	  			
     	  			
     	  			$("#loading").css("display","none");
     	  			
     	  			$("#mainDiv").removeClass('disabled');
     	  		},
     	  		error : function(jqXHR, textStatus, errorThrown) {
     	  			errorCode(jqXHR.status);
     	  			$("#loading").css("display","none");
     				   $("#mainDiv").removeClass('disabled');
     	  		}
     	  	 });
    	    	 }
    	    	 catch(e)
    	    		{
    	    		errorCode(e);
    	    		}

     	   	}
         	 
    	     
 function viewdsrReports(id,index,searchname,flag){
    	    	 try{
    	    	 var type = searchname;
    	    	 
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	  	
    	    	 if(searchname="")
    	    		 type= "DAILY";
    	    	 searchname = "";
    	    	 	if($("#profitsearch").length>0)
    	    	 		searchname = $("#profitsearch").val().trim();
    	    	  debugger
    			 var contextPath = $('#contextPath').val();
    	  			var maxRecords = 10;
    		    	if($("#maxRecords").length>0)
    		    		  maxRecords = $("#maxRecords").val();
    		    	var stockdownload = false;
    		    	if($("#stockdownload").val())
    		    	stockdownload = $("#stockdownload").val();
    		    	var location = "";
    		    	if($("#outletLocation").length > 0)
    		    		location = $("#outletLocation").val();
    		    	var zone = "";
    		    	if($("#outletZone").length > 0)
    		    		zone = $("#outletZone").val();
    		    	var startdate = "";
    		    	if($("#from").length > 0)
    		    		startdate = $("#from").val();
    		    	
    		    	var enddate = "";
    		    	if($("#to").length > 0)
    		    		enddate = $("#to").val();
    		    	
    		    	 var dateTime = getCurrentDate();
          	    	  var date = dateTime.split(' ');
          	    	  	  date = date[0].split('/');
          	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
          	    	  
          	    	  if(startdate == "" || startdate == null || startdate == undefined){
          	    	  startdate = formatedDate;
          	    	  }
          	    	 if(enddate == "" || enddate == null || enddate == undefined){
             	    	  enddate = formatedDate;
          	    	  }
          	    	  
    		    	var category = "";
    		    	if($("#outletCategory").length > 0)
    		    		category = $("#outletCategory").val();
    		    	var subcategory = "";
    		    	if($("#outletSubcategory").length > 0)
    		    		subcategory = $("#outletSubcategory").val();
    		    	var brand = "";
    		    	if($("#outletBrandId").length > 0)
    		    		brand = $("#outletBrandId").val();
    		    	var section = "";
    		    	if($("#section").length > 0)
    		    		section = $("#section").val();
    		    	var supplierId = "";
    		    	if($("#outletSupplierId").length > 0)
    		    		supplierId = $("#outletSupplierId").val();
    		    	if(flag == 'save')
     	    			var flag = true;
     	    		else
     	    			var flag = false;
    		    	
    	  			 var URL = contextPath + "/reports/viewDsrReport.do";
    	  			 $.ajax({
    	  				type : "GET",
    	  				url : URL,
    	  				data : {
    	  					index :index,
    	  					searchName : searchname,
    	  					maxRecords : maxRecords,
    	  					location : location,
    	  					productCategory : category,
    	  					subcategory : subcategory,
    	  					brand : brand,
    	  					zone : zone,
    	  					startdate :startdate,
    	  					enddate : enddate,
    	  					supplierId :supplierId,
    	  					flag : flag,
    	  					section : section,
    	  					type : type,
    	  					
    	  				},
    	  				beforeSend: function(xhr){                    
    	  			   		$("#loadingreport").css("display","block");
    	  			   		$("#mainDiv").addClass("disabled");
    	  			   	},
     	  		success : function(result){
     	  			$('#right-side').html(result);
     	  			if(id != '')
     	  			activeMenu(id);
     	  			if(flag){
     	  				var anchor = document.createElement('a');
   					 
  	 				  anchor.href = $("#stockdownloadurl").val();
  	 				  anchor.target = '_blank';
  	 				  anchor.download = '';
  	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
  	 				  anchor.click();
     	  				// $(".active-menu").removeClass("active-menu");
     	  				// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
     	  				// openMenu("liOutletReports","ulOutletReports",1);
     	  				openMenu("liOutletReports","ulOutletReports",0);
    	 	  			openMenu("reports", "ulReports",1);
     	  				// openMenu("reports", "ulReports",1);
     	  			}
     	  		
     	  			$("#loadingreport").css("display","none");
     	  			$("#mainDiv").removeClass('disabled');
     	  		},
     	  		error : function(jqXHR, textStatus, errorThrown) {
     	  			errorCode(jqXHR.status);
     	  			$("#loadingreport").css("display","none");
     				   $("#mainDiv").removeClass('disabled');
     	  		}
     	  	 });
    	    	 }
    	  			catch(e)
    	  			{
    	  			errorCode(e);
    	  			}

     	   	} 

    	   /*  
    	     function viewdsrReports(id,index,searchname,flag){
    	    	 try{
    	    	 var type = searchname;
    	    	 
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	  	
    	    	 if(searchname="")
    	    		 type= "DAILY";
    	    	 searchname = "";
    	    	 	if($("#profitsearch").length>0)
    	    	 		searchname = $("#profitsearch").val().trim();
    	    	 // debugger
    			 var contextPath = $('#contextPath').val();
    	  			var maxRecords = 10;
    		    	if($("#maxRecords").length>0)
    		    		  maxRecords = $("#maxRecords").val();
    		    	var stockdownload = false;
    		    	if($("#stockdownload").val())
    		    	stockdownload = $("#stockdownload").val();
    		    	var location = "";
    		    	if($("#outletLocation").length > 0)
    		    		location = $("#outletLocation").val();
    		    	var zone = "";
    		    	if($("#outletZone").length > 0)
    		    		zone = $("#outletZone").val();
    		    	var startdate = "";
    		    	if($("#from").length > 0)
    		    		startdate = $("#from").val();
    		    	var enddate = "";
    		    	if($("#to").length > 0)
    		    		enddate = $("#to").val();
    		    	var category = "";
    		    	if($("#outletCategory").length > 0)
    		    		category = $("#outletCategory").val();
    		    	var subcategory = "";
    		    	if($("#outletSubcategory").length > 0)
    		    		subcategory = $("#outletSubcategory").val();
    		    	var brand = "";
    		    	if($("#outletBrandId").length > 0)
    		    		brand = $("#outletBrandId").val();
    		    	var section = "";
    		    	if($("#section").length > 0)
    		    		section = $("#section").val();
    		    	var supplierId = "";
    		    	if($("#outletSupplierId").length > 0)
    		    		supplierId = $("#outletSupplierId").val();
    		    	if(flag == 'save')
     	    			var flag = true;
     	    		else
     	    			var flag = false;
    		    	
    	  			 var URL = contextPath + "/reports/viewDsrReport.do";
    	  			 $.ajax({
    	  				type : "GET",
    	  				url : URL,
    	  				data : {
    	  					index :index,
    	  					searchName : searchname,
    	  					maxRecords : maxRecords,
    	  					location : location,
    	  					productCategory : category,
    	  					subcategory : subcategory,
    	  					brand : brand,
    	  					zone : zone,
    	  					startdate :startdate,
    	  					enddate : enddate,
    	  					supplierId :supplierId,
    	  					flag : flag,
    	  					section : section,
    	  					type : type,
    	  					
    	  				},
    	  				beforeSend: function(xhr){                    
    	  			   		$("#loading").css("display","block");
    	  			   		$("#mainDiv").addClass("disabled");
    	  			   	},
     	  		success : function(result){
     	  			$('#right-side').html(result);
     	  			if(flag){
     	  				var anchor = document.createElement('a');
   					 
  	 				  anchor.href = $("#stockdownloadurl").val();
  	 				  anchor.target = '_blank';
  	 				  anchor.download = '';
  	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
  	 				  anchor.click();
     	  				// $(".active-menu").removeClass("active-menu");
     	  				// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
     	  				// openMenu("liOutletReports","ulOutletReports",1);
     	  				openMenu("liOutletReports","ulOutletReports",0);
    	 	  			openMenu("reports", "ulReports",1);
     	  				// openMenu("reports", "ulReports",1);
     	  				activeMenu(id);
     	  			}
     	  		
     	  			$("#loading").css("display","none");
     	  			$("#mainDiv").removeClass('disabled');
     	  		},
     	  		error : function(jqXHR, textStatus, errorThrown) {
     	  			errorCode(jqXHR.status);
     	  			$("#loading").css("display","none");
     				   $("#mainDiv").removeClass('disabled');
     	  		}
     	  	 });
    	    	 }
    	  			catch(e)
    	  			{
    	  			errorCode(e);
    	  			}

     	   	}  */
    	     
    	     

             function  viewOutletDumpReport(flowUnder,index,save){
            	 try{
 	    		if (flowUnder == undefined && $("#flowUnder").length > 0)
 	    			flowUnder = $("#flowUnder").val();
 	    		
 	    		// purpose:for checking internet conection
 	    		var online = window.navigator.onLine;
 	    	  	if(!online){
 	    	  	alert("Check your internet connection,Please try agian after some time.");
 	    	  	return;
 	    	  	}
 	    		
 	    		if(save == 'save')
 	    			var saveFlag = true;
 	    		else
 	    			var saveFlag = false;
 	    		
 	    		var maxRecords = 10;
 	    		if ($("#maxRecords").length > 0)
 	    			maxRecords = $("#maxRecords").val();

 	    		var bussinessArea = "";
 	    		if ($("#").length > 0)
 	    			bussinessArea = $("#").val();

 	    		var section = "";
 	    		if ($("#section").length > 0)
 	    			section = $("#section").val();

 	    		var subDepartment = "";
 	    		if ($("#outletSubDepartmentId").length > 0)
 	    			subDepartment = $("#outletSubDepartmentId").val();

 	    		var location = "";
 	    		if($("#outletLocation").length>0 && $("#outletLocation").val != "outletLocation" && $("#outletLocation").val != "all")
 	    			location = $("#outletLocation").val();
 	    		var zone = "";
 	    		if ($("#outletZone").length > 0)
 	    			zone = $("#outletZone").val();
 	    		var startDate = "";
 	    		if ($("#startDateDump").length > 0)
 	    			startDate = $("#startDateDump").val();
 	    		var endDate = "";
 	    		if ($("#endDateDump").length > 0)
 	    			endDate = $("#endDateDump").val();
 	    		
 	    		 if ($("#startDateDump").val() != "" && $("#endDateDump").val() != "") {
 	    	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
 	    	   		if (noOfDays < 0) {
 	    	   			alert("Start Date can't be less than End Date");
 	    	   			return;
 	    	   		}
 	    	   	}
 	    		
 	    		
 	    		var category = "";
 	    		if ($("#outletCategory").length > 0)
 	    			category = $("#outletCategory").val();
 	    		var subCategory = "";
 	    		if ($("#outletSubcategory").length > 0)
 	    			subCategory = $("#outletSubcategory").val();

 	    		var department = "";
 	    		if ($("#outletDepartmentId").length > 0)
 	    			department = $("#outletDepartmentId").val();
 	    		var brand = "";
 	    		if($("#outletBrandId").length > 0)
 	    			brand = $("#outletBrandId").val();
 	    		
 	    		var supplier = "";
 	    		if($("#outletSupplierId").length > 0)
 	    			supplier = $("#outletSupplierId").val();
 	    		var searchName="";
 	    		if ($("#searchName").length > 0)
 	    			searchName = $("#searchName").val().trim();

 	    		
 	    		 var billedLocationsList = [];
 	      	 	 var length = $('#outletLocation').children('option').length;
 	      	       	$('#outletLocation option').each(function() { 
 	      	       		billedLocationsList.push( $(this).attr('value'));
 	      	       	});
 	      	 	 var  locationList="";
 	      	    	for(i=1;i<billedLocationsList.length;i++)
 	      	    		{
 	      	    		locationList =locationList+ billedLocationsList[i]+',';
 	      	    		}
 	      	    	
 	    		
 	    		var contextPath = $('#contextPath').val();
 	    		var URL = contextPath + "/reports/viewOutletDumpReport.do";
 	    		$.ajax({
 	    			url : URL,
 	    			data : {
 	    				flowUnder : flowUnder,
 	    				maxRecords : maxRecords,
 	    				index : index,
 	    				saveFlag : saveFlag,
 	    				subDepartment : subDepartment,
 	    				location : location,
 	    				zone : zone,
 	    				startDate : startDate,
 	    				endDate : endDate,
 	    				category : category,
 	    				subCategory : subCategory,
 	    				department : department,
 	    				searchName : searchName,
 	    				section :section,
 	    				brand :brand,
 	    				locationList : locationList
          			},
          			beforeSend: function(xhr){                    
          		   			$("#loading").css("display","block");
          		   			$("#mainDiv").addClass("disabled");
          		   		  },
          			success : function(result){
          				// debugger
          				$('#right-side').html(result);
          				if(saveFlag){
         	  				var anchor = document.createElement('a');
       					 
      	 				  anchor.href = $("#stockdownloadurl").val();
      	 				  anchor.target = '_blank';
      	 				  anchor.download = '';
      	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
      	 				  anchor.click();
         	  		
         	  			}
          				if(flowUnder != '')
             					activeMenu(flowUnder);
      					openMenu("liOutletReports","ulOutletReports",0);
      	 	  			openMenu("reports", "ulReports",1);
      	 	  			openMenu("outletWasteManagementReport","ulWasteManagementReports",1);
      	 	  			
      	 	  		
      					$("#loading").css("display","none");
      					$("#mainDiv").removeClass('disabled');
          			},
          			
          			error : function(jqXHR, textStatus, errorThrown) {
          				// debugger
          				errorCode(jqXHR.status);
          				$("#loading").css("display","none");
          				$("#mainDiv").removeClass('disabled');
          			}
          		 });
            	 }
            	 catch(e)
            		{
            		errorCode(e);
            		}

             }

    	     
             
             function editLoyaltyGiftCouponForPagination(loyaltyCouponNumber,index,searchCriteria){
            	 debugger;
            	 debugger;
    		  	 var contextPath = $("#contextPath").val();
    		  	var maxRecords = 10;
    		  	if ($("#maxRecords").length > 0)
    		  		maxRecords = $("#maxRecords").val();
    		  	 // debugger
    		  	
    		  	
    		  	 var URL = contextPath + "/crm/editLoyaltyCouponForPagination.do";
    		  	 $.ajax({
    		  		type : "GET",
    		  		url : URL,
    		  		data : {
    		  			loyaltyCouponNumber : loyaltyCouponNumber,
    		  			maxRecords : maxRecords,
    		  			index:index,
    		  			searchCriteria : searchCriteria
    		  		},
    		  		beforeSend: function(xhr){                     
    		 	   			$("#loading").css("display","block");
    		 	   			$("#mainDiv").addClass("disabled");
    		 	   		  },
    		  		success : function(result){
// activeMenu('Loyaltycards');
    		  			$('#generatedCoupons').html(result);
    		  			$("#loading").css("display","none");
    		  			$("#mainDiv").removeClass('disabled');
    		  		},
    		  		error : function(){
    		  			alert("Internal error, please contact Technolabs support. ");
    		  			$("#loading").css("display","none");
    						$("#mainDiv").removeClass('disabled');
    		  		}
    		  	 });
    		  	 
    		   }

    		
    	     
    	     function downloadstockreport(ele){
    	    	 var stocktype= $("#stockType").val();
    	    	 // $("#maxRecords").val("-1");
    	    	 $("#stockdownload").val(true);
    	    	 viewOutletStocks('outletStocks','','0') ;
    	     }
    	     
    	     function downloadStorgaestockreport(ele){
    	       debugger;
    	    	 var stocktype= $("#stockType").val();
    	    	 // $("#maxRecords").val("-1");
    	    	 $("#stockdownload").val(true);
    	    	 viewWarehouseStorageStocks('warehouseStorageNormalStock','','0') ;
    	     }
    	     
    	     function resetForm(){
    	    	 debugger;
 	    		$("#outletLocation").val("");
 	    		$("#outletZone").val("");
 	    		$("#outletCategory").val("");
 	    		$("#category").val("");
 	    		$("#productCategory").val("");
 	    		$("#section").val("");
 	    		$("#location").val("");
 	    		$("#outletBrandId").val("");
 	    		$("#outletDepartmentId").val("");
 	    		$("#searchSupplier").val("");
 	    		$("#supplier_Id").val("");
 	    		$("#from").val("");
 	    		$("#to").val("");
 	    		$("#startDate").val("");
 	    		$("#endDate").val("");
 	    		$("#fromDate").val("");
 	    		$("#outletSubcategory").val("");
 	    		$("#outletStartPrice").val("");
 	    		$("#outletEndPrice").val("");
 	    		$("#outletSupplierId").val("");
 	    		$("#orderStartValue").val("");
 	    		$("#orderEndValue").val("");
 	    		$("#counterId").val("");
 	    		$("#rolesName").val("");
 	    		$(".dateClear").val("");
 	    		$("#toLocation").val("");
 	    		$("#expiryDate").val("");
 	    		$("#deliverySlotStartTime").val("");
 	    		$("#deliverySlotEndTime").val("");
 	    		$("#startdate").val("");
 	    		$("#enddate").val("");
 	    		$("#couponStartDate").val("");
 	    		$("#couponEndDate").val("");
 	    		
 	    		$("#MembershipStatusList").val("");
 	    		$("#membershipTypeFilter").val("");
 	    		$("#promoStartDate").val("");
 	    		$("#promoEndDate").val("");
 	    		$("#WalletStatusList").val("");
 	    		$("#warehouseZone").val("");
 	    		$("#warehouseLocation").val("");
 	    		$("#searchStockPosting").val("");
 	    		
 	    		$("#outletLocationSummary").val("");
 	    		$("#eventTypeSummary").val("");
 	    		$("#salesPersonSummary").val("");
 	    		$("#eventstatusSummary").val("");
				$("#uploadDownload").val("");
 	    		$("#counter").val("");
 	    		$("#location").val("");
 	    		$("#offerType").val("");
 	    		$("#offerStatusValue").val("");
 	    		
 	    	 $("#priceoutletLocation").val("");
 	    	 $("#outletCategoryId").val("");
 	    	 $("#outletBrandIdPrice").val("");
 	    	 $("#priceoutletSubcategory").val("");
 	    	 $("#priceoutletDepartmentId").val("");
 	    	 
 	    	//Customer Purchase
	    		$("#country").val("");
	    		$("#states").val("");
	    		$("#city").val("");
	    		$("#customerType").val("");
	    		$("#age").val("");
	    		$("#searchItems").val("");
	    		$("#gender").val("");
	    		$("#startPrice").val("");
	    		$("#endPrice").val("");
	    		$("#purchaseChannel").val("");
	    		$("#storageArea").val("");

 	    	}
    	

    	     

    	     function searchSectionMaster(name,searchCategory,index){
    	     try{
    	    		         	    		 var contextPath = $("#contextPath").val();
    	    		         	    		 URL = contextPath + "/genericMaster/searchSectionMaster.do";

    	    		         	    		 
    	    		         	    		// purpose:for checking internet
											// conection
    	    		         	    		var online = window.navigator.onLine;
    	    		         	    	  	if(!online){
    	    		         	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    		         	    	  	return;
    	    		         	    	  	}
    	    		         	    		 
    	    		         	    		 var maxRecords = 10;
    	    		         	    		    	  if($("#maxRecords").length>0)
    	    		         	    		    		  maxRecords = $("#maxRecords").val();

    	    		         	    		 $.ajax({
    	    		         	    				type: "GET",
    	    		         	    				url : URL,
    	    		         	    				data : {
    	    		         	    					searchName : name,
    	    		         	    					index : index,
    	    		         	    					maxRecords: maxRecords 
    	    		         	    				},
    	    		         	    				beforeSend: function(xhr){                    
    	    		         	    		   	   		$("#loading").css("display","block");
    	    		         	    		   	   		$("#mainDiv").addClass("disabled");
    	    		         	    		   	   	},
    	    		         	    				success : function(result) {
    	    		         	    					$('#right-side').html(result);
    	    		         	    					$("#loading").css("display","none");
    	    		         	    					$("#mainDiv").removeClass('disabled');
    	    		         	    				},
    	    		         	    				error : function(jqXHR, textStatus, errorThrown)  {
    	    		         	    					 errorCode(jqXHR.status);
    	    		         	    					 $("#loading").css("display","none");
    	    		         	    		 			 $("#mainDiv").removeClass('disabled');
    	    		         	    				}
    	    		         	    			});
    	     }
    	     catch(e)
    	 	{
    	    	 errorCode(e);
    	 	}

    	    		         	    	}

    	    	function appendSectionsbasedonsubcategory(subCategoryList, subCategoryName, sectionId) {
    	    		 // debugger
    	    		var op = '<option value="" >ALL</option>';
    	    		for (var i = 0; i < subCategoryList.length; i++) {
    	    			if (subCategoryList[i].subcategoryName == subCategoryName) {
    	    				for (var j = 0; j < subCategoryList[i].subcategorySections.length; j++) {
    	    					op += '<option value="'
    	    							+ subCategoryList[i].subcategorySections[j].sectionName
    	    							+ '" >'
    	    							+ subCategoryList[i].subcategorySections[j].sectionName
    	    							+ '</option>';
    	    				}
    	    			}
    	    		}
    	    		$("#" + sectionId).html('');
    	    		$("#" + sectionId).html(op);
    	    	}
/*
 * author:chaithanya v purpuse:get product categories based on location
 */
    	    	
    	    	function searchCategorybasedonlocation(id,categoryid,brandId) {
    	    		
    	    	try{
    	    		var location = $("#" + id).val();
    	    		// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    		
    	    		if(location=="all")
    	    			location="";
    	    		if (location != "-- Select --" && location !=undefined) {
    	    			var contextPath = $("#contextPath").val();
    	    			URL = contextPath
    	    					+ "/inventorymanager/searchCategorybasedonlocation.do";
    	    			$.ajax({
    	    				type : "GET",
    	    				url : URL,
    	    				data : {
    	    					location : location
    	    				},
    	    				beforeSend : function(xhr) {
    	    					$("#loading").css("display", "block");
    	    					$("#mainDiv").addClass("disabled");
    	    				},
    	    				success : function(result) {
    	    					appendcategorybasedoncategory(result,categoryid,brandId);
    	    					$("#loading").css("display", "none");
    	    					$("#mainDiv").removeClass('disabled');
    	    				},
    	    				error : function(jqXHR, textStatus, errorThrown)  {
    	    					errorCode(jqXHR.status);
    	    					$("#loading").css("display", "none");
    	    					$("#mainDiv").removeClass('disabled');
    	    				}
    	    			});
    	    		}
    	    		//comented by manideep to show all brands..
    	    		//$("#" + categoryid).html('');
    	    	}
    	    	  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	    	}
    	    	
    	    	function viewOutletVoidReport(flowUnder, index,flow) {
    	    		// debugger;
    	    		try{
    	    		// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    		
    	    		if (flowUnder == undefined && $("#flowUnder").length > 0)
    	    			flowUnder = $("#flowUnder").val();
    	    		
    	    		var maxRecords = 10;
    	    		if ($("#maxRecords").length > 0)
    	    			maxRecords = $("#maxRecords").val();

    	    		var bussinessArea = "";
    	    		if ($("#").length > 0)
    	    			bussinessArea = $("#").val();

    	    		var section = "";
    	    		if ($("#section").length > 0)
    	    			section = $("#section").val();

    	    		var subDepartment = "";
    	    		if ($("#outletSubDepartmentId").length > 0)
    	    			subDepartment = $("#outletSubDepartmentId").val();

    	    		var location = "";
    	    		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
    	    			location = $("#location").val();
    	    		var zone = "";
    	    		if ($("#outletZone").length > 0)
    	    			zone = $("#outletZone").val();
    	    		var startDate = "";
    	    		if ($("#startDateVoidItems").length > 0)
    	    			startDate = $("#startDateVoidItems").val();
    	    		var endDate = "";
    	    		if ($("#endDateVoidItems").length > 0)
    	    			endDate = $("#endDateVoidItems").val();
    	    		
    	    		
    	    		
    	    		
    	    		
    	    		var category = "";
    	    		if ($("#Category").length > 0)
    	    			category = $("#Category").val();
    	    		var subCategory = "";
    	    		if ($("#outletSubcategory").length > 0)
    	    			subCategory = $("#outletSubcategory").val();

    	    		var department = "";
    	    		if ($("#outletDepartmentId").length > 0)
    	    			department = $("#outletDepartmentId").val();
    	    		
    	    		var searchCriteria="";
    	    		if ($("#searchCriteria").length > 0)
    	    			department = $("#searchCriteria").val();
    	    		var searchVoidItems="";
    	    		if ($("#searchVoidItems").length > 0)
    	    			searchVoidItems = $("#searchVoidItems").val().trim();

    	    		var contextPath = $('#contextPath').val();
    	    		var URL = contextPath + "/reports/viewOutletVoidReport.do";
    	    		$.ajax({
    	    			url : URL,
    	    			data : {
    	    				flowUnder : flowUnder,
    	    				maxRecords : maxRecords,
    	    				index : index,
    	    				bussinessArea : bussinessArea,
    	    				section : section,
    	    				subDepartment : subDepartment,
    	    				location : location,
    	    				zone : zone,
    	    				startDate : startDate,
    	    				endDate : endDate,
    	    				category : category,
    	    				subCategory : subCategory,
    	    				department : department,
    	    				searchCriteria : searchCriteria,
    	    				searchVoidItems : searchVoidItems,
    	    				flow : flow
    	    			},
    	    			beforeSend : function(xhr) {
    	    				$("#loadingreport").css("display", "block");
    	    				$("#mainDiv").addClass("disabled");
    	    			},

    	    			success : function(result) {
    	    				/*
							 * $(".active-menu").removeClass("active-menu");
							 * openMenu("liOutletVoidReports",
							 * "liOutletVoidReports", 0);
							 * openMenu("liOutletReports", "ulOutletReports",
							 * 1); openMenu("reports", "ulReports", 1);
							 */
    	    				 activeMenu(flowUnder);
    	    				$('#right-side').html(result);
    	    				$("#loadingreport").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			},
    	    			error : function(jqXHR, textStatus, errorThrown)  {
    	    				errorCode(jqXHR.status);
    	    				$("#loadingreport").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			}
    	    		});
    	    		}
    	    		  catch(e)
    	      	 	{
    	      	    	 errorCode(e);
    	      	 	}
    	    	}
    	    	
    	    	
    	    	
    	    	
    	    	// added by koti bommineni
    	    	
    	    	
    	    	
    	    	function searchOutletVoidReport(flowUnder, index,popup,flow) {
   	    		 debugger;
   	    		try{
   	    			 $('#myModalIos').modal('hide');
   	    			 $('#myModalIoss').modal('hide');
   	    		// purpose:for checking internet conection
   	    		var online = window.navigator.onLine;
   	    	  	if(!online){
   	    	  	alert("Check your internet connection,Please try agian after some time.");
   	    	  	return;
   	    	  	}
   	    	 
   	    		if (flowUnder == undefined && $("#flowUnder").length > 0)
   	    			flowUnder = $("#flowUnder").val();
   	    		
   	    		var maxRecords = 10;
   	    		if ($("#maxRecords").length > 0)
   	    			maxRecords = $("#maxRecords").val();

   	    		var bussinessArea = "";
   	    		if ($("#").length > 0)
   	    			bussinessArea = $("#").val();

   	    		var section = "";
   	    		if ($("#section").length > 0)
   	    			section = $("#section").val();

   	    		var subDepartment = "";
   	    		if ($("#outletSubDepartmentId").length > 0)
   	    			subDepartment = $("#outletSubDepartmentId").val();

   	    		var location = "";
   	    		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
   	    			location = $("#location").val();
   	    		var zone = "";
   	    		if ($("#outletZone").length > 0)
   	    			zone = $("#outletZone").val();
   	    		var startDate = "";
   	    		if ($("#startDateVoidItems").length > 0)
   	    			startDate = $("#startDateVoidItems").val();
   	    		var endDate = "";
   	    		if ($("#endDateVoidItems").length > 0)
   	    			endDate = $("#endDateVoidItems").val();
   	    		
   	    		if(popup == "" || popup == undefined || popup == null){
   		  			popup="";
   		  		}
   				
   				
   				
   				
   	    		
   	    		
   	    		if($("#endDateVoidItems").length > 0 && $("#endDateVoidItems").val() !=""){
   	    			  	   var  allownoOfDays = daydiff(parseDate($('#startDateVoidItems').val()), parseDate(endDate));
   	    					if(allownoOfDays > 31){
   	    						alert("Date Range should not exceed a Month");
   	    						return false;
   	    				
   	    					}
   	    					if(popup=="NOPOP"){
   	       		  			 if(allownoOfDays>15 ){
   	       		  				 
   	       		  				 $('#myModalIoss').modal('show');

   	       		  				 
   	       		  					/*var returnValue = getConfirmation();
   	       		  					if(returnValue == false)*/
   	       		  						return;
   	       		  					}
   	       		  		     }
   	    		}
   	    		
   	    		
   	    		var category = "";
   	    		if ($("#Category").length > 0)
   	    			category = $("#Category").val();
   	    		var subCategory = "";
   	    		if ($("#outletSubcategory").length > 0)
   	    			subCategory = $("#outletSubcategory").val();

   	    		var department = "";
   	    		if ($("#outletDepartmentId").length > 0)
   	    			department = $("#outletDepartmentId").val();
   	    		
   	    		var searchCriteria="";
   	    		if ($("#searchCriteria").length > 0)
   	    			department = $("#searchCriteria").val();
   	    		var searchVoidItems="";
   	    		if ($("#searchVoidItems").length > 0)
   	    			searchVoidItems = $("#searchVoidItems").val().trim();

   	    		var contextPath = $('#contextPath').val();
   	    		var URL = contextPath + "/reports/viewOutletVoidReport.do";
   	    		$.ajax({
   	    			url : URL,
   	    			data : {
   	    				flowUnder : flowUnder,
   	    				maxRecords : maxRecords,
   	    				index : index,
   	    				bussinessArea : bussinessArea,
   	    				section : section,
   	    				subDepartment : subDepartment,
   	    				location : location,
   	    				zone : zone,
   	    				startDate : startDate,
   	    				endDate : endDate,
   	    				category : category,
   	    				subCategory : subCategory,
   	    				department : department,
   	    				searchCriteria : searchCriteria,
   	    				searchVoidItems : searchVoidItems,
   	    				flow : flow
   	    			},
   	    			beforeSend : function(xhr) {
   	    				$("#loadingreport").css("display","block");
   	    				$("#mainDiv").addClass('disabled');
   	    			},

   	    			success : function(result) {
   	    				/*
							 * $(".active-menu").removeClass("active-menu");
							 * openMenu("liOutletVoidReports",
							 * "liOutletVoidReports", 0);
							 * openMenu("liOutletReports", "ulOutletReports",
							 * 1); openMenu("reports", "ulReports", 1);
							 */
   	    				 activeMenu(flowUnder);
   	    				$('#right-side').html(result);
   	    				$("#loading").css("display", "none");
   	    				$("#mainDiv").removeClass('disabled');
   	    				$("#loadingreport").css("display","none");
   	    				$("#void").removeClass('disabled');
   	    			},
   	    			error : function(jqXHR, textStatus, errorThrown)  {
   	    				errorCode(jqXHR.status);
   	    				$("#loadingreport").css("display","none");
   	    				$("#void").removeClass('disabled');
   	    			}
   	    		});
   	    		}
   	    		  catch(e)
   	      	 	{
   	      	    	 errorCode(e);
   	      	 	}
   	    	}
   	    	
    	    	
    	    	
    	    	function appendcategorybasedoncategory(subCategoryList,sectionId,brandId) {
    	    		try
    	    	{
    	    		var op = '<option value="" >ALL</option>';
    	    		var bd = '<option value="" >ALL</option>';
    	    		if(subCategoryList.categoryList!=null)
    	    		for (var i = 0; i < subCategoryList.categoryList.length; i++) {
    	    					op += '<option value="'
    	    							+ subCategoryList.categoryList[i]
    	    							+ '" >'
    	    							+ subCategoryList.categoryList[i]
    	    							+ '</option>';
    	    		}
    	    		if(subCategoryList.brandList!= null)
    	    		for (var i = 0; i < subCategoryList.brandList.length; i++) {
    	    			bd += '<option value="'
    							+ subCategoryList.brandList[i]
    							+ '" >'
    							+ subCategoryList.brandList[i]
    							+ '</option>';
    	    			}
    	    		
    	    		// commented by manideep to show all brands and categories in all reports.
    	    		/*$("#" + sectionId).html('');
    	    		$("#" + sectionId).html(op);
    	    		$("#" + brandId).html('');
    	    		$("#" + brandId).html(bd);*/
    	    	}
    	    		  catch(e)
    	      	 	{
    	      	    	 errorCode(e);
    	      	 	}
    	    		  }
    	    	
    	    	
    	     function getProductStocksByCriteria(stockType){
    	    	 // var stockType = $('#productStockType').val();
    	    	// purpose:for checking internet conection
    	    	 try{
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 var flowUnder = $("#flowUnder").val();
    	    	 var location = $('#outletLocation').val();
    	    	 var contextPath = $("#contextPath").val();
            	 URL = contextPath + "/inventorymanager/getProductStocksByCriteria.do";
            	 $.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				stockType : stockType,
           				location : location,
           				flowUnder : flowUnder
           			},
           			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
           			success : function(result) {
           				/*
						 * $(".tab").removeClass('active'); if(stockType ==
						 * 'Normal Stock') $("#tab1").addClass('active'); else
						 * if(stockType == 'Ordered')
						 * $("#tab2").addClass('active'); else if(stockType ==
						 * 'Critical Stock') $("#tab3").addClass('active'); else
						 * if(stockType == 'Blocked')
						 * $("#tab4").addClass('active'); else if(stockType ==
						 * 'Returned') $("#tab5").addClass('active'); else
						 * if(stockType == 'Boneyard')
						 * $("#tab6").addClass('active');
						 * $("#tab_1").html(result);
						 */
           				$("#right-side").html(result);
             			$("#loading").css("display","none");
             			$("#mainDiv").removeClass('disabled');
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
    	    	 }
    	    	  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	     }
    	     
    	     
    	     function viewOutletStockVerification(id,index){
    	    	 try
    	    	 {
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 var location = ""
    	    	 var contextPath = $('#contextPath').val();
    	    	 var URL = contextPath + "/inventorymanager/viewOutletStockVerification.do";
    	    	 $.ajax({
    	    		type : "GET",
    	    		url : URL,
    	    		data : {
    	    			index : index,
    	    			location : location
    	    		},
    	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			openMenu("liInventoryManagement","ulInventoryManagement",1);
    	    			$('#right-side').html(result);
    	    			activeMenu(id);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
    	    	 }
    	    	  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	    	 
    	     }
    	     
    	     function viewOutletProductStockVerification(){
    	    	// purpose:for checking internet conection
    	    	try{
    	    	 var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 
    	    	 var contextPath = $('#contextPath').val();
    	    	 var URL = contextPath + "/inventorymanager/viewOutletProductStockVerification.do";
    	    	 $.ajax({
    	    		type : "GET",
    	    		url : URL,
    	    		data : {},
    	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
    	    	}
    	    	  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	     }
    	     
    	     function getProductStockVerificationByOutletWise(element){
    	    	 try{
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 var contextPath = $('#contextPath').val();
    	    	 var location = $(element).val();
    	    	 var URL = contextPath + "/inventorymanager/getProductStockVerificationByOutletWise.do";
    	    	 $.ajax({
    	    		type : "GET",
    	    		url : URL,
    	    		data : {
    	    			location : location
    	    		},
    	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
    	    	 }  catch(e)
    	    	 	{
        	    	 errorCode(e);
        	 	}
    	     }
    	     
    	     
    	     
    	     function viewSpecificOutletProductStockVerification(verificationCode){
    	    	 try{
    	    	 var contextPath = $('#contextPath').val();
    	    	 
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 
    	    	 var URL = contextPath + "/inventorymanager/viewSpecificOutletProductStockVerification.do";
    	    	 $.ajax({
     	    		type : "GET",
     	    		url : URL,
     	    		data : {
     	    			verificationCode : verificationCode
     	    		},
     	    		beforeSend: function(xhr){                    
     	   	   			$("#loading").css("display","block");
     	   	   			$("#mainDiv").addClass("disabled");
     	   	   		  },
     	    		success : function(result){
     	    			$('#right-side').html(result);
     	    			$("#loading").css("display","none");
     	    			$("#mainDiv").removeClass('disabled');
     	    		},
     	    		error : function(jqXHR, textStatus, errorThrown) {
     	    			errorCode(jqXHR.status);
     	    			$("#loading").css("display","none");
     	 				$("#mainDiv").removeClass('disabled');
     	    		}
     	    	 });
    	    	 }
    	    	  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	    	 
    	     }

    	     function viewOutletProductStockVerificationItems(specificProductData){
    	    	 try{
    	    	 var productDate = JSON.stringify(specificProductData);
    	    	 
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
// console.log(JSON.stringify(specificProductData));
    	    	var contextPath = $('#contextPath').val();
   	    	    var URL = contextPath + "/inventorymanager/viewOutletProductStockVerificationItems.do";
    	    	$.ajax({
    	    		type : "POST",
    	    		url : URL,
    	    		contentType: "application/json",
    	    		data : productDate,
    	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
    	    	});
    	    	 }
    	    	  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	     }
    	    
    	   
    	   
    	     
    	     /*
				 * Sambaiah Y 27-04-2015 for getting the orders details from
				 * server
				 * 
				 */
    	      function viewOrders(status,id,index,type,flowUnder,menu){
    	    	try{
    	    		debugger
    	    	  // purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	  // debugger
    	    	  var location = "";
    	    	  if(menu == undefined){
    	    		  if((($("#searchOrders").length > 0 && $("#searchOrders").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != "")) || index != '0'){
    	    			  searchOrders($("#searchOrders").val(), 'searchOrders',index);
    	    			  return;
    	    		  }
    	    		  if($("#location1").length>0)
    	    			  location = $("#location1").val();
    	    			  /*
							 * location = $("#location option:selected").text();
							 * if(location == "ALL") location = "";
							 */
    	    	  }
    	    	  var searchName ="";
    	     	 	if($("#searchName").length>0)
    	     	 		  searchName = $("#searchName").val();
    	    	  
    	    	  var operation = "";
    	    	 /*
					 * if(id.search("OutletShipment") != -1) operation = "Door
					 * Delivery"; else
					 */
    	    		  operation = "order";
    	    		  if(type == '' && status == 'draft')
        	    		  status = "all";
        	    	  
        	    	  if(status == 'all')
        	    		  {
        	    		  status = "";
        	    		  }
    	    	  if(flowUnder == undefined && $("#flowUnder").length > 0)
    	    		  flowUnder = $("#flowUnder").val();
    	    	  var maxRecords = 10;
    	    	  if($("#maxRecords").length > 0)
    	    		  maxRecords = $("#maxRecords").val();
    	    	  var contextPath = $('#contextPath').val();
    	    	  //var id = "OrderedSalesOrderManagement";
    	    	  var orderChannel ="";
    	    	  var zone ="";
    	    	  if($("#outletZone").length > 0)
    	    		  zone = $("#outletZone").val();
    	    	  var startDate = $("#from").val();
    	    	  var endDate = $("#to").val();
    	    	  
    	    	  if(startDate == "" || startDate == null || startDate == undefined)
    	    		  {
    	    		  var dateTime = getCurrentDate();
        	    	  var date = dateTime.split(' ');
        	    	  date = date[0].split('/');
        	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
        	    	  var startDate = formatedDate;
        	    	  startDate=startDate+" 00:00:00";
    	    		  }
    	    	 
    	    	  if(endDate == "" || endDate == null || endDate == undefined)
	    		  {
    	    		  var endDate = "";
	    		  }
  	     	 	/*
				 * if(orderChannel == "") orderChannel = "Online" else
				 */
    	    	if($("#orderChannelId").length>0)
    	    	 orderChannel = $("#orderChannelId").val();
    	    	  var URL = contextPath + "/inventorymanager/getOrders.do";
     	    	  $.ajax({
      	    		url : URL,
      	    		data : {
      	    			status : status,
      	    			operation : operation,
      	    			location : location,
      	    			index : index,
      	    			type : type,
      	    			flowUnder : flowUnder,
      	    			orderChannel : orderChannel,
      	    			searchName : searchName,
      	    			maxRecords : maxRecords,
      	    			zone : zone,
      	    			startDate : startDate,
      	    			endDate : endDate
      	    		},
      	    		beforeSend: function(xhr){                    
      	   	   			$("#loading").css("display","block");
      	   	   			$("#mainDiv").addClass("disabled");
      	   	   		  },
      	    		success : function(result){
      	    			$("#right-side").html(result);
      	    			if(type == "management")
      	    				openMenu("liSalesOrders","ulSalesOrders",1);
  	    				else if(flowUnder == "outlet")
  	    					openMenu("liOrders","ulOrders",1);
  	    				else if(flowUnder == "warehouse"){
  	    					openMenu("liWarehouseOrders","ulWarehouseOrders",0);
  	    					openMenu("warehouseDetails","ulwarehouseDetails",1);
  	    				}
      	    			/*
						 * if(operation == "Door Delivery")
						 * openMenu("liShipments","ulShipments",1);
						 */
      	    			//var id = $("#id").val();
      	    			if(id != "" && id !=null && id != undefined)
      	    				
      	    				activeMenu(id); 
      	    			$("#loading").css("display","none");
      	    			$("#mainDiv").removeClass('disabled');
      	    		},
      	    		error : function(jqXHR, textStatus, errorThrown) {
      	    			errorCode(jqXHR.status);
      	    			$("#loading").css("display","none");
      	 				$("#mainDiv").removeClass('disabled');
      	    		}
      	    	 });
    	    	}
    	    	  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	      }
    	      
    	      /*
				 * Sambaiah Y 27-04-2015 for getting the orders details from
				 * server based on the location
				 * 
				 */
     	      function viewOrdersByPage(operation,index){
     	    	try{
     	    	  var status = $('#status').val();
     	    	var type = $("#type").val();
     	    	var contextPath = $('#contextPath').val();
     	    	var flowUnder = "";
     	    	if($("#flowUnder").length > 0)
  	    		  flowUnder = $("#flowUnder").val();
     	    	var URL = contextPath + "/inventorymanager/getOrdersByLocation.do";
     	    	var location = $("#location").val();
     	    	    $.ajax({
       	    		url : URL,
       	    		data : {
       	    			location : location,
       	    			operation : operation,
       	    			status : status,
       	    			index : index,
       	    			type : type,
       	    			flowUnder : flowUnder
       	    		},
       	    		beforeSend: function(xhr){                    
       	   	   			$("#loading").css("display","block");
       	   	   			$("#mainDiv").addClass("disabled");
       	   	   		  },
       	    		success : function(result){
       	    			$("#right-side").html(result);
       	    			$("#loading").css("display","none");
       	    			$("#mainDiv").removeClass('disabled');
       	    		},
       	    		error : function(jqXHR, textStatus, errorThrown) {
       	    			errorCode(jqXHR.status);
       	    			$("#loading").css("display","none");
       	 				$("#mainDiv").removeClass('disabled');
       	    		}
       	    	 });
     	    	}
     	    	  catch(e)
     	    	 	{
     	    	    	 errorCode(e);
     	    	 	}
     	      }
    	     /*
				 * Sambaiah Y 29-04-2015 this function is used to getting the
				 * specific order details from services
				 * 
				 */
     	      function viewOrderDetails(orderId,operation,status,viewOrEdit){
     	    	   debugger
     	    	  try{
     	    		  // purpose:for checking internet conection
     	    		  var online = window.navigator.onLine;
     	    		  if(!online){
     	    			  alert("Check your internet connection,Please try agian after some time.");
     	    			  return;
     	    		  }
     	    		  var type = $("#type").val();
     	    		  var contextPath = $('#contextPath').val();
     	    		  var flowUnder = "";
     	    		  if($("#flowUnder").length > 0)
     	    			  flowUnder = $("#flowUnder").val();

     	    		  var maxRecords = 10;
     	    		  if($("#maxRecords").length>0)
     	    			  maxRecords = $("#maxRecords").val();

     	    		  var searchName ="";
     	    		  if($("#searchOrders").length>0)
     	    			  searchName = $("#searchOrders").val();

     	    		  var location = "";
     	    		  if($("#location").length > 0)
     	    			  location = $("#location").val();


     	    		  var orderChannelId = "";
     	    		  if($("#orderChannelId").length > 0)
     	    			  orderChannelId = $("#orderChannelId").val();

     	    		  var URL = contextPath + "/inventorymanager/getOrderDetails.do";
     	    		  $.ajax({
     	    			  url : URL,
     	    			  data : {
     	    				  orderId 	 : orderId,
     	    				  operation  : operation,
     	    				  type       : type,
     	    				  flowUnder  : flowUnder,
     	    				  status 	 : status,
     	    				  maxRecords : maxRecords,
     	    				  searchName : searchName,
     	    				  viewOrEdit : viewOrEdit,
     	    			  },
     	    			  beforeSend: function(xhr){                    
     	    				  $("#loading").css("display","block");
     	    				  $("#mainDiv").addClass("disabled");
     	    			  },
     	    			  success : function(result){
     	    				  $("#right-side").html(result);
     	    				  $("#location").val(location);
     	    				  $("#orderChannelId").val(orderChannelId);
     	    				  $("#loading").css("display","none");
     	    				  $("#mainDiv").removeClass('disabled');
     	    			  },
     	    			  error : function(jqXHR, textStatus, errorThrown) {
     	    				  errorCode(jqXHR.status);
     	    				  $("#loading").css("display","none");
     	    				  $("#mainDiv").removeClass('disabled');
     	    			  }
     	    		  });}
     	    	  catch(e)
     	    	  {
     	    		  errorCode(e);
     	    	  }
     	      }
    	      
    	      function columnReset(){
    	    	  try{
    	    	  $(".columnSort").each(function(){
    	    	  	var background = $(this).css("background");
    	    	  	if(background.indexOf('asc') != -1){
    	    	  		background = background.replace('asc','both');
    	    	  	}
    	    	  	if(background.indexOf('desc') != -1){
    	    	  		background = background.replace('desc','both');
    	    	  	}
    	    	  	$(this).css("background",background);
    	    	  });
    	    	  }  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	    	  }
    	      
    	      
    	      
    	      
    	 
    	      
    	      /*
				 * Sambaiah Y 30-04-2015 this function is used to getting the
				 * bills from server
				 * 
				 */
     	   /*
			 * function viewBills(id,index,menu){ if(menu == undefined){
			 * if((($("#searchBills").length > 0 &&
			 * $("#searchBills").val().trim() != "") || ($("#from").length > 0 &&
			 * $("#from").val().trim() != "") || ($("#to").length > 0 &&
			 * $("#to").val().trim() != "")) || index != '0'){
			 * searchBills($("#searchBills").val(), 'searchBills',index);
			 * return; } } var order = null; var orderBy = null; var maxRecords =
			 * 10; if($("#maxRecords").length>0) maxRecords =
			 * $("#maxRecords").val(); var contextPath =
			 * $('#contextPath').val(); var startDate = ""; var endDate = "";
			 * var dateTime = getCurrentDate(); var date = dateTime.split(' ');
			 * date = date[0].split('/'); var formatedDate =
			 * date[1]+"/"+date[0]+"/"+date[2]; // $('#date').val(formatedDate); //
			 * $('#from').val(formatedDate); var URL = contextPath +
			 * "/inventorymanager/getBills.do"; var location = "";
			 * if($("#outletLocation").length > 0) location =
			 * $("#outletLocation").val(); var locations =
			 * $("#outletLocation").val(); if(locations == "undefined" ||
			 * locations == "" || locations == null){ location = "all"; } else {
			 * location = locations; } var status=""; if(id=="pendingBills")
			 * status = "Pending"; else if(id == "openBills") status = "open";
			 * else if(id == "cancelledBills") status = "Cancelled"; else if(id ==
			 * "exchengedBills") status = "Exchanged"; else if(id ==
			 * "ReturnedBills") status = "Returned"; else if(id ==
			 * "completedBills") status = "Completed"; else if(id ==
			 * "homeDeliveryBills") status = "HD"; else
			 * if(id=="undefined"||id==""||id==null) status =
			 * $("#billStatus").val(); else status = "all"; var background =
			 * null; //if(id=="undefined"||id==""||id==null){
			 * $(".columnSort").each(function(){ background =
			 * $(this).css("background"); if(background.indexOf('asc') != -1){
			 * order = "ASC"; orderBy = $(this).attr("id"); }
			 * if(background.indexOf('desc') != -1){ order = "DESC"; orderBy =
			 * $(this).attr("id"); } }); //} $.ajax({ url : URL, data : {
			 * location : location, status : status, index : index, maxRecords :
			 * maxRecords, order : order, orderBy : orderBy, startDate :
			 * startDate, endDate : endDate }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success :
			 * function(result){ $("#right-side").html(result);
			 * openMenu("liBills","ulBills",1);
			 * if(id!="undefined"&&id!=""&&id!=null) activeMenu(id); //
			 * if(orderBy != null){ columnReset(); var backgroundCss =
			 * $("#"+orderBy).css("background"); if(order == "ASC"){
			 * backgroundCss = backgroundCss.replace('both','asc');
			 * $("#"+orderBy).css("background",backgroundCss); } else if(order ==
			 * "DESC"){ backgroundCss = backgroundCss.replace('both','desc');
			 * $("#"+orderBy).css("background",backgroundCss); }else{ var
			 * backgroundCss = $("#businessDate").css("background");
			 * backgroundCss = backgroundCss.replace('both','desc');
			 * $("#businessDate").css("background",backgroundCss); }
			 *  // } $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 */
     	      
     	      
    	      
    	   
    	      function viewMCNBills(flowUnder,index,menu,saveFlag,flowLocation) {
    	    	  debugger
    	    	  try{
    	    		  var online = window.navigator.onLine;
    	    		  if(!online)
    	    		  {
    	    			  alert("Check your internet connection,Please try agian after some time.");
    	    			  return;
    	    		  }
  	    		  debugger;
    	    		  if (flowUnder == undefined && $("#flowUnder").length > 0)
    	    			  flowUnder = $("#flowUnder").val();

    	    		  var maxRecords = 10;
    	    		  if($("#maxRecords").length > 0)
    	    			  maxRecords = $("#maxRecords").val();

    	    		  var mcnStatus = "";
    	    		  if($("#mcnStatus").length > 0)
    	    			  mcnStatus = $("#mcnStatus").val();

    	    		  var counterId = "";
    	    		  if ($("#counterId").length > 0)
    	    			  counterId = $("#counterId").val();

    	    		  var location = "";
    	    		  if($("#outletLocation").length>0 && $("#outletLocation").val != "ALL" && $("#outletLocation").val != "all")
    	    			  location = $("#outletLocation").val();
    	    		  var zone = "";
    	    		  if ($("#outletZone").length > 0)
    	    			  zone = $("#outletZone").val();
    	    		  var startDate = "";
    	    		  if ($("#fromDate").length > 0)
    	    			  startDate = $("#fromDate").val();
    	    		  var endDate = "";
    	    		  if ($("#to").length > 0)
    	    			  endDate = $("#to").val();
    	    		  var category = "";
    	    		  if ($("#Category").length > 0)
    	    			  category = $("#Category").val();
    	    		  var subCategory = "";
    	    		  if ($("#outletSubcategory").length > 0)
    	    			  subCategory = $("#outletSubcategory").val();


    	    		  var searchCriteria="";
    	    		  if($("#searchCredit").length > 0)
    	    			  searchCriteria = $("#searchCredit").val().trim();


    	    		  var contextPath = $('#contextPath').val();
    	    		  var URL = contextPath + "/reports/viewMCNBills.do";
    	    		  $.ajax({
    	    			  url : URL,
    	    			  data : {
    	    				  counterIdStr : counterId,
    	    				  maxRecords : maxRecords,
    	    				  index : index,
    	    				  mcnStatus : mcnStatus,
    	    				  location : location,
    	    				  zone : zone,
    	    				  startDate : startDate,
    	    				  endDate : endDate,
    	    				  category : category,
    	    				  saveFlag : saveFlag,
    	    				  // locationList : locationList,
    	    				  searchCriteria : searchCriteria,
    	    				  flowLocation:flowLocation

    	    			  },
    	    			  beforeSend : function(xhr) {
    	    				  $("#loading").css("display", "block");
    	    				  $("#mainDiv").addClass("disabled");
    	    			  },

    	    			  success : function(result) {
    	    				  activeMenu(flowUnder);
    	    				  $('#right-side').html(result);
    	    				  var anchor = document.createElement('a');
    	    				  anchor.href = $("#stockdownloadurl").val();
    	    				  anchor.target = '_blank';
    	    				  anchor.download = '';
    	    				  if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
    	    					  anchor.click();
    	    				  $("#loading").css("display", "none");
    	    				  $("#mainDiv").removeClass('disabled');
    	    			  },
    	    			  error : function(jqXHR, textStatus, errorThrown)  {
    	    				  errorCode(jqXHR.status);
    	    				  $("#loading").css("display", "none");
    	    				  $("#mainDiv").removeClass('disabled');
    	    			  }
    	    		  });
    	    	  }
    	    	  catch(e)
    	    	  {
    	    		  errorCode(e);
    	    	  }
    	      }
    	         
    		  
    	      /*
				 * Sambaiah Y 30-04-2015 this function is used to getting the
				 * bills from server
				 */
    	    function viewBills(id, index, menu,flowLocation) {
    	    	  try{
    	    		  debugger
    	    	  // purpose:for checking internet conection
      	    	var online = window.navigator.onLine;
      	      	if(!online){
      	      	alert("Check your internet connection,Please try agian after some time.");
      	      	return;
      	      	}
    	    	  
    	      	if (menu == undefined) {
    	      		if ($("#searchBills").length > 0 && $("#searchBills").val().trim() != "" ) {
    	      			searchBills($("#searchBills").val(), 'searchBills', index);
    	      			return;
    	      		}
    	      	}
    	      	
    	      	if (flowLocation == undefined) {
    	      		flowLocation = $("#flowLocations").val();
    	      	}
    	      	
    	     
    	      	debugger;
    	      	var order = null;
    	      	var orderBy = null;
    	      	var maxRecords = 10;
    	      	if ($("#maxRecords").length > 0)
    	      		maxRecords = $("#maxRecords").val();

    	      	var contextPath = $("#contextPath").val();
    	      	URL = contextPath + "/inventorymanager/getBills.do";
    	      	
    	      // var outletLocation = $('#outletLocation option').val();
    	      /*
				 * var values = []; $('#outletLocation option').each(function() {
				 * values.push( $(this).attr('value') );
				 * 
				 * });
				 */
    	     // values = values[0].remove();
    	      	
    	      	var online = window.navigator.onLine;
    	      	if(!online){
    	      	alert("Check your internet connection,Please try agian after some time.");
    	      	return;
    	      	}
    	      	var startDate = "";
    	      	var endDate = "";
    	      	/*
				 * var startDateTime = getCurrentDate(); var startDateType =
				 * startDateTime.split(' '); startDateType =
				 * startDateType[0].split('/'); var formatedStartDate =
				 * startDateType[1] + "/" + startDateType[0] + "/" +
				 * startDateType[2];
				 * 
				 * var endDateTime = getCurrentDate(); var endDateType =
				 * endDateTime.split(' '); endDateType =
				 * endDateType[0].split('/'); var formatedEndDate =
				 * endDateType[1] + "/" + endDateType[0] + "/" + endDateType[2];
				 * $("#to").val(formatedEndDate);
				 */
    	      	 var dateTime = getCurrentDate();
    	   	  var date = dateTime.split(' ');
    	   	  date = date[0].split('/');
    	   	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
    	      	
    	      	if ($("#from").length > 0 && $("#from").val() !="") 
    	      	 startDate = $("#from").val();
    	      	else
    	      	startDate = formatedDate;
    	      	
    	      	if ($("#to").length > 0)
    	      		endDate = $("#to").val();
    	      	
    	      	var category="";
    	    	var subCategory="";
    	    	var counterId="";
    	    	var brand="";
    	    	var location="";
    	    	var zone="" ;
    	      	if ($("#outletCategory").length > 0) 
    	      	 category = $("#outletCategory").val();
    	    	if ($("#outletSubcategory").length > 0) 
    	      	 subCategory = $("#outletSubcategory").val();
    	    	if ($("#counterId").length > 0) 
    	      	 counterId=$("#counterId").val();
    	    	if ($("#outletBrandId").length > 0) 
    	      	 brand = $("#outletBrandId").val();
    	    	
    	    	 if($("#outletZone").length>0)
    	    		 zone = $("#outletZone").val();
    	    	
    	    	if ($("#outletLocation").length > 0) 
    	      	 location =$("#outletLocation").val();
    	      	
    	      	
    	      	/*
				 * if (startDate == "" || endDate != "") { alert("Please Must be
				 * Select Start Date!"); return; }
				 */
    	      	
    	      	/*
				 * if ($("#from").val() != "" && $("#to").val() != "") { var
				 * noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
				 * if (noOfDays < 0) { alert("Start Date can't be less than End
				 * Date"); return; } }
				 */
    	    	
    	    	 var tester;
    	    	 if(id=="outletBilling" || id =="completedBills" || menu==undefined){
    	    		 tester="tester"
    	    	 }
    	    	 else{
    	    		 tester="";
    	    	 }
    	    	
    	      	
    	      	var location = "";
    	      	if ($("#outletLocation").length > 0)
    	      		location = $("#outletLocation").val();
    	      	var status = "";
    	      	if (id.includes("pendingBills"))
    	      		status = "Pending";
    	      	else if(id.includes("openBills"))
    	      		status = "open";
    	      	else if(id.includes("cancelledBills"))
    	      		status = "Cancelled";
    	      	else if(id.includes("exchengedBills"))
    	      		status = "Exchanged";
    	      	else if(id.includes("ReturnedBills"))
    	      		status = "Returned";
    	      	else if(id.includes("completedBills"))
    	      		status = "Completed";
    	      	else if(id.includes("homeDeliveryBills"))
    	      		status = "HD";
    	      	else if(id.includes("voidBills"))
    	      		status = "Draft";
    	    	/*
				 * else if (id == "mcnBills") status = "Mcn";
				 */
    	      	else if (id == "undefined" || id == "" || id == null)
    	      		status = $("#billStatus").val();
    	      	else
    	      		status = "";
    	      	var background = null;
    	      	
    	      	$(".columnSort").each(function() {
    	      		background = $(this).css("background");
    	      		if (background.indexOf('asc') != -1) {
    	      			order = "ASC";
    	      			orderBy = $(this).attr("id");
    	      		}
    	      		if (background.indexOf('desc') != -1) {
    	      			order = "DESC";
    	      			orderBy = $(this).attr("id");
    	      		}
    	      	});
    	      	$.ajax({
    	      		type : "GET",
    	      		url : URL,
    	      		data : {
    	      			location : location,
    	      			status : status,
    	      			index : index,
    	      			maxRecords : maxRecords,
    	      			order : order,
    	      			orderBy : orderBy,
    	      			startDate : startDate,
    	      			endDate : endDate,
    	      			category : category,
    	      			subCategory :subCategory,
    	      			counterId : counterId,
    	      			brand : brand,
    	      			outletlocation : location,
    	      			tester:tester,
    	      			zone:zone,
    	      			flowLocation:flowLocation
    	      		},
    	      		beforeSend : function(xhr) {
    	      			$("#loading").css("display", "block");
    	      			$("#mainDiv").addClass("disabled");
    	      		},
    	      		success : function(result) {
    	      			$("#right-side").html(result);
    	      			openMenu("liBills", "ulBills", 1);
    	      			if (id != "undefined" && id != "" && id != null)
    	      				activeMenu(id);
    	      			columnReset();
    	      			var backgroundCss = $("#" + orderBy).css("background");
    	      			if (order == "ASC") {
    	      				backgroundCss = backgroundCss.replace('both', 'asc');
    	      				$("#" + orderBy).css("background", backgroundCss);
    	      			} else if (order == "DESC") {
    	      				backgroundCss = backgroundCss.replace('both', 'desc');
    	      				$("#" + orderBy).css("background", backgroundCss);
    	      			} else {
    	      				var backgroundCss = $("#businessDate").css("background");
    	      				backgroundCss = backgroundCss.replace('both', 'desc');
    	      				$("#businessDate").css("background", backgroundCss);
    	      			}
    	      			$("#loading").css("display", "none");
    	      			$("#mainDiv").removeClass('disabled');
    	      		},
    	      		error : function(jqXHR, textStatus, errorThrown)  {
    	      			errorCode(jqXHR.status);
    	      			$("#loading").css("display", "none");
    	      			$("#mainDiv").removeClass('disabled');
    	      		}
    	      	});
    	    	  }
    	    	  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	      } 
    	      
    	        
    	      
    	      
    	      
    	      
    	      
    	      
    	      
    	      function getdealsandoffernames(type,id){
    	    	  try{
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    		var contextPath = $("#contextPath").val();
    	    		 URL = contextPath + "/inventorymanager/getdealsandofers.do";
    	    			$.ajax({
    	    				type: "POST",
    	    				url : URL,
    	    				data : {
    	    					type : type,
    	    					id : id,
    	    				},
    	    				beforeSend: function(xhr){                    
    	    		   			/*
								 * $("#loading").css("display","block");
								 * $("#mainDiv").addClass("disabled");
								 */
    	    		   		  },
    	    				success : function(result) {
    	    					// alert(result.offerName);
    	    					$("#offername").text(result.offerName);
    	    					var  op = '<a id="summaryTag"  data-toggle="modal" data-target="#myModalIos"></a>';
    	    					 $("#triggerEvent").append(op);
    	    					 $("#summaryTag" ).trigger( "click" );
    	    					 $("#triggerEvent").html("");
    	    				/*
							 * $("#right-side").html(result); if(id !=
							 * undefined) activeMenu(id);
							 * $("#loading").css("display","none");
							 * $("#mainDiv").removeClass('disabled');
							 */
    	    				},
    	    				error : function(jqXHR, textStatus, errorThrown)  {
    	    					 errorCode(jqXHR.status);
    	    					$("#loading").css("display","none");
    	    				$("#mainDiv").removeClass('disabled');
    	    				}
    	    			});
    	    	  }  catch(e)
    	    	 	{
    	    	    	 errorCode(e);
    	    	 	}
    	      }      
    	      
    	      
    	      
    	      
    	      
    	      
    	      
    	      
    	      
     	    /*
			 * Sambaiah Y 27-04-2015 for getting specific bill details
			 * 
			 * 
			 * 
			 */
      	    /*
			 * function viewBillDetails(billId,flow,criteria){ var location =
			 * ""; if($("#outletLocation").length > 0) location =
			 * $("#outletLocation").val(); if(flow == undefined || flow == "" ||
			 * flow == null) flow = "billing"; if(criteria == undefined ||
			 * criteria == null || criteria == "") criteria = "bill"; var status =
			 * $("#billStatus").val(); var contextPath =
			 * $('#contextPath').val(); var startDate = ""; var endDate = ""; if
			 * ($("#from").length > 0) startDate = $("#from").val(); if
			 * ($("#to").length > 0) endDate = $("#to").val(); var URL =
			 * contextPath + "/inventorymanager/getBillDetails.do"; $.ajax({ url :
			 * URL, data : { billId : billId, status : status, flow : flow,
			 * criteria : criteria }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success :
			 * function(result){ $("#right-side").html(result);
			 * $("#from").val(startDate); $("#to").val(endDate);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 */
    	      
    	    /*
			 * function cancelAllowDays() { //debugger var billStatus =
			 * $('#billStatus1').val(); var cancelDays =
			 * $('#cancelAllowedDays').val();
			 * 
			 * var dateTime = getCurrentDate(); var date = dateTime.split(' ');
			 * date = date[0].split('/'); var formatedDate =
			 * date[1]+"/"+date[0]+"/"+date[2];
			 * 
			 * var businessDate = $('#businessDate').val();
			 * 
			 * if(businessDate!="" || businessDate!=null) var noOfDays =
			 * daydiff(parseDate($('#businessDate').val()),
			 * parseDate(formatedDate)); // alert(noOfDays) if(billStatus ==
			 * "TA-Cancelled") if(noOfDays > cancelDays) { //
			 * $('#myModalcancel').modal('toggle'); // alert("Bill Can be
			 * Cancelled Within "+cancelDays+" day "); ("#Error").html("Bill Can
			 * be Cancelled Within "+cancelDays+" day ") return; }
			 *  }
			 */
    	      
    	      function CancelBillid(billId,flow,criteria,type){
         		   // debugger
         		   try{
         		   
         		// purpose:for checking internet conection
         			var online = window.navigator.onLine;
         		  	if(!online){
         		  	alert("Check your internet connection,Please try agian after some time.");
         		  	return;
         		  	}
         		  	var maxRecords = 10;
          	      	if ($("#maxRecords").length > 0)
          	      		maxRecords = $("#maxRecords").val();
         		  	
         		  
       	    	 var location = "";
       	    	 var counterId ="";
       	    	var category=""
    	    	var subCategory=""
       	    	 
       	    	 if($("#outletLocation").length > 0)
       	    		 location = $("#outletLocation").val();
       	    	 
       	    	if ($("#counterId").length > 0) 
       	      	 counterId=$("#counterId").val();
       	    	
       	    	if ($("#outletCategory").length > 0) 
          	      	 category = $("#outletCategory").val();
       	    	
          	    	if ($("#outletSubcategory").length > 0) 
          	      	 subCategory = $("#outletSubcategory").val();
       	    	
          	    	var searchName=""
          	   	 		if($("#searchBills").length>0)
          	   	 		searchName = $("#searchBills").val().trim();
          	    	
       	    	 if(flow == undefined || flow == "" || flow == null)
       	    		 flow = "billing";
       	    	 if(criteria == undefined || criteria == null || criteria == "")
       	    		criteria = "bill";
       	    	// var status = $("#billStatus1").val();
       	    	 
       	    	var status = $("#billStatus1").val().trim();
      	    	 
       	    	var billingStatus = $("#billingStatus").val();
       	    	
       	    	var billStatus = $("#billStatus").val();
       	    	
       	    	var billSyncStatus = $("#billSyncStatus").val().trim();
       	    	var customerGstin = $("#customerGstin").val().trim();
       	    	var customerName = $("#customerName").val().trim();
       	    	
       	    	/*if(billingStatus === status)
       	    		{
       	    			$('#myModalcancel').modal('toggle');
       	    				alert("Please update the billing status and then try again.");
       	    					return;
       	    		}*/
       	    	 
       	    	var cancelDays = $('#cancelAllowedDays').val();
       	    	
       	    	var returnAllowDays = $('#returnAllowedDays').val();
         		  	
         		   var dateTime = getCurrentDate();
         		  var date = dateTime.split(' ');
         		  date = date[0].split('/');
         		  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
            	    	
         		  var businessDate = $('#businessDate').val();
         		 
         		  if(businessDate!="" || businessDate!=null)
            	   var  noOfDays = daydiff(parseDate($('#businessDate').val()), parseDate(formatedDate));
// alert(noOfDays)
         		  
         		 /*
					 * if(billStatus == 'Returned') { if(noOfDays >
					 * returnAllowDays) { $('#myModalcancel').modal('toggle');
					 * alert("Bill Can be Cancelled Within "+returnAllowDays+"
					 * day "); return; } } else {
					 */
         		 if(billingStatus != 'TA-RE-Items'){
         		  if(noOfDays > cancelDays && billingStatus == 'TA-Cancelled') 
         			  {
         			 $('#myModalcancel').modal('toggle');
            	    	alert("Bill Can be Cancelled Within "+cancelDays+" day ");
            	    	return;
         			  }
         		 }
// }
         		  
       	    	var contextPath = $('#contextPath').val();
       	    	var startDate = "";
       	    	var endDate = "";
       	    	if ($("#from").length > 0) 
        	      	 startDate = $("#from").val();
        	      	if ($("#to").length > 0)
        	      		endDate = $("#to").val();
    	    	   var URL = contextPath + "/inventorymanager/getCancelBillid.do";
    	    	    $.ajax({
    	    	    type: "POST",
      	    		url : URL,
      	    		// contentType: "application/json",
      	    		data : {
      	    			billId : billId,
      	    			status : status,
      	    			flow : flow,
      	    			criteria : criteria,
      	    			type : type,
      	    			billSyncStatus : billSyncStatus,
      	    			customerGstin : customerGstin,
      	    			customerName : customerName,
      	    			maxRecords : maxRecords
      	    		},
      	    		beforeSend: function(xhr){                    
      	   	   			$("#loading").css("display","block");
      	   	   			$("#mainDiv").addClass("disabled");
      	   	   		  },
      	    		success : function(result){
      	    		$("#right-side").html(result);
      	    		$("#from").val(startDate);
      	    		$("#to").val(endDate);
      	    		$("#outletLocation").val(location);
      	    		$("#counterId").val(counterId);
      	    		$("#outletCategory").val(category);
    	    		$("#outletSubcategory").val(subCategory);
    	    		$("#searchBills").val(searchName);
      	    		$("#billStatus").val(billStatus);
      	    		$("#loading").css("display","none");
      	    		$("#mainDiv").removeClass('disabled');
      	    		},
      	    		error : function(jqXHR, textStatus, errorThrown) {
      	    			errorCode(jqXHR.status);
      	    			$("#loading").css("display","none");
      	 				$("#mainDiv").removeClass('disabled');
      	    		}
      	    	 });
         		   }
         		  catch(e)
          	 	{
          	    	 errorCode(e);
          	 	}
       	     }
    	      
    	      
    	      
    	      
    	      
    	      

    	      function cancelMCNDetails(billId,creditNoteRef,operation){
    	      	 // purpose:for checking internet conection
    	      	var online = window.navigator.onLine;
    	        	if(!online)
    	        	{
    	        	alert("check your internet connection,please try agian after some time");
    	        	return;
    	        	}
    	      	var contextPath = $("#contextPath").val();
    	      	
    	      	var location=""
    	      	var counterId=""
    	      	 if($("#outletLocation").length > 0)
       	    		 location = $("#outletLocation").val();
       	    	 
       	    	if ($("#counterId").length > 0) 
       	      	 counterId=$("#counterId").val(); 
       	    	
       	    var billdate =""	
       	    	if ($("#counterId").length > 0) 
       	    		billdate=$("#counterId").val(); 
       	    
       	 var mobileNum =""	
    	    	if ($("#counterId").length > 0) 
    	    		mobileNum=$("#counterId").val(); 
       	var maxRecords = 10;
		  if($("#maxRecords").length>0)
			  maxRecords = $("#maxRecords").val();   	
       	 
       	var custName =""	
	    	if ($("#counterId").length > 0) 
	    		custName=$("#counterId").val(); 
       	
       	
       	var searchCriteria="";
   		if($("#searchCredit").length > 0)
   			searchCriteria = $("#searchCredit").val().trim();
      /*
		 * var finalObj={}
		 * 
		 * finalObj.creditNoteRef = creditNoteRef; finalObj.customerName =
		 * custName; finalObj.billRef = billId; finalObj.customerMobileNo =
		 * mobileNum; finalObj.store_location = location;
		 * 
		 * var formData=JSON.stringify(finalObj);
		 */
       	    	
    	      	var URL = contextPath + "/inventorymanager/updateMcnDetails.do";
	    	    $.ajax({
	    	    type: "POST",
  	    		url : URL,
  	    		// contentType: "application/json",
  	    		data : {
  	    			billId : billId,
  	    			location : location,
  	    			counterId : counterId,
  	    			creditNoteRef:creditNoteRef,
  	    			maxRecords : maxRecords
  	    		},
  	    		beforeSend: function(xhr){                    
  	   	   			$("#loading").css("display","block");
  	   	   			$("#mainDiv").addClass("disabled");
  	   	   		  },
  	    		success : function(result){
  	    		$("#right-side").html(result);
  	    		$("#searchCredit").val(searchCriteria);
  	    		$("#loading").css("display","none");
  	    		$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	 				$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
     		   
    	      }
    	      
    	      function viewEditMCNDetails(creditNoteRef,operation){
    	    		 var contextPath = $("#contextPath").val();
    	    		 // purpose:for checking internet conection
    	    			var online = window.navigator.onLine;
    	    		  	if(!online)
    	    		  	{
    	    		  	alert("check your internet connection,please try agian after some time");
    	    		  	return;
    	    		  	}
    	    		 var maxRecords = 10;
    	    		  if($("#maxRecords").length>0)
    	    			  maxRecords = $("#maxRecords").val();
    	    		  
    	    			 var searchCategory = "";
    	    			  if($("#searchCredit ").length>0)
    	    				  searchCategory = $("#searchCredit").val();
    	    		  
    	    			  var location = "";
    	      	   		if($("#outletLocation").length>0 && $("#outletLocation").val != "ALL" && $("#outletLocation").val != "all")
    	      	   			location = $("#outletLocation").val();  
    	      	   	var zone = "";
	      	   		if($("#outletZone").length>0)
	      	   			zone = $("#outletZone").val(); 
    	    			  
    	    			  var startDate = "";
    	      	   		if ($("#fromDate").length > 0)
    	      	   			startDate = $("#fromDate").val();
    	      	   		var endDate = "";
    	      	   		if ($("#to").length > 0)
    	      	   			endDate = $("#to").val();
    	    			  
    	    		 URL = contextPath + "/inventorymanager/viewMCNBillDetails.do";
    	    		$.ajax({
    	    			type: "GET",
    	    			url : URL,
    	    			data : {
    	    				creditNoteRef : creditNoteRef,
    	    				operation : operation,
    	    				maxRecords : maxRecords,
    	    				searchName: searchCategory,
    	    				location : location,
    	    				startDate : startDate,
    	    				endDate : endDate,
    	    				zone: zone
    	    			},
    	    			beforeSend: function(xhr){                    
    	    		   			$("#loading").css("display","block");
    	    		   			$("#mainDiv").addClass("disabled");
    	    		   		  },
    	    			success : function(result) {
    	    				$("#right-side").html(result);
    	    				$("#maxRecords").val(maxRecords);
    	    				$("#loading").css("display","none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			},
    	    			error : function() {
    	    				 alert("Internal error, please contact Technolabs support. ");
    	    				 $("#loading").css("display","none");
    	    	 			 $("#mainDiv").removeClass('disabled');
    	    			}
    	    		});

    	    	}
    	      
    	      
    	      
    	      
    	      function viewBillDetails(billId,flow,criteria,type,storeLocation){
       	    	 try{
       	    		 var location = "";
       	    	 
       	    	debugger;
       	    // purpose:for checking internet conection
       	  	var online = window.navigator.onLine;
       	    	if(!online){
       	    	alert("Check your internet connection,Please try agian after some time.");
       	    	return;
       	    	}
       	    	 if($("#outletLocation").length > 0)
       	    		 location = $("#outletLocation").val();
       	    	 if(flow == undefined || flow == "" || flow == null)
       	    		 flow = "billing";
       	    	 if(criteria == undefined || criteria == null || criteria == "")
       	    		criteria = "bill";
       	    	 var status = $("#billStatus").val();
       	    	var contextPath = $('#contextPath').val();
       	    	var startDate = "";
       	    	var endDate = "";
       	    	
       	    	if ($("#from").length > 0) 
        	      	 startDate = $("#from").val();
        	      	if ($("#to").length > 0)
        	      		endDate = $("#to").val();
        	      	
               // added by manasa
        	      	
        	      	var category = $("#outletCategory").val();
        	      
        	      	var subCategory = $("#outletSubcategory").val();
        	      	var counterId=$("#counterId").val();
        	      	var brand = $("#outletBrandId").val();
        	      	var location =$("#outletLocation").val();
        	      	var searchCriteria=$("#searchBills").val();
        	      	var zone = $("#outletZone").val(); 
        	      	
        	      	
// var locationList=$("#locationList").val();
        	    	/*
					 * if(location == ""){ var
					 * locationList=$("#locationList").val();
					 * $("#outletLocation").val(locationList); }
					 */
        	      	var maxRecords = 10;
        	      	if ($("#maxRecords").length > 0)
        	      		maxRecords = $("#maxRecords").val();
        	      
    	    	   var URL = contextPath + "/inventorymanager/getBillDetails.do";
    	    	    $.ajax({
      	    		url : URL,
      	    		data : {
      	    			billId : billId,
      	    			status : status,
      	    			flow : flow,
      	    			type : type,
      	    			criteria : criteria,
      	    			storeLocation : storeLocation
      	    		},
      	    		beforeSend: function(xhr){                    
      	   	   			$("#loading").css("display","block");
      	   	   			$("#mainDiv").addClass("disabled");
      	   	   		  },
      	    		success : function(result){
      	    		$("#right-side").html(result);
      	    		$("#from").val(startDate);
      	    		$("#to").val(endDate);
      	    		$("#outletZone").val(zone); 
      	    		$("#outletCategory").val(category);
      	    		$("#outletSubcategory").val(subCategory);
      	    		$("#counterId").val(counterId);
      	    		$("#outletBrandId").val(brand);
      	    		$("#outletLocation").val(location);
      	    		/*
					 * if(location == ""){
					 * $("#outletLocation").val(locationList); }
					 */
      	    		$("#searchBills").val(searchCriteria);
      	    		$("#maxRecords").val(maxRecords);
      	    		
      	    		$("#loading").css("display","none");
      	    		$("#mainDiv").removeClass('disabled');
      	    		},
      	    		error : function(jqXHR, textStatus, errorThrown) {
      	    			errorCode(jqXHR.status);
      	    			$("#loading").css("display","none");
      	 				$("#mainDiv").removeClass('disabled');
      	    		}
      	    	 });
       	    	 }
       	      catch(e)
      	 	{
      	    	 errorCode(e);
      	 	}
       	     }
    	      
    	     
    	      
    	      
    	      function updateBillTransaction(billId,flow,criteria,type,typePay){
	    			 debugger;
	    	try{
	    			var contextPath = $("#contextPath").val();
//var modeofPayment = $("#modeOfPayment").val();
	    		var startDate="";
	    		var endDate="";
	    		var modeofPayment ="";
	    		 $('#myModalUpdateTransaction').modal('hide');
	    	// purpose:for checking internet conection
	    		var online = window.navigator.onLine;
	    	  	if(!online){
	    	  	alert("Check your internet connection,Please try agian after some time.");
	    	  	return;
	    	  	}
	    		var status=$("#billStatus").val();
	    		
	    		var netAmt=$("#netAmt").val();
	    		
	    		var transactionList="";
	    		var count=$("#tableRowCount").val();
	    		/*
				 * $(".modeOfPayment").each( function(){ modeofPayment =
				 * modeofPayment +$(this).text()+','; });
				 */
	    		var iteratedModeOfPayment = 0;
	    		
	    		var prevBillPaymentMode  = "";
		  	
	    		 var paidAmountVal=0;
		  	for(var i=1;i<=count;i++)
		  	{
		  	paidAmountVal = parseFloat(paidAmountVal) +parseFloat($("#paidAmount"+i).text());
		  		
		  	prevBillPaymentMode =  $('#modeOfPayment'+i).val();
		  	if(prevBillPaymentMode!="" && prevBillPaymentMode !=null && prevBillPaymentMode !=undefined){
		  		prevBillPaymentMode = prevBillPaymentMode.split("-")
		  		prevBillPaymentMode = prevBillPaymentMode[0];
		  	}
		  	
			var modeofPayment = $("#paymentMode"+i).val();
			if(modeofPayment == prevBillPaymentMode)
				{
					iteratedModeOfPayment++;
				}
		  	}
		  	if(paidAmountVal>netAmt){
		  		 $('#Errortrans').html("The Paid Amt Should not exceed the Net Bill Amount");
		  		return;
		  	}
	   if(paidAmountVal<netAmt){
		  	 $('#Errortrans').html("The Paid Amt is not matching with the Net Bill Amount");
       $("#shipmentCharges").val(parseFloat(netAmt-paidAmountVal).toFixed(2));
    

      return;
 
		  	}else{
	        $('#Errortrans').html("");
      $("#dueAmountVal").val(0);
    }
		  	
			/*if(iteratedModeOfPayment >= count)
				{
				 	$('#myModalUpdateTransaction').modal('toggle');
				 	alert("Please update The Payment Mode and then try again.");
				 	return;
			
				}*/
			var location = "";
			 var counterId ="";
			var category=""
	    		var subCategory=""
	    	 if($("#outletLocation").length > 0)
	    		 location = $("#outletLocation").val();
	    	 
	    	if ($("#counterId").length > 0) 
	      	 counterId=$("#counterId").val(); 
	    	
	    	if ($("#outletCategory").length > 0) 
	      	 category = $("#outletCategory").val();
	    	if ($("#outletSubcategory").length > 0) 
	      	 subCategory = $("#outletSubcategory").val();
	    	
	    	
	    	var searchName=""
	 		if($("#searchBills").length>0)
	 		searchName = $("#searchBills").val().trim();
	    	
	    		var maxRecords = 10;
	      	if ($("#maxRecords").length > 0)
	      		maxRecords = $("#maxRecords").val();
	      	modeofPayment="";
	      var paidAmount="";
	      var tenderCode="";
	      	for(var i=1;i<=count;i++)
	    			{
	    				/*modeofPayment = modeofPayment +$("#modeOfPayment"+i).val()+',';*/
				      		var mop =$("#modeOfPayment"+i).val();
				      		var tc = $("#tenderMode"+i).val();
				      		if(tc == null || tc == undefined){
				      			tc = "";
				      		}
							if(mop !=null && mop != "" && mop != undefined){
									var mops = mop.split("-");
									if(mops[0] != null && mops[0] != undefined)
									mop = mops[0];
									if(mops[1] != null && mops[1] != undefined)
									tc = mops[1];
								}
						modeofPayment = modeofPayment +mop+',';
						tenderCode = tenderCode +tc+',';
	    				paidAmount = paidAmount +parseFloat($("#paidAmount"+i).text())+',';
	    			}
	      	
	      	
	    		$(".transaction").each( function(){
	    			transactionList = transactionList+$(this).text()+',';  
	    			});
	    		
	    		 if(flow == undefined || flow == "" || flow == null)
	    		 flow = "billing";
	    	 if(criteria == undefined || criteria == null || criteria == "")
	    		criteria = "bill";
	    	
	   	 if($("#from").length>0)
	   		 startDate = $("#from").val();
	   	 if($("#to").length>0)
	   		 endDate = $("#to").val();
	    	 
	    		 
	    		 URL = contextPath + "/inventorymanager/updateBillTransaction.do";
	    			 $.ajax({
	    	       			type: "POST",
	    	       			url : URL,
	    	       			data : {
	    	       					modeofPayment:modeofPayment,
	    	       					transactionList: transactionList,
	    	       					billId : billId	,
	    	       					flow : flow,
	    	       					criteria : criteria,
	    	       					type:type,
	    	       				    maxRecords : maxRecords,
	    	       					status:status,
	    	       				    typePay : typePay,
	    	       				    paidAmount:paidAmount,
	    	       				    tenderCode:tenderCode
	    	       					},
	    	       				beforeSend: function(xhr){                    
		            	   	   			$("#loading").css("display","block");
		            	   	   			$("#mainDiv").addClass("disabled");
		            	   	   		  },
		            	    		success : function(result){
		            	    		$("#right-side").html(result);
		            	    		$("#from").val(startDate);
		            	    		$("#to").val(endDate);
		            	    		$("#outletLocation").val(location);
		            	    		$("#counterId").val(counterId);
		            	    		$("#outletCategory").val(category);
		            	    		$("#outletSubcategory").val(subCategory);
		            	    		$("#searchBills").val(searchName);
		            	    		$("#loading").css("display","none");
		            	    		$("#mainDiv").removeClass('disabled');
		            	    		},
		            	    		error : function(jqXHR, textStatus, errorThrown) {
		            	    			errorCode(jqXHR.status);
		            	    			$("#loading").css("display","none");
		            	 				$("#mainDiv").removeClass('disabled');
		            	    		}
	    	       		});
	    	}
	     catch(e)
	 	{
	    	 errorCode(e);
	 	}

 }  
    	      
    	/*      function updateBillTransaction(billId,flow,criteria,type,typePay){
	    			 debugger;
	    	try{
	    			var contextPath = $("#contextPath").val();
//var modeofPayment = $("#modeOfPayment").val();
	    		var startDate="";
	    		var endDate="";
	    		var modeofPayment ="";
	    		 $('#myModalUpdateTransaction').modal('hide');
	    	// purpose:for checking internet conection
	    		var online = window.navigator.onLine;
	    	  	if(!online){
	    	  	alert("Check your internet connection,Please try agian after some time.");
	    	  	return;
	    	  	}
	    		var status=$("#billStatus").val();
	    		
	    		var netAmt=$("#netAmt").val();
	    		
	    		var transactionList="";
	    		var count=$("#tableRowCount").val();
	    		
				 * $(".modeOfPayment").each( function(){ modeofPayment =
				 * modeofPayment +$(this).text()+','; });
				 
	    		var iteratedModeOfPayment = 0;
	    		
	    		var prevBillPaymentMode  = "";
		  	
	    		 var paidAmountVal=0;
		  	for(var i=1;i<=count;i++)
		  	{
		  	paidAmountVal = parseFloat(paidAmountVal) +parseFloat($("#paidAmount"+i).text());
		  		
		  	prevBillPaymentMode =  $('#modeOfPayment'+i).val();
		
			var modeofPayment = $("#paymentMode"+i).val();
			if(modeofPayment == prevBillPaymentMode)
				{
					iteratedModeOfPayment++;
				}
		  	}
		  	if(paidAmountVal>netAmt){
		  		 $('#Errortrans').html("The Paid Amt Should not exceed the Net Bill Amount");
		  		return;
		  	}
   	   if(paidAmountVal<netAmt){
		  	 $('#Errortrans').html("The Paid Amt is not matching with the Net Bill Amount");
          $("#shipmentCharges").val(parseFloat(netAmt-paidAmountVal).toFixed(2));
       

         return;
    
		  	}else{
	        $('#Errortrans').html("");
         $("#dueAmountVal").val(0);
       }
		  	
			if(iteratedModeOfPayment >= count)
				{
				 	$('#myModalUpdateTransaction').modal('toggle');
				 	alert("Please update The Payment Mode and then try again.");
				 	return;
			
				}
			var location = "";
			 var counterId ="";
			var category=""
	    		var subCategory=""
	    	 if($("#outletLocation").length > 0)
	    		 location = $("#outletLocation").val();
	    	 
	    	if ($("#counterId").length > 0) 
	      	 counterId=$("#counterId").val(); 
	    	
	    	if ($("#outletCategory").length > 0) 
	      	 category = $("#outletCategory").val();
	    	if ($("#outletSubcategory").length > 0) 
	      	 subCategory = $("#outletSubcategory").val();
	    	
	    	
	    	var searchName=""
	 		if($("#searchBills").length>0)
	 		searchName = $("#searchBills").val().trim();
	    	
	    		var maxRecords = 10;
	      	if ($("#maxRecords").length > 0)
	      		maxRecords = $("#maxRecords").val();
	      	modeofPayment="";
	      var paidAmount="";
	      	for(var i=1;i<=count;i++)
	    			{
	    				modeofPayment = modeofPayment +$("#modeOfPayment"+i).val()+',';
	    				paidAmount = paidAmount +parseFloat($("#paidAmount"+i).text())+',';
	    			}
	      	
	      	
	    		$(".transaction").each( function(){
	    			transactionList = transactionList+$(this).text()+',';  
	    			});
	    		
	    		 if(flow == undefined || flow == "" || flow == null)
  	    		 flow = "billing";
  	    	 if(criteria == undefined || criteria == null || criteria == "")
  	    		criteria = "bill";
  	    	
  	   	 if($("#from").length>0)
  	   		 startDate = $("#from").val();
  	   	 if($("#to").length>0)
  	   		 endDate = $("#to").val();
  	    	 
	    		 
	    		 URL = contextPath + "/inventorymanager/updateBillTransaction.do";
	    			 $.ajax({
	    	       			type: "POST",
	    	       			url : URL,
	    	       			data : {
	    	       					modeofPayment:modeofPayment,
	    	       					transactionList: transactionList,
	    	       					billId : billId	,
	    	       					flow : flow,
	    	       					criteria : criteria,
	    	       					type:type,
	    	       				    maxRecords : maxRecords,
	    	       					status:status,
	    	       				    typePay : typePay,
	    	       				    paidAmount:paidAmount
	    	       					},
	    	       				beforeSend: function(xhr){                    
		            	   	   			$("#loading").css("display","block");
		            	   	   			$("#mainDiv").addClass("disabled");
		            	   	   		  },
		            	    		success : function(result){
		            	    		$("#right-side").html(result);
		            	    		$("#from").val(startDate);
		            	    		$("#to").val(endDate);
		            	    		$("#outletLocation").val(location);
		            	    		$("#counterId").val(counterId);
		            	    		$("#outletCategory").val(category);
		            	    		$("#outletSubcategory").val(subCategory);
		            	    		$("#searchBills").val(searchName);
		            	    		$("#loading").css("display","none");
		            	    		$("#mainDiv").removeClass('disabled');
		            	    		},
		            	    		error : function(jqXHR, textStatus, errorThrown) {
		            	    			errorCode(jqXHR.status);
		            	    			$("#loading").css("display","none");
		            	 				$("#mainDiv").removeClass('disabled');
		            	    		}
	    	       		});
	    	}
	     catch(e)
	 	{
	    	 errorCode(e);
	 	}

    }*/   
    	      
    	    
    	      
    	      function viewOutletCustomerConversionReport(flowUnder, index) {
    	    		// debugger;
    	 try{
    	    		// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    		
    	    		var maxRecords = 10;
    	    		if ($("#maxRecords").length > 0)
    	    			maxRecords = $("#maxRecords").val();

    	    		var location = "";
    	    		if ($("#outletLocation").length > 0
    	    				&& $("#outletLocation").val != "outletLocation"
    	    				&& $("#outletLocation").val != "all")
    	    			location = $("#outletLocation").val();
    	    		var zone = "";
    	    		if ($("#outletZone").length > 0)
    	    			zone = $("#outletZone").val();
    	    		var startDate = "";
    	    		if ($("#startDate").length > 0)
    	    			startDate = $("#startDate").val();
    	    		var endDate = "";
    	    		if ($("#endDate").length > 0)
    	    			endDate = $("#endDate").val();
    	    		//
    	    		var searchName = "";
    	    		if ($("#searchName").length > 0)
    	    			searchName = $("#searchName").val();

    	    		var contextPath = $('#contextPath').val();
    	    		var URL = contextPath + "/reports/viewCustomerConversionReport.do";

    	    		$.ajax({
    	    			url : URL,
    	    			data : {
    	    				flowUnder : flowUnder,
    	    				maxRecords : maxRecords,
    	    				index : index,
    	    				location : location,
    	    				zone : zone,
    	    				startDate : startDate,
    	    				endDate : endDate,
    	    				searchName : searchName,
    	    			},

    	    			beforeSend : function(xhr) {
    	    				$("#loading").css("display", "block");
    	    				$("#mainDiv").addClass("disabled");
    	    			},

    	    			success : function(result) {

    	    				activeMenu(flowUnder);
    	    				$('#right-side').html(result);
    	    				openMenu("liOutletReports", "ulOutletReports", 0);
    	    				openMenu("reports", "ulReports", 1);
    	    				openMenu("loyaltyProgramReport", "loyaltyProgramReports", 1);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    				//	
    	    			},
    	    			error : function(jqXHR, textStatus, errorThrown)  {
    	    				errorCode(jqXHR.status);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			}
    	    		//			

    	    		});
    	 }
    	  catch(e)
  	 	{
  	    	 errorCode(e);
  	 	}
    	    	}

    	    	function viewOMCRM(id) {
    	    		try{
    	    	
    	    		// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    		
    	    		var contextPath = $('#contextPath').val();
    	    		var URL = contextPath + "/reports/showCustomerRelationshipFlows.do";
    	    		$.ajax({
    	    			type : "GET",
    	    			url : URL,
    	    			data : {},
    	    			beforeSend : function(xhr) {
    	    				$("#loading").css("display", "block");
    	    				$("#mainDiv").addClass("disabled");
    	    			},
    	    			success : function(result) {
    	    				if (id != undefined)
    	    					activeMenu(id);
    	    				openMenu("liOutletReports", "ulOutletReports", 0);
    	    				openMenu("reports", "ulReports", 1);
    	    				$('#right-side').html(result);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			},
    	    			error : function(jqXHR, textStatus, errorThrown)  {
    	    				errorCode(jqXHR.status);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			}
    	    		});
    	    		}
    	    		catch(e)
    	    		{
    	    			errorCode(e);
    	    		}

    	    	}
    	      
    	      
    	     function viewShipments(id){
    	    	 
    	    	 try{
    	    	 
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 
    	    	 var contextPath = $('#contextPath').val();
    	    	 var URL = contextPath + "/inventorymanager/viewShipments.do";
    	    	 $.ajax({
    	    		type : "GET",
    	    		url : URL,
    	    		data : {},
    	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			$('#right-side').html(result);
    	    		// openMenu("warehouseDetails", "ulwarehouseDetails",1);
    	    			activeMenu(id);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
    	    	 }
    	    	 catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

    	    	 
    	     }
    	     
    	    /*
			 * function
			 * viewEditWarehouseStockVerification(verificationCode,type){ var
			 * contextPath = $("#contextPath").val(); var flowUnder;
			 * if((flowUnder == undefined || flowUnder == "" ) &&
			 * $("#flowUnder").length > 0) flowUnder = $("#flowUnder").val();
			 * URL = contextPath +
			 * "/inventorymanager/viewEditWarehouseStockVerification.do";
			 * $.ajax({ type: "GET", url : URL, data : { flowUnder : flowUnder,
			 * verificationCode : verificationCode, type : type, }, beforeSend:
			 * function(xhr){ $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
			 * openMenu("liSettings", "ulSettings",0);
			 * $("#right-side").html(result); if(id != undefined)
			 * activeMenu(id); $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 */
    	     function viewEditWarehouseStockVerification(id,verificationCode,type){
    	    	 // debugger;
    	    	 try{
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 
    			 var contextPath = $("#contextPath").val();
    			var flowUnder;
    			 if((flowUnder == undefined || flowUnder == "" ) && $("#flowUnder").length > 0)
     				flowUnder = $("#flowUnder").val();
    			 
    			 var maxRecords = 10;
       			if($("#maxRecords").length > 0)
       				maxRecords = $("#maxRecords").val();
    			 URL = contextPath + "/inventorymanager/viewEditWarehouseStockVerification.do";
    			$.ajax({
    				type: "GET",
    				url : URL,
    				data : {
    					flowUnder : flowUnder,
    					verificationCode : verificationCode,
    					type : type,
    					maxRecords : maxRecords
    				},
    				beforeSend: function(xhr){                    
    			   			$("#loading").css("display","block");
    			   			$("#mainDiv").addClass("disabled");
    			   		  },
    			   		success : function(result){
        	    			$('#right-side').html(result);
        	    			/*if(id == "outletStockVerification"){
        	    				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
        	    				openMenu("liInventoryManagement","ulInventoryManagement",1);
        	    				openMenu("storedetails", "ulstoredetails",1);
        	    			}
        	    			else if(id == "warehouseStockVerification"){
        	    				openMenu("liStockManagement","ulStockManagement",0);
        	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
        	    			}*/
        	    			if(id!=undefined && id != "")
        	    				activeMenu(id);
        	    			$("#loading").css("display","none");
        	    			$("#mainDiv").removeClass('disabled');
        	    		},
    			
    				error : function(jqXHR, textStatus, errorThrown)  {
    					 errorCode(jqXHR.status);
    					 $("#loading").css("display","none");
    					 $("#mainDiv").removeClass('disabled');
    				}
    			});
    	    	 }catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

    		}
    	     
    	     function selectProductGroupOnly(){
    	    	 var groupId = $("#outletProductGroup").val();
    	    	 if(groupId == null || groupId == undefined)
    	    		 groupId = "";
    	    	 	debugger	
    	    		if(groupId != "" && groupId != "ALL"){
    	    			$('#outletDepartmentId').val("");
    	    			$('#outletCategory').val("");
    	    			$('#outletSubcategory').val("");
    	    			$('#outletBrandId').val("");
    	    			$('#outletDepartmentId').addClass("disabled");
    	    			$('#outletCategory').addClass("disabled");
    	    			$('#outletSubcategory').addClass("disabled");
    	    			$('#outletBrandId').addClass("disabled");
    	    			
    	    		}else {
    	    			
    	    			$('#outletDepartmentId').removeClass("disabled");
    	    			$('#outletCategory').removeClass("disabled");
    	    			$('#outletSubcategory').removeClass("disabled");
    	    			$('#outletBrandId').removeClass("disabled");
    	    		}
    	    		
    	    	}
    	     
    	     
    /*
	 * function
	 * viewWarehouseStockVerification(id,index,flowUnder,menu,verificationCode){
	 * var location = "" if($("#location").length > 0) location =
	 * $("#location").val();
	 * 
	 * var maxRecords = 10; if($("#maxRecords").length > 0) maxRecords =
	 * $("#maxRecords").val();
	 * 
	 * //alert(flowUnder); var contextPath = $("#contextPath").val(); var URL =
	 * contextPath + "/inventorymanager/viewWarehouseStockVerification.do";
	 * $.ajax({ type : "GET", url : URL, data : { index : index, flowUnder :
	 * flowUnder, location : location, verificationCode : verificationCode,
	 * maxRecords : maxRecords }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result){ $('#right-side').html(result); if(id ==
	 * "outletStockVerification"){
	 * openMenu("liInventoryManagement","ulInventoryManagement",0);
	 * openMenu("storedetails", "ulstoredetails",1); } else if(id ==
	 * "warehouseStockVerification"){
	 * openMenu("liStockManagement","ulStockManagement",0);
	 * openMenu("warehouseDetails", "ulwarehouseDetails",1); } if(id!=undefined &&
	 * id != "") activeMenu(id); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } });
	 *  }
	 */
    	     

    	    /*
			 * function
			 * viewWarehouseStockVerification(id,index,flowUnder,menu,verificationCode,location){
			 * if(flowUnder == undefined){
			 * if((($("#searchwarehouseStockVerification").length > 0 &&
			 * $("#searchwarehouseStockVerification").val().trim() != "") ||
			 * ($("#from").length > 0 && $("#from").val().trim() != "") ||
			 * ($("#to").length > 0 && $("#to").val().trim() != "")) || index !=
			 * '0'){
			 * searchwarehouseStockVerification($("#searchwarehouseStockVerification").val(),
			 * 'searchwarehouseStockVerification',index); return; } }
			 * if($("#location").length > 0) location = $("#location").val();
			 * 
			 * var maxRecords = 10; if($("#maxRecords").length > 0) maxRecords =
			 * $("#maxRecords").val();
			 * 
			 * //alert(flowUnder); var contextPath = $("#contextPath").val();
			 * var URL = contextPath +
			 * "/inventorymanager/viewWarehouseStockVerification.do"; $.ajax({
			 * type : "GET", url : URL, data : { index : index, flowUnder :
			 * flowUnder, location : location, verificationCode :
			 * verificationCode, //startdate : startdate, //enddate : enddate,
			 * maxRecords : maxRecords }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success :
			 * function(result){
			 * 
			 * $('#right-side').html(result); if(id ==
			 * "outlettStockVerification"){
			 * openMenu("liInventoryManagement","ulInventoryManagement",0);
			 * //openMenu("liStockManagement","ulStockManagement",0);
			 * openMenu("storedetails", "ulstoredetails",1); } else if(id ==
			 * "warehouseStockVerification"){
			 * openMenu("liStockManagement","ulStockManagement",0);
			 * openMenu("warehouseDetails", "ulwarehouseDetails",1); }
			 * if(id!=undefined && id != "") activeMenu(id);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 */
    	     
    	   /*
			 * written by:manasa.p Purpose:to write off the verification
			 */
    	     
    	     function doWriteOffVerification(id,verificationCode,type){
    	    	  debugger;
    	    	 try{
    	    	 
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 
    	    	 var finalobj = {},verificationItems = [];
    			 var contextPath = $("#contextPath").val();
    		    // finalobj.status=$("#status").val();
    		     finalobj.startTimeStr=$("#startTime").val();
    		     finalobj.location=$("#locationStr").val();
    		     finalobj.verifiedDateStr=$("#startDateStr").val();
    			finalobj.updatedOnStr=$("#endDateStr").val();
    			finalobj.flowUnder = $("#flowUnder").val();
    			finalobj.endTimeStr=$("#endTime").val();
    			 finalobj.verified_by=$("#verifiedBy").val();
    			// finalobj.zone=$("#zone").val();
    			 finalobj.verification_code=verificationCode;
    			 finalobj.masterVerificationCode=$("#masterVerificationCode").val();
    			
    			 if(parseInt($("#verifiedBy").val().length)>25){
    	 			 $("#verifiedBy").focus();
    	 				$("#verifiedByError").html("VerifiedBy can't exceeds 25 Characters");
    	 				return;
    	 		}else{
    	 	   	 $("#verifiedByError").html(" ");
    	 	 }
    			  if($('#nostatus').val()=='nostatus'){
                       finalobj.status = "Submitted";
                   }
                   else if($('#statusissue').val() == ''){
                        finalobj.status = $('#defaultstatus').val();
                   }
                   else{
                        finalobj.status = $('#statusissue').val(); 
                   }
	     		 
    			 
    			 var len1 = $("#verifiedStocks tr").length - 1;
    			 for(var i=1;i<=len1;i++){
    				 var idAttr = $("#verifiedStocks tr:eq("+i+")").attr("id").replace("itemsRow",'');
    			 
    				 var stockLossQty=$("#stockLosssqty"+idAttr).text();
    				 
    				/*
					 * if (stockLossQty == "") { stockLossQty = 0.0; }
					 */
    				 
    			 var obj={ean:$("#ean"+idAttr).text(),mrpValue:$("#mrpValue"+idAttr).text(),costPriceValue:$("#costPriceValue"+idAttr).text(),color:$("#color"+idAttr).val(),size:$("#size"+idAttr).val(),modal:$("#modal"+idAttr).val(),pluCode:$("#pluCode"+idAttr).val(),sku_id:$("#skuId"+idAttr).text(),verification_code:$("#verificationCode"+idAttr).val(),skuDescription:$("#skuDescription"+idAttr).text(),openStock:$("#openStock"+idAttr).text(),saleQty:$("#saleQty"+idAttr).text(),sku_book_stock:$("#skuBookStock"+idAttr).text(),sku_physical_stock:$("#skuPhyStock"+idAttr).text(),declaredQty:$("#declaredQty"+idAttr).text().trim(),dumpQty:$("#dumpQty"+idAttr).text(),stockLossQty:stockLossQty,closedStock:$("#closedStock"+idAttr).text(),loss_type:$("#lossType"+idAttr).val()};
    			 verificationItems.push(obj);
    			 }
    			 
    			 finalobj.itemsList=verificationItems;
    			 
    			 var formData  = JSON.stringify(finalobj);
    			 
    			 console.log(formData)
    			var URL = contextPath + "/inventorymanager/writeOffStockVerification.do";
    			 $.ajax({
	           			type: "POST",
	           			url : URL,
	           			contentType: "application/json",
	           			data : 	formData,
	           			beforeSend: function(xhr){                    
	           	   			$("#loading").css("display","block");
	           	   			$("#mainDiv").addClass("disabled");
	           	   		  },
    			   		success : function(result){
        	    			$('#right-side').html(result);
        	    			/*
							 * if(id == "outletStockVerification"){
							 * openMenu("liInventoryManagement","ulInventoryManagement",0);
							 * openMenu("storedetails", "ulstoredetails",1); }
							 */
        	    			/*
							 * else if(id == "warehouseStockVerification"){
							 * openMenu("liStockManagement","ulStockManagement",0);
							 * openMenu("warehouseDetails",
							 * "ulwarehouseDetails",1); }
							 */
        	    			if(id!=undefined && id != "")
        	    				activeMenu(id);
        	    			$("#loading").css("display","none");
        	    			$("#mainDiv").removeClass('disabled');
        	    		},
    			
    				error : function(jqXHR, textStatus, errorThrown)  {
    					 errorCode(jqXHR.status);
    					 $("#loading").css("display","none");
    					 $("#mainDiv").removeClass('disabled');
    				}
    			});
    	    	 }
    	    	 catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

    		}
    	     
    	    
    	     
    	     
    	     
    	     
    	     function viewWarehouseStockVerification(id,index,flowUnder,menu,verificationCode,location){
    	    	 try{
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 
      	     	// debugger;
     	   /*
			 * if(flowUnder == undefined){
			 * if((($("#searchwarehouseStockVerification").length > 0 &&
			 * $("#searchwarehouseStockVerification").val().trim() != "") ||
			 * ($("#from").length > 0 && $("#from").val().trim() != "") ||
			 * ($("#to").length > 0 && $("#to").val().trim() != "")) || index !=
			 * '0'){
			 * searchwarehouseStockVerification($("#searchwarehouseStockVerification").val(),
			 * 'searchwarehouseStockVerification',index); return; } }
			 */
     	    	 var location = "";
      	    	if($("#location").length > 0)
      	    		location = $("#location").val();
      	    	var zone = "";
      	    	if($("#outletZone").length > 0)
      	    		zone = $("#outletZone").val();
      			
      			if($("#location").val()=="all")
      				location="";
      	    	
      			var maxRecords = 10;
      			if($("#maxRecords").length > 0)
      				maxRecords = $("#maxRecords").val();
      			var startDate="";
      			if($("#startDate").length > 0)
      				startDate = $("#startDate").val();
      			var endDate="";
      			if($("#endDate").length > 0)
      				endDate = $("#endDate").val();
      			var searchName="";
      			if($("#searchStockVerification").length > 0)
      				searchName = $("#searchStockVerification").val();
      			var category = "";
     	    	if($("#outletCategory").length > 0)
     	    		category = $("#outletCategory").val();
     	    	
     	    	var subcategory = "";
     	    	if($("#outletSubcategory").length > 0)
     	    		subcategory = $("#outletSubcategory").val();
     	    	var section = "";
 	    		if ($("#section").length > 0)
 	    			section = $("#section").val();
 	    		var department = null;
       			if($("#outletDepartmentId").length > 0)
       				department = $("#outletDepartmentId").val();
       			var subdepartment = null;
       			if($("#outletSubDepartmentId").length > 0)
       				subdepartment = $("#outletSubDepartmentId").val();
      		
      			
      			var contextPath = $("#contextPath").val();
// alert(contextPath);
      	    	 var URL = contextPath + "/inventorymanager/viewWarehouseStockVerification.do";
      	    	 $.ajax({
      	    		type : "GET",
      	    		url : URL,
      	    		data : {
      	    			index : index,
             				flowUnder : flowUnder,
             				location : location,
             				verificationCode : verificationCode,
             				startDate : startDate,
             				endDate : endDate,
             				maxRecords : maxRecords,
             				searchName : searchName,
             				zone : zone,
             				department : department,
             				subdepartment : subdepartment,
             				category : category,
             				subcategory : subcategory,
             				section	: section
      	    		
      	    		},
      	    		beforeSend: function(xhr){                    
     	   	   			$("#loading").css("display","block");
     	   	   			$("#mainDiv").addClass("disabled");
     	   	   		  },
     	    		success : function(result){
     	    			$('#right-side').html(result);
     	    			
     	    			
     	    		
     	    			if(flowUnder == "outlet"){
     	    				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
     	    				openMenu("liInventoryManagement","ulInventoryManagement",1);
     	    				openMenu("storedetails", "ulstoredetails",1);
     	    			}
     	    			else if(flowUnder == "warehouse"){
     	    				openMenu("liWarehouseStockVerifications","ulWarehouseStockVerifications",0);
    	    				openMenu("liStockManagement","ulStockManagement",1);
    	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
     	    			}
     	    			
     	    			if(id!=undefined && id != "")
     	    				activeMenu(id);
     	    			$("#loading").css("display","none");
     	    			$("#mainDiv").removeClass('disabled');
     	    		},
     	    		error : function(jqXHR, textStatus, errorThrown) {
     	    			errorCode(jqXHR.status);
     	    			$("#loading").css("display","none");
     	 				$("#mainDiv").removeClass('disabled');
     	    		}
      	    	 });
    	    	 }catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

     	     }

    	     function viewStockVerificationOpen(id,index,flowUnder,menu,verificationCode,status,verifiedBy,startTimeStr,endTimeStr,verifiedOnStr,verifiedUptoStr, zone,location,operation,masterVerificationcode){
                	 debugger;
                	
                	try{
                	// purpose:for checking internet conection
                	var online = window.navigator.onLine;
                  	if(!online){
                  	alert("Check your internet connection,Please try agian after some time.");
                  	return;
                  	}
       	    	 if(flowUnder == undefined){
     					if((($("#searchwarehouseStockVerification").length > 0 && $("#searchwarehouseStockVerification").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
     						searchwarehouseStockVerification($("#searchwarehouseStockVerification").val(), 'searchwarehouseStockVerification',index);
     						return;
     					}
     				}
       	    	 
        			
        			var maxRecords = 10;
        			if($("#maxRecords").length > 0)
        				maxRecords = $("#maxRecords").val();
        			
        			var startDate="";
        			if($("#startDate").length > 0)
        				startDate = $("#startDate").val();
        			
        			var endDate="";
        			if($("#endDate").length > 0)
        				endDate = $("#endDate").val();
        			
        			var searchName="";
        			if($("#searchStockVerification").length > 0)
        				searchName = $("#searchStockVerification").val();
        			
        		
        			var formData={}
       			 
       			 // added by manasa
        			
       			 var productCategory = "";
       			 if($("#outletCategory").length > 0)
       				 productCategory = $("#outletCategory").val();
       			
       			 formData.store_location = $("#location").val();
       			// alert(formData.store_location)
       			 formData.productCategory = productCategory;
       			 formData.subCategory = $("#outletSubcategory").val();
       			 formData.department = $("#outletDepartmentId").val();
       			 formData.subDepartment= $("#outletSubDepartmentId").val();
       			 formData.startDate = $("#startDate").val();
       			 formData.endDate = $("#endDate").val();
       			
       			 var formData = JSON.stringify(formData);
        			
        			// alert(flowUnder);
        			var contextPath = $("#contextPath").val();
        	    	 var URL = contextPath + "/inventorymanager/viewOpenStockVerificationReport.do";
        	    	 $.ajax({
        	    		type : "GET",
        	    		url : URL,
        	    		data : {
        	    			index : index,
               				flowUnder : flowUnder,
               				location : location,
               				verificationCode : verificationCode,
               				maxRecords : maxRecords,
               				status : status,
               				verifiedBy : verifiedBy,
               				startTimeStr : startTimeStr,
               				endTimeStr :endTimeStr,
               				verifiedOnStr : verifiedOnStr,
               				verifiedUptoStr : verifiedUptoStr,
               				zone: zone,
               				operation : operation,
               				masterVerificationcode : masterVerificationcode,
               				formData : formData
        	    		},
        	    		beforeSend: function(xhr){                    
       	   	   			$("#loading").css("display","block");
       	   	   			$("#mainDiv").addClass("disabled");
       	   	   		  },
       	    		success : function(result){
       	    			$('#right-side').html(result);
       	    			if(flowUnder == "outlet"){
       	    				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
       	    				openMenu("liInventoryManagement","ulInventoryManagement",1);
       	    				openMenu("storedetails", "ulstoredetails",1);
       	    			}
       	    			else if(flowUnder == "warehouse"){
       	    				openMenu("liWarehouseStockVerifications","ulWarehouseStockVerifications",0);
    	    				openMenu("liStockManagement","ulStockManagement",1);
    	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
       	    			}
       	    			if(id!=undefined && id != "")
       	    				activeMenu(id);
       	    			$("#loading").css("display","none");
       	    			$("#mainDiv").removeClass('disabled');
       	    		},
       	    		error : function(jqXHR, textStatus, errorThrown) {
       	    			errorCode(jqXHR.status);
       	    			$("#loading").css("display","none");
       	 				$("#mainDiv").removeClass('disabled');
       	    		}
        	    	 });
                	}
                	catch(e)
    	    		{
    	    			errorCode(e);
    	    		}

       	     }
    	     

    	     
    	     
    	     
    	     
    	     
    	     
    	     
    	     
    	     
    	     function viewStockVerificationOpenForPagination(id,index,flowUnder,menu,verificationCode,status,verifiedBy,startTimeStr,endTimeStr,verifiedOnStr,verifiedUptoStr, zone,location,operation,masterVerificationcode){
             	// debugger;
             	
             	try{
             	// purpose:for checking internet conection
             	var online = window.navigator.onLine;
               	if(!online){
               	alert("Check your internet connection,Please try agian after some time.");
               	return;
               	}
    	    	 if(flowUnder == undefined){
  					if((($("#searchwarehouseStockVerification").length > 0 && $("#searchwarehouseStockVerification").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
  						searchwarehouseStockVerification($("#searchwarehouseStockVerification").val(), 'searchwarehouseStockVerification',index);
  						return;
  					}
  				}
    	    	 
     			
     			var maxRecords = 10;
     			if($("#maxRecords").length > 0)
     				maxRecords = $("#maxRecords").val();
     			
     			var startDate="";
     			if($("#startDate").length > 0)
     				startDate = $("#startDate").val();
     			
     			var endDate="";
     			if($("#endDate").length > 0)
     				endDate = $("#endDate").val();
     			
     			var searchName="";
     			if($("#searchStockVerification").length > 0)
     				searchName = $("#searchStockVerification").val();
     			
     		
     			var formData={}
    			 
    			 // added by manasa
     			
    			 var productCategory = "";
    			 if($("#outletCategory").length > 0)
    				 productCategory = $("#outletCategory").val();
    			
    			 formData.store_location = $("#location").val();
    			// alert(formData.store_location)
    			 formData.productCategory = productCategory;
    			 formData.subCategory = $("#outletSubcategory").val();
    			 formData.department = $("#outletDepartmentId").val();
    			 formData.subDepartment= $("#outletSubDepartmentId").val();
    			 formData.startDate = $("#startDate").val();
    			 formData.endDate = $("#endDate").val();
    			
    			 var formData = JSON.stringify(formData);
     			
     			// alert(flowUnder);
     			var contextPath = $("#contextPath").val();
     	    	 var URL = contextPath + "/inventorymanager/viewOpenVerificationforPagination.do";
     	    	 $.ajax({
     	    		type : "GET",
     	    		url : URL,
     	    		data : {
     	    			index : index,
            				flowUnder : flowUnder,
            				location : location,
            				verificationCode : verificationCode,
            				maxRecords : maxRecords,
            				status : status,
            				verifiedBy : verifiedBy,
            				startTimeStr : startTimeStr,
            				endTimeStr :endTimeStr,
            				verifiedOnStr : verifiedOnStr,
            				verifiedUptoStr : verifiedUptoStr,
            				zone: zone,
            				operation : operation,
            				masterVerificationcode : masterVerificationcode,
            				formData : formData
     	    		},
     	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			// debugger
    	    			$('#verificationItems').html((result));
    	    			if(id == "outletStockVerificationReport"){
    	    				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
    	    				openMenu("liInventoryManagement","ulInventoryManagement",1);
    	    				openMenu("storedetails", "ulstoredetails",1);
    	    			}
    	    			else if(id == "warehouseStockVerification"){
    	    				openMenu("liStockManagement","ulStockManagement",0);
    	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
    	    			}
    	    			if(id!=undefined && id != "")
    	    				activeMenu(id);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
     	    	 });
             	}
             	catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

    	     }

    	     
    	     
    	     
    	     function viewEditWriteOffStockVerification(id,index,flowUnder,menu,verificationCode,status,verifiedBy,startTimeStr,endTimeStr,verifiedOnStr,verifiedUptoStr, zone,location,operation){
             	// debugger;
             	try{
             	// purpose:for checking internet conection
            	var online = window.navigator.onLine;
              	if(!online){
              	alert("Check your internet connection,Please try agian after some time.");
              	return;
              	}
             	
    	    	 if(flowUnder == undefined){
  					if((($("#searchwarehouseStockVerification").length > 0 && $("#searchwarehouseStockVerification").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
  						searchwarehouseStockVerification($("#searchwarehouseStockVerification").val(), 'searchwarehouseStockVerification',index);
  						return;
  					}
  				}
    	    	 
     			
     			var maxRecords = 10;
     			if($("#maxRecords").length > 0)
     				maxRecords = $("#maxRecords").val();
     			
     			var startDate="";
     			if($("#startDate").length > 0)
     				startDate = $("#startDate").val();
     			
     			var endDate="";
     			if($("#endDate").length > 0)
     				endDate = $("#endDate").val();
     			
     			var searchName="";
     			if($("#searchStockVerification").length > 0)
     				searchName = $("#searchStockVerification").val();
     			
     		
     			var formData={}
    			 
    			 // added by manasa
    			
    			 var productCategory = "";
    			 if($("#outletCategory").length > 0)
    				 productCategory = $("#outletCategory").val();
    			
    			 formData.store_location = $("#location").val();
    			// alert(formData.store_location)
    			 formData.productCategory = productCategory;
    			 formData.subCategory = $("#outletSubcategory").val();
    			 formData.department = $("#outletDepartmentId").val();
    			 formData.subDepartment= $("#outletSubDepartmentId").val();
    			 formData.startDate = $("#startDate").val();
    			 formData.endDate = $("#endDate").val();
    			
    			 var formData = JSON.stringify(formData);
     			
     			// alert(flowUnder);
     			var contextPath = $("#contextPath").val();
     	    	 var URL = contextPath + "/inventorymanager/viewEditWriteOffStockVerificationReport.do";
     	    	 $.ajax({
     	    		type : "GET",
     	    		url : URL,
     	    		data : {
     	    			index : index,
            				flowUnder : flowUnder,
            				location : location,
            				verificationCode : verificationCode,
            				maxRecords : maxRecords,
            				status : status,
            				verifiedBy : verifiedBy,
            				startTimeStr : startTimeStr,
            				endTimeStr :endTimeStr,
            				verifiedOnStr : verifiedOnStr,
            				verifiedUptoStr : verifiedUptoStr,
            				zone: zone,
            				operation : operation,
            				formData : formData
     	    		},
     	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			$('#right-side').html(result);
    	    			if(id == "outletStockVerificationReport"){
    	    				openMenu("liInventoryManagement","ulInventoryManagement",0);
    	    				openMenu("storedetails", "ulstoredetails",1);
    	    			}
    	    			else if(id == "warehouseStockVerification"){
    	    				openMenu("liStockManagement","ulStockManagement",0);
    	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
    	    			}
    	    			if(id!=undefined && id != "")
    	    				activeMenu(id);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
     	    	 });
             	}
             	catch(e)
	    		{
	    			errorCode(e);
	    		}

    	     }
    	     
    	     
    	     


    	     function searchwarehouseStockVerification(name,searchCategory,index){
    	    	// purpose:for checking internet conection
    	    	 try{
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
		   		 var location = "";
		   		var startDate = "";
    	 		 var endDate = "";
    	 		 if($("#location").length>0 && $("#location").val != "ALL")
	    	 		location = $("#location").val();
    	 			if($("#from").val() != "" && $("#to").val() != ""){
    		 			var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
    					 if(noOfDays < 0){
    						 alert("Start Date can't be less than End Date");
    						 return;
    					 }
    					 startDate = $("#from").val() + " 00:00:00";
    					 endDate = $("#to").val() + " 00:00:00";
    	 			}else if($("#from").val() != "")
    					 startDate = $("#from").val() + " 00:00:00";
    	 			else if($("#to").val() != "")
    	 				endDate = $("#to").val() + " 00:00:00";
	    	 		var maxRecords = 10;
	    	 		 if($("#maxRecords").length>0)
	    	 			 maxRecords = $("#maxRecords").val();
	    	 		var flowUnder = $("#flowUnder").val();
			  		 var contextPath = $("#contextPath").val();
			  		 URL = contextPath + "/inventorymanager/searchwarehouseStockVerification.do";
			  		 $.ajax({
			  				type: "GET",
			  				url : URL,
			  				data : {
			  					searchName : name,
			  					index : index,
			  					location : location,
			  					maxRecords : maxRecords,
			  					startDate : startDate,
	    	 					endDate : endDate,
			  					flowUnder : flowUnder
			  				},
			  				beforeSend: function(xhr){                    
			  		   	   		$("#loading").css("display","block");
			  		   	   		$("#mainDiv").addClass("disabled");
			  		   	   	},
			  				success : function(result) {
			  					$('#right-side').html(result);
			  					$("#loading").css("display","none");
			  					$("#mainDiv").removeClass('disabled');
			  				},
			  				error : function(jqXHR, textStatus, errorThrown)  {
			  					 errorCode(jqXHR.status);
			  					 $("#loading").css("display","none");
			  		 			 $("#mainDiv").removeClass('disabled');
			  				}
			  			});
    	    	 }catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

			  	}
    	     




    	     function printbusinessdocument(flow,id,eway){
    	    	 try{
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}

if(eway == undefined){
	eway = false;
}else{
	eway = true;
}
    	    	 // debugger
    	    		var contextPath = $("#contextPath").val();
    	    		URL = contextPath + "/inventorymanager/printbusinessdocument.do";
    	    			$.ajax({
    	    				type: "GET",
    	    				url : URL,
    	    				data : {
    	    					id : id,
    	    					operation : flow,
                                eway : eway
    	    				},
    	    				beforeSend: function(xhr){                    
    	    		   			$("#loading").css("display","block");
    	    		   			$("#mainDiv").addClass("disabled");
    	    		   		  },
    	    				success : function(result) {
    	    					  data=JSON.parse(JSON.stringify(result));
    	    					  messageStatus= JSON.stringify(result);
    	    						var parsed_json = JSON.parse(messageStatus);
    	    						var error = parsed_json.err;
    	    						if(error != undefined && error !=""){
    	    							 $("#Error").html(error);
    	    						}
    	    					  var anchor = document.createElement('a');
    	    					  anchor.href = data.urlOfPdf;
    	    					  anchor.target = '_blank';
    	    					  // anchor.download = '';
    	    					  if(data.urlOfPdf != null){
    	    					  anchor.click();
    	    					  }
    	    					$("#loading").css("display","none");
    	    					$("#mainDiv").removeClass('disabled')
    	    				},
    	    				error : function(jqXHR, textStatus, errorThrown)  {
    	    					 errorCode(jqXHR.status);
    	    					$("#loading").css("display","none");
    	    					$("#mainDiv").removeClass('disabled');
    	    				}
    	    			});
    	    	 }catch(e)
 	    		{
 	    			errorCode(e);
 	    		}


    	     }
    	     
    	     function viewStockVerification(id,index,flowUnder,menu,mastercode){
    	    try{
    	    	debugger;
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	  	// debugger
    	    	 var location = ""
    			if(flowUnder == undefined || flowUnder == ""){
    				if((($("#searchStockVerification").length > 0 && $("#searchStockVerification").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
    					searchStockVerification($("#searchStockVerification").val(), 'searchStockVerification',index);
    					return;
    				}
    			}
    	    	if(menu == undefined)
    			if($("#location").length > 0)
    				location = $("#location").val();
    			var maxRecords = 10;
    			if($("#maxRecords").length > 0)
    				maxRecords = $("#maxRecords").val();
    			if((flowUnder == undefined || flowUnder == "" ) && $("#flowUnder").length > 0)
    				flowUnder = $("#flowUnder").val();
    			var contextPath = $("#contextPath").val();
    	    	 var URL = contextPath + "/inventorymanager/viewStockVerification.do";
    	    	 $.ajax({
    	    		type : "GET",
    	    		url : URL,
    	    		data : {
    	    			index : index,
           				flowUnder : flowUnder,
           				location : location,
           				maxRecords : maxRecords,
           				mastercode : mastercode
    	    		},
    	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			$('#right-side').html(result);
    	    			if(id == "outletStockVerification"){
    	    				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
    	    				openMenu("liInventoryManagement","ulInventoryManagement",1);
    	    				openMenu("storedetails", "ulstoredetails",1);
    	    			}
    	    			
    	    			else if(id == "warehouseStockVerification"){
    	    				openMenu("liWarehouseStockVerifications","ulWarehouseStockVerifications",0);
    	    				openMenu("liStockManagement","ulStockManagement",1);
    	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
    	    			}
    	    			if(id!=undefined && id != "")
    	    				activeMenu(id);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
    	    }
    	    catch(e)
    		{
    			errorCode(e);
    		}

    	     }
    	     function viewEditStockVerification(verificationCode,index,type){
    	    	 try{
    	    		 // purpose:for checking internet conection
    	    		 var online = window.navigator.onLine;
    	    		 if(!online){
    	    			 alert("Check your internet connection,Please try agian after some time.");
    	    			 return;
    	    		 }
    	    		 var flowUnder = $("#flowUnder").val();
    	    		 var location = $("#location").val();
    	    		 var contextPath = $('#contextPath').val();
    	    		 if($("#location").length > 0)
    	    			 var	location = $("#location").val();
    	    		 var masterverificationCode=$('#master_verification_code').val();
    	    		 var maxRecords = "10";
    	    		 if($("#maxRecords").length > 0)
    	    			 maxRecords = $("#maxRecords").val();
    	    		 var URL = contextPath + "/inventorymanager/viewEditStockVerification.do";
    	    		 $.ajax({
    	    			 type : "GET",
    	    			 url : URL,
    	    			 data : {
    	    				 verificationCode : verificationCode,
    	    				 // masterverificationCode :
								// masterverificationCode,
    	    				 index : index,
    	    				 location :location,
    	    				 maxRecords : maxRecords,
    	    				 type : type,
    	    				 flowUnder : flowUnder
    	    			 },
    	    			 beforeSend: function(xhr){                    
    	    				 $("#loading").css("display","block");
    	    				 $("#mainDiv").addClass("disabled");
    	    			 },
    	    			 success : function(result){
    	    				 $('#right-side').html(result);
    	    				 $("#flowUnder").val(flowUnder);
    	    				 $("#location").val(location);
    	    				 $("#loading").css("display","none");
    	    				 $("#mainDiv").removeClass('disabled');
    	    			 },
    	    			 error : function(jqXHR, textStatus, errorThrown) {
    	    				 errorCode(jqXHR.status);
    	    				 $("#loading").css("display","none");
    	    				 $("#mainDiv").removeClass('disabled');
    	    			 }
    	    		 });
    	    	 }catch(e)
    	    	 {
    	    		 errorCode(e);
    	    	 }

    	     }
    	     
    	    
    	     function viewMaterialConsumption(id,index,flowUnder,menu){
    	    	 try{
    	    		 debugger;
    	    		 // purpose:for checking internet conection
    	    		 var online = window.navigator.onLine;
    	    		 if(!online){
    	    			 alert("Check your internet connection,Please try agian after some time.");
    	    			 return;
    	    		 }
    	    		 var search = ""
    	    			 var location = "";
    	    		 if($("#outletLocation").length > 0)
    	    			 location = $("#outletLocation").val();
    	    		 var zone = "";
    	    		 if($("#outletZone").length > 0)
    	    			 zone = $("#outletZone").val();

    	    		 var dateTime = getCurrentDate();
    	    		 var date = dateTime.split(' ');
    	    		 date = date[0].split('/');
    	    		 var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
    	    		 var startdate = formatedDate;
    	    		 if($("#from").length > 0)
    	    			 startdate = $("#from").val();
    	    		 var enddate = "";
    	    		 if($("#to").length > 0)
    	    			 enddate = $("#to").val();
    	    		 
    	    		 var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
       	    		 if(noOfDays < 0){
       	    			 $("#endDateError").html("End Date can't be less than Start Date");
       	    			 return;
       	    		 }else{
       	    	  	   	 $("#endDateError").html(" ");
       	    	  	 }
    	    		 
    	    		 var category = "";
    	    		 if($("#outletCategory").length > 0)
    	    			 category = $("#outletCategory").val();
    	    		 var subcategory = "";
    	    		 if($("#outletSubcategory").length > 0)
    	    			 subcategory = $("#outletSubcategory").val();
    	    		 var brand = "";
    	    		 if($("#outletBrandId").length > 0)
    	    			 brand = $("#outletBrandId").val();
    	    		 var maxRecords = 10;
    	    		 if($("#maxRecords").length > 0)
    	    			 maxRecords = $("#maxRecords").val();
    	    		 if((flowUnder == undefined || flowUnder == "" ) && $("#flowUnder").length > 0)
    	    			 flowUnder = $("#flowUnder").val();
    	    		 var contextPath = $("#contextPath").val();
    	    		 var URL = contextPath + "/inventorymanager/viewMaterialConsumption.do";
    	    		 $.ajax({
    	    			 type : "GET",
    	    			 url : URL,
    	    			 data : {
    	    				 index : index,
    	    				 flowUnder : flowUnder,
    	    				 location : location,
    	    				 zone : zone,
    	    				 category : category,
    	    				 subcategory : subcategory,
    	    				 brand : brand,
    	    				 startdate: startdate,
    	    				 enddate : enddate,
    	    				 maxRecords : maxRecords,
    	    				 search : search
    	    			 },
    	    			 beforeSend: function(xhr){                    
    	    				 $("#loading").css("display","block");
    	    				 $("#mainDiv").addClass("disabled");
    	    			 },
    	    			 success : function(result){
    	    				 $('#right-side').html(result);
    	    				 if(id == "outletMaterialConsumption"){
    	    					 openMenu("liInventoryManagement","ulInventoryManagement",0);
    	    					 openMenu("storedetails", "ulstoredetails",1);
    	    				 }
    	    				 else if(id == "warehouseStockVerification"){
    	    					 openMenu("liStockManagement","ulStockManagement",0);
    	    					 openMenu("warehouseDetails", "ulwarehouseDetails",1);
    	    				 }
    	    				 if(id!=undefined && id != "")
    	    					 activeMenu(id);
    	    				 $("#loading").css("display","none");
    	    				 $("#mainDiv").removeClass('disabled');
    	    			 },
    	    			 error : function(jqXHR, textStatus, errorThrown) {
    	    				 errorCode(jqXHR.status);
    	    				 $("#loading").css("display","none");
    	    				 $("#mainDiv").removeClass('disabled');
    	    			 }
    	    		 });
    	    	 }catch(e)
    	    	 {
    	    		 errorCode(e);
    	    	 }


    	     }
    	     
    	     
    	     function viewoutletstockMovement(id,index,flowUnder,menu){
    	    	 try{
    	    		 debugger;
    	    		 // purpose:for checking internet conection
    	    		 var online = window.navigator.onLine;
    	    		 if(!online){
    	    			 alert("Check your internet connection,Please try agian after some time.");
    	    			 return;
    	    		 }
    	    		 var search =$("#searchAccount").val();
    	    		 if(search==undefined){
    	    			 search="";
    	    		 }
    	    		 var saveFlag ="";
    	    			 var location = "";
    	    		 if($("#outletLocation").length > 0)
    	    			 location = $("#outletLocation").val();
    	    		 var zone = "";
    	    		 if($("#outletZone").length > 0)
    	    			 zone = $("#outletZone").val();

    	    		 var dateTime = getCurrentDate();
    	    		 var date = dateTime.split(' ');
    	    		 date = date[0].split('/');
    	    		 var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
    	    		 var startdate = formatedDate;
    	    		 if($("#from").length > 0)
    	    			 startdate = $("#from").val();
    	    		 var enddate = formatedDate;
    	    		 if($("#to").length > 0)
    	    			 enddate = $("#to").val();
    	    		 
    	    		 
    	    		 var category = "";
    	    		 if($("#outletCategory").length > 0)
    	    			 category = $("#outletCategory").val();
    	    		 var subcategory = "";
    	    		 if($("#outletSubcategory").length > 0)
    	    			 subcategory = $("#outletSubcategory").val();
    	    		 var brand = "";
    	    		 if($("#outletBrandId").length > 0)
    	    			 brand = $("#outletBrandId").val();
    	    		 var maxRecords = 10;
    	    		 if($("#maxRecords").length > 0)
    	    			 maxRecords = $("#maxRecords").val();
    	    		 if((flowUnder == undefined || flowUnder == "" ) && $("#flowUnder").length > 0)
    	    			 flowUnder = $("#flowUnder").val();
    	    		 if(menu=="save"){
    	    			 saveFlag="save";
    	    		 }
    	    		 if(menu=="clear"){
    	    			 location="";
    	    			 zone="";
    	    			 category="";
    	    			 subcategory="";
    	    			 brand="";
    	    			 startdate="";
    	    			 enddate="";
    	    			 search="";
    	    			
    	    		 }
    	    		 
    	    		 if(enddate!="" || enddate!=null)
    	    			 {
    	    				 var  allownoOfDays = daydiff(parseDate(startdate), parseDate(enddate));
    	    				 if(allownoOfDays > 31){
    	    					 alert("Date Range should not exceed a Month");
    	    					 return false;
    	    				 }
    	    			 }
    	    		 
    	    		 debugger
    	    		 if(startdate!=undefined || startdate!= "" && enddate!=undefined || enddate!= ""){
    	    		 var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
       	    		 if(noOfDays < 0){
       	    			 $("#endDateError").html("End Date can't be less than Start Date");
       	    			 return;
       	    		 }else{
       	    	  	   	 $("#endDateError").html(" ");
       	    	  	 }
    	    	 }
    	    		 
    	    		 
    	    		 var contextPath = $("#contextPath").val();
    	    		 var URL = contextPath + "/inventorymanager/viewoutletstockMovement.do";
    	    		 $.ajax({
    	    			 type : "GET",
    	    			 url : URL,
    	    			 data : {
    	    				 index : index,
    	    				 flowUnder : flowUnder,
    	    				 location : location,
    	    				 zone : zone,
    	    				 category : category,
    	    				 subcategory : subcategory,
    	    				 brand : brand,
    	    				 startdate: startdate,
    	    				 enddate : enddate,
    	    				 maxRecords : maxRecords,
    	    				 search : search,
    	    				 saveFlag:saveFlag,
    	    			 },
    	    			 beforeSend: function(xhr){                    
    	    				 $("#loading").css("display","block");
    	    				 $("#mainDiv").addClass("disabled");
    	    			 },
    	    			 success : function(result){
    	    				 $('#right-side').html(result);
    	    				 if(saveFlag=="save"){
    	    					 var anchor = document.createElement('a');
    	    	 					anchor.href = $("#stockdownloadurl").val();
    	    	 					anchor.target = '_blank';
    	    	 					anchor.download = '';
    	    	 					if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
    	    	 						anchor.click();
    	    				 }
    	    				
    	 					
    	    				 if(id == "outletstockMovement"){
    	    					 openMenu("liInventoryManagement","ulInventoryManagement",0);
    	    					 openMenu("storedetails", "ulstoredetails",1);
    	    				 }
    	    				 else if(id == "warehouseStockVerification"){
    	    					 openMenu("liStockManagement","ulStockManagement",0);
    	    					 openMenu("warehouseDetails", "ulwarehouseDetails",1);
    	    				 }
    	    				 if(id!=undefined && id != "")
    	    					 activeMenu(id);
    	    				 $("#loading").css("display","none");
    	    				 $("#mainDiv").removeClass('disabled');
    	    			 },
    	    			 error : function(jqXHR, textStatus, errorThrown) {
    	    				 errorCode(jqXHR.status);
    	    				 $("#loading").css("display","none");
    	    				 $("#mainDiv").removeClass('disabled');
    	    			 }
    	    		 });
    	    	 }catch(e)
    	    	 {
    	    		 errorCode(e);
    	    	 }


    	     }
    	     
    	     
    	     
    	     













  function searchStockVerification(name,searchCategory,index){
		   		// debugger
    	    	try{
		   	// purpose:for checking internet conection
		   		var online = window.navigator.onLine;
		   	  	if(!online){
		   	  	alert("Check your internet connection,Please try agian after some time.");
		   	  	return;
		   	  	}
		   		var location = "";
		   		var startDate = "";
    	 		 var endDate = "";
    	 		 
    	 		 
    	 		 name=""
    		   		 if($("#searchStockVerificationMaster").length>0)
    		   			name = $("#searchStockVerificationMaster").val().trim();
    	 		 
    	 		 if($("#location").length>0 && $("#location").val != "ALL")
	    	 		location = $("#location").val();
    	 			/*
					 * if($("#from").val() != "" && $("#to").val() != ""){ var
					 * noOfDays = daydiff(parseDate($('#from').val()),
					 * parseDate($('#to').val())); if(noOfDays < 0){
					 * alert("Start Date can't be less than End Date"); return; }
					 * startDate = $("#from").val() + " 00:00:00"; endDate =
					 * $("#to").val() + " 00:00:00"; }else if($("#from").val() !=
					 * "") startDate = $("#from").val() + " 00:00:00"; else
					 * if($("#to").val() != "") endDate = $("#to").val() + "
					 * 00:00:00";
					 */
	    	 		var maxRecords = 10;
	    	 		 if($("#maxRecords").length>0)
	    	 			 maxRecords = $("#maxRecords").val();
	    	 		var flowUnder = $("#flowUnder").val();
	    	 		// alert(flowUnder)
			  		 var contextPath = $("#contextPath").val();
			  		 URL = contextPath + "/inventorymanager/searchStockVerification.do";
			  		 $.ajax({
			  				type: "GET",
			  				url : URL,
			  				data : {
			  					searchName : name,
			  					index : index,
			  					location : location,
			  					maxRecords : maxRecords,
			  					startDate : startDate,
	    	 					endDate : endDate,
			  					flowUnder : flowUnder
			  				},
			  				beforeSend: function(xhr){                    
			  		   	   		$("#loading").css("display","block");
			  		   	   		$("#mainDiv").addClass("disabled");
			  		   	   	},
			  				success : function(result) {
			  					$('#right-side').html(result);
			  					$("#loading").css("display","none");
			  					$("#mainDiv").removeClass('disabled');
			  				},
			  				error : function(jqXHR, textStatus, errorThrown)  {
			  					 errorCode(jqXHR.status);
			  					 $("#loading").css("display","none");
			  		 			 $("#mainDiv").removeClass('disabled');
			  				}
			  			});
    	    	}catch(e)
	    		{
	    			errorCode(e);
	    		}

			  	}
    	     
    	     
  function viewSpecificStockVerification(verificationCode,index){
	  try{
	// purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	  
 	 var flowUnder = $("#flowUnder").val();
 	 var location = $("#location").val();
 	 var contextPath = $('#contextPath').val();
 	 var masterverificationCode = $('#masterverificationCode').val();
 	 var maxRecords = "10";
 	 if($("#maxRecords").length > 0)
 		 maxRecords = $("#maxRecords").val();
 	 var URL = contextPath + "/inventorymanager/viewSpecificStockVerification.do";
 	 $.ajax({
  		type : "GET",
  		url : URL,
  		data : {
  			verificationCode : verificationCode,
  			masterverificationCode : masterverificationCode,
  			index : index,
  			maxRecords : maxRecords,
  			flowUnder : flowUnder
  		},
  		beforeSend: function(xhr){                    
 	   			$("#loading").css("display","block");
 	   			$("#mainDiv").addClass("disabled");
 	   		  },
  		success : function(result){
  			/*
			 * if(id == "outlettStockVerification"){
			 * openMenu("liInventoryManagement","ulInventoryManagement",0);
			 * //openMenu("liStockManagement","ulStockManagement",0);
			 * openMenu("storedetails", "ulstoredetails",1); } else if(id ==
			 * "warehouseStockVerification"){
			 * openMenu("liStockManagement","ulStockManagement",0);
			 * openMenu("warehouseDetails", "ulwarehouseDetails",1); }
			 */
  			
  			$('#right-side').html(result);
  			$("#flowUnder").val(flowUnder);
  			$("#location").val(location);
  			$("#loading").css("display","none");
  			$("#mainDiv").removeClass('disabled');
  		},
  		error : function(jqXHR, textStatus, errorThrown) {
  			errorCode(jqXHR.status);
  			$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
  		}
  	 });
	  }
	  catch(e)
		{
			errorCode(e);
		}

  }
    	
    	    /*
			 * function getProductStockVerificationByWarehouseWise(element){ var
			 * contextPath = $('#contextPath').val(); var location =
			 * $(element).val(); var URL = contextPath +
			 * "/inventorymanager/getProductStockVerificationByWarehouseWise.do";
			 * $.ajax({ type : "GET", url : URL, data : { location : location },
			 * beforeSend: function(xhr){ $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success :
			 * function(result){ $('#right-side').html(result);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 * 
			 * function viewWarehouseProductStockVerification(){ var contextPath =
			 * $('#contextPath').val(); var URL = contextPath +
			 * "/inventorymanager/viewWarehouseProductStockVerification.do";
			 * $.ajax({ type : "GET", url : URL, data : {}, beforeSend:
			 * function(xhr){ $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success :
			 * function(result){ $('#right-side').html(result);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } });
			 *  }
			 */
    	     
    	     
    	     function viewWarehouseProductStockVerificationItems(specificProductData){
    	    	 try{
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	 
    	    	 var productDate = JSON.stringify(specificProductData);
// console.log(JSON.stringify(specificProductData));
    	    	var contextPath = $('#contextPath').val();
   	    	    var URL = contextPath + "/inventorymanager/viewWarehouseProductStockVerificationItems.do";
    	    	$.ajax({
    	    		type : "POST",
    	    		url : URL,
    	    		contentType: "application/json",
    	    		data : productDate,
    	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
    	    	});
    	    	 }
    	    	catch(e)
	    		{
	    			errorCode(e);
	    		}

    	     }
    	       
    	     function viewWarehouseGoodsTransfers(id,operation){
    	    	 try{
        		 var contextPath = $("#contextPath").val();
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
        		 
            	 URL = contextPath + "/inventorymanager/warehouseGoodsTransfer.do";
            	 $.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				operation : operation
           			},
           			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
           			success : function(result) {
                        openMenu("warehouseDetails", "ulwarehouseDetails",0);
           				activeMenu(id);
           				$("#right-side").html(result);
           				$("#loading").css("display","none");
           				$("#mainDiv").removeClass('disabled');
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
    	    	 }
    	    	 catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

        	 }
    	     
    	     

        	 function viewAllWarehouseStockReceipts(id,operation){
        		 try{
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
            	 var contextPath = $("#contextPath").val();
            	 URL = contextPath + "/inventorymanager/viewAllWarehouseStockReceipts.do";
            	 $.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				operation : operation
           			},
           			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
           			success : function(result) {
// $("#tab_2").html("");
           				$("#right-side").html(result);
           				if(id != '')
           					activeMenu(id);
             			$("#loading").css("display","none");
             			$("#mainDiv").removeClass('disabled');
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
        		 }
        		 catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

             }
        	 
        	 
        	 function getWarehouseStockReceiptsByLocation(operation){
        		 try{
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
            	 var receipt_location = $('#receipt_location').val();
            	 var contextPath = $("#contextPath").val();
            	 URL = contextPath + "/inventorymanager/getWarehoseStockReceiptsByLocation.do";
            	 $.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				receipt_location : receipt_location,
           				operation : operation
           			},
           			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
           			success : function(result) {
           				$("#right-side").html(result);
// activeMenu(id);
             			$("#loading").css("display","none");
             			$("#mainDiv").removeClass('disabled');
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
        		 }
        		 catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

             }
        	
        	 
        	 function newWarehouseStockReceiptView(){
        		 try{
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
        		 
    			 var contextPath = $("#contextPath").val();
    	    	 URL = contextPath + "/inventorymanager/newWarehouseStockReceiptView.do";
    	  		 $.ajax({
    	  			type: "GET",
    	  			url : URL,
    	  			data : {
    	  			},
    	  			beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	  			success : function(result) {
    	  				$("#right-side").html(result);
    	  				// $('.left-side').css('height','683px');
    	  				$("#loading").css("display","none");
    	  				$("#mainDiv").removeClass('disabled');
    	  			},
    	  			error : function(jqXHR, textStatus, errorThrown)  {
    	  				 errorCode(jqXHR.status);
    	  				$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	  			}
    	  		});
        		 }
        		 catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

         }
        	 
        	 function editWarehouseStockReceipt(goods_receipt_ref_num){
        		 try{
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
        		 
            	 var contextPath = $("#contextPath").val();
            	 URL = contextPath + "/inventorymanager/editWarehouseStockReceipt.do";
          		 $.ajax({
          			type: "GET",
          			url : URL,
          			data : {
          				goods_receipt_ref_num : goods_receipt_ref_num
          			},
          			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
          			success : function(result) {
          				$("#right-side").html(result);
          				// $('.left-side').css('height','683px');
          				$("#loading").css("display","none");
          				$("#mainDiv").removeClass('disabled');
          			},
          			error : function(jqXHR, textStatus, errorThrown)  {
          				 errorCode(jqXHR.status);
          				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
          			}
          		});
        		 }catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

             }
        	 
        	 function viewWarehouseStockReceipt(goods_receipt_ref_num){
        		 try{
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
            	 var contextPath = $("#contextPath").val();
            	 URL = contextPath + "/inventorymanager/viewWarehouseStockReceipt.do";
          		 $.ajax({
          			type: "GET",
          			url : URL,
          			data : {
          				goods_receipt_ref_num : goods_receipt_ref_num
          			},
          			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
          			success : function(result) {
          				$("#right-side").html(result);
          				// $('.left-side').css('height','683px');
          				$("#loading").css("display","none");
          				$("#mainDiv").removeClass('disabled');
          			},
          			error : function(jqXHR, textStatus, errorThrown)  {
          				 errorCode(jqXHR.status);
          				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
          			}
          		});
        		 }
        		 catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

             }
        	 
        	 
        	 function viewAllWarehouseStockIssues(id,operation){
        		 try{
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
        		 
        		 var contextPath = $("#contextPath").val();
             	 URL = contextPath + "/inventorymanager/viewAllWarehouseStockIssues.do";
             	 $.ajax({
            			type: "GET",
            			url : URL,
            			data : {
            				operation : operation
            			},
            			beforeSend: function(xhr){                    
               	   			$("#loading").css("display","block");
               	   			$("#mainDiv").addClass("disabled");
               	   		  },
            			success : function(result) {
// $("#tab_1").html("");
            				$("#right-side").html(result);
            				if(id != '')
            					activeMenu(id);
            				$("#loading").css("display","none");
            				$("#mainDiv").removeClass('disabled');
            			},
            			error : function(jqXHR, textStatus, errorThrown)  {
            				 errorCode(jqXHR.status);
            				 $("#loading").css("display","none");
            	 			 $("#mainDiv").removeClass('disabled');
            			}
            		});
        		 }
        		 catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

              }
        	 
        	 
        	  function getWarehouseStockIssuessByLocation(operation){
        		  
        		  try{
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
        		  
     	    	 var fromlocation = $('#fromlocation').val();
             	 var contextPath = $("#contextPath").val();
             	 URL = contextPath + "/inventorymanager/getWarehouseStockIssuessByLocation.do";
             	 $.ajax({
            			type: "GET",
            			url : URL,
            			data : {
            				fromlocation : fromlocation,
            				operation : operation
            			},
            			beforeSend: function(xhr){                    
               	   			$("#loading").css("display","block");
               	   			$("#mainDiv").addClass("disabled");
               	   		  },
            			success : function(result) {
            				$("#right-side").html(result);
// activeMenu(id);
              				$("#loading").css("display","none");
              				$("#mainDiv").removeClass('disabled');
            			},
            			error : function(jqXHR, textStatus, errorThrown)  {
            				 errorCode(jqXHR.status);
            				 $("#loading").css("display","none");
            	 			 $("#mainDiv").removeClass('disabled');
            			}
            		});
        		  }
             	catch(e)
	    		{
	    			errorCode(e);
	    		}

              }
        	  
        	  function newWarehouseStockIssueView(){
        		  try{
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
 				 var contextPath = $("#contextPath").val();
 		    	 URL = contextPath + "/inventorymanager/newWarehouseStockIssueView.do";
 		  		 $.ajax({
 		  			type: "GET",
 		  			url : URL,
 		  			data : {
 		  			},
 		  			beforeSend: function(xhr){                    
 		   	   			$("#loading").css("display","block");
 		   	   			$("#mainDiv").addClass("disabled");
 		   	   		  },
 		  			success : function(result) {
 		  				$("#right-side").html(result);
 		  				// $('.left-side').css('height','683px');
 		  				$("#loading").css("display","none");
 		  				$("#mainDiv").removeClass('disabled');
 		  			},
 		  			error : function(jqXHR, textStatus, errorThrown)  {
 		  				 errorCode(jqXHR.status);
 		  				$("#loading").css("display","none");
 		 				$("#mainDiv").removeClass('disabled');
 		  			}
 		  		});
        		  }
        		  catch(e)
  	    		{
  	    			errorCode(e);
  	    		}

        	  }
        	  
        	  function editWarehouseStockIssue(goods_issue_ref_num){
        		  try{
             	 var contextPath = $("#contextPath").val();
             	// purpose:for checking internet conection
             	var online = window.navigator.onLine;
               	if(!online){
               	alert("Check your internet connection,Please try agian after some time.");
               	return;
               	}
             	 
             	 URL = contextPath + "/inventorymanager/editWarehouseStockIssueView.do";
           		 $.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				goods_issue_ref_num : goods_issue_ref_num
           			},
           			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
           			success : function(result) {
           				$("#right-side").html(result);
           				// $('.left-side').css('height','683px');
           				$("#loading").css("display","none");
           				$("#mainDiv").removeClass('disabled');
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
        		  }catch(e)
  	    		{
  	    			errorCode(e);
  	    		}

              }
        	  
        	  
        	  function viewWarehouseStockIssue(goods_issue_ref_num){
        		  
        		  try{
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
        		  
     	    	 var contextPath = $("#contextPath").val();
             	 URL = contextPath + "/inventorymanager/viewWarehouseStockIssue.do";
           		 $.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				goods_issue_ref_num : goods_issue_ref_num
           			},
           			beforeSend: function(xhr){                    
           	   			$("#loading").css("display","block");
           	   			$("#mainDiv").addClass("disabled");
           	   		  },
           			success : function(result) {
           				$("#right-side").html(result);
           				// $('.left-side').css('height','683px');
           				$("#loading").css("display","none");
           				$("#mainDiv").removeClass('disabled');
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
        		  }
        		  catch(e)
  	    		{
  	    			errorCode(e);
  	    		}

              }
        	  
        	
         		
        	  function validateWarehouseStockIssue(status,operation,issue_ref_num,id_goods_issue){
        		  try{
         		 var shippedFrom = $('#fromlocation :selected').val();
         		 var shippedTo = $('#tolocation :selected').val();
         		 var deliveredBy = $('#delivered').val();
         		 var inspectedBy = $('#inspected').val();
         		 var receivedBy = $('#received').val();
         		 var totalQty = $('#totalQty').html();
         		 var totalCost = $('#totalCost').html();
         		 var remarks = $('#remarks').val();
         		 var date = $('#date').val();
         		// purpose:for checking internet conection
         		var online = window.navigator.onLine;
         	  	if(!online){
         	  	alert("Check your internet connection,Please try agian after some time.");
         	  	return;
         	  	}
         		 
         		 if(status != "draft"){ 
	         		 if(shippedFrom==shippedTo){
	         			 $('#Error').html('From and To locations must be different');
	         			 return false;
	         		 }else if(deliveredBy.trim()==""){
	         			$('#deliveredByError').html('Enter Delivered Name');
	       	    		 return false;
	       	    	 }else if(inspectedBy.trim()==""){
	         			 $('#inspectedByError').html('Enter Inspected Name');
	       	    		 return false;
	         		}
         		 }/*
					 * else if(receivedBy.trim()==""){
					 * $('#receivedByError').html('Enter Received Name'); return
					 * false; }
					 */
         			 var len = $("#productsList tr").length-1;
         			 if(len == 0){
         	            alert("Add Atleast One Item to Receipt");
         	           	return;
         	         }
         	    	 
     				 var itemDetails = goodsTransferItems('issue');
     				 itemDetails = JSON.stringify(itemDetails);
     				 var contextPath = $("#contextPath").val();
     				 if(operation=="new"){
     					// alert("new");
     					URL = contextPath + "/inventorymanager/createWarehouseStockIssue.do";
     				 }else if(operation=="update"){
     					 URL = contextPath + "/inventorymanager/updateWarehouseStockIssue.do";
     				 }
     	    		 $.ajax({
     		       			type: "GET",
     		       			url : URL,
     		       			data : {
     		       				shippedFrom : shippedFrom,
     		       				shippedTo : shippedTo,
     		       				date : date,
     		       				deliveredBy : deliveredBy,
     		       				inspectedBy : inspectedBy,
     		       				receivedBy : receivedBy,
     		       				status : status,
     		       				totalQty : totalQty,
     		       				totalCost : totalCost,
     		       				remarks : remarks,
     		       				itemDetails : itemDetails,
     		       				issue_ref_num : issue_ref_num,
     		       				id_goods_issue : id_goods_issue
     		       			},
     		       			beforeSend: function(xhr){                    
     		       				$("#loading").css("display","block");
     		       				$("#mainDiv").addClass("disabled");
     		   	   		  	},
     		       			success : function(result) {
     		       				$('#right-side').html(result);
     		       				$("#loading").css("display","none");
     		       				$("#mainDiv").removeClass('disabled');
     		       			},
     		       			error : function(jqXHR, textStatus, errorThrown)  {
     		       				 errorCode(jqXHR.status);
     		       				$("#loading").css("display","none");
     		    				$("#mainDiv").removeClass('disabled');
     		       			}
     		       		});
        		  }catch(e)
  	    		{
  	    			errorCode(e);
  	    		}

         	 }
        	  
        	  
        	  function validateWarehouseStockReceipt(status,operation,receipt_ref_num,id_goods_receipt){
        		  try{
         		 var shippedFrom = $('#fromlocation :selected').val();
         		 var shippedTo = $('#tolocation :selected').val();
         		 var deliveredBy = $('#delivered').val();
         		 var inspectedBy = $('#inspected').val();
         		 var receivedBy = $('#received').val();
         		 var totalQty = $('#totalQty').html();
         		 var totalCost = $('#totalCost').html();
         		 var remarks = $('#remarks').val();
         		 var date = $('#date').val();
         		 
         		// purpose:for checking internet conection
         		var online = window.navigator.onLine;
         	  	if(!online){
         	  	alert("Check your internet connection,Please try agian after some time.");
         	  	return;
         	  	}
         		 
         		 if(status != "draft"){
	         		 if(shippedFrom==shippedTo){
	         			 $('#Error').html('From and To locations must be different');
	         			 return false;
	         		 }else if(deliveredBy.trim()==""){
	         			 $('#deliveredByError').html('Enter Delivered Name');
	       	    		 return false;
	       	    	}else if(inspectedBy.trim()==""){
	         			 $('#inspectedByError').html('Enter Inspected Name');
	       	    		 return false;
	         		}else if(receivedBy.trim()==""){
	         			 	 $('#receivedByError').html('Enter Received Name');
	           	    		 return false;
	         		}
         		 }
         		  var len = $("#productsList tr").length-1;
         			 if(len == 0){
         	            alert("Add Atleast One Item to Receipt");
         	           	return;
         	         }
         	    	 else{
         				 var itemDetails = goodsTransferItems('receipt');
         				 itemDetails = JSON.stringify(itemDetails);
         				 var contextPath = $("#contextPath").val();
         				 if(operation=="new"){
         					URL = contextPath + "/inventorymanager/createWarehouseStockReceipt.do";
         				 }else if(operation=="update"){
         					 URL = contextPath + "/inventorymanager/updateWarehouseStockReceipt.do";
         				 }
         				
         	    		 $.ajax({
         		       			type: "GET",
         		       			url : URL,
         		       			data : {
         		       				shippedFrom : shippedFrom,
         		       				shippedTo : shippedTo,
         		       				date : date,
         		       				deliveredBy : deliveredBy,
         		       				inspectedBy : inspectedBy,
         		       				receivedBy : receivedBy,
         		       				status : status,
         		       				totalQty : totalQty,
         		       				totalCost : totalCost,
         		       				remarks : remarks,
         		       				itemDetails : itemDetails,
         		       				receipt_ref_num : receipt_ref_num,
         		       				id_goods_receipt : id_goods_receipt
         		       			},
         		       			beforeSend: function(xhr){                    
         		       				$("#loading").css("display","block");
         		       				$("#mainDiv").addClass("disabled");
         		   	   		  	},
         		       			success : function(result) {
         		       				$('#right-side').html(result);
         		       				$("#loading").css("display","none");
         		       				$("#mainDiv").removeClass('disabled');
         		       			},
         		       			error : function(jqXHR, textStatus, errorThrown)  {
         		       				 errorCode(jqXHR.status);
         		       				$("#loading").css("display","none");
         		    				$("#mainDiv").removeClass('disabled');
         		       			}
         		       		});
         			 }
        		  }
        		  catch(e)
  	    		{
  	    			errorCode(e);
  	    		}

         	 }
        	  
        	  /*function viewLoyaltyCards(type,id,index,menu){
        		  try{
     	    	 var contextPath = $('#contextPath').val();
     	    	 debugger
     	    	// purpose:for checking internet conection
     	    	var online = window.navigator.onLine;
     	      	if(!online){
     	      	alert("Check your internet connection,Please try agian after some time.");
     	      	return;
     	      	}
     	      	var maxRecords = 10;
  	    	  if($("#maxRecords").length > 0)
  	    		maxRecords = $("#maxRecords").val();
     	    	 // debugger
     	    	 var URL = contextPath + "/crm/viewLoyaltyCards.do";
     	    	 $.ajax({
     	    		type : "GET",
     	    		url : URL,
     	    		data : {
     	    			index : index,
     	    			maxRecords : maxRecords
     	    		},
     	    		beforeSend: function(xhr){                    
     	   	   			$("#loading").css("display","block");
     	   	   			$("#mainDiv").addClass("disabled");
     	   	   		  },
     	    		success : function(result){
     	    			$('#right-side').html(result);
     	    			 openMenu("loyaltyProgram", "ulLoyaltyProgram",0); 
     	    		 openMenu("liLoyalty", "ulLoyalty",1); 
     	    			activeMenu(id);
     	    			$("#loading").css("display","none");
     	    			$("#mainDiv").removeClass('disabled');
     	    		},
     	    		error : function(jqXHR, textStatus, errorThrown) {
     	    			errorCode(jqXHR.status);
     	    			$("#loading").css("display","none");
     	 				$("#mainDiv").removeClass('disabled');
     	    		}
     	    	 });
        		  }
        		  catch(e)
  	    		{
  	    			errorCode(e);
  	    		}

     	    	 
     	     }*/
        	  
        	  
        	  
        	 
        	  
        	function  viewNewLoyaltyCard(id){
        		try{
        		  var contextPath = $("#contextPath").val();
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
        			URL = contextPath + "/crm/newLoyaltyCard.do";
        	 		 
        	 		$.ajax({
        	 			type: "GET",
        	 			url : URL,
        	 			data : {
        	 			},
        	 			beforeSend: function(xhr){                    
        	   	   			$("#loading").css("display","block");
        	   	   			$("#mainDiv").addClass("disabled");
        	   	   		  },
        	   			success : function(result) {
        	 				$("#right-side").html(result);
        	 				if(id != undefined)
        	 					activeMenu(id);
        	 				/* openMenu("liLoyalty", "ulLoyalty",1); */
        	 				$("#loading").css("display","none");
        	 				$("#mainDiv").removeClass('disabled');
        	 			},
        	 			error : function(jqXHR, textStatus, errorThrown)  {
        	 				 errorCode(jqXHR.status);
        	 				$("#loading").css("display","none");
        	 				$("#mainDiv").removeClass('disabled');
        	 			}
        	 		});
        		}
        		catch(e)
	    		{
	    			errorCode(e);
	    		}

        	  }
        	
        	

        	function parseDate(str) {
        	    var mdy = str.split('/');
        	    return new Date(mdy[2], mdy[1]-1, mdy[0]);
        	}

        	function parseDateMMDDYYYY(str) {
        	    var mdy = str.split('/');
        	    var yr = mdy[2].split(' ');
        	    return new Date(yr[0], mdy[0]-1, mdy[1]);
        	}

        	function parseDateYYYYMMDD(str) {
        	    var mdy = str.split('-');
        	    var yr = mdy[2].split(' ');
        	    return new Date(mdy[0], mdy[1]-1, yr[0]);
        	}

        	
        	function daydiff(first, second) {
        	    return (second-first)/(1000*60*60*24);
        	}

        	
        	function getSystemDate() {
        		debugger
        		var today = new Date();
        		var dd = today.getDate();
        		var mm = today.getMonth() + 1; // January is 0!

        		var yyyy = today.getFullYear();
        		if (dd < 10) {
        		  dd = '0' + dd;
        		} 
        		if (mm < 10) {
        		  mm = '0' + mm;
        		} 
        		var today = dd + '/' + mm + '/' + yyyy;
        		return today;
        	}

        	
        	
        	 function viewGiftVouchers(type,id,index,menu){
        		 try{
        			 debugger;
    	    	 var contextPath = $('#contextPath').val();
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	  	var maxRecords = "10"; 
    	    	  		
    	    	  		if($('#maxRecords').length > 0)
    	    	  			maxRecords = $('#maxRecords').val();
    	    	  	
    	    	 var URL = contextPath + "/crm/viewGiftVouchers.do";
    	    	 $.ajax({
    	    		type : "GET",
    	    		url : URL,
    	    		data : {
    	    			index : index,
    	    			maxRecords : maxRecords
    	    		},
    	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			$('#right-side').html(result);
    	    			/* openMenu("liLoyalty", "ulLoyalty",1); */
    	    			activeMenu(id);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
        		 }catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

    	    	 
    	     }
        	
        	
        	
        	 function viewGiftCoupons(type,id,index,menu){
        		 debugger;
        		 try{
    	    	 var contextPath = $('#contextPath').val();
    	    	 
    	    	// purpose:for checking internet conection
    	    		var online = window.navigator.onLine;
    	    	  	if(!online){
    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	  	return;
    	    	  	}
    	    	  	// debugger
    	    	  	var location = "";
        	    	if($("#outletLocation").length > 0)
        	    		location = $("#outletLocation").val();
        	    	var zone = "";
        	    	if($("#outletZone").length > 0)
        	    		zone = $("#outletZone").val();
        	    	var startdate = "";
        	    	if($("#couponStartDate").length > 0)
        	    		startdate = $("#couponStartDate").val();
        	    	var enddate = "";
        	    	if($("#couponEndDate").length > 0)
        	    		enddate = $("#couponEndDate").val();
    	    	  	
        	    	 if ($("#couponStartDate").val() != "" && $("#couponEndDate").val() != "") {
        	 	   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
        	 	   		if (noOfDays < 0) {
        	 	   			alert("Start Date can't be less than End Date");
        	 	   			return;
        	 	   		}
        	 	   	}
        	    	
        	    	
        	    	var searchName = "";
      		 		if($("#searchCoupons").length > 0 )
      		 			searchName = $("#searchCoupons").val().trim();
        	    	
      		 	 var maxRecords = 10;
   	    	  if($("#maxRecords").length > 0)
   	    		  maxRecords = $("#maxRecords").val();
      		 		
      		 		var allLocationsList = [];
      		 	 var length = $('#outletLocation').children('option').length;
      		       	$('#outletLocation option').each(function() { 
      		       		allLocationsList.push( $(this).attr('value'));
      		       	});
      		 	 var  locationList="";
      		    	for(i=1;i<allLocationsList.length;i++)
      		    		{
      		    		locationList =locationList+ allLocationsList[i]+',';
      		    		}
      		    	
      		   /*
				 * var idLocations = ""; var selectedIds =
				 * JSON.stringify(idLocations); console.log(selectedIds)
				 */
      		    	
    	    	 var URL = contextPath + "/crm/viewGiftCoupons.do";
    	    	 $.ajax({
    	    		type : "GET",
    	    		url : URL,
    	    		data : {
    	    			index : index,
    	    			location : location,
    	    			zone : zone,
    	    			startdate : startdate,
    	    			enddate : enddate,
    	    			searchName : searchName,
    	    			maxRecords : maxRecords,
    	    			allLocationsList : locationList,
// selectedIds : selectedIds
    	    		},
    	    		beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	    		success : function(result){
    	    			$('#right-side').html(result);
    	    			/* openMenu("loyaltyProgram", "ulLoyaltyProgram",0); */
    	    			/* openMenu("liLoyalty", "ulLoyalty",1); */
    	    			activeMenu(id);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
        		 }catch(e)
 	    		{
 	    			errorCode(e);
 	    		}

    	     }
        	
        	function  viewNewGiftVoucher(id){
        		try{
      		  var contextPath = $("#contextPath").val();
      		    
      		// purpose:for checking internet conection
      		var online = window.navigator.onLine;
      	  	if(!online){
      	  	alert("Check your internet connection,Please try agian after some time.");
      	  	return;
      	  	}
      		  
      			URL = contextPath + "/crm/newGiftVoucher.do";
      	 		 
      	 		$.ajax({
      	 			type: "GET",
      	 			url : URL,
      	 			data : {
      	 			},
      	 			beforeSend: function(xhr){                    
      	   	   			$("#loading").css("display","block");
      	   	   			$("#mainDiv").addClass("disabled");
      	   	   		  },
      	   			success : function(result) {
      	 				$("#right-side").html(result);
      	 				if(id != undefined)
      	 					activeMenu(id);
      	 				$("#loading").css("display","none");
      	 				$("#mainDiv").removeClass('disabled');
      	 			},
      	 			error : function(jqXHR, textStatus, errorThrown)  {
      	 				 errorCode(jqXHR.status);
      	 				$("#loading").css("display","none");
      	 				$("#mainDiv").removeClass('disabled');
      	 			}
      	 		});
        		}catch(e)
	    		{
	    			errorCode(e);
	    		}

      	  }
        	
        	function  viewNewGiftCoupons(id){
        		try{
        		  var contextPath = $("#contextPath").val();
        		    
        		// purpose:for checking internet conection
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
        		  
        			URL = contextPath + "/crm/newGiftCoupons.do";
        	 		 
        	 		$.ajax({
        	 			type: "GET",
        	 			url : URL,
        	 			data : {
        	 			},
        	 			beforeSend: function(xhr){                    
        	   	   			$("#loading").css("display","block");
        	   	   			$("#mainDiv").addClass("disabled");
        	   	   		  },
        	   			success : function(result) {
        	 				$("#right-side").html(result);
        	 				if(id != undefined)
        	 					activeMenu(id);
        	 				$("#loading").css("display","none");
        	 				$("#mainDiv").removeClass('disabled');
        	 			},
        	 			error : function(jqXHR, textStatus, errorThrown)  {
        	 				 errorCode(jqXHR.status);
        	 				$("#loading").css("display","none");
        	 				$("#mainDiv").removeClass('disabled');
        	 			}
        	 		});
        		}catch(e)
	    		{
	    			errorCode(e);
	    		}

        	  }
        	
         
         
         
        
        	
        	function getLocations(){
        		// debugger
        		try{
        		var states = $("#state").val();
       		 	var contextPath = $("#contextPath").val();
       		// purpose:for checking internet conection
       			var online = window.navigator.onLine;
       		  	if(!online){
       		  	alert("Check your internet connection,Please try agian after some time.");
       		  	return;
       		  	}
       		 	URL = contextPath + "/inventorymanager/getLocations.do";
       		 	$.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				states:states.toString()
           			},
           			success : function(result) {
           				appendLocations(result);
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
        		}catch(e)
	    		{
	    			errorCode(e);
	    		}

       	 }
        	
        	
        	
        	function getLocationsBasedonZones(){
        		// debugger
        		try{
        			var zones=""
        			if($("#zones").length>0)
        		 zone = $("#zones").val();
       		 	var contextPath = $("#contextPath").val();
       		// purpose:for checking internet conection
       			var online = window.navigator.onLine;
       		  	if(!online){
       		  	alert("Check your internet connection,Please try agian after some time.");
       		  	return;
       		  	}
       		 	URL = contextPath + "/inventorymanager/getlocationsBasedOnZone.do";
       		 	$.ajax({
           			type: "GET",
           			url : URL,
           			data : {
           				zone:zone.toString()
           			},
           			success : function(result) {
           				appendLocationsBasedOnZones(result);
           			},
           			error : function(jqXHR, textStatus, errorThrown)  {
           				 errorCode(jqXHR.status);
           				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
           			}
           		});
        		}catch(e)
	    		{
	    			errorCode(e);
	    		}

       	 }
        	
        	
        	function appendLocationsBasedOnZones(subCategoryList){
        		// debugger
       		 $("#location").html('');
        		/*
				 * var parsedJson = jQuery.parseJSON(subCategoryList);
				 * $("#searchItems").val(""); subCategoryList =
				 * parsedJson.zoneDetails;
				 */
     			
        		
       		 var op = '';
			 var wa = '';
			 var outlets ="";
			 var locations = "";
			 for(var i=0;i<subCategoryList.length;i++){
				 outlets ="";
				 locations = subCategoryList[i];
				 outlets = locations.split('+');
				
// if(outlets[1] == 'Retail Outlet')
					 op += '<option value="'+locations+'" >'+locations+'</option>';
// else
// wa += '<option value="'+subCategoryList[0]+'"
// >'+subCategoryList[0]+'</option>';
			 }
			 
			 $("#location").html('');
			 $("#location").html(op);
       }
        	
        	
         function appendLocations(locationsList){
        		 $("#location").html('');
        		 var op = '';
        		 for(var i=0;i<locationsList.length;i++){
        			 op += '<option value="'+locationsList[i]+'">'+locationsList[i]+'</option>';
        		 }
        		 $("#location").html(op);
        		 $("#location").show();
        }
         
         
         
         function viewdealsandoffers(type,id,index,menu){
        	 try{

        		 var online = window.navigator.onLine;
        		 if(!online){
        			 alert("Check your internet connection,Please try agian after some time.");
        			 return;
        		 }
        		 // debugger

        		 if(menu == undefined){
        			 if(type == "deals" && ((($("#searchDeals").length > 0 && $("#searchDeals").val().trim() != "" ) || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != "")) || index != '0')){
        				 searchDeals($("#searchDeals").val(), 'searchDeals',index);
        				 return;
        			 }
        			 if(type == "offers" && ((($("#searchOffers").length > 0 && $("#searchOffers").val().trim() != "")  || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != "")) || index != '0')){
// if(type == "offers" && (($("#searchOffers").length > 0 &&
// $("#searchOffers").val().trim() != "") && index != '0')){
        				 searchOffers($("#searchOffers").val(), 'searchOffers',index);
        				 return;
        			 }
        		 }
        		 var contextPath = $('#contextPath').val();
        		 /*
					 * var location = $("#outletLocation").val(); if(location
					 * ==null || location =="" || location == undefined){
					 * location="location"; }
					 */
        		 // purpose:for checking internet conection
        		 var online = window.navigator.onLine;
        		 if(!online){
        			 alert("Check your internet connection,Please try agian after some time.");
        			 return;
        		 }
        		 var location = "";
        		 if($("#outletLocation").length>0)
        			 location = $("#outletLocation").val();
        		 
        		 
        			
        			var allLocationsList = [];
        			var length = $('#outletLocation').children('option').length;
        			$('#outletLocation option').each(function() { 
        				allLocationsList.push( $(this).attr('value'));
        			});

        			var  locationList = "";
        			if(location == "")
        			for(i=1;i<allLocationsList.length;i++)
        			{
        				locationList = locationList + allLocationsList[i]+',';
        			}

        		 var offerStatusValue = "";
        		 if($("#offerStatusValue").length>0)
        			 offerStatusValue = $("#offerStatusValue").val();

        		 var zone = "";
        		 if($("#outletZone").length > 0)
        			 zone = $("#outletZone").val();


        		 var offerType = "";
        		 if($("#offerType").length > 0)
        			 offerType = $("#offerType").val();

        		 var maxRecords = 10;
        		 if($("#maxRecords").length > 0)
        			 maxRecords = $("#maxRecords").val();
        		 var URL = contextPath + "/dealsAndOffers/getdealsandofers.do";
        		 $.ajax({
        			 type: "POST",
        			 url : URL,
        			 data : {
        				 type : type,
        				 location : location,
        				 index : index,
        				 maxRecords : maxRecords,
        				 offerStatusValue : offerStatusValue,
        				 zone : zone,
        				 locationsList : locationList,
        				 offerType : offerType
        			 },
        			 beforeSend: function(xhr){                    
        				 $("#loading").css("display","block");
        				 $("#mainDiv").addClass("disabled");
        			 },

        			 success : function(result){
        				 openMenu("liCampaignPromotions", "ulCampaignPromotions",0);
        				 openMenu("deals-offers", "ulDealsOffers",1);
        				 $("#right-side").html(result);
        				 if(id != "" && id != undefined)
        					 activeMenu(id);
        				 $("#loading").css("display","none");
        				 $("#mainDiv").removeClass('disabled');
        			 },
        			 error : function(jqXHR, textStatus, errorThrown) {
        				 errorCode(jqXHR.status);
        				 $("#loading").css("display","none");
        				 $("#mainDiv").removeClass('disabled');
        			 }
        		 });
        	 }
        	 catch(e)
        	 {
        		 errorCode(e);
        	 }


         }
         function viewsocialMediaCampaigns(type,id,index,menu){
        	 try{
        	// purpose:for checking internet conection
        		var online = window.navigator.onLine;
        	  	if(!online){
        	  	alert("Check your internet connection,Please try agian after some time.");
        	  	return;
        	  	}
        	 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					openMenu("liSystemLog", "ulSystemLog",0);
					if(id != undefined)
	  					activeMenu(id);
					$('#right-side').html(result);
					
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });


         }
         	catch(e)
         	{
         	errorCode(e);
         	}

    	   }
         function viewcustomerRetention(type,id,index,menu){
        		try{
        			
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}

        	// purpose:for checking internet conection
        		var online = window.navigator.onLine;
        	  	if(!online){
        	  	alert("Check your internet connection,Please try agian after some time.");
        	  	return;
        	  	}
        	 
        	 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });


        		}
        			catch(e)
        			{
        			errorCode(e);
        			}

    	   }
         function viewloyalityRewards(type,id,index,menu){
        		try{
        			
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}
 
        	// purpose:for checking internet conection
        		var online = window.navigator.onLine;
        	  	if(!online){
        	  	alert("Check your internet connection,Please try agian after some time.");
        	  	return;
        	  	}
        	 
        	 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });


         }
         	catch(e)
         	{
         	errorCode(e);
         	}

    	   }
    	   
    	   
    	   
         function viewcustomerPatterns(type,id,index,menu){
        		try{
        			
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}

        	// purpose:for checking internet conection
        	
        	 
        	 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
        		}
        		catch(e)
        		{
        		errorCode(e);
        		}


    	   }
         
        /*
		 * function viewoutletMonitoring(id,index){ try{
		 * 
		 * 
		 * 
		 * //purpose:for checking internet conection var online =
		 * window.navigator.onLine; if(!online){ alert("Check your internet
		 * connection,Please try agian after some time."); return; }
		 * 
		 * var contextPath = $('#contextPath').val(); var URL = contextPath +
		 * "/inventorymanager/accessDenied.do"; $.ajax({ type : "GET", url :
		 * URL, data : {}, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result){
		 * if(id != undefined) activeMenu(id); openMenu("storedetails",
		 * "ulstoredetails",0); $('#right-side').html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); } catch(e) {
		 * errorCode(e); }
		 * 
		 *  }
		 */
         
         function viewemailCampaigns(type,id,index,menu){
        		try{
        	 var contextPath = $('#contextPath').val();
        	 
        	// purpose:for checking internet conection
        		var online = window.navigator.onLine;
        	  	if(!online){
        	  	alert("Check your internet connection,Please try agian after some time.");
        	  	return;
        	  	}
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
        		}
        		catch(e)
        		{
        		errorCode(e);
        		}


    	   }
         function viewmobileCampaigns(type,id,index,menu){
        		try{
        			
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}

        	 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
        		}
        		catch(e)
        		{
        		errorCode(e);
        		}

    	   }
         function viewpromotions(type,id,index,menu){
        		try{
        			
        			var online = window.navigator.onLine;
        		  	if(!online){
        		  	alert("Check your internet connection,Please try agian after some time.");
        		  	return;
        		  	}

        	 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
        		}
        		catch(e)
        		{
        		errorCode(e);
        		}


    	   }
        /*
		 * function viewcustomerReferals(type,id,index,menu){
		 * 
		 * try{
		 * 
		 * var online = window.navigator.onLine; if(!online){ alert("Check your
		 * internet connection,Please try agian after some time."); return; }
		 * var contextPath = $('#contextPath').val(); var URL = contextPath +
		 * "/inventorymanager/accessDenied.do"; $.ajax({ type : "GET", url :
		 * URL, data : {}, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result){
		 * if(id != undefined) activeMenu(id); $('#right-side').html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); } catch(e) {
		 * errorCode(e); }
		 * 
		 *  }
		 */
         
         
         
         function viewCustomerSignUp(id,index,saveFlag){
 			try{
 				
 				var online = window.navigator.onLine;
 			  	if(!online){
 			  	alert("Check your internet connection,Please try agian after some time.");
 			  	return;
 			  	}
 			  	// debugger
 			  	var maxRecords="10"
 			  	 if($("#maxRecords").length>0)
 		 			 maxRecords = $("#maxRecords").val();
 			  	
 			  	var zone = "";
     	    	if($("#outletZone").length > 0)
     	    		zone = $("#outletZone").val();
 			  	
 		 		var searchName = "";
 		 		if($("#supplierReport").length > 0 )
 		 			searchName = $("#supplierReport").val().trim();
 		 		var location = "";
     	    	if($("#outletLocation").length > 0)
     	    		location = $("#outletLocation").val();
     	    	 var startDate = "";
     	    	 var endDate = "";
     	    	 if($("#fromDate").length>0)
     	    		 startDate = $("#fromDate").val();
     	    	 if($("#toDate").length>0)
     	    		 endDate = $("#toDate").val();
     	    	
     	    	 var productCategory = "";
  		    	if($("#customerType").length > 0)
  		    		productCategory = $("#customerType").val();
     	    	 
     	    	if(startDate != "" && endDate != ""){
     	 			var noOfDays = daydiff(parseDate($('#fromDate').val()), parseDate($('#toDate').val()));
     				 if(noOfDays < 0){
     					 alert("Start Date can't be less than End Date");
     					 return;
     				 }
     		 }
 			  	
 			 var contextPath = $('#contextPath').val();
 			 var URL = contextPath + "/crm/getCustomerSignUp.do";
 			 $.ajax({
 				type : "GET",
 				url : URL,
 				data : {
 					maxRecords : maxRecords,
 					searchName : searchName,
 					location : location,
 					startDate : startDate,
 					endDate : endDate,
 					index : index,
 					saveFlag : saveFlag,
 					zone : zone,
 					productCategory : productCategory
 				},
 				beforeSend: function(xhr){                    
 			   		$("#loading").css("display","block");
 			   		$("#mainDiv").addClass("disabled");
 			   	},
 				success : function(result){
 					if(id != undefined)
 	  					activeMenu(id);
 					$('#right-side').html(result);
 					// debugger
 					if(saveFlag){
// $("#saveDisplay").html(result);
          				 var anchor = document.createElement('a');
      				  anchor.href = $("#stockdownloadurl").val();
      				  anchor.target = '_blank';
      				  anchor.download = '';
      				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
      				  anchor.click();
      				
          				}
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function(jqXHR, textStatus, errorThrown) {
 					errorCode(jqXHR.status);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				}
 			 });
 			}
 			catch(e)
 			{
 			              errorCode(e);
 			}


 		}
         
         
         function viewCustomerReferrals(id,index,saveFlag){
  			try{
  				
  				var online = window.navigator.onLine;
  			  	if(!online){
  			  	alert("Check your internet connection,Please try agian after some time.");
  			  	return;
  			  	}
  			  	// debugger
  			  	var maxRecords="10"
  			  	 if($("#maxRecords").length>0)
  		 			 maxRecords = $("#maxRecords").val();
  			  	
  			  	var zone = "";
      	    	if($("#outletZone").length > 0)
      	    		zone = $("#outletZone").val();
  			  	
  		 		var searchName = "";
  		 		if($("#supplierReport").length > 0 )
  		 			searchName = $("#supplierReport").val().trim();
  		 		var location = "";
      	    	if($("#outletLocation").length > 0)
      	    		location = $("#outletLocation").val();
      	    	 var startDate = "";
      	    	 var endDate = "";
      	    	 if($("#fromDate").length>0)
      	    		 startDate = $("#fromDate").val();
      	    	 if($("#toDate").length>0)
      	    		 endDate = $("#toDate").val();
      	    	
      	    	 var productCategory = "";
   		    	if($("#customerType").length > 0)
   		    		productCategory = $("#customerType").val();
      	    	 
      	    	if(startDate != "" && endDate != ""){
      	 			var noOfDays = daydiff(parseDate($('#fromDate').val()), parseDate($('#toDate').val()));
      				 if(noOfDays < 0){
      					 alert("Start Date can't be less than End Date");
      					 return;
      				 }
      		 }
  			  	
  			 var contextPath = $('#contextPath').val();
  			 var URL = contextPath + "/crm/getCustomerReferrals.do";
  			 $.ajax({
  				type : "GET",
  				url : URL,
  				data : {
  					maxRecords : maxRecords,
  					searchName : searchName,
  					location : location,
  					startDate : startDate,
  					endDate : endDate,
  					index : index,
  					saveFlag : saveFlag,
  					zone : zone,
  					productCategory : productCategory
  				},
  				beforeSend: function(xhr){                    
  			   		$("#loading").css("display","block");
  			   		$("#mainDiv").addClass("disabled");
  			   	},
  				success : function(result){
  					if(id != undefined)
  	  					activeMenu(id);
  					$('#right-side').html(result);
  					
  					if(saveFlag){
  						var anchor = document.createElement('a');
  	 				  anchor.href = $("#stockdownloadurl").val();
  	 				  anchor.target = '_blank';
  	 				  anchor.download = '';
  	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
  	 				  anchor.click();
       				
           				}
  					$("#loading").css("display","none");
  					$("#mainDiv").removeClass('disabled');
  				},
  				error : function(jqXHR, textStatus, errorThrown) {
  					errorCode(jqXHR.status);
  					$("#loading").css("display","none");
  					$("#mainDiv").removeClass('disabled');
  				}
  			 });
  			}
  			catch(e)
  			{
  			              errorCode(e);
  			}


  		}
         
         
    	   /*
			 * 03-05-2015 Sambaiah Y configure new deal
			 */
    	   function createNewDeal(id){
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    		   var contextPath = $('#contextPath').val();
    		   var URL = contextPath + "/dealsAndOffers/deal.do";
	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    			
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
   	        },

  	    		success : function(result){
  	    			if(id != undefined && id != "")
  	    				activeMenu(id);
  	    		$("#right-side").html(result);
// $('#tab_1').html(result);
  	    		 $("#loading").css("display","none");
 			   $("#mainDiv").removeClass('disabled');

  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


   	   }
    	   
    	  /*
			 * 09-05-2015 Sambaiah Y configure new offer
			 */
    	   function createNewOffer(id){
    		   try{

    			   var online = window.navigator.onLine;
    			   if(!online){
    				   alert("Check your internet connection,Please try agian after some time.");
    				   return;
    			   }

    			   var contextPath = $('#contextPath').val();
    			   var URL = contextPath + "/dealsAndOffers/offer.do";
    			   $.ajax({
    				   url : URL,
    				   data : {

    				   },
    				   beforeSend: function(xhr){                    
    					   $("#loading").css("display","block");
    					   $("#mainDiv").addClass("disabled");
    				   },

    				   success : function(result){
    					   if(id != undefined && id != "")
    						   activeMenu(id);
    					   $("#right-side").html(result);
    					   $("#loading").css("display","none");
    					   $("#mainDiv").removeClass('disabled');

    				   },
    				   error : function(jqXHR, textStatus, errorThrown) {
    					   errorCode(jqXHR.status);
    					   $("#loading").css("display","none");
    					   $("#mainDiv").removeClass('disabled');
    				   }
    			   });
    		   }
    		   catch(e)
    		   {
    			   errorCode(e);
    		   }


    	   }
    	   
    	  
    	   /*
			 * function salesreports(id){ var contextPath =
			 * $('#contextPath').val(); var URL = contextPath +
			 * "/inventorymanager/salesreports.do"; $.ajax({ url : URL, data : {
			 *  }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); },
			 * 
			 * success : function(result){ openMenu("storedetails",
			 * "ulstoredetails",0); activeMenu(id);
			 * $('#right-side').html(result);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 */
    	   
    	   /*
			 * function viewReportsBasedOnCounter(){ var contextPath =
			 * $('#contextPath').val(); var URL = contextPath +
			 * "/inventorymanager/getCounterWiseSalesReports.do"; $.ajax({ url :
			 * URL, data : { startIndex : "-1" startDate : null, endDate : null,
			 * counterId : null }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); },
			 * 
			 * success : function(result){ //$("#right-side").html(result);
			 * $('#right-side').html(result);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled');
			 *  }, error : function(jqXHR, textStatus, errorThrown) {
			 * errorCode(jqXHR.status); $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); } function
			 * getSalesRepotrsBasedOnCounter(){ var contextPath =
			 * $('#contextPath').val(); var URL = contextPath +
			 * "/inventorymanager/getSalesRepotrsBasedOnCounter.do";
			 * 
			 * $.ajax({ url : URL, data : { startIndex : "-1", counterId :
			 * $("#billingcounter").val(), store_location :
			 * $("#outletLocation").val() }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); },
			 * 
			 * success : function(result){ //$("#right-side").html(result);
			 * $('#right-side').html(result);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled');
			 *  }, error : function(jqXHR, textStatus, errorThrown) {
			 * errorCode(jqXHR.status); $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); }
			 */
    	   function showWarehouseFlows(id){
    			try{
    				debugger;
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    		   var contextPath = $('#contextPath').val();
  		   var URL = contextPath + "/inventorymanager/showWarehouseFlows.do";
	    	    $.ajax({
	    		url : URL,
	    		data : {
	    		},
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			$(".active-menu").removeClass("active-menu");
// $(".menu-open").css("display","none");
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


    	   }


    	   function showDataManagementFlow(id){
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    		   var contextPath = $('#contextPath').val();
    		   var URL = contextPath + "/dataManagement/showDataManagementFlow.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
// $(".menu-open").css("display","none");
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


      	   }
    	   
    	   
    	   function showSystemLogs(id){
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    		   var contextPath = $('#contextPath').val();
     		  var URL = contextPath + "/systemLog/showSystemLogs.do";
 	    	    $.ajax({
 	    		url : URL,
 	    		data : {
 	    		},
 	    		beforeSend: function(xhr){                    
 	   				$("#loading").css("display","block");
 	   				$("#mainDiv").addClass("disabled");
 	    		},
 	    		success : function(result){
 	    			$(".active-menu").removeClass("active-menu");
// $(".menu-open").css("display","none");
 	    			$('#right-side').html(result);
 	    			$("#loading").css("display","none");
 	    			$("#mainDiv").removeClass('disabled');
 	    		},
 	    		error : function(jqXHR, textStatus, errorThrown) {
 	    			errorCode(jqXHR.status);
 	    			$("#loading").css("display","none");
 	    			$("#mainDiv").removeClass('disabled');
 	    		}
 	    	 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


     	   }
    	   
    	   
    	   
    	   function getWareHouses(id,index){
    		   debugger;
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    			  	
    		   var searchName = $('#searchwarehouse').val();
    		   if(searchName == undefined || searchName == null || searchName ==""){
    			   searchName = "";
    		   }
    		   var contextPath = $('#contextPath').val();
     		   var URL = contextPath + "/inventorymanager/getWareHouses.do";
  	    	    $.ajax({
   	    		url : URL,
   	    		data : {
   	    			
   	    			index : index,
   	    			id : id,
   	    			searchName : searchName
   	    		},
   	    		beforeSend: function(xhr){                    
   	   				$("#loading").css("display","block");
   	   				$("#mainDiv").addClass("disabled");
    	        },

   	    		success : function(result){
   	    			$('#right-side').html(result);
   	    			if(id != "" && id != undefined)
   	    				activeMenu(id);
   	    			openMenu("warehouseDetails", "ulwarehouseDetails",0);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		},
   	    		error : function(jqXHR, textStatus, errorThrown) {
   	    			errorCode(jqXHR.status);
   	    			$("#loading").css("display","none");
     			   $("#mainDiv").removeClass('disabled');
   	    		}
   	    	 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


    	   }
    	   function newWarehouse(id){
    		   debugger;
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}
  
    		 var contextPath = $('#contextPath').val();
    		   var URL = contextPath + "/inventorymanager/warehouseconfiguration.do";
 	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    			id : id
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
   	        },

  	    		success : function(result){
  	    			$('#right-side').html(result);
  	    			if(id != "" && id != undefined)
   	    				activeMenu(id);
   	    			openMenu("warehouseDetails", "ulwarehouseDetails",0);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


    	   }
    	  
    	   
    	   
    	   function searchShipmentInvoice(id,index,flowUnder,name)
    	   {
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    	   	if (flowUnder == undefined && $("#flowUnder").length > 0)
    	   		flowUnder = $("#flowUnder").val();
    	   	
    	   	
    	   	
    	   	name=""
   	   		 if($("#searchInvoice").length>0)
   	   			name = $("#searchInvoice").val();
    	   	
    	   	var maxRecords = 10;
    	   	if ($("#maxRecords").length > 0)
    	   		maxRecords = $("#maxRecords").val();

    	   	var bussinessArea = "";
    	   	if ($("#").length > 0)
    	   		bussinessArea = $("#").val();

    	   	var section = "";
    	   	if ($("#section").length > 0)
    	   		section = $("#section").val();

    	   	var subDepartment = "";
    	   	if ($("#outletSubDepartmentId").length > 0)
    	   		subDepartment = $("#outletSubDepartmentId").val();

    	   	var location = "";
    	   	if($("#outletLocation").length > 0)
    	   		location = $("#outletLocation").val();
    	   	
    	   	var zone = "";
    	   	if ($("#outletZone").length > 0)
    	   		zone = $("#outletZone").val();
    	   	
    	   	var startDate = "";
    	   	if ($("#from").length > 0)
    	   		startDate = $("#from").val();
    	   	
    	   	var endDate = "";
    	   	if ($("#to").length > 0)
    	   		endDate = $("#to").val();
    	   	
    	   	var category = "";
    	   	if ($("#outletCategory").length > 0)
    	   		category = $("#outletCategory").val();
    	   	
    	   	var subCategory = "";
    	   	if ($("#outletSubcategory").length > 0)
    	   		subCategory = $("#outletSubcategory").val();

    	   	var department = "";
    	   	if ($("#outletDepartmentId").length > 0)
    	   		department = $("#outletDepartmentId").val();
    	   	
    	   	var brand = "";
    	   	if($("#outletBrandId").length > 0)
    	   		brand = $("#outletBrandId").val();
    	   	
    	   	var supplier = "";
    	   	if($("#outletSupplierId").length > 0)
    	   		supplier = $("#outletSupplierId").val();
    	   	
    	 
    	   	var contextPath = $('#contextPath').val();
    	   	var URL = contextPath + "/whInvoice/searchWhInvoice.do";
    	   	$.ajax({
    	   		url : URL,
    	   		data : {
    	   			flowUnder : flowUnder,
    	   			maxRecords : maxRecords,
    	   			index : index,
    	   			subDepartment : subDepartment,
    	   			location : location,
    	   			zone : zone,
    	   			startDate : startDate,
    	   			endDate : endDate,
    	   			category : category,
    	   			subCategory : subCategory,
    	   			department : department,
    	   			searchName : name,
    	   			section :section,
    	   			brand :brand,
    	   		},
    	   		beforeSend: function(xhr){                    
    	   	   		$("#loading").css("display","block");
    	   	   		$("#mainDiv").addClass("disabled");
    	   	   	},
    	   		success : function(result){
    	   			$('#right-side').html(result);
    	   			if(id != undefined && id != "")
    	   				activeMenu(id);
    	   			if(id == "wShipmentInvoice"){
    	   				openMenu("liShipment","ulShipment",0);
    	   				openMenu("liStockManagement","ulStockManagement",1);
    	   				openMenu("warehouseDetails","ulwarehouseDetails",1);
    	   			}
    	   			$("#loading").css("display","none");
    	   			$("#mainDiv").removeClass('disabled');
    	   		},
    	   		error : function(jqXHR, textStatus, errorThrown) {
    	   			errorCode(jqXHR.status);
    	   			$("#loading").css("display","none");
    	   			$("#mainDiv").removeClass('disabled');
    	   		}
    	   	 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


    	   	 
    	   }

    	 	  
	    	  // added by vijay
	    	  
	    	function viewShipmentInvoice(id,index,flowUnder)
	    	{
	    		try{
	    			
	    			var online = window.navigator.onLine;
	    		  	if(!online){
	    		  	alert("Check your internet connection,Please try agian after some time.");
	    		  	return;
	    		  	}

	    	var	name=""
	      	   		 if($("#searchInvoice").length>0)
	      	   			name = $("#searchInvoice").val();
	    		
	    		if (flowUnder == undefined && $("#flowUnder").length > 0)
	    			flowUnder = $("#flowUnder").val();
	    		
	    		var maxRecords = 10;
	    		if ($("#maxRecords").length > 0)
	    			maxRecords = $("#maxRecords").val();

	    		var bussinessArea = "";
	    		if ($("#").length > 0)
	    			bussinessArea = $("#").val();

	    		var section = "";
	    		if ($("#section").length > 0)
	    			section = $("#section").val();

	    		var subDepartment = "";
	    		if ($("#outletSubDepartmentId").length > 0)
	    			subDepartment = $("#outletSubDepartmentId").val();

	    		var location = "";
	    		if($("#outletLocation").length > 0)
	    			location = $("#outletLocation").val();
	    		
	    		var zone = "";
	    		if ($("#outletZone").length > 0)
	    			zone = $("#outletZone").val();
	    		
	    		var startDate = "";
	    		if ($("#from").length > 0)
	    			startDate = $("#from").val();
	    		
	    		var endDate = "";
	    		if ($("#to").length > 0)
	    			endDate = $("#to").val();
	    		
	    		var category = "";
	    		if ($("#outletCategory").length > 0)
	    			category = $("#outletCategory").val();
	    		
	    		var subCategory = "";
	    		if ($("#outletSubcategory").length > 0)
	    			subCategory = $("#outletSubcategory").val();

	    		var department = "";
	    		if ($("#outletDepartmentId").length > 0)
	    			department = $("#outletDepartmentId").val();
	    		
	    		var brand = "";
	    		if($("#outletBrandId").length > 0)
	    			brand = $("#outletBrandId").val();
	    		
	    		var supplier = "";
	    		if($("#outletSupplierId").length > 0)
	    			supplier = $("#outletSupplierId").val();
	    		
	    		var searchName="";
	    		if ($("#searchName").length > 0)
	    			searchName = $("#searchName").val();

	    		var contextPath = $('#contextPath').val();
	    		var URL = contextPath + "/whInvoice/viewInvoice.do";
	    		$.ajax({
	    			url : URL,
	    			data : {
	    				flowUnder : flowUnder,
	    				maxRecords : maxRecords,
	    				index : index,
	    				subDepartment : subDepartment,
	    				location : location,
	    				zone : zone,
	    				startDate : startDate,
	    				endDate : endDate,
	    				category : category,
	    				subCategory : subCategory,
	    				department : department,
	    				searchName : name,
	    				section :supplier,
	    				brand :brand
       			},
       			beforeSend: function(xhr){                    
 			   		$("#loading").css("display","block");
 			   		$("#mainDiv").addClass("disabled");
 			   	},
 				success : function(result){
 					$('#right-side').html(result);
 					if(id != undefined && id != "")
 						activeMenu(id);
 					if(id == "wShipmentInvoice"){
 						openMenu("liShipment","ulShipment",0);
 						openMenu("liStockManagement","ulStockManagement",1);
 						openMenu("warehouseDetails","ulwarehouseDetails",1);
 					}
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function(jqXHR, textStatus, errorThrown) {
 					errorCode(jqXHR.status);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				}
 			 });
	    		}
	    		catch(e)
	    		{
	    		errorCode(e);
	    		}


	    		 
	    	}
	    	
	    	
	    	
	    	
	    	
	   
	   	function viewNewInvoiceShipmentsDetails(type,flowUnder){
	   		
	   		try{
	   			
	   			var online = window.navigator.onLine;
	   		  	if(!online){
	   		  	alert("Check your internet connection,Please try agian after some time.");
	   		  	return;
	   		  	}

			 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/whInvoice/viewNewInvoiceShipments.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {
					type: type,
					flowUnder: flowUnder
				},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
	   		}
	   		catch(e)
	   		{
	   		errorCode(e);
	   		}


		}
	    	
	    		
    	   
    	  /*
			 * written by manasa purpose:to update the price
			 */
    	   
    	   function updatePriceDetails(count,ean,uom,color,size,costPrice,price,location,pluCode,productBatchNo,salePrice,newcostPrice,newMrp,flow){
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    			  	$("#Error").text("");
     			  	$("#Success").text("");
    		   debugger
    			var priceUpdateobj = {},items=[];/*
													 * skuId = [], ean = [],uom =
													 * [], color = [],size = [],
													 * costPrice = [],price =
													 * [], newPrice =
													 * [],pluStoreLocation=[];
													 */
    		   var maxRecords = 10;
				 if($("#maxRecords").length>0)
					 maxRecords = $("#maxRecords").val();
				 
				/*
				 * var pageCount = $("#pagination").val();
				 * priceUpdateobj.pageCount=pageCount;
				 */
				 
				 /*
					 * var location = ""; if($("#priceoutletLocation").length>0)
					 * location = $("#priceoutletLocation").val();
					 * priceUpdateobj.storeLocation=location;
					 */
 	    	 	
 	    	 // var countId = $("#countId").val();
 	    	 	var countId=$("#categoryExpand").val();
 	    	 // countId = countId.replace('categoryExpand','');
		/*
		 * var len = $("#skupriceTavble tr").length-1; for(var i=1;i<=len;i++){
		 * var idAttr = $("#skupriceTavble
		 * tr:eq("+3+")").attr("id").replace("productrange",'');
		 */
    		 // alert($("#price"+idAttr).text());
    		 var obj={storeLocation:location,skuId:count,ean:ean,uom:uom,color:color,size:size,costPrice:costPrice,price:price,newSalePrice:salePrice,pluCode:pluCode,newCostPrice:newcostPrice,productBatchNo:productBatchNo,newMRPPrice:newMrp};
    		   items.push(obj);
    		 // }
    		  priceUpdateobj.priceDetails=items;
    		  priceUpdateobj.flow = flow;
    		   priceUpdateobj.maxRecords=maxRecords;
   	 		 var contextPath = $("#contextPath").val();
   	 		 URL = contextPath + "/outletMaster/updateSkuPrice.do";
   	 		var formData = JSON.stringify(priceUpdateobj);
   	 	    console.log(formData);
   	   	  	 $.ajax({
   	  			type: "POST",
   	  			url : URL,
   	  			contentType: "application/json",
   	            data : formData,
   	            beforeSend: function(xhr){ 
   	            	// $("#Success").toggle();
   	   	   			$("#loading").css("display","block");
   	   	   			$("#mainDiv").addClass("disabled");
   		   	   	},
   		    	success : function(result) {
   		    		messageStatus= JSON.stringify(result);
					var parsed_json = JSON.parse(messageStatus);
					var code = parsed_json.code;
					
					// alert(parsed_json.code)
					if(code != 0)
						$("#Error").html(parsed_json.error);
					else
						$("#Success").html(parsed_json.success);
	  			   $("#loading").css("display","none");
			       $("#mainDiv").removeClass('disabled');
				   },
   				error : function(jqXHR, textStatus, errorThrown)  {
   					errorCode(jqXHR.status);
   					$("#loading").css("display","none");
   					$("#mainDiv").removeClass('disabled');
   				}
   		});
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}
	 
   	}
    
    	   
    	   /*
			 * written by manasa purpose:to update the page wise prices
			 */
     	   
     	   function updatePriceDetailsAll(operation,flow){
     		   debugger;
     			try{
     				var online = window.navigator.onLine;
     			  	if(!online){
     			  	alert("Check your internet connection,Please try agian after some time.");
     			  	return;
     			  	}
     			  	
     			  	$("#Error").text("");
     			  	$("#Success").text("");
     			  	
     			  	
     			  	
     		   // debugger
     			var priceUpdateobj = {},items=[],pluCode=[];/*
															 * skuId = [], ean =
															 * [],uom = [],
															 * color = [],size =
															 * [], costPrice =
															 * [],price = [],
															 * newPrice =
															 * [],pluStoreLocation=[];
															 */
     		    var maxRecords = 10;
 				 if($("#maxRecords").length>0)
 					 maxRecords = $("#maxRecords").val();
 				 var location = "";
  	    	 	 if($("#priceoutletLocation").length>0)
  	    	 		location = $("#priceoutletLocation").val();
  	    	 	 priceUpdateobj.storeLocation=location
  	    	 	priceUpdateobj.flow = flow;
 				 
 				$('.skuID').each(function() {
 					var skuid = $(this).text;
 					var id= $(this).attr("id").replace('skuId','');
 					var obj={newCostPrice:$("#newcostPrice"+id).text(),storeLocation:$("#pluStoreLocation"+id).val(),skuId:$("#skuId"+id).text(),ean:$("#ean"+id).text(),uom:$("#uom"+id).text(),color:$("#color"+id).text(),size:$("#size"+id).text(),costPrice:$("#costPrice"+id).text(),price:$("#price"+id).text(),newSalePrice:$("#newPrice"+id).text(),newMRPPrice:$("#newMrp"+id).text(),pluCode:$("#pluCode"+id).val(),productBatchNo:$("#productBatch"+id).val()};
 					items.push(obj);
 					// });
 				});
 				priceUpdateobj.priceDetails=items;
 	     	    priceUpdateobj.maxRecords=maxRecords;
 				 console.log(priceUpdateobj)
    	 		 var contextPath = $("#contextPath").val();
    	 		 URL = contextPath + "/outletMaster/updateSkuPrice.do";
    	 		var formData = JSON.stringify(priceUpdateobj);
    	   	  	 $.ajax({
    	  			type: "POST",
    	  			url : URL,
    	  			contentType: "application/json",
    	            data : formData,
    	            
    	            beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    		   	   	},
    		   		success : function(result) {
    		   			messageStatus= JSON.stringify(result);
    					var parsed_json = JSON.parse(messageStatus);
    					var code = parsed_json.code;
    					
    					// alert(parsed_json.code)
    					if(code != 0)
    						$("#Error").html(parsed_json.error);
    					else
    						$("#Success").html(parsed_json.success);
    	  				// $("#right-side").html(result);
    	  				$("#loading").css("display","none");
    	  				$("#mainDiv").removeClass('disabled');
    				},
    				error : function(jqXHR, textStatus, errorThrown)  {
    					errorCode(jqXHR.status);
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				}
    		});
     			}
     			catch(e)
     			{
     			errorCode(e);
     			}
 
    	}
    	   
    	

     	   
     	   
     	   
     	   
     	   
     	   
     	   
     	  /*
			 * written by manasa purpose:to update the stock
			 */
     	   
     	   function updateStock(count,ean,uom,color,size,costPrice,price,location,pluCode,qtyInHand){
     			debugger;
     		   try{
     				
     				var online = window.navigator.onLine;
     			  	if(!online){
     			  	alert("Check your internet connection,Please try agian after some time.");
     			  	return;
     			  	}

     		   // debugger
     			var priceUpdateobj = {},items=[];/*
													 * skuId = [], ean = [],uom =
													 * [], color = [],size = [],
													 * costPrice = [],price =
													 * [], newPrice =
													 * [],pluStoreLocation=[];
													 */
     		   var maxRecords = 10;
 				 if($("#maxRecords").length>0)
 					 maxRecords = $("#maxRecords").val();
 				 
 				/*
				 * var pageCount = $("#pagination").val();
				 * priceUpdateobj.pageCount=pageCount;
				 */
 				 
 				 if(location == "" ){
  	    	 	 if($("#priceoutletLocation").length>0)
  	    	 		location = $("#priceoutletLocation").val();
 				 }
  	    	 	priceUpdateobj.storeLocation=location;
  	    	 	
  	    	 // var countId = $("#countId").val();
  	    	 	var countId=$("#categoryExpand").val();
  	    	 // countId = countId.replace('categoryExpand','');
 		/*
		 * var len = $("#skupriceTavble tr").length-1; for(var i=1;i<=len;i++){
		 * var idAttr = $("#skupriceTavble
		 * tr:eq("+3+")").attr("id").replace("productrange",'');
		 */
     		 // alert($("#price"+idAttr).text());
     		 var obj={storeLocation:location,skuId:count,ean:ean,uom:uom,color:color,size:size,costPrice:costPrice,price:price,pluCode:pluCode,quantityInHand:qtyInHand};
     		   items.push(obj);
     		 // }
     		  priceUpdateobj.warehouseSkuPriceLists=items;
     		   priceUpdateobj.maxRecords=maxRecords;
    	 		 var contextPath = $("#contextPath").val();
    	 		 URL = contextPath + "/outletMaster/updateStock.do";
    	 		var formData = JSON.stringify(priceUpdateobj);
    	 	    console.log(formData);
    	   	  	 $.ajax({
    	  			type: "POST",
    	  			url : URL,
    	  			contentType: "application/json",
    	            data : formData,
    	            beforeSend: function(xhr){ 
    	            	// $("#Success").toggle();
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    		   	   	},
    		    	success : function(result) {
    		    		messageStatus= JSON.stringify(result);
 					var parsed_json = JSON.parse(messageStatus);
 					var code = parsed_json.code;
 					
 					// alert(parsed_json.code)
 					if(code != 0)
 						$("#Error").html(parsed_json.error);
 					else
 						$("#Success").html(parsed_json.success);
 	  			   $("#loading").css("display","none");
 			       $("#mainDiv").removeClass('disabled');
 				   },
    				error : function(jqXHR, textStatus, errorThrown)  {
    					errorCode(jqXHR.status);
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				}
    		});
     			}
     			catch(e)
     			{
     			errorCode(e);
     			}
 	 
    	}
     
     	   
     	   /*
			 * written by manasa purpose:to update stocks
			 */
      	   
      	   function updateStockForAll(operation){
      			try{
      				var online = window.navigator.onLine;
      			  	if(!online){
      			  	alert("Check your internet connection,Please try agian after some time.");
      			  	return;
      			  	}
      		   // debugger
      			var priceUpdateobj = {},items=[],pluCode=[];/*
															 * skuId = [], ean =
															 * [],uom = [],
															 * color = [],size =
															 * [], costPrice =
															 * [],price = [],
															 * newPrice =
															 * [],pluStoreLocation=[];
															 */
      		    var maxRecords = 10;
  				 if($("#maxRecords").length>0)
  					 maxRecords = $("#maxRecords").val();
  				 var location = "";
   	    	 	 if($("#priceoutletLocation").length>0)
   	    	 		location = $("#priceoutletLocation").val();
   	    	 	 priceUpdateobj.storeLocation=location
  				 
  				$('.skuID').each(function() {
  					var skuid = $(this).text;
  					var id= $(this).attr("id").replace('skuId','');
  					var obj={productBatchNo:$("#productBatchNum"+id).val(),quantityInHand:$("#qtyInHand"+id).text(),storeLocation:$("#pluStoreLocation"+id).val(),skuId:$("#skuId"+id).text(),ean:$("#ean"+id).text(),uom:$("#uom"+id).text(),color:$("#color"+id).text(),size:$("#size"+id).text(),costPrice:$("#costPrice"+id).text(),price:$("#price"+id).text(),pluCode:$("#pluCode"+id).val()};
  					items.push(obj);
  					// });
  				});
  				priceUpdateobj.warehouseSkuPriceLists=items;
  	     	    priceUpdateobj.maxRecords=maxRecords;
// console.log(priceUpdateobj)
     	 		 var contextPath = $("#contextPath").val();
     	 		 URL = contextPath + "/outletMaster/updateStock.do";
     	 		var formData = JSON.stringify(priceUpdateobj);
     	   	  	 $.ajax({
     	  			type: "POST",
     	  			url : URL,
     	  			contentType: "application/json",
     	            data : formData,
     	            beforeSend: function(xhr){                    
     	   	   			$("#loading").css("display","block");
     	   	   			$("#mainDiv").addClass("disabled");
     		   	   	},
     		   		success : function(result) {
     		   			messageStatus= JSON.stringify(result);
     					var parsed_json = JSON.parse(messageStatus);
     					var code = parsed_json.code;
     					
     					// alert(parsed_json.code)
     					if(code != 0)
     						$("#Error").html(parsed_json.error);
     					else
     						$("#Success").html(parsed_json.success);
     	  				// $("#right-side").html(result);
     	  				$("#loading").css("display","none");
     	  				$("#mainDiv").removeClass('disabled');
     				},
     				error : function(jqXHR, textStatus, errorThrown)  {
     					errorCode(jqXHR.status);
     					$("#loading").css("display","none");
     					$("#mainDiv").removeClass('disabled');
     				}
     		});
      			}
      			catch(e)
      			{
      			errorCode(e);
      			}
  
     	}
     	   

     	   

      	   
      	   
      	   
      	 /*
			 * written by manasa purpose:to update the stock
			 */
      	   
      	   function updateOutletStock(count,ean,uom,color,size,costPrice,price,location,pluCode,qtyInHand,batchNum){
      			try{
      				
      				var online = window.navigator.onLine;
      			  	if(!online){
      			  	alert("Check your internet connection,Please try agian after some time.");
      			  	return;
      			  	}

      		   // debugger
      			var priceUpdateobj = {},items=[];/*
													 * skuId = [], ean = [],uom =
													 * [], color = [],size = [],
													 * costPrice = [],price =
													 * [], newPrice =
													 * [],pluStoreLocation=[];
													 */
      		   var maxRecords = 10;
  				 if($("#maxRecords").length>0)
  					 maxRecords = $("#maxRecords").val();
  				 
  				/*
				 * var pageCount = $("#pagination").val();
				 * priceUpdateobj.pageCount=pageCount;
				 */
  				 
  				 var outletlocation = "";
   	    	 	 if($("#priceoutletLocation").length>0)
   	    	 		outletlocation = $("#priceoutletLocation").val();
   	    	 	priceUpdateobj.storeLocation=outletlocation;
   	    	 	
   	    	 // var countId = $("#countId").val();
   	    	 	var countId=$("#categoryExpand").val();
   	    	 // countId = countId.replace('categoryExpand','');
  		/*
		 * var len = $("#skupriceTavble tr").length-1; for(var i=1;i<=len;i++){
		 * var idAttr = $("#skupriceTavble
		 * tr:eq("+3+")").attr("id").replace("productrange",'');
		 */
      		 // alert($("#price"+idAttr).text());
      		 var obj={productBatchNo:batchNum,storeLocation:location,skuId:count,ean:ean,uom:uom,color:color,size:size,costPrice:costPrice,price:price,pluCode:pluCode,quantityInHand:qtyInHand};
      		   items.push(obj);
      		 // }
      		  priceUpdateobj.skuPriceLists=items;
      		   priceUpdateobj.maxRecords=maxRecords;
     	 		 var contextPath = $("#contextPath").val();
     	 		 URL = contextPath + "/outletMaster/updateOutletStock.do";
     	 		var formData = JSON.stringify(priceUpdateobj);
     	 	    console.log(formData);
     	   	  	 $.ajax({
     	  			type: "POST",
     	  			url : URL,
     	  			contentType: "application/json",
     	            data : formData,
     	            beforeSend: function(xhr){ 
     	            	// $("#Success").toggle();
     	   	   			$("#loading").css("display","block");
     	   	   			$("#mainDiv").addClass("disabled");
     		   	   	},
     		    	success : function(result) {
     		    		messageStatus= JSON.stringify(result);
  					var parsed_json = JSON.parse(messageStatus);
  					var code = parsed_json.code;
  					
  					// alert(parsed_json.code)
  					if(code != 0)
  						$("#Error").html(parsed_json.error);
  					else
  						$("#Success").html(parsed_json.success);
  	  			   $("#loading").css("display","none");
  			       $("#mainDiv").removeClass('disabled');
  				   },
     				error : function(jqXHR, textStatus, errorThrown)  {
     					errorCode(jqXHR.status);
     					$("#loading").css("display","none");
     					$("#mainDiv").removeClass('disabled');
     				}
     		});
      			}
      			catch(e)
      			{
      			errorCode(e);
      			}
  	 
     	}
      
      	   
      	   /*
			 * written by manasa purpose:to update outlet stock quantity
			 */
       	   
       	   function updateOutletStockForAll(operation){
       			try{
       				var online = window.navigator.onLine;
       			  	if(!online){
       			  	alert("Check your internet connection,Please try agian after some time.");
       			  	return;
       			  	}
       		   // debugger
       			var priceUpdateobj = {},items=[],pluCode=[];/*
															 * skuId = [], ean =
															 * [],uom = [],
															 * color = [],size =
															 * [], costPrice =
															 * [],price = [],
															 * newPrice =
															 * [],pluStoreLocation=[];
															 */
       		    var maxRecords = 10;
   				 if($("#maxRecords").length>0)
   					 maxRecords = $("#maxRecords").val();
   				 var location = "";
    	    	 	 if($("#priceoutletLocation").length>0)
    	    	 		location = $("#priceoutletLocation").val();
    	    	 	 priceUpdateobj.storeLocation=location
   				 
   				$('.skuID').each(function() {
   					var skuid = $(this).text;
   					var id= $(this).attr("id").replace('skuId','');
   					var obj={productBatchNo:$("#productBatchNum"+id).text(),quantityInHand:$("#qtyInHand"+id).text(),storeLocation:$("#pluStoreLocation"+id).val(),skuId:$("#skuId"+id).text(),ean:$("#ean"+id).text(),uom:$("#uom"+id).text(),color:$("#color"+id).text(),size:$("#size"+id).text(),costPrice:$("#costPrice"+id).text(),price:$("#price"+id).text(),pluCode:$("#pluCode"+id).val()};
   					items.push(obj);
   					// });
   				});
   				priceUpdateobj.skuPriceLists=items;
   	     	    priceUpdateobj.maxRecords=maxRecords;
// console.log(priceUpdateobj)
      	 		 var contextPath = $("#contextPath").val();
      	 		 URL = contextPath + "/outletMaster/updateOutletStock.do";
      	 		var formData = JSON.stringify(priceUpdateobj);
      	   	  	 $.ajax({
      	  			type: "POST",
      	  			url : URL,
      	  			contentType: "application/json",
      	            data : formData,
      	            beforeSend: function(xhr){                    
      	   	   			$("#loading").css("display","block");
      	   	   			$("#mainDiv").addClass("disabled");
      		   	   	},
      		   		success : function(result) {
      		   			messageStatus= JSON.stringify(result);
      					var parsed_json = JSON.parse(messageStatus);
      					var code = parsed_json.code;
      					
      					// alert(parsed_json.code)
      					if(code != 0)
      						$("#Error").html(parsed_json.error);
      					else
      						$("#Success").html(parsed_json.success);
      	  				// $("#right-side").html(result);
      	  				$("#loading").css("display","none");
      	  				$("#mainDiv").removeClass('disabled');
      		   		},
      				error : function(jqXHR, textStatus, errorThrown)  {
      					errorCode(jqXHR.status);
      					$("#loading").css("display","none");
      					$("#mainDiv").removeClass('disabled');
      				}
      		});
       			}
       			catch(e)
       			{
       			errorCode(e);
       			}
   
      	}
      	   

     	   function caluclateProfitability(element){
    			// debugger
    			
    			var id = $(element).attr("id");
    			var rowNo = id.replace('newPrice','');
    			  var newPrice = $("#newPrice"+rowNo).text();
    			  var costPrice = $("#costPrice"+rowNo).text();
// var profitabilityValue = newPrice-costPrice;
    			/*
				 * $('.newPrice').each(function(){ var rowNo =
				 * $(this).attr("id").replace('newPrice',''); var newPrice =
				 * $("#newPrice"+rowNo).text(); var costPrice =
				 * $("#costPrice"+rowNo).text(); profitabilityValue =
				 * newPrice-costPrice; });
				 */
    			$('#profitability'+rowNo).text(parseFloat(newPrice-costPrice).toFixed(2));
    		}	   
    	   
    	   
    	
    	   
    	   function viewSkuMaster(id,index){
    		   debugger;
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    		   if($("#searchSKU").length > 0 && $("#searchSKU").val().trim() != ""){
    			   searchSkuMaster($("#searchSKU").val(), 'skuMaster',index);
    				return;
    			}
    		   // debugger
    			var contextPath = $("#contextPath").val();
    		    URL = contextPath + "/outletMaster/viewSkuMaster.do";
    			var maxRecords = 10;
		 		 if($("#maxRecords").length>0)
		 			 maxRecords = $("#maxRecords").val();
		 		var searchName = "";
		 		if($("#SkuMaster").length > 0 )
		 			searchName = $("#SkuMaster").val().trim();
		 		var location = "";
    	    	if($("#outletLocation").length > 0)
    	    		location = $("#outletLocation").val();
    	    	var productCategory = "";
    	    	if($("#outletCategory").length > 0)
    	    		productCategory = $("#outletCategory").val();
    	    	var subcategory = "";
    	    	if($("#outletSubcategory").length > 0)
    	    		subcategory = $("#outletSubcategory").val();
    	    	var brand = "";
    	    	if($("#outletBrandId").length > 0)
    	    		brand = $("#outletBrandId").val();
    	    	var department = "";
    	    	if($("#outletDepartmentId").length > 0)
    	    		department = $("#outletDepartmentId").val();
    	    	var supplierid = "";
    	    	if($("#outletSupplierId").length > 0)
    	    		supplierid = $("#outletSupplierId").val();
    	    	var status = "";
    	    	if($("#status").length > 0)
    	    		status = $("#status").val();
    	 		$.ajax({
    	 			type: "GET",
    	 			url : URL,
    	 			data : {
    	 				index : index,
    	 				maxRecords :maxRecords,
    	 				location : location,
    	 				productCategory : productCategory,
    	 				subcategory : subcategory,
    	 				brand : brand,
    	 				department : department,
    	 				supplierid : supplierid,
    	 				status : status,
    	 				searchName : searchName
    	 				
    	 			},
    	 			beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	   			success : function(result) {
    	   				
    	 				$("#right-side").html(result);
    	 				activeMenu(id);
    	 				openMenu("master-details","ulMasterDetails",0);
    		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
    		    		$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	 			},
    	 			error : function(jqXHR, textStatus, errorThrown)  {
    	 				 errorCode(jqXHR.status);
    	 				$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	 			}
    	 		});
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


    		}
    	   
    	   function newSku(id){
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    		   var contextPath = $("#contextPath").val();
    		    URL = contextPath + "/outletMaster/newSku.do";
    	 		$.ajax({
    	 			type: "GET",
    	 			url : URL,
    	 			data : {
    	 			},
    	 			beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	 			success : function(result) {
    	 				$("#right-side").html(result);
    	 				if(id != undefined)
    	 					activeMenu(id);
    	 				$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	 			},
    	 			error : function(jqXHR, textStatus, errorThrown)  {
    	 				 errorCode(jqXHR.status);
    	 				$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	 			}
    	 		});
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


    		}
    	   
    	   function viewPriceVariationreport(id,index,searchname){
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    		   var contextPath = $('#contextPath').val();
    			var maxRecords = 10;
  	    	if($("#maxRecords").length>0)
  	    		  maxRecords = $("#maxRecords").val();
  	    	var stockdownload = false;
  	    	if($("#stockdownload").val())
  	    	stockdownload = $("#stockdownload").val();
  	    	var location = "";
  	    	if($("#outletLocation").length > 0)
  	    		location = $("#outletLocation").val();
  	    	var zone = "";
  	    	if($("#outletZone").length > 0)
  	    		zone = $("#outletZone").val();
  	    	var startdate = "";
  	    	if($("#fromWPricevariation").length > 0)
  	    		startdate = $("#fromWPricevariation").val();
  	    	var enddate = "";
  	    	if($("#toWPricevariation").length > 0)
  	    		enddate = $("#toWPricevariation").val();
  	    	
  	    	if ($("#fromWPricevariation").val() != "" && $("#toWPricevariation").val() != "") {
  		   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
  		   		if (noOfDays < 0) {
  		   			alert("Start Date can't be less than End Date");
  		   			return;
  		   		}
  		   	}
  	    	
  	    	var category = "";
  	    	if($("#outletCategory").length > 0)
  	    		category = $("#outletCategory").val();
  	    	var subcategory = "";
  	    	if($("#outletSubcategory").length > 0)
  	    		subcategory = $("#outletSubcategory").val();
  	    	var brand = "";
  	    	if($("#outletBrandId").length > 0)
  	    		brand = $("#outletBrandId").val();
  	    	
  	    	 searchname=""
  			 if($("#PriceVariation").length>0)
  				searchname = $("#PriceVariation").val().trim();
  	    	
  	    	
    			 var URL = contextPath + "/reports/viewPriceVariationreport.do";
    			 $.ajax({
    				type : "GET",
    				url : URL,
    				data : {
    					index :index,
    					searchName : searchname,
    					maxRecords : maxRecords,
    					location : location,
    					productCategory : category,
    					subcategory : subcategory,
    					brand : brand,
    					zone : zone,
    					startdate :startdate,
    					enddate : enddate,
    					
    				},
    				beforeSend: function(xhr){                    
    			   		$("#loading").css("display","block");
    			   		$("#mainDiv").addClass("disabled");
    			   	},
    				success : function(result){
    					if(id != undefined)
    	  					activeMenu(id);
// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
    	 	  			openMenu("liWarehouseReports","ulWarehouseReports",0);
    	 	  			openMenu("reports", "ulReports",1);
    					$('#right-side').html(result);
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				},
    				error : function(jqXHR, textStatus, errorThrown) {
    					errorCode(jqXHR.status);
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				}
    			 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


    		}

    	   
    	   function viewWarehousesuppliereport(id,index,searchname){
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    		   var contextPath = $('#contextPath').val();
    			var maxRecords = 10;
  	    	if($("#maxRecords").length>0)
  	    		  maxRecords = $("#maxRecords").val();
  	    	var stockdownload = false;
  	    	if($("#stockdownload").val())
  	    	stockdownload = $("#stockdownload").val();
  	    	var location = "";
  	    	if($("#outletLocation").length > 0)
  	    		location = $("#outletLocation").val();
  	    	var zone = "";
  	    	if($("#outletZone").length > 0)
  	    		zone = $("#outletZone").val();
  	    	var startdate = "";
  	    	if($("#fromSupplier").length > 0)
  	    		startdate = $("#fromSupplier").val();
  	    	var enddate = "";
  	    	if($("#toSupplier").length > 0)
  	    		enddate = $("#toSupplier").val();
  	    	
  	    	if ($("#fromSupplier").val() != "" && $("#toSupplier").val() != "") {
  		   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
  		   		if (noOfDays < 0) {
  		   			alert("Start Date can't be less than End Date");
  		   			return;
  		   		}
  		   	}
  	    	
  	    	var category = "";
  	    	if($("#outletCategory").length > 0)
  	    		category = $("#outletCategory").val();
  	    	var subcategory = "";
  	    	if($("#outletSubcategory").length > 0)
  	    		subcategory = $("#outletSubcategory").val();
  	    	var brand = "";
  	    	if($("#outletBrandId").length > 0)
  	    		brand = $("#outletBrandId").val();
  	    	var supplierId = "";
  	    	if($("#outletSupplierId").length > 0)
  	    		supplierId = $("#outletSupplierId").val();
  	    	
  	    	   searchname=""
  				if($("#supplierReport").length>0)
  					searchname = $("#supplierReport").val().trim();
  	    	
    			 var URL = contextPath + "/reports/viewWarehousesuppliereport.do";
    			 $.ajax({
    				type : "GET",
    				url : URL,
    				data : {
    					index :index,
    					searchName : searchname,
    					maxRecords : maxRecords,
    					location : location,
    					productCategory : category,
    					subcategory : subcategory,
    					brand : brand,
    					zone : zone,
    					startdate :startdate,
    					enddate : enddate,
    					supplierId :supplierId,
    					
    				},
    				beforeSend: function(xhr){                    
    			   		$("#loading").css("display","block");
    			   		$("#mainDiv").addClass("disabled");
    			   	},
    				success : function(result){
    					if(id != undefined)
    	  					activeMenu(id);
// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
    	 	  			openMenu("liWarehouseReports","ulWarehouseReports",0);
    	 	  			openMenu("reports", "ulReports",1);
    					$('#right-side').html(result);
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				},
    				error : function(jqXHR, textStatus, errorThrown) {
    					errorCode(jqXHR.status);
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				}
    			 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


    		}
    	   
    	   function viewOutletsuppliereport(id,index,searchname,flow){
    		   try{

    			   var online = window.navigator.onLine;
    			   if(!online){
    				   alert("Check your internet connection,Please try agian after some time.");
    				   return;
    			   }
    			   
    			   if(flow==null || flow == undefined){
    				   flow= $('#flowUnder').val();
    			   }
    			   
    			   var contextPath = $('#contextPath').val();
    			   var maxRecords = 10;
    			   if($("#maxRecords").length>0)
    				   maxRecords = $("#maxRecords").val();
    			   var stockdownload = false;

    			   if (searchname == "save")
    				   var saveFlag = true;
    			   else
    				   var saveFlag =false;

    			   if($("#stockdownload").val())
    				   stockdownload = $("#stockdownload").val();
    			   var location = "";
    			   if($("#outletLocation").length > 0)
    				   location = $("#outletLocation").val();
    			   var zone = "";
    			   if($("#outletZone").length > 0)
    				   zone = $("#outletZone").val();
    			   var startdate = "";
    			   if($("#fromShipments").length > 0)
    				   startdate = $("#fromShipments").val();
    			   var enddate = "";
    			   if($("#toShipments").length > 0)
    				   enddate = $("#toShipments").val();






    			   if ($("#fromShipments").val() != "" && $("#toShipments").val() != "") {
    				   var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
    				   if (noOfDays < 0) {
    					   alert("Start Date can't be less than End Date");
    					   return;
    				   }
    			   }
    			   
    			  	 if(enddate!="" || enddate!=null)
//    			  		 if(criteria == 'date'){
    			  		 {
    			  			 var  allownoOfDays = daydiff(parseDate(startdate), parseDate(enddate));
    			  			 if(allownoOfDays > 31){
    			  				 alert("Date Range should not exceed a Month");
    			  				 return false;
    			  			 }
    			  		 }


    			  			if(noOfDays>15){
    			  				var returnValue = getConfirmation();
    			  				if(returnValue == false)
    			  					return;
    			  				}



    			   var category = "";
    			   if($("#outletCategory").length > 0)
    				   category = $("#outletCategory").val();
    			   var subcategory = "";
    			   if($("#outletSubcategory").length > 0)
    				   subcategory = $("#outletSubcategory").val();
    			   var brand = "";
    			   if($("#outletBrandId").length > 0)
    				   brand = $("#outletBrandId").val();
    			   var supplierId = "";
    			   if($("#outletSupplierId").length > 0)
    				   supplierId = $("#outletSupplierId").val();
    			   var URL = contextPath + "/reports/viewOutletsuppliereport.do";
    			   $.ajax({
    				   type : "GET",
    				   url : URL,
    				   data : {
    					   index :index,
    					   searchName : searchname,
    					   maxRecords : maxRecords,
    					   location : location,
    					   productCategory : category,
    					   subcategory : subcategory,
    					   brand : brand,
    					   zone : zone,
    					   startdate :startdate,
    					   enddate : enddate,
    					   saveFlag : saveFlag,
    					   supplierId :supplierId,
    					   flow : flow

    				   },
    				   beforeSend: function(xhr){                    
    					   $("#loadingreport").css("display","block");
    					   $("#mainDiv").addClass("disabled");
    				   },
    				   success : function(result){
    					   if(id != undefined)
    						   activeMenu(id);
    					   /*
							 * //
							 * openMenu("liOutletSalesReports","ulOutletSalesReports",0);
							 * openMenu("liWarehouseReports","ulWarehouseReports",0);
							 * openMenu("reports", "ulReports",1);
							 */
    					   $("#summary").html(result);
    					   var anchor = document.createElement('a');

    					   anchor.href = $("#stockdownloadurl").val();
    					   anchor.target = '_blank';
    					   anchor.download = '';
    					   if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
    						   anchor.click();

    					   $('#right-side').html(result);
    					   $("#loadingreport").css("display","none");
    					   $("#mainDiv").removeClass('disabled');
    				   },
    				   error : function(jqXHR, textStatus, errorThrown) {
    					   errorCode(jqXHR.status);
    					   $("#loadingreport").css("display","none");
    					   $("#mainDiv").removeClass('disabled');
    				   }
    			   });
    		   }
    		   catch(e)
    		   {
    			   errorCode(e);
    		   }


    	   }
    	   
    	   
    	   
    	   
    	   function searchOutletsuppliereport(id,index,searchname,popup){
    		   debugger;
    		   try{

    			   
    			   $('#myModalIos').modal('hide');
    				 $('#myModalIoss').modal('hide');
    				 
    			   var online = window.navigator.onLine;
    			   if(!online){
    				   alert("Check your internet connection,Please try agian after some time.");
    				   return;
    			   }
    			   
    			   
    			   var flowUnder = "";
    			    if($("#flowUnder").length > 0)
    			     	flowUnder = $("#flowUnder").val();
    			     			   
    			   var contextPath = $('#contextPath').val();
    			   var maxRecords = 10;
    			   if($("#maxRecords").length>0)
    				   maxRecords = $("#maxRecords").val();
    			   var stockdownload = false;

    			   if (searchname == "save")
    				   var saveFlag = true;
    			   else
    				   var saveFlag =false;

    			   if($("#stockdownload").val())
    				   stockdownload = $("#stockdownload").val();
    			   var location = "";
    			   if($("#outletLocation").length > 0)
    				   location = $("#outletLocation").val();
    			   var zone = "";
    			   if($("#outletZone").length > 0)
    				   zone = $("#outletZone").val();
    			   var startdate = "";
    			   if($("#fromShipments").length > 0)
    				   startdate = $("#fromShipments").val();
    			   var enddate = "";
    			   if($("#toShipments").length > 0)
    				   enddate = $("#toShipments").val();


    			   if(popup == "" || popup == undefined || popup == null){
    		  			popup="";
    		  		}
    				
    				
    				
    					


    			   if ($("#fromShipments").val() != "" && $("#toShipments").val() != "") {
    				   var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
    				   if (noOfDays < 0) {
    					   alert("Start Date can't be less than End Date");
    					   return;
    				   }
    			   }
    			   
    			  	 if(enddate!="" || enddate!=null)
//    			  		 if(criteria == 'date'){
    			  		 {
    			  			 var  allownoOfDays = daydiff(parseDate(startdate), parseDate(enddate));
    			  			 if(allownoOfDays > 31){
    			  				 alert("Date Range should not exceed a Month");
    			  				 return false;
    			  			 }
    			  		 }


    			  	if(popup=="NOPOP"){
   		  			 if(allownoOfDays>15 ){
   		  				 
   		  				 $('#myModalIoss').modal('show');

   		  				 
   		  					/*var returnValue = getConfirmation();
   		  					if(returnValue == false)*/
   		  						return;
   		  					}
   		  		     }



    			   var category = "";
    			   if($("#outletCategory").length > 0)
    				   category = $("#outletCategory").val();
    			   var subcategory = "";
    			   if($("#outletSubcategory").length > 0)
    				   subcategory = $("#outletSubcategory").val();
    			   var brand = "";
    			   if($("#outletBrandId").length > 0)
    				   brand = $("#outletBrandId").val();
    			   var supplierId = "";
    			   if($("#outletSupplierId").length > 0)
    				   supplierId = $("#outletSupplierId").val();
    			   var URL = contextPath + "/reports/viewOutletsuppliereport.do";
    			   $.ajax({
    				   type : "GET",
    				   url : URL,
    				   data : {
    					   index :index,
    					   searchName : searchname,
    					   maxRecords : maxRecords,
    					   location : location,
    					   productCategory : category,
    					   subcategory : subcategory,
    					   brand : brand,
    					   zone : zone,
    					   startdate :startdate,
    					   enddate : enddate,
    					   saveFlag : saveFlag,
    					   supplierId :supplierId,
    					   flow:flowUnder

    				   },
    				   beforeSend: function(xhr){                    
    					   $("#loadingreport").css("display","block");
    						$("#mainDiv").addClass('disabled');
    				   },
    				   success : function(result){
    					   if(id != undefined)
    						   activeMenu(id);
    					   /*
							 * //
							 * openMenu("liOutletSalesReports","ulOutletSalesReports",0);
							 * openMenu("liWarehouseReports","ulWarehouseReports",0);
							 * openMenu("reports", "ulReports",1);
							 */
    					   $("#summary").html(result);
    					   var anchor = document.createElement('a');

    					   anchor.href = $("#stockdownloadurl").val();
    					   anchor.target = '_blank';
    					   anchor.download = '';
    					   if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
    						   anchor.click();

    					   $('#right-side').html(result);
    					   $("#loading").css("display","none");
    					   $("#mainDiv").removeClass('disabled');
    					   $("#loadingreport").css("display","none");
    						$("#salevs").removeClass('disabled');
    				   },
    				   error : function(jqXHR, textStatus, errorThrown) {
    					   errorCode(jqXHR.status);
    					   $("#loadingreport").css("display","none");
    						$("#salevs").removeClass('disabled');
    				   }
    			   });
    		   }
    		   catch(e)
    		   {
    			   errorCode(e);
    		   }


    	   }
    	   
    	   

    	   function viewOutletNewReport(id,index,searchname,searchSave,flow){
    	   		  // debugger;
    	   		try{
    	   			
    	   			var online = window.navigator.onLine;
    	   		  	if(!online){
    	   		  	alert("Check your internet connection,Please try agian after some time.");
    	   		  	return;
    	   		  	}
    	   		  	
    	   		  	

    	   		 $('#myModalIos').modal('hide');
    	   		 $('#myModalIoss').modal('hide');

    	   		  var contextPath = $('#contextPath').val();
    	  	   	var maxRecords = 10;
    	  		if (searchSave == "save")
    				var saveFlag = true;
    			else
    				var saveFlag =false;
    	  	   	
    	  		
    	  		searchname=""
    				if($("#searchPrices").length>0)
    					searchname = $("#searchPrices").val().trim();
    	  		
      	    	if($("#maxRecords").length>0)
      	    		  maxRecords = $("#maxRecords").val();
      	    	var stockdownload = false;
      	    	if($("#stockdownload").val())
      	    	stockdownload = $("#stockdownload").val();
      	    	var location = "";
      	    	if($("#outletLocation").length > 0)
      	    		location = $("#outletLocation").val();
      	    	var zone = "";
      	    	if($("#outletZone").length > 0)
      	    		zone = $("#outletZone").val();
      	    	var startdate = "";
      	    	if($("#startDateOverride").length > 0)
      	    		startdate = $("#startDateOverride").val();
      	    	var enddate = "";
      	    	if($("#endDateOverride").length > 0)
      	    		enddate = $("#endDateOverride").val();
      	    	
      	    	var category = "";
      	    	if($("#outletCategory").length > 0)
      	    		category = $("#outletCategory").val();
      	    	var subcategory = "";
      	    	if($("#outletSubcategory").length > 0)
      	    		subcategory = $("#outletSubcategory").val();
      	    	var brand = "";
      	    	if($("#outletBrandId").length > 0)
      	    		brand = $("#outletBrandId").val();
      	    	var department = "";
    	    	if($("#outletDepartmentId").length > 0)
    	    		department = $("#outletDepartmentId").val();
    	  			var URL = contextPath + "/reports/viewOutletNewReport.do";
    	  	 	    $.ajax({
    	  	  		url : URL,
    	  	  		data : {
    	  	  		index :index,
					searchName : searchname,
					maxRecords : maxRecords,
					location : location,
					productCategory : category,
					subcategory : subcategory,
					brand : brand,
					zone : zone,
					startdate :startdate,
					enddate : enddate,
					department : department,
					saveFlag:saveFlag,
					flow : flow
    	  	  		},
    	  	  		beforeSend: function(xhr){                    
    	  	 				$("#loadingreport").css("display","block");
    	  	 				$("#mainDiv").addClass("disabled");
    	  		        },

    	  	  		success : function(result){
    	  	  			// $(".active-menu").removeClass("active-menu");
    	  	  		if(id != undefined)
  	  					activeMenu(id);
    	  	  		$("#summary").html(result);
    	  	  		$('#right-side').html(result);
    	  	  		
  					var anchor = document.createElement('a');
	 				  anchor.href = $("#stockdownloadurl").val();
	 				  anchor.target = '_blank';
	 				  anchor.download = '';
	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
	 				  anchor.click();
    	  	  			$("#loadingreport").css("display","none");
    	  	  			$("#mainDiv").removeClass('disabled');
    	  	  		},
    	  	  		error : function(jqXHR, textStatus, errorThrown) {
    	  	  			errorCode(jqXHR.status);
    	  	  			$("#loadingreport").css("display","none");
    	  				   $("#mainDiv").removeClass('disabled');
    	  	  		}
    	  	  	 });
    	   		}
    	   		catch(e)
    	   		{
    	   		errorCode(e);
    	   		}


    	  	   	}
    	   
    	   //added by koti bomineni
    	   function searchOutletNewReport(id,index,searchname,searchSave,popup,flow){
  	   		  debugger;
  	   		try{
  	   		 $('#myModalIos').modal('hide');
  	   	 $('#myModalIoss').modal('hide');
  	   			var online = window.navigator.onLine;
  	   		  	if(!online){
  	   		  	alert("Check your internet connection,Please try agian after some time.");
  	   		  	return;
  	   		  	}

  	   		  var contextPath = $('#contextPath').val();
  	  	   	var maxRecords = 10;
  	  		if (searchSave == "save")
  				var saveFlag = true;
  			else
  				var saveFlag =false;
  	  	   	
  	  		
  	  		searchname=""
  				if($("#searchPrices").length>0)
  					searchname = $("#searchPrices").val().trim();
  	  		
    	    	if($("#maxRecords").length>0)
    	    		  maxRecords = $("#maxRecords").val();
    	    	var stockdownload = false;
    	    	if($("#stockdownload").val())
    	    	stockdownload = $("#stockdownload").val();
    	    	var location = "";
    	    	if($("#outletLocation").length > 0)
    	    		location = $("#outletLocation").val();
    	    	var zone = "";
    	    	if($("#outletZone").length > 0)
    	    		zone = $("#outletZone").val();
    	    	var startdate = "";
    	    	if($("#startDateOverride").length > 0)
    	    		startdate = $("#startDateOverride").val();
    	    	var enddate = "";
    	    	if($("#endDateOverride").length > 0)
    	    		enddate = $("#endDateOverride").val();
    	    	
    	    	if(popup == "" || popup == undefined || popup == null){
 	  			popup="";
 	  		}
 			
 			
 			
 				
    	    	
    	    	 if (($("#startDateOverride").val() != "" && $("#endDateOverride").val() != "") || ($("#startDateOverride").length > 0 && $("#endDateOverride").length > 0)) {
    		   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
    		   		if (noOfDays < 0) {
    		   			alert("Start Date can't be less than End Date");
    		   			return;
    		   		}
    		   	}
    	    	
    	    	 
    	    	if($("#endDateOverride").length > 0 && $("#endDateOverride").val() !=""){
 			  	   var  allownoOfDays = daydiff(parseDate($('#startDateOverride').val()), parseDate(enddate));
 					if(allownoOfDays > 31){
 						alert("Date Range should not exceed a Month");
 						return false;
 				
 					}
 					if(popup=="NOPOP"){
 			  			 if(allownoOfDays>15 ){
 			  				 
 			  				 $('#myModalIoss').modal('show');

 			  				 
 			  					/*var returnValue = getConfirmation();
 			  					if(returnValue == false)*/
 			  						return;
 			  					}
 			  		     }
    	    	}
    	    	 
    	    	var category = "";
    	    	if($("#outletCategory").length > 0)
    	    		category = $("#outletCategory").val();
    	    	var subcategory = "";
    	    	if($("#outletSubcategory").length > 0)
    	    		subcategory = $("#outletSubcategory").val();
    	    	var brand = "";
    	    	if($("#outletBrandId").length > 0)
    	    		brand = $("#outletBrandId").val();
    	    	var department = "";
  	    	if($("#outletDepartmentId").length > 0)
  	    		department = $("#outletDepartmentId").val();
  	  			var URL = contextPath + "/reports/viewOutletNewReport.do";
  	  	 	    $.ajax({
  	  	  		url : URL,
  	  	  		data : {
  	  	  		index :index,
 					searchName : searchname,
 					maxRecords : maxRecords,
 					location : location,
 					productCategory : category,
 					subcategory : subcategory,
 					brand : brand,
 					zone : zone,
 					startdate :startdate,
 					enddate : enddate,
 					department : department,
 					saveFlag:saveFlag,
 					flow : flow
  	  	  		},
  	  	  		beforeSend: function(xhr){                    viewItemWiseTaxReport
  	  	  		$("#loadingreport").css("display","block");
 				$("#mainDiv").addClass('disabled');
  	  		        },

  	  	  		success : function(result){
  	  	  			// $(".active-menu").removeClass("active-menu");
  	  	  		if(id != undefined)
 	  					activeMenu(id);
  	  	  		$("#summary").html(result);
 					var anchor = document.createElement('a');
 					 
 	 				  anchor.href = $("#stockdownloadurl").val();
 	 				  anchor.target = '_blank';
 	 				  anchor.download = '';
 	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
 	 				  anchor.click();
  	  	  			
  	  	  			/*
 						 * openMenu("liOutletSalesReports","ulOutletSalesReports",0);
 						 * openMenu("liOutletReports","ulOutletReports",1);
 						 * openMenu("reports", "ulReports",1);
 						 */

  	  	  			$('#right-side').html(result);
  	  	  			$("#loading").css("display","none");
  	  	  			$("#mainDiv").removeClass('disabled');
  	  	  		$("#loadingreport").css("display","none");
 				$("#override").removeClass('disabled');
  	  	  		},
  	  	  		error : function(jqXHR, textStatus, errorThrown) {
  	  	  			errorCode(jqXHR.status);
  	  	  		$("#loadingreport").css("display","none");
 				$("#override").removeClass('disabled');
  	  	  		}
  	  	  	 });
  	   		}
  	   		catch(e)
  	   		{
  	   		errorCode(e);
  	   		}


  	  	   	}
  	   
    	   
    	   function viewProcurementConsumptionreport(id,index,searchname){
    			try{
    				
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    		   var contextPath = $('#contextPath').val();
  			var maxRecords = 10;
	    	if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	var stockdownload = false;
	    	if($("#stockdownload").val())
	    	stockdownload = $("#stockdownload").val();
	    	var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var startdate = "";
	    	if($("#from").length > 0)
	    		startdate = $("#from").val();
	    	var enddate = "";
	    	if($("#to").length > 0)
	    		enddate = $("#to").val();
	    	var category = "";
	    	if($("#outletCategory").length > 0)
	    		category = $("#outletCategory").val();
	    	var subcategory = "";
	    	if($("#outletSubcategory").length > 0)
	    		subcategory = $("#outletSubcategory").val();
	    	var brand = "";
	    	if($("#outletBrandId").length > 0)
	    		brand = $("#outletBrandId").val();
	      	var flag = false;
	    	
	    	if(searchname=='true')
	    		{
	    		searchname ="";
	    		flag = true;
	    		}
  			 var URL = contextPath + "/reports/viewProcurementConsumptionreport.do";
  			 $.ajax({
  				type : "GET",
  				url : URL,
  				data : {
  					index :index,
  					searchName : searchname,
  					maxRecords : maxRecords,
  					location : location,
  					productCategory : category,
  					subcategory : subcategory,
  					brand : brand,
  					zone : zone,
  					startdate :startdate,
  					enddate : enddate,
  					flag :flag
  					
  				},
  				beforeSend: function(xhr){                    
  			   		$("#loading").css("display","block");
  			   		$("#mainDiv").addClass("disabled");
  			   	},
  				success : function(result){
  					if(id != undefined)
  	  					activeMenu(id);
// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
  	 	  			openMenu("liWarehouseReports","ulWarehouseReports",0);
  	 	  			openMenu("reports", "ulReports",1);
  					$('#right-side').html(result);
  					var anchor = document.createElement('a');
					 
	 				  anchor.href = $("#stockdownloadurl").val();
	 				  anchor.target = '_blank';
	 				  anchor.download = '';
	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
	 				  anchor.click();
  					$("#loading").css("display","none");
  					$("#mainDiv").removeClass('disabled');
  				},
  				error : function(jqXHR, textStatus, errorThrown) {
  					errorCode(jqXHR.status);
  					$("#loading").css("display","none");
  					$("#mainDiv").removeClass('disabled');
  				}
  			 });
    			}
    			catch(e)
    			{
    			errorCode(e);
    			}


  		}




  function viewWarehousesupplies(id){
		try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
	 
	  var contextPath = $('#contextPath').val();
  			 var URL = contextPath + "/reports/viewWarehousesupplies.do";
  			 $.ajax({
  				type : "GET",
  				url : URL,
  				data : {
  					
  				},
  				beforeSend: function(xhr){                    
  			   		$("#loading").css("display","block");
  			   		$("#mainDiv").addClass("disabled");
  			   	},
  				success : function(result){
  					if(id != undefined)
  	  					activeMenu(id);
// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
  	 	  			openMenu("liWarehouseReports","ulWarehouseReports",0);
  	 	  			openMenu("reports", "ulReports",1);
  					$('#right-side').html(result);
  					$("#loading").css("display","none");
  					$("#mainDiv").removeClass('disabled');
  				},
  				error : function(jqXHR, textStatus, errorThrown) {
  					errorCode(jqXHR.status);
  					$("#loading").css("display","none");
  					$("#mainDiv").removeClass('disabled');
  				}
  			 });
		}
		catch(e)
		{
		errorCode(e);
		}


  		}




   			   
   			   
   			function showMasterDataManagement(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/genericMaster/showMasterDataManagementFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
   				/*
				 * if($("#ulMasterDataManagement").css("display") != "block"){
				 * $(".active-menu").removeClass("active-menu");
				 * $(".menu-open").css("display","none");
				 * $(".menu-open").removeClass("menu-open");
				 * $(".active").removeClass("active"); }
				 */
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			function showGenericMasterFlows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/genericMaster/showGenericMasterFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			openMenu("liGenericData","ulGenericData",0);
  	    			openMenu("liMasterDataManagement","ulMasterDataManagement",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			function showOutletMasterFlows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
  
   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/outletMaster/showOutletMasterFlows.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("master-details","ulMasterDetails",0);
    	    			openMenu("liMasterDataManagement","ulMasterDataManagement",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }
   			function showWarehouseMasterFlows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/warehouseMaster/showWarehouseMasterFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			openMenu("master-details","ulMasterDetails",0);
  	    			openMenu("warehousemaster-details","ulWarehouseMasterDetails",0);
  		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			function newWarehouseSku(id){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $("#contextPath").val();
   	   		    URL = contextPath + "/warehouseMaster/newWarehouseSku.do";
   	   	 		$.ajax({
   	   	 			type: "GET",
   	   	 			url : URL,
   	   	 			data : {
   	   	 			},
   	   	 			beforeSend: function(xhr){                    
   	   	   	   			$("#loading").css("display","block");
   	   	   	   			$("#mainDiv").addClass("disabled");
   	   	   	   		  },
   	   	 			success : function(result) {
   	   	 				$("#right-side").html(result);
   	   	 				if(id != undefined)
   	   	 					activeMenu(id);
   	   	 				$("#loading").css("display","none");
   	   	 				$("#mainDiv").removeClass('disabled');
   	   	 			},
   	   	 			error : function(jqXHR, textStatus, errorThrown)  {
   	   	 				 errorCode(jqXHR.status);
   	   	 				$("#loading").css("display","none");
   	   	 				$("#mainDiv").removeClass('disabled');
   	   	 			}
   	   	 		});
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


   	   		}
   			
   			function showOutletFlows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
    		  var URL = contextPath + "/inventorymanager/showOutletFlows.do";
	    	    $.ajax({
	    		url : URL,
	    		data : {
	    		},
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			$(".active-menu").removeClass("active-menu");
	    			/*
					 * $(".active-menu").removeClass("active-menu");
					 * $(".menu-open").css("display","none");
					 * $(".menu-open").removeClass("menu-open");
					 * $(".active").removeClass("active");
					 */
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


    	   }
   			
   			function showDealsFlow(){
        		
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				  	var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/dealsAndOffers/showDealsFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    		// $(".menu-open").css("display","none");
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }
   			
   			
   			
function showPromotionsFlow(){
        		
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				  	var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/dealsAndOffers/showPromotionsFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liCampaignPromotions", "ulCampaignPromotions",0);
       	    			openMenu("deals-offers", "ulDealsOffers",1);
    	    		// $(".menu-open").css("display","none");
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}

        	   }
   			

function showPricemanagementFlow(){
        		
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				  	var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/outletMaster/showPricemanagementFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liPriceManagement", "ulPriceManagement",0);
    	    			openMenu("liMasterDataManagement","ulMasterDataManagement",1);
// openMenu("deals-offers", "ulDealsOffers",1);
    	    		// $(".menu-open").css("display","none");
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}
        	   }


   			
   			
   			function showUsersFlow(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

      		  var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/userAccessControl/showUsersFlow.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    		// $(".menu-open").css("display","none");
	    			openMenu("user-details", "ulUserDetails",0);
  	    			openMenu("liUserAccessControl", "ulUserAccessControl",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}

      	   }
   			
   			function showUserAccessControlFlow(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/userAccessControl/showUserAccessControlFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    		// $(".menu-open").css("display","none");
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }
   			
   			
   			function showLoyaltyFlow(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/crm/showLoyaltyFlow.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    		// $(".menu-open").css("display","none");
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			function showBillsFlows(){
      		  
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				 var flowLocation = "";
   				  	var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/inventorymanager/showBillsFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    			flowLocation : flowLocation
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			openMenu("liBills","ulBills",0);
  	    			openMenu("storedetails","ulstoredetails",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			
   			
   			
   			
   			
   			function showBillsFlowsWareHouse (){
        		  
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				var flowLocation = "warehouse";
   				  	var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/inventorymanager/showBillsFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    			flowLocation : flowLocation
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			openMenu("liBillsWareHouse","ulBillsWareHouse",0);
  	    			openMenu("warehouseDetails","ulwarehouseDetails",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			
   			
   			
   			
   			/*function editLoyaltyGiftCouponForPagination(loyaltyCouponNumber,index,searchCriteria,saveFlag){
   				debugger;
   		  	 var contextPath = $('#contextPath').val();
   		  	var maxRecords = 10;
   		  	if ($("#maxRecords").length > 0)
   		  		maxRecords = $("#maxRecords").val();
   		  	 // debugger
   		  	loyaltyCouponNumber = $("#promoCode").val();
   		  	 
   		  searchCriteria = $("#searchItems").val().trim();
   		var actionTest = $("#actionTest").val();
 		if(actionTest == null || actionTest == "" || actionTest == undefined){
 			actionTest="";
 		}

   		  	
   		  var noofClaims = $("#nofClaims").val();
   		  	 var URL = contextPath + "/crm/editLoyaltyCouponForPagination.do";
   		  	 $.ajax({
   		  		type : "GET",
   		  		url : URL,
   		  		data : {
   		  			loyaltyCouponNumber : loyaltyCouponNumber,
   		  			maxRecords : maxRecords,
   		  			index:index,
   		  			searchCriteria : searchCriteria,
   		  		   saveFlag : saveFlag,
   		  		noofClaims : noofClaims,
				 actionTest:actionTest

   		  		},
   		  		beforeSend: function(xhr){                     
   		 	   			$("#loading").css("display","block");
   		 	   			$("#mainDiv").addClass("disabled");
   		 	   		  },
   		  		success : function(result){
   		  			
   		  		
   		  			
   		  			$('#generatedCoupons').html(result);
   		  			
   		  		if(saveFlag=="true"){
   					
     				 var anchor = document.createElement('a');
 				  anchor.href = $("#downloadurl").val();
// alert($("#stockdownloadurl").val())
 				  anchor.target = '_blank';
 				  anchor.download = '';
 				if($("#downloadurl").val()!=null && $("#downloadurl").val()!='')
 				  anchor.click();
 				
     				}
   		  			
   		  			$("#loading").css("display","none");
   		  			$("#mainDiv").removeClass('disabled');
   		  		},
   		  		error : function(){
   		  			alert("Internal error, please contact Technolabs support. ");
   		  			$("#loading").css("display","none");
   						$("#mainDiv").removeClass('disabled');
   		  		}
   		  	 });
   		  	 
   		   }*/

   			
   			function editLoyaltyGiftCouponForPagination(loyaltyCouponNumber,index,searchCriteria,saveFlag){
   				debugger;
   		  	 var contextPath = $('#contextPath').val();
   		  	var maxRecords = 10;
   		  	if ($("#maxRecords").length > 0)
   		  		maxRecords = $("#maxRecords").val();
   		  	 // debugger
   		  	loyaltyCouponNumber = $("#promoCode").val();
   		  	 
   		  searchCriteria = $("#searchItems").val().trim();
   		var actionTest = $("#actionTest").val();
 		if(actionTest == null || actionTest == "" || actionTest == undefined){
 			actionTest="";
 		}

   		  	
   		  var noofClaims = $("#nofClaims").val();
   		  	 var URL = contextPath + "/crm/editLoyaltyCouponForPagination.do";
   		  	 $.ajax({
   		  		type : "GET",
   		  		url : URL,
   		  		data : {
   		  			loyaltyCouponNumber : loyaltyCouponNumber,
   		  			maxRecords : maxRecords,
   		  			index:index,
   		  			searchCriteria : searchCriteria,
   		  		   saveFlag : saveFlag,
   		  		noofClaims : noofClaims,
				 actionTest:actionTest

   		  		},
   		  		beforeSend: function(xhr){                     
   		 	   			$("#loading").css("display","block");
   		 	   			$("#mainDiv").addClass("disabled");
   		 	   		  },
   		  		success : function(result){
   		  			
   		  		
   		  			
   		  			$('#generatedCoupons').html(result);
   		  			
   		  		if(saveFlag=="true"){
   					
     				 var anchor = document.createElement('a');
 				  anchor.href = $("#downloadurl").val();
// alert($("#stockdownloadurl").val())
 				  anchor.target = '_blank';
 				  anchor.download = '';
 				if($("#downloadurl").val()!=null && $("#downloadurl").val()!='')
 				  anchor.click();
 				
     				}
   		  			
   		  			$("#loading").css("display","none");
   		  			$("#mainDiv").removeClass('disabled');
   		  		},
   		  		error : function(){
   		  			alert("Internal error, please contact Technolabs support. ");
   		  			$("#loading").css("display","none");
   						$("#mainDiv").removeClass('disabled');
   		  		}
   		  	 });
   		  	 
   		   }

   			
   			
   			
   			function viewOMShipments(id,index,searchname,saveFlag){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				
   			 var contextPath = $('#contextPath').val();
    			var maxRecords = 10;
   	    	if($("#maxRecords").length>0)
   	    		  maxRecords = $("#maxRecords").val();
   	    	var stockdownload = false;
   	    	if($("#stockdownload").val())
   	    	stockdownload = $("#stockdownload").val();
   	    	var location = "";
   	    	if($("#outletLocation").length > 0)
   	    		location = $("#outletLocation").val();
   	    	var zone = "";
   	    	if($("#outletZone").length > 0)
   	    		zone = $("#outletZone").val();
   	    	var startdate = "";
   	    	if($("#fromGRNReceipt").length > 0)
   	    		startdate = $("#fromGRNReceipt").val();
   	    	var enddate = "";
   	    	if($("#toGRNReceipt").length > 0)
   	    		enddate = $("#toGRNReceipt").val();
   	    	
   	     if ($("#fromGRNReceipt").val() != "" && $("#toGRNReceipt").val() != "") {
 	   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
 	   		if (noOfDays < 0) {
 	   			alert("Start Date can't be less than End Date");
 	   			return;
 	   		}
 	   	}
   	    	
   	    	var category = "";
   	    	if($("#outletCategory").length > 0)
   	    		category = $("#outletCategory").val();
   	    	var subcategory = "";
   	    	if($("#outletSubcategory").length > 0)
   	    		subcategory = $("#outletSubcategory").val();
   	    	var brand = "";
   	    	
   	    	var supplierid = "";
	    	if($("#outletSupplierId").length > 0)
	    		supplierid = $("#outletSupplierId").val();
	    	
	    	searchname=""
				if($("#supplierReport").length>0)
					searchname = $("#supplierReport").val().trim();
	    	
	    	
   	  	 $('#myModalIos').modal('hide');
   	  	
   	    	
   	    	if($("#outletBrandId").length > 0)
   	    		brand = $("#outletBrandId").val();
    			
   	     var billedLocationsList = [];
   	 	 var length = $('#outletLocation').children('option').length;
   	       	$('#outletLocation option').each(function() { 
   	       		billedLocationsList.push( $(this).attr('value'));
   	       	});
   	 	 var  locationList="";
   	    	for(i=1;i<billedLocationsList.length;i++)
   	    		{
   	    		locationList =locationList+ billedLocationsList[i]+',';
   	    		}
   	    	
   	    	
   	    	var URL = contextPath + "/reports/viewOutletShipmentreport.do";
   	    	$.ajax({
    				type : "GET",
    				url : URL,
    				data : {
    					index :index,
    					searchName : searchname,
    					maxRecords : maxRecords,
    					location : location,
    					productCategory : category,
    					subcategory : subcategory,
    					supplierName : supplierid,
    					brand : brand,
    					zone : zone,
    					saveFlag : saveFlag,
    					startdate :startdate,
    					enddate : enddate,
    					locationList : locationList
    				},
    				beforeSend: function(xhr){                    
    			   		$("#loading").css("display","block");
    			   		$("#mainDiv").addClass("disabled");
    			   	},
    				success : function(result){
    					if(id != undefined)
    	  					activeMenu(id);
// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
// openMenu("liInventoryManagement","ulInventoryManagement",1);
    					openMenu("liOutletGRNReports","ulOutletGRNReports",1);
    					$('#right-side').html(result);
    					if(saveFlag){
           					
              				 var anchor = document.createElement('a');
          				  anchor.href = $("#stockdownloadurl").val();
          				  anchor.target = '_blank';
          				  anchor.download = '';
          				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
          				  anchor.click();
              				}
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				},
    				error : function(jqXHR, textStatus, errorThrown) {
    					errorCode(jqXHR.status);
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				}
    			 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


    		}
    	   



   			
   			function viewOMShipmentsReceipt(id,index,searchname,saveFlag){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
// debugger
   			 var contextPath = $('#contextPath').val();
    			var maxRecords = 10;
   	    	if($("#maxRecords").length>0)
   	    		  maxRecords = $("#maxRecords").val();
   	    	var stockdownload = false;
   	    	if($("#stockdownload").val())
   	    	stockdownload = $("#stockdownload").val();
   	    	var location = "";
   	    	if($("#outletLocation").length > 0)
   	    		location = $("#outletLocation").val();
   	    	var zone = "";
   	    	if($("#outletZone").length > 0)
   	    		zone = $("#outletZone").val();
   	    	var startdate = "";
   	    	if($("#fromGRN").length > 0)
   	    		startdate = $("#fromGRN").val();
   	    	var enddate = "";
   	    	if($("#toGRN").length > 0)
   	    		enddate = $("#toGRN").val();
   	    	
   	    	
   	     if ($("#fromGRN").val() != "" && $("#toGRN").val() != "") {
 	   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
 	   		if (noOfDays < 0) {
 	   			alert("Start Date can't be less than End Date");
 	   			return;
 	   		}
 	   	}
   	    	
   	    	
   	    	var category = "";
   	    	if($("#outletCategory").length > 0)
   	    		category = $("#outletCategory").val();
   	    	var subcategory = "";
   	    	if($("#outletSubcategory").length > 0)
   	    		subcategory = $("#outletSubcategory").val();
   	    	var brand = "";
   	    	
   	    	var supplierid = "";
	    	if($("#outletSupplierId").length > 0)
	    		supplierid = $("#outletSupplierId").val();
	    	
	    	searchname=""
				if($("#supplierReport").length>0)
					searchname = $("#supplierReport").val().trim();
	    	
	    	
   	  	 $('#myModalIos').modal('hide');
   	  	
   	  	 
   	  var billedLocationsList = [];
 	 var length = $('#outletLocation').children('option').length;
       	$('#outletLocation option').each(function() { 
       		billedLocationsList.push( $(this).attr('value'));
       	});
 	 var  locationList="";
    	for(i=1;i<billedLocationsList.length;i++)
    		{
    		locationList =locationList+ billedLocationsList[i]+',';
    		}
// console.log(locationList)
   	    	
   	    	if($("#outletBrandId").length > 0)
   	    		brand = $("#outletBrandId").val();
    			
   	    	var URL = contextPath + "/reports/viewOutletShipmentReceiptreport.do";
   	    	$.ajax({
    				type : "GET",
    				url : URL,
    				data : {
    					index :index,
    					searchName : searchname,
    					maxRecords : maxRecords,
    					location : location,
    					productCategory : category,
    					subcategory : subcategory,
    					supplierName : supplierid,
    					brand : brand,
    					zone : zone,
    					saveFlag : saveFlag,
    					startdate :startdate,
    					enddate : enddate,
    					locationList : locationList
    					
    				},
    				beforeSend: function(xhr){                    
    			   		$("#loading").css("display","block");
// if(!saveFlag)
    			   		$("#mainDiv").addClass("disabled");
    			   		
    			   	},
    				success : function(result){
    					activeMenu(id);
    					openMenu("liOutletGRNReports","ulOutletGRNReports",1);
// openMenu("reports", "ulReports",1);
// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
// openMenu("liInventoryManagement","ulInventoryManagement",1);
// if(!saveFlag)
    			  		$('#right-side').html(result);
    					if(saveFlag){
           					
              				 var anchor = document.createElement('a');
          				  anchor.href = $("#stockdownloadurl").val();
          				  anchor.target = '_blank';
          				  anchor.download = '';
          				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
          				  anchor.click();
          				
              				}
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				},
    				error : function(jqXHR, textStatus, errorThrown) {
    					errorCode(jqXHR.status);
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				}
    			 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


    		}
    	   
   			
   			
   			
   			function showOutletOrdersFlows(){
   				try{
   					debugger;
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   			
        		  var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/inventorymanager/showOutletOrdersFlows.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liOrders","ulOrders",0);
    	    			openMenu("storedetails","ulstoredetails",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }
   			
   			
   			function showOutletShipmentsFlows(){
      		 
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				  	var contextPath = $('#contextPath').val();
   				  	var URL = contextPath + "/orderManagement/showOutletShipmentsFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			openMenu("liShipments","ulShipments",0);
  	    			openMenu("storedetails","ulstoredetails",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			function showOrderManagementFlows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
  
   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/orderManagement/showOrderManagementFlows.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }
   			
   			function showSalesOrderFlows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/orderManagement/showSalesOrderFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			openMenu("liSalesOrdersLi","ulSalesOrdersUl",0);
  	    			openMenu("liOrderManagementLi","ulOrderManagementUl",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


   				/*
				 * $(".active-menu").removeClass("active-menu");
				 * openMenu("liSalesOrdersLi","ulSalesOrdersUl",0);
				 * openMenu("liOrderManagementLi","ulOrderManagementUl",1);
				 */
      	   }
   			
   			function showFulfilmentOrders(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/orderManagement/showFulfilmentOrders.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liFulfillmentOrders","ulFulfillmentOrders",0);
    	    			openMenu("liOrderManagementLi","ulOrderManagementUl",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


   				/*
				 * $(".active-menu").removeClass("active-menu");
				 * openMenu("liFulfillmentOrders","ulFulfillmentOrders",0);
				 * openMenu("liOrderManagement","ulOrderManagement",1);
				 */
        	   }
   			
   			function showOrderPayments(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/orderManagement/showOrderPaymentsFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liPaymentsOrders","ulPaymentsOrders",0);
    	    			openMenu("liOrderManagementLi","ulOrderManagementUl",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


   				/*
				 * $(".active-menu").removeClass("active-menu");
				 * openMenu("liPaymentsOrders","ulPaymentsOrders",0);
				 * openMenu("liOrderManagement","ulOrderManagement",1);
				 */
        	   }
   			
   			
   			function showInventoryManagementFlows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/inventorymanager/showInventoryManagementFlows.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liInventoryManagement","ulInventoryManagement",0);
    	    			openMenu("storedetails","ulstoredetails",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }
   			
   			function ShowStockVerificationflows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/inventorymanager/showStockverfication.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			/*openMenu("liOutletStocks","ulOutletStocks",0);*/
  					openMenu("liInventoryManagement","ulInventoryManagement",1);
  					openMenu("storedetails","ulstoredetails",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			
   			
   			
   			
   			
   			
   			function showOutletStocksFlow(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/inventorymanager/showOutletStocksFlow.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			openMenu("liOutletStocks","ulOutletStocks",0);
  					openMenu("liInventoryManagement","ulInventoryManagement",1);
  					openMenu("storedetails","ulstoredetails",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			function showWarehouseStocksFlow(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/inventorymanager/showWarehouseStocksFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liwarehouseStocks","ulwarehouseStocks",0);
    					openMenu("liStockManagement","ulStockManagement",1);
    					openMenu("warehouseDetails","ulwarehouseDetails",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }
   			
   			function showWarehouseStockManagementFlows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/inventorymanager/showWarehouseStockManagementFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  					openMenu("liStockManagement","ulStockManagement",0);
  					openMenu("warehouseDetails","ulwarehouseDetails",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			function showOutletGoodsTransferFlow(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/inventorymanager/showOutletGoodsTransferFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liGoodsTransfer","ulGoodsTransfer",0);
	  					openMenu("liInventoryManagement","ulInventoryManagement",1);
	  					openMenu("storedetails","ulstoredetails",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }
   			
   			function showWarehouseGoodsTrasferFlow(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/inventorymanager/showWarehouseGoodsTrasferFlow.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			openMenu("liWarehouseGoodsTransfer","ulWarehouseGoodsTransfer",0);
  	    			openMenu("liStockManagement","ulStockManagement",1);
  	    			openMenu("warehouseDetails","ulwarehouseDetails",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


      	   }
   			
   			function showWarehouseOrders(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/inventorymanager/showWarehouseOrders.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liWarehouseOrders","ulWarehouseOrders",0);
    	    			openMenu("warehouseDetails","ulwarehouseDetails",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }
     			
   			
   			
   			/*function showOutletHealthFlows(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/inventorymanager/showOutletHealthFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			//openMenu("liOutletHealth","ulOutletHealth",0);
  	    			openMenu("liInventoryManagement","ulInventoryManagement",1);
  					openMenu("storedetails","ulstoredetails",1);
  	    			
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}
      	   }
 			*/
   			
   			function showOutletHealthFlows(){
   				try{
   					debugger;
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				 debugger;
   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/inventorymanager/showOutletHealthFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    		//	openMenu("liOutletStocks","ulOutletStocks",0);
  					openMenu("liInventoryManagement","ulInventoryManagement",1);
  					openMenu("storedetails","ulstoredetails",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}
      	   }
   			
   			
   			
   			function showProcurementFlow(){
try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
        		  var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/inventorymanager/showProcurementFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liProcurement","ulProcurement",0);
    	    			openMenu("warehouseDetails","ulwarehouseDetails",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });

}
	catch(e)
	{
	errorCode(e);
	}


        	   }
   			
   			function showWarehouseProcurementFlows(id){
try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
      		  var contextPath = $('#contextPath').val();
    		   var URL = contextPath + "/procurement/showWarehouseProcurementFlows.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
	    			openMenu("liShipment","ulShipment",0);
	    			openMenu("liStockManagement","ulStockManagement",1);
	    			openMenu("warehouseDetails","ulwarehouseDetails",1);
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });

}
	catch(e)
	{
	errorCode(e);
	}


      	   }
   			
   			function showOutletProcurementFlow(){
try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	} 
   				var contextPath = $('#contextPath').val();
      		  var URL = contextPath + "/procurement/showOutletProcurementFlow.do";
  	    	    $.ajax({
  	    		url : URL,
  	    		data : {
  	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    			openMenu("liOutletProcurement","ulOutletProcurement",0);
// openMenu("storedetails","ulstoredetails",1);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
    			   $("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });

}
	catch(e)
	{
	errorCode(e);
	}


      	   }
   			
   			
   			
   			function showWarehouseProcurementShipmentsFlow(){
   					try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	} 
   			
        		  var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/procurement/showWarehouseProcurementShipmentFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liWarehouseProcurementShipment","ulWarehouseProcurementShipment",0);
    	    			openMenu("liStockManagement","ulStockManagement",1);
    	    			openMenu("warehouseDetails","ulwarehouseDetails",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });

   					}
   						catch(e)
   						{
   						errorCode(e);
   						}


        	   }
   			
   			
   			
   			
   			
   			
   			
   			
   			function openMenu(liId,ulId,flag){
   				if(flag == 0){
   					$(".active").removeClass("active");
   					$(".menu-open").css("display","none");
   					$(".menu-open").removeClass("menu-open");
   				}
   			 $("#"+liId).addClass("active");
  			 $("#"+ulId).addClass("menu-open");
  			 $("#"+ulId).css("display","block");
   			}
   			
   			function focusDiv(id){
   				if($("#"+id).length > 0){
   					var scrollPos =  $("#"+id).offset().top;
   					$(window).scrollTop(scrollPos);
   				}
   			}
   		
   			$(".searchItems").bind('input', function () {
	         try{
	        	 debugger;
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	} 
   				$(".Error").html("");
   				//$("."+searchCategory+"Error").html("");
   				 var searchName = $(this).val().trim();
   				 if(searchName!=""&&searchName.length>=3){
   					 $(this).siblings("div").show();
   					 var searchCategory = $(this).siblings("div").children("div").children("ul").attr("class").replace('matchedStringUl ','');
   					 if(searchCategory=="offersellskus" || searchCategory=="offersellskusgroup" || searchCategory == "offersellskusExclude" || searchCategory == "saleGroupSkuOffer"){   	
   						 var location = $('#offerLocation').val();
   						if(location==null){
   							alert("Please Select location...");
   	   	   				  	return;
   						}  			
   					 }
   					 
   					 if(searchCategory=="dealProduct" || searchCategory=="dealProductsList" || searchCategory == "saleGroupSku" || searchCategory == "dealGroupSku"){   	
   						 var location = $('#dealLocation').val();
   						 if(location==undefined || location=="")
   							 {
   							 location=$('#editdealLocation').val();
   							 }
   						if(location==null){
   							alert("Please Select location...");
   	   	   				  	return;
   						} 
   					 }
   					 if(searchCategory=="po" || searchCategory == "apparel" ){  						
   					 var supplier = $('#searchSupplier').val();
   					
   					
   					 	if(supplier==""){
							alert("Please Select Supplier...");
	   	   				  	return;
						}  
   						 
   					 }
   					 
   					 
   					 if(searchCategory=="receipt"){
   						var supplier = $('#searchSupplier').val();
   						var supplier_Id = $('#supplier_Id').val();
   	   					if(supplier_Id == undefined || supplier_Id ==null || supplier_Id == ""){
   	   						supplier_Id = "";
   	   					}
   	   					
   	   				if(supplier=="" && supplier_Id == ""){
						alert("Please Select Supplier...");
   	   				  	return;
					}  
   						 
   						 
   					 }
   					 
   					 
   					 if (searchCategory == "apparel" || searchCategory == "brandMasterProduct" || searchCategory == "stockUploading" || searchCategory == "receipt" || searchCategory == "dealProduct" || searchCategory == "dealProductsList"  ||  searchCategory =="StorageMasterWarehouse" || searchCategory == "editDealProduct" || searchCategory == "editDealProductsList" || searchCategory == "productName" || searchCategory == "offersellproducts" || searchCategory == "editproductList" || searchCategory == "productNameSku" || searchCategory == "itemname" || searchCategory == "eventManagement" ||  searchCategory == "eventInventory" ||  searchCategory == "request" || searchCategory == "bomRequest2" || searchCategory == "offersellskus" || searchCategory == "offersellskusExclude" || searchCategory == "offersellskusgroup" || searchCategory == "payments" || searchCategory == "salespayments"  || searchCategory == "debitNoteItems"  ) 
   						 searchProducts(searchName, searchCategory);
   					else if(searchCategory == "buySkuList" || searchCategory == "dealSkudatalist" || searchCategory == "editbuySkuList" || searchCategory == "editDealSkudatalist"  || searchCategory == "editOfferBuySkuList")
   						searchBuySkus(searchName, searchCategory);
   					else if(searchCategory == "searchLoyaltyItems")
   						searchLoyaltyCards('','0',false);
   					else if(searchCategory == "searchStores")
   						viewConfigurations('outletConfigurations','0');
   					
   					else if(searchCategory == "searchEventsSummary")
   						viewEventsManagement('outletEvents','0');
   					else if(searchCategory == "eventEquipment")
   						searchEventEquipment(searchName, searchCategory);
   					else if(searchCategory == "homePageGroups")
   						viewProductGroupMasterforHomepageGroup('homePageGroups','0');
   					else if ( searchCategory == "packaging")
   						searchBomMaster(searchName,searchCategory);
   					else if(searchCategory == "po")
   						searchProducts(searchName, searchCategory);
   					else if(searchCategory == "saleGroupSku" || searchCategory == "dealGroupSku" || searchCategory == "saleGroupSkuOffer")
   						searchGroupSkus(searchName, searchCategory);
   					else if(searchCategory == "productGroupMaster")
   					    searchSku(searchName, searchCategory);
   					else if(searchCategory == "searchVoucherItems")
   						searchGiftVouchers('','0',false);
   					else if(searchCategory == "searchMembershipItems")
   						viewMemberships('membership','Memberships','0','menu');  
   					 
   					else if(searchCategory == "searchMembershipchildItems")
   						saveMembership('','false');  					
   						else if(searchCategory == "searchWalletItems")
   							viewWallets('wallet','Wallet','0','menu');		
   						else if(searchCategory == "searchWalletChildItems")
   							viewEditWallet('','','0','true');	
   						else if(searchCategory == "searchWalletChildItemslist"){
   							var operation=$("#operationwallet").val();
   							var wId=$("#promoCode").val()
   							editWalletForPagination(wId,'0',operation);
   						}
   					else if(searchCategory == "customerGroupMaster")
   					    searchCustomers(searchName, searchCategory);   					 
   					else if(searchCategory == "searchCouponItems")
   						editLoyaltyGiftCouponForPagination('','0',searchName,'false');
   					else if(searchCategory == "offersellskus")
   						getProductsByCriteria(searchName, searchCategory,'0');
   					else if(searchCategory == "invoicesWarehouseShipmentDetails")
   	   					searchWarehouseInvoicesdetails(searchName, searchCategory,'0');
   					else if(searchCategory == "productGroupmaster")
   					   	searchProductGroupMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "searchShopping")
   					 searchShoppingList(searchName,searchCategory,'0');
   					else if(searchCategory == "shipmentreceiptReport")
   						viewOMShipments('outletShipmentsReport','0',searchName,'false');
   				else if(searchCategory == "shipmentgatepass")
   					{
   					// debugger
   				 searchShipmentGatepass(searchName, searchCategory,'0');
   				 
   					}
   				else if(searchCategory == "dayOpen")
   					searchDaysOpen(searchName, searchCategory,'0');	 
   				  else if(searchCategory == "gatePass")
   				  searchGatepass(searchName, searchCategory,'0');
   				else if(searchCategory == "invoicesdetails")
   				   searchInvoicesdetails(searchName, searchCategory,'0');
   				  else if(searchCategory == "orderRef")
   				   searchorderref(searchName, searchCategory);
   				 else if(searchCategory == "consumption")
   					viewProcurementConsumptionreport('warehouseProcurementVsConsumption','0', searchName);
   				 else if(searchCategory == "supplierReport")
   					viewWarehousesuppliereport('warehouseSuppliesReports','0',searchName);
   				 else if(searchCategory == "PriceVariation")
   					viewPriceVariationreport('warehousePriceVariation','0',searchName);
   				 else if(searchCategory == "invoicesearch")
   				   searchinvoices(searchName, searchCategory,'0');
   					 else if(searchCategory == "saleGroup" || searchCategory == "dealGroup")
   						searchProductGroupMaster(searchName, searchCategory);
   					 else if(searchCategory == "1groupId" || searchCategory == "dealGroup")
    						searchProductGroupMaster(searchName, searchCategory);
   					 
   					else if(searchCategory == "warehouseskuMaster")
   						searchWarehouseSkuProducts(searchName, searchCategory,'0');
   				  else if(searchCategory == "primaryDepartment")
 						searchDepartmentNames(searchName, searchCategory);
 					else if (searchCategory == "secondaryDepartment")
						searchSubDepartmentNames(searchName, searchCategory);
   					/*
					 * else if(searchCategory.indexOf("groupId") > -1)
					 * searchProductGroupMaster(searchName, searchCategory);
					 * else if(searchCategory.indexOf("itemId") > -1)
					 * searchBuySkus(searchName, searchCategory);
					 */
 					else if(searchCategory == "menuItems")
   						getProductName(searchName, searchCategory,'0');
   					else if(searchCategory == "employee" || searchCategory == "eventmanPower" )
   						searchEmployee(searchName, searchCategory);
   					else if(searchCategory == "checkInIds")
					 	searchCheckInIds(searchName, searchCategory,"checkIn");
 					else if(searchCategory == "checkOutIds")
					 	searchCheckInIds(searchName, searchCategory,"checkOut");
 					else if(searchCategory == "serviceHistory")
					 	searchCheckInIds1(searchName, searchCategory,"");
 					else if(searchCategory == "searchDepartmentNames")
 						searchDepartmentNames(searchName, searchCategory);
 					else if(searchCategory == "checkIn_bookingIds")
	        			searchCheckInIds(searchName, searchCategory,"booking");
		     		else if(searchCategory == "restaurantBookingIds")
		     			searchRestaurantBookingIds(searchName, searchCategory);
		     		else if(searchCategory == "bookingIds")
		     			searchBookingIds(searchName, searchCategory);
		     		else if(searchCategory == "sectionMaster")
 						searchSectionMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "recemployee" || searchCategory == "insemployee")
   						searchInspectedEmployee(searchName, searchCategory);
   					// viewMaterialConsumption(id,index,flowUnder,menu)
   					else if(searchCategory == "Quotation")
   						searchQuotation(searchName, searchCategory,'0');
   					else if(searchCategory == "searchDepartmentNames")
   						searchDepartmentNames(searchName, searchCategory);
   					else if(searchCategory == "searchOrganizationDepartmentNames")
 						searchOrganizationDepartmentNames(searchName, searchCategory);
   					else if(searchCategory == "searchIssue" || searchCategory == "searchIssuePack")
   						searchGoodsIssue(searchName, searchCategory);
   					else if(searchCategory == "searchReturn")
   						searchGoodsReturn(searchName, searchCategory);
   					else if(searchCategory == "searchReceipt")
   						searchGoodsReceipt(searchName, searchCategory);
   					else if(searchCategory == "searchStockRequest")
   						searchGoodsRequest(searchName, searchCategory);
   					else if(searchCategory == "product")
   						searchProductsBasedOnCategory(searchName, searchCategory);
   					else if(searchCategory == "searchProduct")
   						searchProductsBasedOnCategory(searchName, searchCategory);
   					else if(searchCategory == "storageSkus")
   						searchProductForStorage(searchName, searchCategory);
   					else if(searchCategory == "storageWSkus")
   						searchProductForWarehouseStorage(searchName, searchCategory);
   					else if(searchCategory == "greeting" || searchCategory == "campaign" || searchCategory == "outle" || searchCategory == "outlet")
   					   	$("."+searchCategory).show();
   					else if(searchCategory == "dealsNames")
   						searchDealNames(searchName, searchCategory);
   					else if(searchCategory == "offersNames")
   						searchOfferNames(searchName, searchCategory);
   					else if(searchCategory == "skuMaster")
   						searchSkuMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "zoneMaster")
   						searchZoneMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "supplierMaster")
   						searchSupplierMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "productMaster")
   						searchProductMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "categoryMaster")
   						searchCategoryMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "subcategoryMaster")
   						searchsubCategoryMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "currencyMaster")
   						searchCurrencyMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "departmentMaster")
   						searchDepartmentMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "loyaltyRewards")
   						searchLoyaltyRewards(searchName, searchCategory,'0');
   					else if(searchCategory == "employeeMaster")
   						searchEmployeeMaster(searchName, searchCategory,'0');
   					/*
					 * else if(searchCategory == "searchBills")
					 * searchBills(searchName, searchCategory,'0');
					 */
   					/*
					 * else if(searchCategory == "searchStocks")
					 * searchStocks(searchName, searchCategory,'0');
					 */
   					else if(searchCategory == "searchDeals")
   						searchDeals(searchName, searchCategory,'0');
   					else if(searchCategory == "searchOffers")
   						searchOffers(searchName, searchCategory,'0');
   					else if(searchCategory == "locationMaster")
   						searchLocationMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "BomMaster")
   						searchBomMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "taxMaster")
   						searchTaxMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "searchCounterMaster")
   						searchCounterMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "searchWhCounterMaster")
   						searchWhCounterMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "homePageBannerMaster")
   						searchHomePageBanners(searchName, searchCategory,'0');
   					else if(searchCategory == "brandMaster")
   						searchBrandMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "subCategoryMaster")
   						searchSubCategoryMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "outletStockReturn")
   						searchOutletStockReturn(searchName, searchCategory,'0');
   					else if(searchCategory == "assetMaster")
   					   	searchAssetMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "customerComplaints")
   						searchCustomerComplaints(searchName, searchCategory,'0');
   					else if(searchCategory == "storeTaxationMaster")
   						searchStoreTaxationMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "searchOrders")
   					   	searchOrders(searchName, searchCategory,'0');
   					else if(searchCategory == "stockReceipts")
   						searchStockReceipts(searchName, searchCategory,'0');
   					else if(searchCategory == "issuedStocks")
   						searchStockIssues(searchName, searchCategory,'0');
   					else if(searchCategory == "searchPurchaseOrders")
   						searchPurchaseOrders(searchName, searchCategory,'0');
   					else if(searchCategory == "searchissueReport")
   					viewStockIssueReport('stockissueReports','0','','clear','');
   					else if(searchCategory == "searchShipmentReceipt")
   						searchShipmentReceipt(searchName, searchCategory,'0');
   					else if(searchCategory == "searchEvents")
   						searchEvents(searchName, searchCategory,'0');
   					else if(searchCategory == "stockRequests")
   						searchStockRequests(searchName, searchCategory,'0');
   					else if(searchCategory == "outletShipments")
   						searchShipments(searchName, searchCategory,'0');
   					else if(searchCategory == "shiftMaster")
   						searchShiftMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "shiftAllocationMaster")
   						searchShiftAllocationMaster(searchName, searchCategory,'0');
   					else if(searchCategory == "requestQuotation")
   						searchRFQ(searchName, searchCategory,'0');
   					else if(searchCategory == "quoteRef")
   						searchQuoteRef(searchName, searchCategory);
   					else if(searchCategory == "couponRef")
   						searchCouponIds(searchName, searchCategory);
   					else if(searchCategory == "applicationLog")
   						searchApplicationLog(searchName, searchCategory,'0'); 
   					else if(searchCategory == "exportLog")
   						viewExportLog('exportLog','0'); 
   					else if(searchCategory == "shipmentRateMaster")
   						searchShipmentRate(searchName, searchCategory,'0'); 
   					else if(searchCategory == "searchStockVerification")
   						searchStockVerification(searchName, searchCategory,'0'); 
   					else if(searchCategory == "searchShipmentNotes")
   						searchShipmentNotes(searchName, searchCategory,'0');
   					else if(searchCategory == "searchShipmentNoteRefs")
   						searchShipmentNoteRefs(searchName, searchCategory);
   					else if(searchCategory == "searchShipmentReturns")
   						searchShipmentReturns(searchName, searchCategory,'0');
   					else if(searchCategory == "searchCustomers")
   						searchCustomers(searchName, searchCategory,'0'); 
   					else if(searchCategory == "searchCustomersForPurchases")
   						searchCustomerPurchases(searchName, searchCategory,'0'); 
   					else if(searchCategory == "hotDeals")
   						searchHotDeals(searchName, searchCategory,'0');	
   					else if(searchCategory == "poRef")
   						searchPoRefs(searchName, searchCategory,'0');
   					else if(searchCategory == "grnRef")
   						searchGRNRefs(searchName, searchCategory,'0');
   					else if(searchCategory == "invoicepoRef")
   						searchInvoicePoRefs(searchName, searchCategory,'0');
   					else if(searchCategory == "searchBusinessEnquiry")
   						searchBusinessEnquiry(searchName, searchCategory,'0');
   					else if(searchCategory == "salesOrders")
   						searchSalesOrders(searchName, searchCategory);
   					else if(searchCategory == "searchWarrant")
   						searchWarrant(searchName, searchCategory, '0');
   					else if(searchCategory == "searchCustomerFeedback"){
   						searchCustomerFeedback(searchName, searchCategory,'0');
   					}
   						
   					else if(searchCategory == "searchFeaturedGroup")
   						searchFeaturedproducts(searchName, searchCategory,'0');
   					else if(searchCategory == "filter")
   						 filterNewarrivals(searchName, searchCategory,'0');
   					else if(searchCategory == "searchNewarrivalGroup")
   						searchNewarrivalproducts(searchName, searchCategory,'0');
   					else if(searchCategory == "productGroupMasterSearch")
   						searchGroupChilds(searchName, searchCategory,'0');
   					else{
   						searchSuppliers(searchName, searchCategory);
   					}
   					 
   					 
   			     }

	}
		catch(e)
		{
		errorCode(e);
		}


   				});
   			
   			
   			$(".searchItems").keydown(function(e) {
   				
	try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	} 
   			
   				if (e.keyCode == 27) {
		        	/*
					 * var typeSearch =
					 * $(this).siblings("div").children("div").children("ul").attr("class").replace('matchedStringUl
					 * ',''); if(typeSearch.indexOf("groupId") > -1 ||
					 * typeSearch.indexOf("itemId") > -1){
					 * $("#"+typeSearch).val("");
					 * $("#selected"+typeSearch).val("");
					 * $("#pluCode"+type).val(""); }
					 */
	   				$(this).siblings("div .services").hide();
	   				$(this).siblings("div").children("div").children(".matchedStringUl").html(""); // need
																									// check
   				}
   			    if (e.keyCode == 13) { // enter
   			        if ($(this).siblings("div").is(":visible")) {
   			        	$(this).val($(this).siblings("div").children("div").children("ul").children(".selected").children("a").text());
   			        	if($(this).val().trim() != ""){
   			        		var id = $(this).siblings("div").children("div").children("ul").children(".selected").children("a").parent().attr("id");
   			        		var typeSearch = $(this).siblings("div").children("div").children("ul").attr("class").replace('matchedStringUl ','');
   			        		if (typeSearch == "apparel") 
   			        			getItemDetails(id,typeSearch);
   			        		else if (typeSearch == "receipt"){
   			        			var description =  $("#"+id).children("a").text();
   			        			description = description.split(' - ');
   			        			description = description[0];
   			        			getSkuDetails(id,description);
   			        		}
   			        		else if (typeSearch == "brandMasterProduct"){
   			        			var description =  $("#"+id).children("a").text();
   			        			description = description.split(' - ');
   			        			description = description[0];
   			        			getSkuDetails(id,description);
   			        			var productName =  $("#"+id).children("a").text();
   			        			$("#product").val(productName);
   			        			$("#searchItems").val(productName);
   			        		}
   			        		else if(typeSearch == "searchProduct"){
   			        			var productName =  $("#"+id).children("a").text();
   			        			$("#product").val(productName);
   			        		}
   			        		else if(typeSearch == "poRef"){
   			        			$("#po_reference").val(id);
   			        			$("#selected_po_ref").val(id);
   			        			getPoItems(id);
   			        		}
   			        		else if(typeSearch == "searchShipmentNoteRefs"){
   			        			$("#searchShipmentNoteRefs").val(id);
   			        			$("#shipment_note").val(id);
   			        			getShipmentNoteItems(id);
   			        		}
   			        		else if(typeSearch == "product"){
   			        			var productName =  $("#"+id).children("a").text();
   			        			$("#product").val(productName);
   			        			$("#searchItems").val(productName);
   			        		}
   			        		else if(typeSearch == "searchStockRequest"){
   			        			$("#searchStockRequest").val(id);
	   							 $("#stockRequestRef").val(id);
	   							 getGoodsRequest(id);
   			        		}
   			        		else if(typeSearch == "dealProduct")
   			        			addProductToSellItem(id);
   			        		else if(typeSearch == "editDealProduct")
   			        			addeditProductToSellItem(id);
   			        		else if(typeSearch == "buySkuList"){
   			        			var pluCode = $(this).siblings("div").children("div").children("ul").children(".selected").children("input").val();
   			        			addSkusToSellItem(id,pluCode);
   			        		}
   			        		else if(typeSearch == "dealProductsList")
   			        			addProductToDealItem(id);
   			        		else if(typeSearch == "dealSkudatalist"){
   			        			var pluCode = $(this).siblings("div").children("div").children("ul").children(".selected").children("input").val();
   			        			addSkuToDealItem(id,pluCode);
   			        		}
   			        		else if(typeSearch == "editbuySkuList"){
   			        			var pluCode = $(this).siblings("div").children("div").children("ul").children(".selected").children("input").val();
   			        			addeditSkusToSellItem(id,pluCode);
   			        		}
   			        		else if(typeSearch  == "editDealProductsList")
   			        			addeditProductToDealItem(id);
   			        		else if(typeSearch == "editDealSkudatalist"){
   			        			var pluCode = $(this).siblings("div").children("div").children("ul").children(".selected").children("input").val();
   			        			addeditSkuToDealItem(id,pluCode);
   			        		}
   			        		else if(typeSearch == "offersellproducts")
   			        			addOfferProductId(id);
   			        		else if(typeSearch == "offersellskus"){
   			        			var pluCode = $(this).siblings("div").children("div").children("ul").children(".selected").children("input").val();
   			        			addOfferSkusToSellItem(id,pluCode);
   			        		}
   			        		else if(typeSearch == "editproductList")
   			        			editaddOfferProductId(id);
   			        		else if(typeSearch == "editOfferBuySkuList")
   			        			editaddOfferSkusToSellItem(id);
   			        		else if(typeSearch == "employee")
   			        			selectEmployee(id);
   			        		else if(typeSearch == "searchDepartmentNames")
   			        			selectDepartment(id);
   			        		else if(typeSearch == "productName")
   			        			$("#productId").val(id);
   			        		else if(typeSearch == "productNameSku"){
   			        			$("#productId").val(id);
   			        			var categoryName = $(this).siblings("div").children("div").children("ul").children(".selected").children("input#prodCategory").val();
   			        			var subCategoryName = $(this).siblings("div").children("div").children("ul").children(".selected").children("input#prodSubCategory").val();
   			        			if(categoryName != null && categoryName != "null")
   			        				$("#categoryName").val(categoryName);
   			        			if(subCategoryName != null && subCategoryName != "null")
   			        				$("#subCategoryName").val(subCategoryName);
   			        		}
   			        		else if(typeSearch == "storageSkus")
   			        			addProductToColumn(id);
   			        		else if(typeSearch == "saleGroup" || typeSearch == "dealGroup")
   			        			addGroup(id,typeSearch);
   			        		else if(typeSearch == "saleGroupSku" || typeSearch == "dealGroupSku"){
   			        			var skuId = $(this).siblings("div").children("div").children("ul").children(".selected").children("input").val();
// var skuId = $("#"+id).children("input").val();
   			        			addGroupSkuToTable(skuId,id,typeSearch);
   			        		}
   			        		else if(typeSearch == "productGroupMaster"){
   			        		 var skuId = $(this).siblings("div").children("div").children("ul").children(".selected").children("input").val();
   			        			addSku(id,skuId, typeSearch);
   			        		}
   			        		else if(typeSearch == "greeting" || typeSearch == "campaign" || typeSearch == "arrival" || typeSearch == "outlet"){
// $("#"+typeSearch+"FilterId").val(id);
// var label = $("#"+id).children("a").text();
// $("#"+typeSearch+"Batch").val(label);
   			        			$("."+typeSearch).hide();
   			        			getBatchDetails(typeSearch);
   			        			return;
   			        		}
   			        		
   			        		else if(typeSearch == "po")
			        			{
			        				getIdEnter(id,"po");
			        			}
   			        		
   			        		
   			        		
   			        		
   			        		
   			        		/*
							 * else if(typeSearch.indexOf("groupId") > -1){ var
							 * groupId = $("#"+id).children("a").text();
							 * $("#"+typeSearch).val(groupId);
							 * $("#selected"+typeSearch).val(groupId); } else
							 * if(typeSearch.indexOf("itemId") > -1){ var
							 * groupId = $("#"+id).children("a").text(); var
							 * pluCode =
							 * $(this).siblings("div").children("div").children("ul").children(".selected").children("input").val();
							 * $("#"+typeSearch).val(groupId);
							 * $("#selected"+typeSearch).val(groupId);
							 * $("#pluCode"+type).val(pluCode); }
							 */
   			        		else
   								$("#supplier_Id").val(id);
   			        		 $(this).siblings("div .services").hide();
   			        		$(this).siblings("div").children("div").children("."+typeSearch).html("");
   			        	}
   			        } else 
   			        	$(this).siblings("div").show();
   			    }
   			    if (e.keyCode == 38) { // up
   			        var selected = $(this).siblings("div").children("div").children("ul").children(".selected");
   			        if ($(this).siblings("div").children("div").children("ul").children("li").length != 1 ) 
   			        	$(this).siblings("div").children("div").children("ul").children("li").removeClass("selected");
   			        if (selected.prev().length == 0) 
   			            selected.siblings().last().addClass("selected");
   			        else 
   			            selected.prev().addClass("selected");
   			    }
   			    if (e.keyCode == 40) { // down
   			        var selected = $(this).siblings("div").children("div").children("ul").children(".selected");
   			        if ($(this).siblings("div").children("div").children("ul").children("li").length != 1 ) 
   			        	$(this).siblings("div").children("div").children("ul").children("li").removeClass("selected");
   			        if (selected.next().length == 0) 
   			            selected.siblings().first().addClass("selected");
   			        else 
   			            selected.next().addClass("selected");
   			    }

	}
		catch(e)
		{
		errorCode(e);
		}


   			});

   		$("#phoneNumber").on('input',function(e){
   			 $("#error").html("");
   			$("#Error").html("");
   			$(".Error").html("");
   		 });
   		
   		$("#phoneNumber").blur(function(){
   			var phoneNumber = $("#phoneNumber").val().trim();
   			if(phoneNumber != ""){
   				validatePhoneNumber() ;
   			}
   		});
   		$("#defaultCountry").change(function(){
   			$("#error").html("");
   			$("#Error").html("");
   			$(".Error").html("");
   			var phoneNumber = $("#phoneNumber").val().trim();
   			if(phoneNumber != ""){
   				validatePhoneNumber() ;
   			}
   		});
   		function validatePhoneNumber(){
   			debugger;
   		// phoneNumberParser();
   		 var output = $("#output").val();
   		 if(output.indexOf(":")<0){
   			 $("#error").html(output);
   			 return false;
   		 }
   		 var result = output.split(",");
   		 for(var i=0;i<result.length; i++){
   			 var val=result[i].split(":");
   			 if(val[1] != "true"){
   				 $("#error").html("Invalid phone number");
   				 return false;
   			 }
   		 }
   	 }	
   		$("#phoneNumber1").on('input',function(e){
 			 $("#error1").html("");
 			$("#Error").html("");
 			$(".Error").html("");
 		 });
   		$("#phoneNumber1").blur(function(){
			var phoneNumber = $("#phoneNumber1").val().trim();
			if(phoneNumber != ""){
				validatePhoneNumber1() ;
			}
		});
		$("#defaultCountry1").change(function(){
			$("#error1").html("");
			$("#Error").html("");
			var phoneNumber = $("#phoneNumber1").val().trim();
			if(phoneNumber != ""){
				validatePhoneNumber1() ;
			}
		});
   		
		function validatePhoneNumber1(){
			 phoneNumberParser1();
			 var output = $("#output1").val();
			 if(output.indexOf(":")<0){
				 $("#error1").html(output);
				 return false;
			 }
			 var result = output.split(",");
			 for(var i=0;i<result.length; i++){
				 var val=result[i].split(":");
				 if(val[1] != "true"){
					 $("#error1").html("Invalid Phone Number");
					 return false;
				 }
			 }
		 }	
   		
		
		
		
		
/*
 * $("#phoneNumber2").on('input',function(e){ $("#error2").html("");
 * $("#Error").html(""); $(".Error").html(""); });
 * 
 * $("#phoneNumber2").blur(function(){ //debugger var phoneNumber2 =
 * $("#phoneNumber2").val().trim();
 * 
 * if(phoneNumber2 != ""){ validatePhoneNumber2() ; } });
 * 
 * 
 * function validatePhoneNumber2(){ //debugger phoneNumberParser1(); var output =
 * $("#output2").val(); if(output.indexOf(":")<0){ $("#error2").html(output);
 * return false; } var result = output.split(","); for(var i=0;i<result.length;
 * i++){ var val=result[i].split(":"); if(val[1] != "true"){
 * $("#error2").html("Invalid Phone Number"); return false; } } return true; }
 */
		
		
		
		
   		function showShiftManagementFlows(flowunder){
   			try{
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	} 
			
   	
  		  var contextPath = $('#contextPath').val();
  		  var URL = contextPath + "/admin/showShiftManagementFlows.do";
	    	    $.ajax({
	    		url : URL,
	    		data : {
	    			flowunder : flowunder
	    		},
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			/*
					 * $(".active-menu").removeClass("active-menu");
					 * $(".menu-open").css("display","none");
					 * $(".menu-open").removeClass("menu-open");
					 * $(".active").removeClass("active");
					 */
	    			$(".active-menu").removeClass("active-menu");
	    			
	    			if(flowunder == 'outlet'){
	 	 				openMenu("liShiftManagement","ulShiftManagement",1);
	 	 				openMenu("storedetails","ulstoredetails",1);
	    			}
	 	 				else{
	 	 				openMenu("liWarehouseShiftManagement","ulWarehouseShiftManagement",1);
	    		/* openMenu("liShiftManagement","ulShiftManagement",0); */
  	    			
  	    			openMenu("warehouseDetails","ulwarehouseDetails",1);
	 	 				}
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
			        $("#mainDiv").removeClass('disabled');
	    		}
	    	 });

   		}
   			catch(e)
   			{
   			errorCode(e);
   			}


  	   }
 		
function viewShiftMaster(id,index,location,flowunder){
 			debugger;
 			try{
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	} 
			
// console.log("Location::::"+location);
 			/* var locationVal; */
 			var contextPath = $("#contextPath").val();
 			
 			var online = window.navigator.onLine;
	      	if(!online){
	      	alert("check your internet connection,please try again after some time");
	      	return;
	      	}
 			// debugger
 			var searchName=""
 		   		 if($("#shiftmaster").length>0)
 		   			 searchName = $("#shiftmaster").val().trim();
 			
 			URL = contextPath + "/admin/viewShiftMaster.do";
// var shiftLocation = $("#shift_location").val();
 			/*
			 * if(shiftLocation==undefined){ locationVal = ""; }else{
			 * locationVal = $("#shift_location").val(); }
			 */
 	 		$.ajax({
 	 			type: "GET",
 	 			url : URL,
 	 			data : {
 	 				index : index,
 	 				location : location,
 	 				searchName : searchName,
 	 				flowunder : flowunder
 	 			},
 	 			beforeSend: function(xhr){                    
 	   	   			$("#loading").css("display","block");
 	   	   			$("#mainDiv").addClass("disabled");
 	   	   		  },
 	 			success : function(result) {
 	 				$("#right-side").html(result);
 	 				if(flowunder == 'outlet')
 	 				openMenu("liShiftManagement","ulShiftManagement",1);
 	 				else
 	 				openMenu("liWarehouseShiftManagement","ulWarehouseShiftManagement",1);
 	 				activeMenu(id);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			},
 	 			error : function(jqXHR, textStatus, errorThrown)  {
 	 				 errorCode(jqXHR.status);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			}
 	 		});
 			}
 				catch(e)
 				{
 				errorCode(e);
 				}
 		}

 		
 		function viewNewShift(id){
 			try{
 			var contextPath = $("#contextPath").val();
 			
 			var online = window.navigator.onLine;
	      	if(!online){
	      	alert("check your internet connection,please try again after some time");
	      	return;
	      	}
	      	var   flowUnder = $("#flowUnder").val();
 			
 			URL = contextPath + "/admin/newShift.do";
 	 		$.ajax({
 	 			type: "GET",
 	 			url : URL,
 	 			data : {
 	 				flowUnder : flowUnder
 	 			},
 	 			beforeSend: function(xhr){                    
 	   	   			$("#loading").css("display","block");
 	   	   			$("#mainDiv").addClass("disabled");
 	   	   		  },
 	 			success : function(result) {
 	 				$("#right-side").html(result);
 	 				openMenu("liShiftManagement","ulShiftManagement",1);
 	 				if(id != undefined)
 	 					activeMenu(id);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass("disabled");
 	 			},
 	 			error : function(jqXHR, textStatus, errorThrown)  {
 	 				 errorCode(jqXHR.status);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			}
 	 		});
 			}

 			catch(e)
 			{
 			errorCode(e);
 			}


 		}
 		
 		
 	/*	
 		function validateShiftForm(operation){
 			try{
 				
 				var online = window.navigator.onLine;
 			  	if(!online){
 			  	alert("Check your internet connection,Please try agian after some time.");
 			  	return;
 			  	}

 			$("#Error").html("");
 			var storeLocationVal = $("#location").val();
 			var finaldata={},shiftTimings=[],data={};
 			finaldata.shiftTimings = shiftTimings;
 			var contextPath = $("#contextPath").val();
 			var shiftNameVal = $("#shiftName").val();
 			var startDateVal = $("#startDate").val();
 			var endDateVal = $("#endDate").val();
 			var remarksVal = $("#shiftRemarks").val();
 			var daySelection = $(":checkbox:checked").length;
 			var   flowUnder = $("#flowUnder").val();
 			if(shiftNameVal==""){
 			$("#shiftName").focus();
            $("#shiftNameError").html("Shift Name is Required");
            return;
 			}if(startDateVal==""){
 				$("#startDateError").html("Start Date is Required");
 				return;
 			}
 			if(endDateVal!=""){
 				 var noOfDays = daydiff(parseDate($('#startDate').val()), parseDate($('#endDate').val()));
 				 if(noOfDays < 0){
 					 $("#endDateError").html("End Date can't be less than Order Date");
 					 return;
 				 }
   			}if(daySelection==0){
   				$("#Error").html("Select Atleast one day");
   				return;
   			}
 			finaldata.storeLocation = storeLocationVal;
 			finaldata.shiftName =  shiftNameVal;
 			finaldata.remarks = remarksVal;
 			finaldata.start_date = startDateVal;
 			finaldata.end_date = endDateVal;
 			finaldata.flowUnder = flowUnder;
 			
 			if($("#mondayChkbox").is(':checked')){
 				var mondayStartTime = $("#mondayStartTime").val();
 				var mondayEndTime = $("#mondayEndTime").val();
 				var mondayExtendTime = $('input[name=mondayExtendTime]:checked').val();
 				if(mondayStartTime!=""&&mondayEndTime!==""){
 					data={start_time:mondayStartTime,end_time:mondayEndTime,weekDay:"Monday",extendedTime:mondayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(mondayStartTime.trim()==""){
 						$("#mondayStartTimeError").html("Monday Start Time must not be empty");return;
 					}else if(mondayEndTime.trim()==""){
 						$("#mondayEndTimeError").html("Monday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#tuesdayChkbox").is(':checked')){
 				var tuesdayStartTime = $("#tuesdayStartTime").val();
 				var tuesdayEndTime = $("#tuesdayEndTime").val();
 				var tuesdayExtendTime = $('input[name=tuesdayExtendTime]:checked').val();
 				if(tuesdayStartTime!=""&&tuesdayEndTime!==""){
 					data={start_time:tuesdayStartTime,end_time:tuesdayEndTime,weekDay:"Tuesday",extendedTime:tuesdayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(tuesdayStartTime.trim()==""){
 						$("#tuesdayStartTimeError").html("Tuesday Start Time must not be empty");return;
 					}else if(tuesdayEndTime.trim()==""){
 						$("#tuesdayEndTimeError").html("Tuesday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#wednesdayChkbox").is(':checked')){
 				var wednesdayStartTime = $("#wednesdayStartTime").val();
 				var wednesdayEndTime = $("#wednesdayEndTime").val();
 				var wednesdayExtendTime = $('input[name=wednesdayExtendTime]:checked').val();
 				if(wednesdayStartTime!=""&&wednesdayEndTime!==""){
 					data={start_time:wednesdayStartTime,end_time:wednesdayEndTime,weekDay:"Wednesday",extendedTime:wednesdayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(wednesdayStartTime.trim()==""){
 						$("#wednesdayStartTimeError").html("Wednesday Start Time must not be empty");return;
 					}else if(wednesdayEndTime.trim()==""){
 						$("#wednesdayEndTimeError").html("Wednesday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#thursdayChkbox").is(':checked')){
 				var thursdayStartTime = $("#thursdayStartTime").val();
 				var thursdayEndTime = $("#thursdayEndTime").val();
 				var thursdayExtendTime = $('input[name=thursdayExtendTime]:checked').val();
 				if(thursdayStartTime!=""&&thursdayEndTime!==""){
 					data={start_time:thursdayStartTime,end_time:thursdayEndTime,weekDay:"Thursday",extendedTime:thursdayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(thursdayStartTime.trim()==""){
 						$("#thursdayStartTimeError").html("Thursday Start Time must not be empty");return;
 					}else if(thursdayEndTime.trim()==""){
 						$("#thursdayEndTimeError").html("Thursday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#fridayChkbox").is(':checked')){
 				var fridayStartTime = $("#fridayStartTime").val();
 				var fridayEndTime = $("#fridayEndTime").val();
 				var fridayExtendTime = $('input[name=fridayExtendTime]:checked').val();
 				if(fridayStartTime!=""&&fridayEndTime!==""){
 					data={start_time:fridayStartTime,end_time:fridayEndTime,weekDay:"Friday",extendedTime:fridayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(fridayStartTime.trim()==""){
 						$("#fridayStartTimeError").html("Friday Start Time must not be empty");return;
 					}else if(fridayEndTime.trim()==""){
 						$("#fridayEndTimeError").html("Friday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#saturdayChkbox").is(':checked')){
 				var saturdayStartTime = $("#saturdayStartTime").val();
 				var saturdayEndTime = $("#saturdayEndTime").val();
 				var saturdayExtendTime = $('input[name=saturdayExtendTime]:checked').val();
 				if(saturdayStartTime!=""&&saturdayEndTime!==""){
 					data={start_time:saturdayStartTime,end_time:saturdayEndTime,weekDay:"Saturday",extendedTime:saturdayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(saturdayStartTime.trim()==""){
 						$("#saturdayStartTimeError").html("Saturday Start Time must not be empty");return;
 					}else if(saturdayEndTime.trim()==""){
 						$("#saturdayEndTimeError").html("Saturday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#sundayChkbox").is(':checked')){
 				var sundayStartTime = $("#sundayStartTime").val();
 				var sundayEndTime = $("#sundayEndTime").val();
 				var sundayExtendTime = $('input[name=sundayExtendTime]:checked').val();
 				if(sundayStartTime!=""&&sundayEndTime!==""){
 					data={start_time:sundayStartTime,end_time:sundayEndTime,weekDay:"Sunday",extendedTime:sundayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(sundayStartTime.trim()==""){
 						$("#sundayStartTimeError").html("Sunday Start Time must not be empty");return;
 					}else if(sundayEndTime.trim()==""){
 						$("#sundayEndTimeError").html("Sunday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			
 			if(operation=="new"){
          	URL = contextPath + "/admin/createShift.do";
          }else{
          	finaldata.shiftId = $("#shiftId").val();
          	URL = contextPath + "/admin/updateShift.do";
          }
        // console.log("JSon Format:::"+JSON.stringify(finaldata));
          finaldata = JSON.stringify(finaldata);
 			$.ajax({
 	 			type: "POST",
 	 			url : URL,
 	 		    contentType: "application/json",
 	 			data : finaldata,
 	 			beforeSend: function(xhr){                    
 	   	   			$("#loading").css("display","block");
 	   	   			$("#mainDiv").addClass("disabled");
 	   	   		  },
 	 			success : function(result) {
 	 				$("#right-side").html(result);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			},
 	 			error : function(jqXHR, textStatus, errorThrown)  {
 	 				alert("Internal error, please contact Technolabs support. ");
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			}
 	 		});
 			}
 			catch(e)
 			{
 			              errorCode(e);
 			}

 		}*/
 		
 		
 		function validateShiftForm(operation){
 			try{
 				
 				var online = window.navigator.onLine;
 			  	if(!online){
 			  	alert("Check your internet connection,Please try agian after some time.");
 			  	return;
 			  	}

 			$("#Error").html("");
 			var storeLocationVal = $("#location").val();
 			var finaldata={},shiftTimings=[],data={};
 			finaldata.shiftTimings = shiftTimings;
 			var contextPath = $("#contextPath").val();
 			var shiftNameVal = $("#shiftName").val();
 			var startDateVal = $("#startDate").val();
 			var endDateVal = $("#endDate").val();
 			var remarksVal = $("#shiftRemarks").val();
 			var daySelection = $(":checkbox:checked").length;
 			var   flowUnder = $("#flowUnder").val();
 			if(shiftNameVal==""){
 			$("#shiftName").focus();
            $("#shiftNameError").html("Shift Name is Required");
            focusDiv('shiftName');
			$("#shiftName").focus();
            return;
 			}
			else if($("#shiftName").val().length>150){
			$("#shiftNameError").html("Shift Name should be less than 150 characters");
			$("#shiftName").focus();
			return false;
			}else{
			$("#shiftNameError").html("");
			}	
 			
 			
 			if(startDateVal==""){
 				$("#startDateError").html("Start Date is Required");
 				return;
 			}
 			if(endDateVal!=""){
 				 var noOfDays = daydiff(parseDate($('#startDate').val()), parseDate($('#endDate').val()));
 				 if(noOfDays < 0){
 					 $("#endDateError").html("End Date can't be less than Order Date");
 					 return;
 				 }
   			}if(daySelection==0){
   				$("#Error").html("Select Atleast one day");
   				return;
   			}
   			
   			if($("#shiftRemarks").val().length>250){
   				$("#shiftRemarksError").html("Shift Remark should be less than 250 characters");
   				$("#shiftRemarks").focus();
   				return false;
   				}else{
   				$("#shiftRemarksError").html("");
   				}	
   			
   			
 			finaldata.storeLocation = storeLocationVal;
 			finaldata.shiftName =  shiftNameVal;
 			finaldata.remarks = remarksVal;
 			finaldata.start_date = startDateVal;
 			finaldata.end_date = endDateVal;
 			finaldata.flowUnder = flowUnder;
 			
 			if($("#mondayChkbox").is(':checked')){
 				var mondayStartTime = $("#mondayStartTime").val();
 				var mondayEndTime = $("#mondayEndTime").val();
 				var mondayExtendTime = $('input[name=mondayExtendTime]:checked').val();
 				if(mondayStartTime!=""&&mondayEndTime!==""){
 					data={start_time:mondayStartTime,end_time:mondayEndTime,weekDay:"Monday",extendedTime:mondayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(mondayStartTime.trim()==""){
 						$("#mondayStartTimeError").html("Monday Start Time must not be empty");return;
 					}else if(mondayEndTime.trim()==""){
 						$("#mondayEndTimeError").html("Monday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#tuesdayChkbox").is(':checked')){
 				var tuesdayStartTime = $("#tuesdayStartTime").val();
 				var tuesdayEndTime = $("#tuesdayEndTime").val();
 				var tuesdayExtendTime = $('input[name=tuesdayExtendTime]:checked').val();
 				if(tuesdayStartTime!=""&&tuesdayEndTime!==""){
 					data={start_time:tuesdayStartTime,end_time:tuesdayEndTime,weekDay:"Tuesday",extendedTime:tuesdayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(tuesdayStartTime.trim()==""){
 						$("#tuesdayStartTimeError").html("Tuesday Start Time must not be empty");return;
 					}else if(tuesdayEndTime.trim()==""){
 						$("#tuesdayEndTimeError").html("Tuesday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#wednesdayChkbox").is(':checked')){
 				var wednesdayStartTime = $("#wednesdayStartTime").val();
 				var wednesdayEndTime = $("#wednesdayEndTime").val();
 				var wednesdayExtendTime = $('input[name=wednesdayExtendTime]:checked').val();
 				if(wednesdayStartTime!=""&&wednesdayEndTime!==""){
 					data={start_time:wednesdayStartTime,end_time:wednesdayEndTime,weekDay:"Wednesday",extendedTime:wednesdayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(wednesdayStartTime.trim()==""){
 						$("#wednesdayStartTimeError").html("Wednesday Start Time must not be empty");return;
 					}else if(wednesdayEndTime.trim()==""){
 						$("#wednesdayEndTimeError").html("Wednesday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#thursdayChkbox").is(':checked')){
 				var thursdayStartTime = $("#thursdayStartTime").val();
 				var thursdayEndTime = $("#thursdayEndTime").val();
 				var thursdayExtendTime = $('input[name=thursdayExtendTime]:checked').val();
 				if(thursdayStartTime!=""&&thursdayEndTime!==""){
 					data={start_time:thursdayStartTime,end_time:thursdayEndTime,weekDay:"Thursday",extendedTime:thursdayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(thursdayStartTime.trim()==""){
 						$("#thursdayStartTimeError").html("Thursday Start Time must not be empty");return;
 					}else if(thursdayEndTime.trim()==""){
 						$("#thursdayEndTimeError").html("Thursday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#fridayChkbox").is(':checked')){
 				var fridayStartTime = $("#fridayStartTime").val();
 				var fridayEndTime = $("#fridayEndTime").val();
 				var fridayExtendTime = $('input[name=fridayExtendTime]:checked').val();
 				if(fridayStartTime!=""&&fridayEndTime!==""){
 					data={start_time:fridayStartTime,end_time:fridayEndTime,weekDay:"Friday",extendedTime:fridayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(fridayStartTime.trim()==""){
 						$("#fridayStartTimeError").html("Friday Start Time must not be empty");return;
 					}else if(fridayEndTime.trim()==""){
 						$("#fridayEndTimeError").html("Friday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#saturdayChkbox").is(':checked')){
 				var saturdayStartTime = $("#saturdayStartTime").val();
 				var saturdayEndTime = $("#saturdayEndTime").val();
 				var saturdayExtendTime = $('input[name=saturdayExtendTime]:checked').val();
 				if(saturdayStartTime!=""&&saturdayEndTime!==""){
 					data={start_time:saturdayStartTime,end_time:saturdayEndTime,weekDay:"Saturday",extendedTime:saturdayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(saturdayStartTime.trim()==""){
 						$("#saturdayStartTimeError").html("Saturday Start Time must not be empty");return;
 					}else if(saturdayEndTime.trim()==""){
 						$("#saturdayEndTimeError").html("Saturday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			if($("#sundayChkbox").is(':checked')){
 				var sundayStartTime = $("#sundayStartTime").val();
 				var sundayEndTime = $("#sundayEndTime").val();
 				var sundayExtendTime = $('input[name=sundayExtendTime]:checked').val();
 				if(sundayStartTime!=""&&sundayEndTime!==""){
 					data={start_time:sundayStartTime,end_time:sundayEndTime,weekDay:"Sunday",extendedTime:sundayExtendTime};
 	   				finaldata.shiftTimings.push(data);
 				}else{
 					$("#Error").html("");
 					if(sundayStartTime.trim()==""){
 						$("#sundayStartTimeError").html("Sunday Start Time must not be empty");return;
 					}else if(sundayEndTime.trim()==""){
 						$("#sundayEndTimeError").html("Sunday End Time must not be empty");return;
 					}
 				}
 			}
 			
 			
 			if(operation=="new"){
          	URL = contextPath + "/admin/createShift.do";
          }else{
          	finaldata.shiftId = $("#shiftId").val();
          	URL = contextPath + "/admin/updateShift.do";
          }
        // console.log("JSon Format:::"+JSON.stringify(finaldata));
          finaldata = JSON.stringify(finaldata);
 			$.ajax({
 	 			type: "POST",
 	 			url : URL,
 	 		    contentType: "application/json",
 	 			data : finaldata,
 	 			beforeSend: function(xhr){                    
 	   	   			$("#loading").css("display","block");
 	   	   			$("#mainDiv").addClass("disabled");
 	   	   		  },
 	 			success : function(result) {
 	 				$("#right-side").html(result);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			},
 	 			error : function(jqXHR, textStatus, errorThrown)  {
 	 				alert("Internal error, please contact Technolabs support. ");
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			}
 	 		});
 			}
 			catch(e)
 			{
 			              errorCode(e);
 			}

 		}
 		
 		
 		
 		function viewSpecificShift(shiftCode,storeLocation,operation){
 			try{
 				
 				var online = window.navigator.onLine;
 			  	if(!online){
 			  	alert("Check your internet connection,Please try agian after some time.");
 			  	return;
 			  	}

 			var   flowUnder = $("#flowUnder").val();
 			  	
 			var contextPath = $("#contextPath").val();
 			// added by manas
 			var shiftLocation= $("#shiftLocation").val();
 			var searchName=""
 		   		 if($("#shiftmaster").length>0)
 		   			 searchName = $("#shiftmaster").val();
 			
 			if(operation=="view"){
 				URL = contextPath + "/admin/viewSpecificShift.do";
 			}else{
 				URL = contextPath + "/admin/editSpecificShift.do";
 			}
 			
 			$.ajax({
 	 			type: "GET",
 	 			url : URL,
 	 		    data : {
 	 				shiftCode : shiftCode,
 	 				location : storeLocation,
 	 				shiftLocation : shiftLocation,
 	 				searchName : searchName,
 	 				flowUnder : flowUnder
 	 			},
 	 			beforeSend: function(xhr){                    
 	   	   			$("#loading").css("display","block");
 	   	   			$("#mainDiv").addClass("disabled");
 	   	   		  },
 	 			success : function(result) {
 	 				$("#right-side").html(result);
 	 				$("#flowUnder").val(flowUnder);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			},
 	 			error : function(jqXHR, textStatus, errorThrown)  {
 	 				 errorCode(jqXHR.status);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			}
 	 		});
 			}
 			catch(e)
 			{
 			              errorCode(e);
 			}

 		}
 		
 		
 		
 		function showReportsFlows(){
 			
 			try{
 				
 				var online = window.navigator.onLine;
 			  	if(!online){
 			  	alert("Check your internet connection,Please try agian after some time.");
 			  	return;
 			  	}

 			var contextPath = $('#contextPath').val();
 			var URL = contextPath + "/reports/showReportsFlows.do";
 	   	    $.ajax({
 	    		url : URL,
 	    		data : {},
 	    		beforeSend: function(xhr){                    
 	   				$("#loading").css("display","block");
 	   				$("#mainDiv").addClass("disabled");
 		        },

 	    		success : function(result){
 	    			$(".active-menu").removeClass("active-menu");
// $(".menu-open").css("display","none");
 	    			// openMenu("reports", "ulReports",0);
 	    			// activeMenu(id);
 	    			$('#right-side').html(result);
 	    			$("#loading").css("display","none");
 	    			$("#mainDiv").removeClass('disabled');
 	    		},
 	    		error : function(jqXHR, textStatus, errorThrown) {
 	    			errorCode(jqXHR.status);
 	    			$("#loading").css("display","none");
 				   $("#mainDiv").removeClass('disabled');
 	    		}
 	    	 });
 			}
 			catch(e)
 			{
 			              errorCode(e);
 			}

 		   }
 	   	 
 		function showOutletReportsFlows(id){
 			try{

 				var online = window.navigator.onLine;
 				if(!online){
 					alert("Check your internet connection,Please try agian after some time.");
 					return;
 				}

 				var contextPath = $('#contextPath').val();
 				var URL = contextPath + "/reports/showOutletReportsFlows.do";
 				$.ajax({
 					url : URL,
 					data : {

 					},
 					beforeSend: function(xhr){                    
 						$("#loading").css("display","block");
 						$("#mainDiv").addClass("disabled");
 					},

 					success : function(result){
 						$(".active-menu").removeClass("active-menu");
 						openMenu("liOutletReports","ulOutletReports",0);
 						openMenu("reports", "ulReports",1);
 						activeMenu(id);
 						$('#right-side').html(result);
 						$("#loading").css("display","none");
 						$("#mainDiv").removeClass('disabled');
 					},
 					error : function(jqXHR, textStatus, errorThrown) {
 						errorCode(jqXHR.status);
 						$("#loading").css("display","none");
 						$("#mainDiv").removeClass('disabled');
 					}
 				});
 			}
 			catch(e)
 			{
 				errorCode(e);
 			}
 		}
 	   	
 		function showWarehouseReportsFlows(id){
 			try{

 				var online = window.navigator.onLine;
 				if(!online){
 					alert("Check your internet connection,Please try agian after some time.");
 					return;
 				}

 				var contextPath = $('#contextPath').val();
 				var URL = contextPath + "/reports/showWarehouseReportsFlows.do";
 				$.ajax({
 					url : URL,
 					data : {

 					},
 					beforeSend: function(xhr){                    
 						$("#loading").css("display","block");
 						$("#mainDiv").addClass("disabled");
 					},

 					success : function(result){
 						$(".active-menu").removeClass("active-menu");
 						openMenu("liWarehouseReports","ulWarehouseReports",0);
 						openMenu("reports", "ulReports",1);
 						activeMenu(id);
 						$('#right-side').html(result);
 						$("#loading").css("display","none");
 						$("#mainDiv").removeClass('disabled');
 					},
 					error : function(jqXHR, textStatus, errorThrown) {
 						errorCode(jqXHR.status);
 						$("#loading").css("display","none");
 						$("#mainDiv").removeClass('disabled');
 					}
 				});
 			}
 			catch(e)
 			{
 				errorCode(e);
 			}

 		}
 	  	
 		
 		
 		
 		
 		
 	   	function showOutletSalesReportsFlows(id,flow){
 	   		try{

 	   			var online = window.navigator.onLine;
 	   			if(!online){
 	   				alert("Check your internet connection,Please try agian after some time.");
 	   				return;
 	   			}

 	   			var contextPath = $('#contextPath').val();
 	   			var URL = contextPath + "/reports/showOutletSalesReportsFlows.do";
 	   			$.ajax({
 	   				url : URL,
 	   				data : {
 	   				flow : flow
 	   				},
 	   				beforeSend: function(xhr){                    
 	   					$("#loading").css("display","block");
 	   					$("#mainDiv").addClass("disabled");
 	   				},

 	   				success : function(result){
 	   					$(".active-menu").removeClass("active-menu");
 	   					openMenu("liOutletSalesReports","ulOutletSalesReports",0);
 	   					openMenu("liOutletReports","ulOutletReports",1);
 	   					openMenu("reports", "ulReports",1);
 	   					activeMenu(id);
 	   					$('#right-side').html(result);
 	   					$("#loading").css("display","none");
 	   					$("#mainDiv").removeClass('disabled');
 	   				},
 	   				error : function(jqXHR, textStatus, errorThrown) {
 	   					errorCode(jqXHR.status);
 	   					$("#loading").css("display","none");
 	   					$("#mainDiv").removeClass('disabled');
 	   				}
 	   			});
 	   		}
 		catch(e)
 		{
 		              errorCode(e);
 		}

 	   	}
 	   	
 	   /*
		 * function viewOutletXReadingReport(id){ var contextPath =
		 * $('#contextPath').val(); var URL = contextPath +
		 * "/reports/viewOutletXReadingReport.do"; $.ajax({ url : URL, data : {
		 *  }, beforeSend: function(xhr){ $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); },
		 * 
		 * success : function(result){
		 * $(".active-menu").removeClass("active-menu");
		 * openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		 * openMenu("liOutletReports","ulOutletReports",1); openMenu("reports",
		 * "ulReports",1); activeMenu(id); $('#right-side').html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 * 
		 * function viewOutletZReadingReport(id){ var contextPath =
		 * $('#contextPath').val(); var URL = contextPath +
		 * "/reports/viewOutletZReadingReport.do"; $.ajax({ url : URL, data : {
		 *  }, beforeSend: function(xhr){ $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); },
		 * 
		 * success : function(result){
		 * $(".active-menu").removeClass("active-menu");
		 * openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		 * openMenu("liOutletReports","ulOutletReports",1); openMenu("reports",
		 * "ulReports",1); activeMenu(id); $('#right-side').html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 */
 	   /*
		 * function viewOutletXReadingReport(id,index){ try{
		 * 
		 * var online = window.navigator.onLine; if(!online){ alert("Check your
		 * internet connection,Please try agian after some time."); return; }
		 * 
		 * reportsObj={} var contextPath = $('#contextPath').val(); var URL =
		 * contextPath + "/reports/viewOutletXReadingReport.do";
		 * 
		 * var location=""; if($("#outletLocation").val()!='')
		 * location=$("#outletLocation").val();
		 * 
		 * 
		 * var zone=""; if($("#outletZone").val()!='')
		 * zone=$("#outletZone").val();
		 * 
		 * var startDate=""; if($("#from").val()!='' ||$("#from").val()!=null)
		 * startDate= $("#from").val();
		 * 
		 * var endDate=""; if($("#to").val()!='' ||$("#to").val()!=null)
		 * endDate= $("#to").val();
		 * 
		 * var maxRecords = 10; if($("#maxRecords").val()!='') maxRecords=
		 * $("#maxRecords").val();
		 * 
		 * reportsObj.location =location;
		 * 
		 * reportsObj.zone = zone;
		 * 
		 * reportsObj.startDateStr =startDate;
		 * 
		 * reportsObj.endDateStr =endDate;
		 * 
		 * reportsObj.startIndex=index;
		 * 
		 * reportsObj.reportType = 'X'; reportsObj.maxRecords = maxRecords ;
		 * 
		 * var formData = JSON.stringify(reportsObj); $.ajax({ url : URL, type:
		 * "POST", data : formData, contentType: "application/json", beforeSend:
		 * function(xhr){ $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); },
		 * 
		 * success : function(result){
		 * $(".active-menu").removeClass("active-menu");
		 * openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		 * openMenu("liOutletReports","ulOutletReports",1); openMenu("reports",
		 * "ulReports",1); activeMenu(id); $('#right-side').html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); } catch(e) {
		 * errorCode(e); }
		 *  }
		 */
	   	
 	   function viewOutletXReadingReport(id,index,flow){
 		   debugger;
 			try{
 				
 				var online = window.navigator.onLine;
 			  	if(!online){
 			  	alert("Check your internet connection,Please try agian after some time.");
 			  	return;
 			  	}

	   		reportsObj={}
	   		var contextPath = $('#contextPath').val();
			var URL = contextPath + "/reports/viewOutletXReadingReport.do";
			
			var location="";
			if($("#outletLocation").length>0)
				location=$("#outletLocation").val();
				
				
	  		var zone="";	
			if($("#outletZone").length > 0)
				zone=$("#outletZone").val();
	  		
	  		var startDate="";
	  		if($("#fromXread").length > 0)
	  			startDate= $("#fromXread").val();

	  		var endDate="";
	  		if($("#toXread").length > 0){
	  			endDate= $("#toXread").val();
	  		}
	  		
	  		if(endDate == "" || endDate == undefined || endDate == null){
	  			
	  			
	  		  var dateTime = getCurrentDate();
	    	  var date = dateTime.split(' ');
	    	  date = date[0].split('/');
	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	    	  var endDate = formatedDate;	
	    	  endDate = endDate
	  
	  		}
	  		
	  		
	  		
	  		
		  		
		  		
		  		
		  		
	  		
	  		
	  		var maxRecords = "10";
	  		if($("#maxRecords").length>0)
	  			maxRecords= $("#maxRecords").val();
	  		
	  		
	  		
	  		reportsObj.zone   = zone;
	  		
	  		reportsObj.flow = flow;
	  		
	  		reportsObj.startDateStr =startDate;
	  		
	  		reportsObj.endDateStr =endDate;
	  		
	  		reportsObj.startIndex=index;
	  		
	  		reportsObj.reportType = 'X';
	  		reportsObj.maxRecords = maxRecords ;
	  		
	  		
	  		 var allLocationsList = [];
		 	 var length = $('#outletLocation').children('option').length;
		       	$('#outletLocation option').each(function() { 
		       		allLocationsList.push( $(this).attr('value'));
		       	});
		 	 var  locationList="";
		    	for(i=1;i<allLocationsList.length;i++)
		    		{
		    		locationList =locationList+ allLocationsList[i]+',';
		    		}
		    	
// if(location == "" || location=="all")
		   	reportsObj.locationList=locationList;
// else
		    reportsObj.location =location;
		    	
	  		var formData = JSON.stringify(reportsObj);
	 	    $.ajax({
	  		url : URL,
	  		type: "POST",
	  		data : formData,
	  		contentType: "application/json",
	  		beforeSend: function(xhr){                    
	 				$("#loadingreport").css("display","block");
	 				$("#mainDiv").addClass("disabled");
		        },

	  		success : function(result){
	  			$(".active-menu").removeClass("active-menu");
	  			
	  			if(flow == ""){
	  			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
	  			openMenu("liOutletReports","ulOutletReports",1);
	  			openMenu("reports", "ulReports",1);
	  			}else{
	  				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
					openMenu("liWarehouseReports","ulWarehouseReports",1);
					openMenu("reports", "ulReports",1);
	  			}
	  			activeMenu(id);
	  			$('#right-side').html(result);
// searchlocationsBasedOnZoneForDashboard('outletZone','outletLocation','');
	  			 $("#loading").css("display","none");
	  			$("#loadingreport").css("display","none");
	  			$("#mainDiv").removeClass('disabled');
	  		},
	  		error : function(jqXHR, textStatus, errorThrown) {
	  			errorCode(jqXHR.status);
	  			 $("#loading").css("display","none");
	  			$("#loadingreport").css("display","none");
				   $("#mainDiv").removeClass('disabled');
	  		}
	  	 });
 			}
 			catch(e)
 			{
 			              errorCode(e);
 			}

	   	}
 	   
 	   
 	   
 	   
 	   
 	   
 	  // added by koti bommineni 
 	   
 	  function searchOutletXReadingReport(id,index,popup,flow){
		   debugger;
			try{
				$('#myModalIoss').modal('hide');
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

	   		reportsObj={}
	   		var contextPath = $('#contextPath').val();
			var URL = contextPath + "/reports/viewOutletXReadingReport.do";
			
			var location="";
			if($("#outletLocation").length>0)
				location=$("#outletLocation").val();
				
				
	  		var zone="";	
			if($("#outletZone").length > 0)
				zone=$("#outletZone").val();
	  		
	  		var startDate="";
	  		if($("#fromXread").length > 0)
	  			startDate= $("#fromXread").val();

	  		var endDate="";
	  		if($("#toXread").length > 0){
	  			endDate= $("#toXread").val();
	  		}
	  		
	  		if(popup == "" || popup == undefined || popup == null){
	  			popup="";
	  		}
	  		
	  		if(endDate == "" || endDate == undefined || endDate == null){
	  			
	  			
	  		  var dateTime = getCurrentDate();
	    	  var date = dateTime.split(' ');
	    	  date = date[0].split('/');
	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	    	  var endDate = formatedDate;	
	    	  endDate = endDate
	  
	  		}
	  		
	  		
	  		
	  		if ($("#fromXread").val() != "" && $("#toXread").val() != "") {
		   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		   		if (noOfDays < 0) {
		   			alert("Start Date can't be less than End Date");
		   			return;
		   		}
		   	}
	  		
	  		
	  		if(endDate!="" || endDate!=null)
//		  		 if(criteria == 'date'){
		  		 {
		  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		  			 if(allownoOfDays > 31){
		  				 alert("Date Range should not exceed a Month");
		  				 return false;
		  			 }
		  		 }


	  		if(popup=="NOPOP"){
	  			 if(allownoOfDays>15 ){
	  				 
	  				 $('#myModalIoss').modal('show');

	  				 
	  					/*var returnValue = getConfirmation();
	  					if(returnValue == false)*/
	  						return;
	  					}
	  		     }
		  		
		  		
		  		
		  		
	  		
	  		
	  		var maxRecords = "10";
	  		if($("#maxRecords").length>0)
	  			maxRecords= $("#maxRecords").val();
	  		
	  		
	  		
	  		reportsObj.zone   = zone;
	  		
	  		reportsObj.flow = flow;
	  		reportsObj.startDateStr =startDate;
	  		
	  		reportsObj.endDateStr =endDate;
	  		
	  		reportsObj.startIndex=index;
	  		
	  		reportsObj.reportType = 'X';
	  		reportsObj.maxRecords = maxRecords ;
	  		
	  		
	  		 var allLocationsList = [];
		 	 var length = $('#outletLocation').children('option').length;
		       	$('#outletLocation option').each(function() { 
		       		allLocationsList.push( $(this).attr('value'));
		       	});
		 	 var  locationList="";
		    	for(i=1;i<allLocationsList.length;i++)
		    		{
		    		locationList =locationList+ allLocationsList[i]+',';
		    		}
		    	
//if(location == "" || location=="all")
		   	reportsObj.locationList=locationList;
//else
		    reportsObj.location =location;
		    	
	  		var formData = JSON.stringify(reportsObj);
	 	    $.ajax({
	  		url : URL,
	  		type: "POST",
	  		data : formData,
	  		contentType: "application/json",
	  		beforeSend: function(xhr){                    
	  		 	
	   			$("#loadingreport").css("display","block");
	   			
	   			$("#mainDiv").addClass("disabled");
		        },

	  		success : function(result){
                   $(".active-menu").removeClass("active-menu");
	  			
	  			if(flow == ""){
	  			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
	  			openMenu("liOutletReports","ulOutletReports",1);
	  			openMenu("reports", "ulReports",1);
	  			}else{
	  				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
					openMenu("liWarehouseReports","ulWarehouseReports",1);
					openMenu("reports", "ulReports",1);
	  			}
	  			
	  			activeMenu(id);
	  			$('#right-side').html(result);
//searchlocationsBasedOnZoneForDashboard('outletZone','outletLocation','');
	  			$("#loading").css("display","none");
	  			$("#mainDiv").removeClass('disabled');
	  			$("#loadingreport").css("display","none");
				$("#viewx").removeClass('disabled');
	  		},
	  		error : function(jqXHR, textStatus, errorThrown) {
	  			errorCode(jqXHR.status);
	  			$("#loadingreport").css("display","none");
				$("#viewx").removeClass('disabled');
	  		}
	  	 });
			}
			catch(e)
			{
			              errorCode(e);
			}

	   	}
 	   	
	   /*
		 * function viewOutletZReadingReport(id,index){ var contextPath =
		 * $('#contextPath').val(); try{
		 * 
		 * var online = window.navigator.onLine; if(!online){ alert("Check your
		 * internet connection,Please try agian after some time."); return; }
		 * 
		 * reportsObj={}
		 * 
		 * 
		 * var location=""; if($("#outletLocation").val()!='')
		 * location=$("#outletLocation").val();
		 * 
		 * 
		 * var zone=""; if($("#outletZone").val()!='')
		 * zone=$("#outletZone").val();
		 * 
		 * var startDate=""; if($("#from").val()!='' ||$("#from").val()!=null)
		 * startDate= $("#from").val();
		 * 
		 * var endDate=""; if($("#to").val()!='' ||$("#to").val()!=null)
		 * endDate= $("#to").val();
		 * 
		 * var maxRecords = 10; if($("#maxRecords").val()!='') maxRecords=
		 * $("#maxRecords").val();
		 * 
		 * reportsObj.location =location;
		 * 
		 * reportsObj.zone = zone;
		 * 
		 * reportsObj.startDateStr =startDate;
		 * 
		 * reportsObj.endDateStr =endDate;
		 * 
		 * reportsObj.startIndex=index;
		 * 
		 * reportsObj.reportType = 'Z';
		 * 
		 * reportsObj.maxRecords = maxRecords ;
		 * 
		 * var formData = JSON.stringify(reportsObj);
		 * 
		 * var URL = contextPath + "/reports/viewOutletZReadingReport.do";
		 * 
		 * console.info(formData);
		 * 
		 * $.ajax({
		 * 
		 * url : URL, type: "POST", data : formData, contentType:
		 * "application/json",
		 * 
		 * beforeSend: function(xhr){ $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); },
		 * 
		 * success : function(result){
		 * $(".active-menu").removeClass("active-menu");
		 * openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		 * openMenu("liOutletReports","ulOutletReports",1); openMenu("reports",
		 * "ulReports",1); activeMenu(id); $('#right-side').html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); } catch(e) {
		 * errorCode(e); }
		 *  }
		 */
	   	
 		function viewOutletZReadingReport(id,index,flow){
	   		var contextPath = $('#contextPath').val();
	   		 debugger;
	   		try{
	   			
	   			var online = window.navigator.onLine;
	   		  	if(!online){
	   		  	alert("Check your internet connection,Please try agian after some time.");
	   		  	return;
	   		  	}

	   var 	reportsObj={};
	   	
			
			var location="";
			if($("#outletLocation").length>0)
				location=$("#outletLocation").val();
				
				
	  		var zone="";	
			if($("#outletZone").length > 0)
				zone=$("#outletZone").val();
			
			var counter="";	
			if($("#outletZCounter").length > 0)
				counter=$("#outletZCounter").val();
			
			var status="";	
			if($("#ZreportStatus").length > 0)
				status=$("#ZreportStatus").val();
	  		
	  		var startDate="";
	  		if($("#fromZRead").length > 0)
	  			startDate= $("#fromZRead").val();

	  		var endDate="";
	  		if($("#toZRead").length > 0)
	  			endDate= $("#toZRead").val();
	  		
	  		if(endDate == "" || endDate == undefined || endDate == null){
	  			
		  		  var dateTime = getCurrentDate();
		    	  var date = dateTime.split(' ');
		    	  date = date[0].split('/');
		    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
		    	  var endDate = formatedDate;	
		    	  endDate = endDate
		  
		  		}
	  		
	  		var maxRecords = "10";
	  		if($("#maxRecords").length > 0)
	  			maxRecords= $("#maxRecords").val();
	  		
	  		reportsObj.location =location;
	  		reportsObj.flow = flow;
	  		
	  		reportsObj.zone   = zone;
	  		
	  		reportsObj.counter=counter;
	  		
	  		reportsObj.status=status;
	  		
	  		reportsObj.startDateStr =startDate;
	  		
	  		reportsObj.endDateStr =endDate;
	  		
	  		reportsObj.startIndex=index;
	  		
	  		reportsObj.reportType = 'Z';
	  		
	  		
	  		reportsObj.maxRecords = maxRecords ;
	  		
	  		 var allLocationsList = [];
		 	 var length = $('#outletLocation').children('option').length;
		       	$('#outletLocation option').each(function() { 
		       		allLocationsList.push( $(this).attr('value'));
		       	});
		 	 var  locationList="";
		    	for(i=1;i<allLocationsList.length;i++)
		    		{
		    		locationList =locationList+ allLocationsList[i]+',';
		    		}
		    	
// if(location == "" || location=="all")
		   	reportsObj.locationList=locationList;
	  		
	  		
	  		
	  		var formData = JSON.stringify(reportsObj);
	   		
			var URL = contextPath + "/reports/viewOutletZReadingReport.do";
			
			console.info(formData);

	 	    $.ajax({
	  	
	  		url : URL,
	  		type: "POST",
	  		data : formData,
	  		contentType: "application/json",
	  		
	  		beforeSend: function(xhr){                    
	 				$("#loadingreport").css("display","block");
	 				$("#mainDiv").addClass("disabled");
		        },

	  		success : function(result){
	  			$(".active-menu").removeClass("active-menu");
	  			if(flow == ""){
		  			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		  			openMenu("liOutletReports","ulOutletReports",1);
		  			openMenu("reports", "ulReports",1);
		  			}else{
		  				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
						openMenu("liWarehouseReports","ulWarehouseReports",1);
						openMenu("reports", "ulReports",1);
		  			}
	  			activeMenu(id);
	  			$('#right-side').html(result);
// searchlocationsBasedOnZoneForDashboard('outletZone','outletLocation','');
	  			 $("#loading").css("display","none");
	  			$("#loadingreport").css("display","none");
	  			$("#mainDiv").removeClass('disabled');
	  		},
	  		error : function(jqXHR, textStatus, errorThrown) {
	  			errorCode(jqXHR.status);
	  			 $("#loading").css("display","none");
	  			$("#loadingreport").css("display","none");
				   $("#mainDiv").removeClass('disabled');
	  		}
	  	 });
	   		}
	   		catch(e)
	   		{
	   		              errorCode(e);
	   		}

			
	   	}
 		
 		
 		
 		 // added by koti bommineni 
 		
 		
 		function searchOutletZReadingReport(id,index,popup,flow){
	   		var contextPath = $('#contextPath').val();
	   		 debugger;
	   		try{
	   			
	   			$('#myModalIoss').modal('hide');
	   			var online = window.navigator.onLine;
	   		  	if(!online){
	   		  	alert("Check your internet connection,Please try agian after some time.");
	   		  	return;
	   		  	}

	   var 	reportsObj={};
	   	
			
			var location="";
			if($("#outletLocation").length>0)
				location=$("#outletLocation").val();
				
				
	  		var zone="";	
			if($("#outletZone").length > 0)
				zone=$("#outletZone").val();
	  		
	  		var startDate="";
	  		if($("#fromZRead").length > 0)
	  			startDate= $("#fromZRead").val();

	  		var endDate="";
	  		if($("#toZRead").length > 0)
	  			endDate= $("#toZRead").val();
	  		
	  		if(popup == "" || popup == undefined || popup == null){
	  			popup="";
	  		}
	  		
	  		if(endDate == "" || endDate == undefined || endDate == null){
	  			
	  			
		  		  var dateTime = getCurrentDate();
		    	  var date = dateTime.split(' ');
		    	  date = date[0].split('/');
		    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
		    	  var endDate = formatedDate;	
		    	  endDate = endDate
		  
		  		}
	  		
	  		
	  		
	  		if ($("#fromZRead").val() != "" && $("#toZRead").val() != "") {
		   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		   		if (noOfDays < 0) {
		   			alert("Start Date can't be less than End Date");
		   			return;
		   		}
		   	}
	  		
	  		

		  	 if(endDate!="" || endDate!=null)
//		  		 if(criteria == 'date'){
		  		 {
		  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		  			 if(allownoOfDays > 31){
		  				 alert("Date Range should not exceed a Month");
		  				 return false;
		  			 }
		  		 }

                

				if(popup=="NOPOP"){
	  			 if(allownoOfDays>15 ){
	  				 
	  				 $('#myModalIoss').modal('show');

	  				 
	  					/*var returnValue = getConfirmation();
	  					if(returnValue == false)*/
	  						return;
	  					}
	  		     }
	  		
	  		
	  		
	  		
	  		var maxRecords = "10";
	  		if($("#maxRecords").length > 0)
	  			maxRecords= $("#maxRecords").val();
	  		
	  		reportsObj.location =location;
	  		
	  		reportsObj.zone   = zone;
	  		reportsObj.flow   = flow;
	  		
	  		reportsObj.startDateStr =startDate;
	  		
	  		reportsObj.endDateStr =endDate;
	  		
	  		reportsObj.startIndex=index;
	  		
	  		reportsObj.reportType = 'Z';
	  		
	  		reportsObj.maxRecords = maxRecords ;
	  		
	  		 var allLocationsList = [];
		 	 var length = $('#outletLocation').children('option').length;
		       	$('#outletLocation option').each(function() { 
		       		allLocationsList.push( $(this).attr('value'));
		       	});
		 	 var  locationList="";
		    	for(i=1;i<allLocationsList.length;i++)
		    		{
		    		locationList =locationList+ allLocationsList[i]+',';
		    		}
		    	
// if(location == "" || location=="all")
		   	reportsObj.locationList=locationList;
	  		
	  		
	  		
	  		var formData = JSON.stringify(reportsObj);
	   		
			var URL = contextPath + "/reports/viewOutletZReadingReport.do";
			
			console.info(formData);
			
	 	    $.ajax({
	  	
	  		url : URL,
	  		type: "POST",
	  		data : formData,
	  		contentType: "application/json",
	  		
	  		beforeSend: function(xhr){                    
	  			$("#loadingreport").css("display","block");
				$("#mainDiv").addClass('disabled');
		        },

	  		success : function(result){
	  			$(".active-menu").removeClass("active-menu");
	  			if(flow == ""){
		  			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		  			openMenu("liOutletReports","ulOutletReports",1);
		  			openMenu("reports", "ulReports",1);
		  			}else{
		  				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
						openMenu("liWarehouseReports","ulWarehouseReports",1);
						openMenu("reports", "ulReports",1);
		  			}
	  			activeMenu(id);
	  			$('#right-side').html(result);
// searchlocationsBasedOnZoneForDashboard('outletZone','outletLocation','');
	  			$("#loading").css("display","none");
	  			$("#mainDiv").removeClass('disabled');
	  			$("#loadingreport").css("display","none");
				$("#vi").removeClass('disabled');
	  		},
	  		error : function(jqXHR, textStatus, errorThrown) {
	  			errorCode(jqXHR.status);
	  			$("#loadingreport").css("display","none");
				$("#vi").removeClass('disabled');
	  		}
	  	 });
	   		}
	   		catch(e)
	   		{
	   		              errorCode(e);
	   		}

	   	}
 		
 		
 		
 		
 		
	   	
	    function viewoutletVedeioMonitoring(id,index){
	    	try{
	    		
	    		var online = window.navigator.onLine;
	    	  	if(!online){
	    	  	alert("Check your internet connection,Please try agian after some time.");
	    	  	return;
	    	  	}

	    	var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/peoplemonitoring.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletMonitoring","uloutletMonitoring",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
	    	}
	    	catch(e)
	    	{
	    	              errorCode(e);
	    	}

   	   }

 		function viewoutletMonitoring(id,index){
 			try{

 				var online = window.navigator.onLine;
 				if(!online){
 					alert("Check your internet connection,Please try agian after some time.");
 					return;
 				}

 				var contextPath = $('#contextPath').val();
 				var URL = contextPath + "/inventorymanager/outletMonitoringMap.do";
 				$.ajax({
 					type : "GET",
 					url : URL,
 					contentType: "application/json",
 					data : {
 						startIndex : "-1",
 						location : ""
 					},
 					beforeSend: function(xhr){                    
 						$("#loading").css("display","block");
 						$("#mainDiv").addClass("disabled");
 					},
 					success : function(result){
 						if(id != undefined)
 		  					activeMenu(id);
 						openMenu("liOutletMonitoring","uloutletMonitoring",1);
 						$('#right-side').html(result);
 						$("#loading").css("display","none");
 						$("#mainDiv").removeClass('disabled');
 					},
 					error : function(jqXHR, textStatus, errorThrown) {
 						errorCode(jqXHR.status);
 						$("#loading").css("display","none");
 						$("#mainDiv").removeClass('disabled');
 					}
 				});
 			}
 			catch(e)
 			{
 				errorCode(e);
 			}

 		}


	   	
 	   	function viewOutletXZReadingReport(id){
 	   	try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}

 	   		var contextPath = $('#contextPath').val();
 			var URL = contextPath + "/reports/viewOutletXZReadingReport.do";
 	 	    $.ajax({
 	  		url : URL,
 	  		data : {
 	  			
 	  		},
 	  		beforeSend: function(xhr){                    
 	 				$("#loading").css("display","block");
 	 				$("#mainDiv").addClass("disabled");
 		        },
 	  		success : function(result){
 	  			$(".active-menu").removeClass("active-menu");
 	  			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
 	  			openMenu("liOutletReports","ulOutletReports",1);
 	  			openMenu("reports", "ulReports",1);
 	  			activeMenu(id);
 	  			$('#right-side').html(result);
 	  			$("#loading").css("display","none");
 	  			$("#mainDiv").removeClass('disabled');
 	  		},
 	  		error : function(jqXHR, textStatus, errorThrown) {
 	  			errorCode(jqXHR.status);
 	  			$("#loading").css("display","none");
 				   $("#mainDiv").removeClass('disabled');
 	  		}
 	  	 });
 	   }
 		catch(e)
 		{
 		              errorCode(e);
 		}

 	   	}
     	   
 	   	function viewSalesReportsCriteriaWise(id,criteria,flow){
 	   
 	   		try{

 	   			var online = window.navigator.onLine;
 	   			if(!online){
 	   				alert("Check your internet connection,Please try agian after some time.");
 	   				return;
 	   			}
 	   			debugger
 	   			var contextPath = $('#contextPath').val();
 	   			var URL = "";
 	   		$("#errorMsg").html("");
 	   	
 	   			
 	   	 var mytime ="";
 	   	 var mytime1 ="";
 	   	 var hourfilter ="";
 	   	var isHourWiseReport="false";
 	   	 if(criteria=="hour"){
 	   	  hourfilter = "00-01";
 	   	Arr_hourfilter = new Array()
 	   	Arr_hourfilter = hourfilter.split("-");
 	   	Arr_hourfilter1=Arr_hourfilter[0];
 	   	Arr_hourfilter2=Arr_hourfilter[1];
 	   		if(hourfilter!=""){
 	   			
 	   			isHourWiseReport="true";
 	   			
 	   			  var h = Arr_hourfilter1;
 	   			  var e = Arr_hourfilter2;
 	   			  var m = "00"
 	   			  var x ="00"
 	   			
 	   			  mytime= h + ':' + m + ':' + x;
 	   			  mytime1= e + ':' + m + ':' + x;
 	   			  
 	   		}else{
 	   			isHourWiseReport="false";
 	   			
 	   		}
 	   	}
 	   			
 	   			if (criteria == "duecollection")
 	   				URL = contextPath + "/reports/viewDueCollectionReports.do";
 	   			else if (criteria == "creditsales")
 	   				URL = contextPath + "/reports/viewCreditSalesReports.do";
 	   			else
 	   				URL = contextPath + "/reports/viewSalesReportsCriteriaWise.do";
 	   			// added by manasa

 	   			var outletlocation = "";
 	   			if($("#location").length>0)
 	   				outletlocation = $("#location").val();

 	   			/*
				 * if(outletlocation == "undefined" || outletlocation == "" ||
				 * outletlocation == null){ outletlocation = "all"; }
				 */

 	   			var finalObj = {};	
 	   			if(criteria=='date' ||  criteria=='counter'){
 	   				var location="";
 	   				if($("#location").length>0)
 	   					finalObj.location = $("#location").val();
 	   				/* } */
 	   				else{
 	   					// if(criteria=='date')
 	   					finalObj.location="";
 	   				}
 	   			}

// finalObj.locationlist=locationList;


 	   			var maxRecords = "10";
 	   			if($("#maxRecords").length>0)
 	   				maxRecords = $("#maxRecords").val();


 	   			var startDate=""
 	   				if($("#startDate").length>0)
 	   					startDate = $("#startDate").val();

 	   			var endDate=""
 	   				if($("#endDate").length>0)
 	   					var endDate = $("#endDate").val();
 	   			
 	   			if(endDate == "" || endDate == undefined || endDate == null){
 	   				
 	   				
 	   				var dateTime = getCurrentDate();
 	   				var date = dateTime.split(' ');
 	   				date = date[0].split('/');
 	   				var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
 	   				var endDate = formatedDate;	
 	   				endDate = endDate
 	   				
 	   			}
 	   			
 	   		if(startDate == "" || startDate == undefined || startDate == null){
	  			
 	   		
	   				var dateTime = getCurrentDate();
	   				var date = dateTime.split(' ');
	   				date = date[0].split('/');
	   				var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
		    	  var startDate = formatedDate;	
		    	  startDate = startDate
		  
		  		}	
 	   			
 	   			var zone = "";
 	   			if($("#outletZone").length > 0)
 	   				zone = $("#outletZone").val();
 	   			var counterId = "";
 	   			if($("#counter").length > 0)
 	   				counterId = $("#counter").val();
 	   			$.ajax({
 	   				url : URL,
 	   				data : {
 	   					criteria : criteria,
 	   					location : outletlocation,
 	   					startDate : startDate,
 	   					endDate : endDate,
 	   					counterName : counterId,
 	   					data : finalObj,
 	   					zone : zone,
 	   					maxRecords:maxRecords,
 	   				isHourWiseReport:isHourWiseReport,
 	   			    	mytime:mytime,
 	   			        mytime1:mytime1,
 	   			        flow: flow
 	   				},
 	   				beforeSend: function(xhr){                    
 	   					$("#loadingreport").css("display","block");
 	   					$("#mainDiv").addClass("disabled");
 	   				},
 	   				success : function(result){
 	   					

 	   					if(id != undefined && id != ""){
 	   						$(".active-menu").removeClass("active-menu");
 	   					if(flow == ""){
 	   		  			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
 	   		  			openMenu("liOutletReports","ulOutletReports",1);
 	   		  			openMenu("reports", "ulReports",1);
 	   		  			}else{
 	   		  				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
 	   						openMenu("liWarehouseReports","ulWarehouseReports",1);
 	   						openMenu("reports", "ulReports",1);
 	   		  			}
 	   						activeMenu(id);
 	   					}
 	   					$('#right-side').html(result);
 	   				
 	   					$("#loading").css("display","none");
 	   					$("#loadingreport").css("display","none");
 	   					$("#mainDiv").removeClass('disabled');
 	   				},
 	   				error : function(jqXHR, textStatus, errorThrown) {
 	   					errorCode(jqXHR.status);
 	   				    $("#loading").css("display","none");
 	   					$("#loadingreport").css("display","none");
 	   					$("#mainDiv").removeClass('disabled');
 	   				}
 	   			});
 	   		}
 	   		catch(e)
 	   		{
 	   			errorCode(e);
 	   		}
 	   	}
     	 
 	   	
 	   	
	    function callCalender(id){
	    	
				// alert("callCalender");
	    	debugger
             id = id.replace(/\s/g, '') ;

	    	try{
	    		var online = window.navigator.onLine;
	    	  	if(!online){
	    	  	alert("Check your internet connection,Please try agian after some time.");
	    	  	return;
	    	  	}
	    	  	 
	    	if($("#"+id+"Error").length > 0)
		   			$("#"+id+"Error").html('');
		   		/*
				 * if($("#Error").length > 0) $("#Error").html('');
				 * $(".Error").html('');
				 */
				$("#"+id).calendarsPicker({  dateFormat: 'dd/mm/yyyy' ,yearRange: 'any',  showTrigger: '#calImg'});
				var textbox = jQuery("#"+id);
				var offset = textbox.offset();
				// console.log("left: " + offset.left + ", top: " + offset.top
				// );
				$(".calendars-popup").css("top",offset.top+34 );
				
				/*
				 * $('input').bind('blur', function(e) { alert("changed motu
				 * "+$(this).val()); e.preventdefault(); });
				 */

	    	}
	    		catch(e)
	    		{
	    		              errorCode(e);
	    		}

	    	
	    }
	    
  function callCalenderOrder(id,state){
	    	
			// alert("callCalender");
    	debugger
    	try{
    		var online = window.navigator.onLine;
    	  	if(!online){
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	  	 
    	if($("#"+id+"Error").length > 0)
	   			$("#"+id+"Error").html('');
	   		
			$("#"+id).calendarsPicker({  dateFormat: 'dd/mm/yyyy' ,yearRange: 'any',  showTrigger: '#calImg'});
			var textbox = jQuery("#"+id);
			var offset = textbox.offset();
		
			$(".calendars-popup").css("top",offset.top+34 );
			
			debugger;
			
			var today = new Date();
			var dd = String(today.getDate()).padStart(2, '0');
			var mm = String(today.getMonth() + 1).padStart(2, '0'); //January is 0!
			var yyyy = today.getFullYear();

			today = dd + '/' + mm + '/' + yyyy;
			today=today.toString();
			//document.write(today);
			if(state=="check")
				{
			if(id=="deliveryDate")
				{
					var deliveryDate=$("#deliveryDate").val();
					deliveryDate=deliveryDate.toString();
					if(deliveryDate==today)
						{
						$("#deliverySlotStartTime").css("display","block");
						$("#deliverySlotStartTime").prop('disabled', false);
						$("#deliverySlotEndTime").css("display","block");
						$("#deliverySlotEndTime").prop('disabled', false);
						$("#deliverySlotStartTime2").css("display","none");
						$("#deliverySlotStartTime2").prop('disabled', true);
						$("#deliverySlotEndTime2").css("display","none");
						$("#deliverySlotEndTime2").prop('disabled', true);
						}	
					else
						{
						$("#deliverySlotStartTime").css("display","none");
						$("#deliverySlotStartTime").prop('disabled', true);
						$("#deliverySlotEndTime").prop('disabled', true);
						$("#deliverySlotEndTime").css("display","none");
						$("#deliverySlotStartTime2").css("display","block");
						$("#deliverySlotEndTime2").css("display","block");
						$("#deliverySlotStartTime2").prop('disabled', false);
						$("#deliverySlotEndTime2").prop('disabled', false);
						}
				}
			else if(id=="confirmDate1")
				{
				var confirmDate=$("#confirmDate1").val();
				confirmDate=confirmDate.toString();
				if(confirmDate==today)
					{
					$("#confirmedSlotStartTime").css("display","block");
					$("#confirmedSlotStartTime").prop('disabled', false);
					$("#confirmedSlotEndTime").css("display","block");
					$("#confirmedSlotEndTime").prop('disabled', false);
					$("#confirmedSlotStartTime2").css("display","none");
					$("#confirmedSlotStartTime2").prop('disabled', true);
					$("#confirmedSlotEndTime2").css("display","none");
					$("#confirmedSlotEndTime2").prop('disabled', true);
					}	
				else
					{
					$("#confirmedSlotStartTime").css("display","none");
					$("#confirmedSlotStartTime").prop('disabled', true);
					$("#confirmedSlotEndTime").css("display","none");
					$("#confirmedSlotEndTime").prop('disabled', true);
					$("#confirmedSlotStartTime2").css("display","block");
					$("#confirmedSlotStartTime2").prop('disabled', false);
					$("#confirmedSlotEndTime2").css("display","block");
					$("#confirmedSlotEndTime2").prop('disabled', false);
					}
				}
			else
				{
				
				}
			}
						

    	}
    		catch(e)
    		{
    		              errorCode(e);
    		}

    	
    }
    
	       
	    
	    
	    function callCalenderForExport(id){
	    	
			// alert("callCalender");
// $("#"+id).removeAttr("disabled");
    	// debugger
    	try{
    		var online = window.navigator.onLine;
    	  	if(!online){
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	  	 
    	if($("#"+id+"Error").length > 0)
	   			$("#"+id+"Error").html('');
	   		/*
			 * if($("#Error").length > 0) $("#Error").html('');
			 * $(".Error").html('');
			 */
			$("#"+id).calendarsPicker({  dateFormat: 'dd/mm/yyyy' ,yearRange: 'any',  showTrigger: '#calImg'});
			var textbox = jQuery("#"+id);
			var offset = textbox.offset();
			// console.log("left: " + offset.left + ", top: " + offset.top );
			$(".calendars-popup").css("top",offset.top+34 );
			
			/*
			 * $('input').bind('blur', function(e) { alert("changed motu
			 * "+$(this).val()); e.preventdefault(); });
			 */

    	}
    		catch(e)
    		{
    		              errorCode(e);
    		}

    	
    }
	    
 	 /*
		 * function callCalender(id){ //alert("callCalender");
		 * if($("#"+id+"Error").length > 0) $("#"+id+"Error").html('');
		 * 
		 * if($("#Error").length > 0) $("#Error").html('');
		 * $(".Error").html(''); $("#"+id).calendarsPicker({ dateFormat:
		 * 'dd/mm/yyyy' ,yearRange: 'any', showTrigger: '#calImg'}); var textbox =
		 * jQuery("#"+id); var offset = textbox.offset(); //console.log("left: " +
		 * offset.left + ", top: " + offset.top );
		 * $(".calendars-popup").css("top",offset.top+34 );
		 * 
		 * $('input').bind('blur', function(e) { alert("changed motu
		 * "+$(this).val()); e.preventdefault(); }); }
		 */
 	  function callCalenderYYYYMMDD(id){
		 		 if($("#"+id+"Error").length > 0)
			   		$("#"+id+"Error").html('');
		 		/*
				 * if($("#Error").length > 0) $("#Error").html('');
				 * $(".Error").html('');
				 */
		 		
				$("#"+id).calendarsPicker({  dateFormat: 'yyyy/mm/dd' ,yearRange: 'any',  showTrigger: '#calImg'});
				var textbox = jQuery("#"+id);
				var offset = textbox.offset();
				$(".calendars-popup").css("top",offset.top+34 );
			}
 			
 	 
 	function newShiftAllocation(id){
 		try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}
 			var   flowUnder = $("#flowUnder").val();
 		var contextPath = $("#contextPath").val();
			URL = contextPath + "/admin/newShiftAllocation.do";
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				flowUnder : flowUnder
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	 			success : function(result) {
	 				$("#right-side").html(result);
	 				openMenu("liShiftManagement","ulShiftManagement",1);
	 				if(id != undefined)
	 					activeMenu(id);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass("disabled");
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});
 		}
 		catch(e)
 		{
 		              errorCode(e);
 		}

		}
 	
	
 	function viewShiftAllocationMaster(id,index,flowUnder){
 		try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}
// debugger
			var contextPath = $("#contextPath").val();
			URL = contextPath + "/admin/viewShiftAllocationMaster.do";
			
			var online = window.navigator.onLine;
	      	if(!online){
	      	alert("check your internet connection,please try again after some time");
	      	return;
	      	}
			
			var shiftLocation = null;
			// below modification done by manasa
			if($("#shiftlocation").length > 0)
				shiftLocation = $("#shiftlocation").val();
			
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				index : index,
	 				location : shiftLocation,
	 				flowUnder : flowUnder
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	 			success : function(result) {
	 				$("#right-side").html(result);
	 				openMenu("liShiftManagement","ulShiftManagement",1);
	 				if(id != undefined)
	 					activeMenu(id);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});
 	}
	catch(e)
	{
	              errorCode(e);
	}

		}
 	
 	// ******* Added By Mythri Zone Master Related Methods Start*******//
 
function newZone(id){
	try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	
	var online = window.navigator.onLine;
  	if(!online){
  	alert("check your internet connection,please try again after some time");
  	return;
  	}	
	// debugger
	    var maxRecords = 10;
	  	  if($("#maxRecords").length>0)
	  		  maxRecords = $("#maxRecords").val();
	  	  var searchName ="";
	  	  if($("#searchZone").length>0)
		  searchName = $("#searchZone").val();	 

 		 var contextPath = $("#contextPath").val();
 		 URL = contextPath + "/genericMaster/newZone.do";
 			$.ajax({
 				type: "GET",
 				url : URL,
 				data : {
 					maxRecords : maxRecords,
 					searchName : searchName
 				},
 				beforeSend: function(xhr){                    
 		   			$("#loading").css("display","block");
 		   			$("#mainDiv").addClass("disabled");
 		   		  },
 				success : function(result) {
 					$("#right-side").html(result);
 					if(id != undefined)
 						activeMenu(id);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function(jqxhr) {
 					if(jqxhr.status == 0)
 						{
 						alert("server has stoped")
 						}
 					else if(jqxhr.status == 401)
 							{
 						alert("bad request")
 							}
 					else
 						{
 						alert("bad request")
 						}
 					 // errorCode(jqXHR.status);
 					// $("#mainDiv").removeClass('loading');
 				$("#loading").css("display","none");
 			   $("#mainDiv").removeClass('disabled');
 				}
 			});
	}
	catch(e)
	{
	              errorCode(e);
	}

 	}
 	







function newRouteMaster(id){
	try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	
	var online = window.navigator.onLine;
  	if(!online){
  	alert("check your internet connection,please try again after some time");
  	return;
  	}	
	// debugger
	    var maxRecords = 10;
	  	  if($("#maxRecords").length>0)
	  		  maxRecords = $("#maxRecords").val();
	  	  var searchName ="";
	  	  if($("#searchZone").length>0)
		  searchName = $("#searchZone").val();	 

 		 var contextPath = $("#contextPath").val();
 		 URL = contextPath + "/genericMaster/newRoute.do";
 			$.ajax({
 				type: "GET",
 				url : URL,
 				data : {
 					maxRecords : maxRecords,
 					searchName : searchName
 				},
 				beforeSend: function(xhr){                    
 		   			$("#loading").css("display","block");
 		   			$("#mainDiv").addClass("disabled");
 		   		  },
 				success : function(result) {
 					$("#right-side").html(result);
 					if(id != undefined)
 						activeMenu(id);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function(jqxhr) {
 					if(jqxhr.status == 0)
 						{
 						alert("server has stoped")
 						}
 					else if(jqxhr.status == 401)
 							{
 						alert("bad request")
 							}
 					else
 						{
 						alert("bad request")
 						}
 					 // errorCode(jqXHR.status);
 					// $("#mainDiv").removeClass('loading');
 				$("#loading").css("display","none");
 			   $("#mainDiv").removeClass('disabled');
 				}
 			});
	}
	catch(e)
	{
	              errorCode(e);
	}

 	}
 	





 	 function viewZoneMaster(id,index){
 		try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}

		   // debugger
		   
		    var maxRecords = 10;
		  	  if($("#maxRecords").length>0)
		  		  maxRecords = $("#maxRecords").val();
		  	  var searchName ="";
		  	  if($("#searchZone").length>0)
			  searchName = $("#searchZone").val().trim();
		  	  
		  	  
		  	 var localityZone ="";
		  	  if($("#locality").length>0)
		  		localityZone = $("#locality").val();

			var contextPath = $("#contextPath").val();
		    URL = contextPath + "/genericMaster/viewZoneMaster.do";
	 		 
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				index : index,
	 				maxRecords : maxRecords,
	 				searchName :searchName
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	 				$("#right-side").html(result);
	 				activeMenu(id);
	 				openMenu("liGenericData","ulGenericData",0);
		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
		    		$("#locality").val(localityZone);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});
 		}
 		catch(e)
 		{
 		              errorCode(e);
 		}

		}

 	 
 	 
 	 

  	function viewServiceAreaMaster(id,index){
  		try{
  			
  			var online = window.navigator.onLine;
  		  	if(!online){
  		  	alert("Check your internet connection,Please try agian after some time.");
  		  	return;
  		  	}
 		   // debugger;
 		    var maxRecords = 10;
 		  	  if($("#maxRecords").length>0)
 		  		  maxRecords = $("#maxRecords").val();
 		  	  var searchName ="";
 		  	  if($("#searchRoute").length>0)
 			  searchName = $("#searchRoute").val().trim();
 		  	  
 		  	  
 		 /*
			 * var localityZone =false; if($("#locality").length>0) localityZone =
			 * $("#locality").val();
			 */
 		  	  var location =true
 		  	if($("#statusValue").val() == 'false')
 				location = $("#statusValue").val();
  
 		  	var startDate = "";
 			if($("#startdate").length > 0 && $("#startdate").val() !="")
 			startDate =  $("#startdate").val();
 			
 			var endDate =""
 				if($("#enddate").length > 0 && $("#enddate").val() !="")
 					endDate =  $("#enddate").val();
 				
 			var zone = "";
 			if($("#zone").length > 0)
 				zone = $("#zone").val();
 			
 			var contextPath = $("#contextPath").val();
 		    URL = contextPath + "/genericMaster/viewServiceAreaMaster.do";
 	 		 
 	 		$.ajax({
 	 			type: "GET",
 	 			url : URL,
 	 			data : {
 	 				index : index,
 	 				maxRecords : maxRecords,
 	 				searchName :searchName,
 	 				location : location,
 	 				startDate : startDate,
 	 				endDate : endDate,
 	 				zone : zone
 	 			},
 	 			beforeSend: function(xhr){                    
 	   	   			$("#loading").css("display","block");
 	   	   			$("#mainDiv").addClass("disabled");
 	   	   		  },
 	   			success : function(result) {
 	 				$("#right-side").html(result);
 	 				activeMenu(id);
 	 				openMenu("liGenericData","ulGenericData",0);
 		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
// $("#locality").val(localityZone);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			},
 	 			error : function(jqXHR, textStatus, errorThrown)  {
 	 				 errorCode(jqXHR.status);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			}
 	 		});
  		}
  		catch(e)
  		{
  		              errorCode(e);
  		}

 		}
 	 
 	 

  	function newServiceAreaMaster(id){
  		try{
  			
  			var online = window.navigator.onLine;
  		  	if(!online){
  		  	alert("Check your internet connection,Please try agian after some time.");
  		  	return;
  		  	}
  		
  		var online = window.navigator.onLine;
  	  	if(!online){
  	  	alert("check your internet connection,please try again after some time");
  	  	return;
  	  	}	
  		debugger;
  		    var maxRecords = 10;
  		  	  if($("#maxRecords").length>0)
  		  		  maxRecords = $("#maxRecords").val();
  		  	  var searchName ="";
  		  	  if($("#searchZone").length>0)
  			  searchName = $("#searchZone").val();	 

  	 		 var contextPath = $("#contextPath").val();
  	 		 URL = contextPath + "/genericMaster/newServiceAreaMaster.do";
  	 			$.ajax({
  	 				type: "GET",
  	 				url : URL,
  	 				data : {
  	 					maxRecords : maxRecords,
  	 					searchName : searchName
  	 				},
  	 				beforeSend: function(xhr){                    
  	 		   			$("#loading").css("display","block");
  	 		   			$("#mainDiv").addClass("disabled");
  	 		   		  },
  	 				success : function(result) {
  	 					$("#right-side").html(result);
  	 					if(id != undefined)
  	 						activeMenu(id);
  	 					$("#loading").css("display","none");
  	 					$("#mainDiv").removeClass('disabled');
  	 				},
  	 				error : function(jqxhr) {
  	 					if(jqxhr.status == 0)
  	 						{
  	 						alert("server has stoped")
  	 						}
  	 					else if(jqxhr.status == 401)
  	 							{
  	 						alert("bad request")
  	 							}
  	 					else
  	 						{
  	 						alert("bad request")
  	 						}
  	 					 // errorCode(jqXHR.status);
  	 					// $("#mainDiv").removeClass('loading');
  	 				$("#loading").css("display","none");
  	 			   $("#mainDiv").removeClass('disabled');
  	 				}
  	 			});
  		}
  		catch(e)
  		{
  		              errorCode(e);
  		}

  	 	}
  	 	
  	function changeFunc() {		         	    	   
 	    var selectBox = document.getElementById("AreaTypeId");
 	    var selectedValue = selectBox.options[selectBox.selectedIndex].value;
 	    
 	    if(selectedValue=="Open")
 	    	{
 	    	document.getElementById("radius").disabled=true;
 	    	document.getElementById("radius").val(0);
 	    	}
 	    else
 	    	{
 	    	document.getElementById("radius").disabled=false;
 	    	}
 	    	
 	   }
 	 
 	function viewRouteMaster(id,index){
 		try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}

		   debugger;
		   
		    var maxRecords = 10;
		  	  if($("#maxRecords").length>0)
		  		  maxRecords = $("#maxRecords").val();
		  	  var searchName ="";
		  	  if($("#searchRoute").length>0)
			  searchName = $("#searchRoute").val().trim();
		  	  
		  	  
		  	 var localityZone ="";
		  	  if($("#locality").length>0)
		  		localityZone = $("#locality").val();

		  	  var location =""
		  	if($("#outletlocation").length > 0)
				location = $("#outletlocation").val();
		  	  
		  	var startDate = "";
			if($("#startdate").length > 0 && $("#startdate").val() !="")
			startDate =  $("#startdate").val();
			
			var endDate =""
				if($("#enddate").length > 0 && $("#enddate").val() !="")
					endDate =  $("#enddate").val();
				
			var zone = null;
			if($("#outletZone").length > 0)
				zone = $("#outletZone").val();
			
			var contextPath = $("#contextPath").val();
		    URL = contextPath + "/genericMaster/viewRouteMaster.do";
	 		 
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				index : index,
	 				maxRecords : maxRecords,
	 				searchName :searchName,
	 				location : location,
	 				startDate : startDate,
	 				endDate : endDate,
	 				zone : zone
	 				
	 				
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	 				$("#right-side").html(result);
	 				activeMenu(id);
	 				openMenu("liGenericData","ulGenericData",0);
		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
		    		$("#locality").val(localityZone);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});
 		}
 		catch(e)
 		{
 		              errorCode(e);
 		}

		}

 	 
 	 
 	 
 	// ******* Added By Mythri Zone Master Related Methods Ends*******//
 	
 	function viewBackUpFlow(id){
 		try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}

 		var contextPath = $('#contextPath').val();
 		  var URL = contextPath + "/admin/viewBackUpFlow.do";
 		  $.ajax({
 			url : URL,
 			data : {
 			},
 			beforeSend: function(xhr){                    
 		   			$("#loading").css("display","block");
 		   			$("#mainDiv").addClass("disabled");
 		   		  },
 			success : function(result){
 				$("#right-side").html(result);
 				activeMenu(id);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown) {
 				errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		 });
 		}
 		catch(e)
 		{
 		              errorCode(e);
 		}

 	}
 	
 	
 	
 	// ****** viswanath Brand Master Starts ******//

/*
 * function newBrandMaster(id){ var contextPath = $("#contextPath").val(); URL =
 * contextPath + "/genericMaster/newBrandMaster.do"; $.ajax({ type: "GET", url :
 * URL, data : { }, beforeSend: function(xhr){
 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
 * success : function(result) { $("#right-side").html(result); if(id !=
 * undefined) activeMenu(id); $("#loading").css("display","none");
 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR, textStatus,
 * errorThrown) { errorCode(jqXHR.status); $("#loading").css("display","none");
 * $("#mainDiv").removeClass('disabled'); } }); }
 * 
 * 
 * 
 * function viewBrandMaster(id,index){ if($("#searchBrand").length > 0 &&
 * $("#searchBrand").val().trim() != ""){
 * searchBrandMaster($("#searchBrand").val(), 'brandMaster',index); return; }
 * var contextPath = $("#contextPath").val(); URL =
 * contextPath+"/genericMaster/viewBrand.do";
 * 
 * $.ajax({ type: "GET", url : URL, data : { index : index }, beforeSend:
 * function(xhr){ $("#loading").css("display","block");
 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
 * $("#right-side").html(result); activeMenu(id);
 * openMenu("liGenericData","ulGenericData",0);
 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); },
 * error : function(jqXHR, textStatus, errorThrown) { errorCode(jqXHR.status);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); }
 * }); }
 */
 	
 	
 	
 	function newBrandMaster(id){
 		
 		try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}

		 var contextPath = $("#contextPath").val();
		var maxRecords = 10;
		if ($("#maxRecords").length > 0)
			maxRecords= $("#maxRecords").val();
		
		var searchName = "";
		if($("#searchBrand").length > 0)
		searchName = $("#searchBrand").val();
		
		 URL = contextPath + "/genericMaster/newBrandMaster.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					maxRecords: maxRecords,
					searchName:searchName
				},
				beforeSend: function(xhr){                    
		   			$("#loading").css("display","block");
		   			$("#mainDiv").addClass("disabled");
		   		  },
				success : function(result) {
					$("#right-side").html(result);
					if(id != undefined)
						activeMenu(id);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
				}
			});

 		}
 			catch(e)
 			{
 			              errorCode(e);
 			}

	}



	function viewBrandMaster(id,index){
		debugger;
		try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}

		if($("#searchBrand").length > 0 && $("#searchBrand").val().trim() != ""){
			searchBrandMaster($("#searchBrand").val(), 'brandMaster',index);
			return;
		}
		var maxRecords = 10;
		if ($("#maxRecords").length > 0)
			maxRecords= $("#maxRecords").val();
		
		var searchName = "";
		if($("#searchBrand").length > 0)
		searchName = $("#searchBrand").val().trim();

		
		var contextPath = $("#contextPath").val();
	   URL = contextPath+"/genericMaster/viewBrand.do";
		
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					index : index,
					maxRecords : maxRecords,
					searchName : searchName
				},
				beforeSend: function(xhr){                    
		   			$("#loading").css("display","block");
		   			$("#mainDiv").addClass("disabled");
		   		  },
				success : function(result) {
					$("#right-side").html(result);
					activeMenu(id);
					openMenu("liGenericData","ulGenericData",0);
		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			});

		}
			catch(e)
			{
			              errorCode(e);
			}

	}
 	
 	// ***** Brand Master Ends ******//

 	// ****** ProductGroupMaster Starts ******//
 	function newProductGroupMaster(id){
 		try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}

 	
 		 var contextPath = $("#contextPath").val();
 		 URL = contextPath + "/outletMaster/newProductGroupMaster.do";
 			$.ajax({
 				type: "GET",
 				url : URL,
 				data : {
 				},
 				beforeSend: function(xhr){                    
 		   			$("#loading").css("display","block");
 		   			$("#mainDiv").addClass("disabled");
 		   		  },
 				success : function(result) {
 					$("#right-side").html(result);
 					$("#type").val('skuAdd');
 					if(id != undefined)
 						activeMenu(id);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function(jqXHR, textStatus, errorThrown)  {
 					 errorCode(jqXHR.status);
 					$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 				}
 			});

 		}
 			catch(e)
 			{
 			              errorCode(e);
 			}

 	}

 	

 	
 	
 	
 	
 	// viswanath
 	function viewProductGroupMaster(id,index){
 	debugger;
 		
 		var online = window.navigator.onLine;
		if(!online)
		{
			alert("There is no Internet Connection.");
			return false;
		}
		
		
 		var maxRecords = "10";
 		if ($("#maxRecords").length > 0 && $("#maxRecords").val()!="")
 			maxRecords= $("#maxRecords").val();
 		 var searchCriteria ="";
 	  	  if($("#searchProductGroup").length>0)
 	  		searchCriteria = $("#searchProductGroup").val().trim();	 
 	  
 		var contextPath = $("#contextPath").val();
 	   URL = contextPath+"/outletMaster/viewProductGroup.do";
 		
 			$.ajax({
 				type: "GET",
 				url : URL,
 				data : {
 					index : index,
 					maxRecords:maxRecords,
 					searchCriteria: searchCriteria
 					
 					
 				},
 				beforeSend: function(xhr){                    
 		   			$("#loading").css("display","block");
 		   			$("#mainDiv").addClass("disabled");
 		   		  },
 				success : function(result) {
 					$("#right-side").html(result);
 					activeMenu(id);
 					openMenu("master-details","ulMasterDetails",0);
 		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function() {
 					 alert("Internal error, please contact Technolabs support. ");
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				}
 			});
 	}
 	
 	/*
	 * //viswanath function viewProductGroupMaster(id,index){ try{
	 * 
	 * var online = window.navigator.onLine; if(!online){ alert("Check your
	 * internet connection,Please try agian after some time."); return; }
	 * 
	 * if($("#searchProductGroup").length > 0 &&
	 * $("#searchProductGroup").val().trim() != ""){
	 * searchProductGroupMaster($("#searchProductGroup").val(),
	 * 'productGroupMaster',index); return; } var contextPath =
	 * $("#contextPath").val(); URL =
	 * contextPath+"/outletMaster/viewProductGroup.do";
	 * 
	 * $.ajax({ type: "GET", url : URL, data : { index : index }, beforeSend:
	 * function(xhr){ $("#loading").css("display","block");
	 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
	 * $("#right-side").html(result); activeMenu(id);
	 * openMenu("master-details","ulMasterDetails",0);
	 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } });
	 *  } catch(e) { errorCode(e); }
	 *  }
	 */
 	// ********* ProductGroupMaster Ends ********//
 	
 	// ********* Asset Master Starts *********//
 /*
	 * function viewAssetMaster(id,index){ if($("#searchAsset").length > 0 &&
	 * $("#searchAsset").val().trim() != ""){
	 * searchAssetMaster($("#searchAsset").val(), 'assetMaster',index); return; }
	 * var contextPath = $("#contextPath").val(); URL =
	 * contextPath+"/genericMaster/viewAssetMaster.do";
	 * 
	 * $.ajax({ type: "GET", url : URL, data : { index : index }, beforeSend:
	 * function(xhr){ $("#loading").css("display","block");
	 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
	 * $("#right-side").html(result); activeMenu(id);
	 * openMenu("liGenericData","ulGenericData",0);
	 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); } function
	 * newAssetMaster(id){ var contextPath = $("#contextPath").val(); URL =
	 * contextPath + "/genericMaster/newAssetMaster.do"; $.ajax({ type: "GET",
	 * url : URL, data : { }, beforeSend: function(xhr){
	 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
	 * success : function(result) { $("#right-side").html(result); if(id !=
	 * undefined) activeMenu(id); $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
	 * textStatus, errorThrown) { errorCode(jqXHR.status);
	 * $("#loading").css("display","none");
	 * $("#mainDiv").removeClass('disabled'); } }); }
	 */

 	
 	
 	
 	function viewAssetMaster(id,index){
 		try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}

 		// purpose:for checking internet conection
 		var online = window.navigator.onLine;
 	  	if(!online){
 	  	alert("Check your internet connection,Please try agian after some time.");
 	  	return;
 	  	}
 		
 		if($("#searchAsset").length > 0 && $("#searchAsset").val().trim() != ""){
 			searchAssetMaster($("#searchAsset").val(), 'assetMaster',index);
 			return;
 		}
 		// debugger
 		var maxRecords = 10;
 		if ($("#maxRecords").length > 0)
 			maxRecords= $("#maxRecords").val();
 		
 		 var searchName ="";
 	  	  if($("#searchAsset").length>0)
 		  searchName = $("#searchAsset").val().trim();;	 

 		
 		var contextPath = $("#contextPath").val();
 	   URL = contextPath+"/genericMaster/viewAssetMaster.do";
 		
 			$.ajax({
 				type: "GET",
 				url : URL,
 				data : {
 					index : index,
 					maxRecords: maxRecords,
 					searchName: searchName,
 		   		  },
 				
 				beforeSend: function(xhr){                    
 		   			$("#loading").css("display","block");
 		   			$("#mainDiv").addClass("disabled");
 		   		  },
 				success : function(result) {
 					$("#right-side").html(result);
 					activeMenu(id);
 					openMenu("liGenericData","ulGenericData",0);
 		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function(jqXHR, textStatus, errorThrown)  {
 					 errorCode(jqXHR.status);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				}
 			});

 		}
 			catch(e)
 			{
 			              errorCode(e);
 			}

 	}
 	
 	
 	
 	
 	// ******** Asset Master Ends **********//
 	
 	function viewGoodsReturn(id,index,fromLocation,flowUnder){
 		try{

 			var online = window.navigator.onLine;
 			if(!online){
 				alert("Check your internet connection,Please try agian after some time.");
 				return;
 			}

 			// purpose:for checking internet conection
 			var online = window.navigator.onLine;
 			if(!online){
 				alert("Check your internet connection,Please try agian after some time.");
 				return;
 			}

 			if(flowUnder == undefined){
 				if((($("#searchStocksReturn").length > 0 && $("#searchStocksReturn").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
 					searchOutletStockReturn($("#searchStocksReturn").val(), 'searchStocksReturn',index);
 					return;
 				}
 			}
 			var dateTime = getCurrentDate();
 			var date = dateTime.split(' ');
 			date = date[0].split('/');
 			var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
 			var startdate = formatedDate;

 			if(flowUnder == undefined && $("#flowUnder").length > 0)
 				flowUnder = $("#flowUnder").val();
 			var maxRecords = 10;
 			if($("#maxRecords").length > 0)
 				maxRecords = $("#maxRecords").val();
 			if(fromLocation == "" && $("#formLocation").length > 0)
 				formLocation = $("#formLocation").val();
 			var zone =$("#outletLocation").val();
 			var contextPath = $("#contextPath").val();
 			URL = contextPath + "/inventorymanager/viewGoodsReturn.do";
 			$.ajax({
 				type: "GET",
 				url : URL,
 				data : {
 					index : index,
 					fromLocation : fromLocation,
 					flowUnder : flowUnder,
 					maxRecords : maxRecords
 				},
 				beforeSend: function(xhr){                    
 					$("#loading").css("display","block");
 					$("#mainDiv").addClass("disabled");
 				},
 				success : function(result) {
 					// openMenu("liInventoryManagement","ulInventoryManagement",1);
 					$("#right-side").html(result);
 					if(id != undefined && id != "")
 						activeMenu(id);
 					$("#outletLocation").val(zone)
 					if(flowUnder == "outlet"){
 						openMenu("liGoodsTransfer","ulGoodsTransfer",0);
 						openMenu("liInventoryManagement","ulInventoryManagement",1);
 						openMenu("storedetails","ulstoredetails",1);
 					}
 					else if(flowUnder == "warehouse"){
 						openMenu("liWarehouseGoodsTransfer","ulWarehouseGoodsTransfer",0);
 						openMenu("liStockManagement","ulStockManagement",1);
 						openMenu("warehouseDetails","ulwarehouseDetails",1);
 					}
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function(jqXHR, textStatus, errorThrown)  {
 					errorCode(jqXHR.status);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				}
 			});

 		}
 		catch(e)
 		{
 			errorCode(e);
 		}

 	}
 	 

		function viewNewStockReturn(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var flowUnder = "";
			if($("#flowUnder").length > 0)
				flowUnder = $("#flowUnder").val();
			 var contextPath = $("#contextPath").val();
	    	 URL = contextPath + "/inventorymanager/newStockReturn.do";
	  		$.ajax({
	  			type: "GET",
	  			url : URL,
	  			data : {
	  				flowUnder : flowUnder
	  			},
	  			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	  			success : function(result) {
	  				if(id != undefined)
	  					activeMenu(id);
	  				$("#right-side").html(result);
	  				$("#loading").css("display","none");
	  				$("#mainDiv").removeClass('disabled');
	  			},
	  			error : function(jqXHR, textStatus, errorThrown)  {
	  				 errorCode(jqXHR.status);
	  				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	  			}
	  		});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		
		function viewEditSMSSettings(id,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $("#contextPath").val();
			 URL = contextPath + "/settings/editSMSSettings.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					
					operation : operation
				},
				beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
				success : function(result) {
					
					$("#right-side").html(result);
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liSettings", "ulSettings",0);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					 $("#loading").css("display","none");
					 $("#mainDiv").removeClass('disabled');
				}
			});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}



		function viewEditMailSettings(id,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $("#contextPath").val();
			 URL = contextPath + "/settings/editMailSettings.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					
					operation : operation
				},
				beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
				success : function(result) {
					openMenu("liSettings", "ulSettings",0);
					$("#right-side").html(result);
					if(id != undefined)
	  					activeMenu(id);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					 $("#loading").css("display","none");
					 $("#mainDiv").removeClass('disabled');
				}
			});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}




		function viewEditRegionalSettings(id,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $("#contextPath").val();
			 URL = contextPath + "/settings/editRegionalSettings.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					
					operation : operation
				},
				beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
				success : function(result) {
					openMenu("liSettings", "ulSettings",0);
					$("#right-side").html(result);
					if(id != undefined)
	  					activeMenu(id);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					 $("#loading").css("display","none");
					 $("#mainDiv").removeClass('disabled');
				}
			});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		function viewEditIntegrationSettings(id,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $("#contextPath").val();
			 URL = contextPath + "/settings/editIntegrationSettings.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {					
					operation : operation
				},
				beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
				success : function(result) {
					openMenu("liSettings", "ulSettings",0);
					$("#right-side").html(result);
					/*
					 * if(result!==null) printsettingsDevices('printer',result);
					 */
					if(id != undefined)
	  					activeMenu(id);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					 $("#loading").css("display","none");
					 $("#mainDiv").removeClass('disabled');
				}
			});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}

		function viewStoreTaxation(id,index,location){
			try{
				
			
			/*
			 * if($("#searchStoreTaxation").length > 0 &&
			 * $("#searchStoreTaxation").val().trim() != ""){
			 * searchStoreTaxationMaster($("#searchStoreTaxation").val(),
			 * 'storeTaxationMaster',index); return; }
			 */
		          debugger;
			var online = window.navigator.onLine;
	      	if(!online){
	      	alert("check your internet connection,please try again after some time");
	      	return;
	      	}
			
			
			var searchName=""
		   		 if($("#searchStoreTaxation").length>0)
		   			 searchName = $("#searchStoreTaxation").val().trim();
			
			//added by koti
			if(location == "" || location==null || location == undefined){
				location = $("#location").val();
			}
			if(location == undefined){
				location="";
			}

			// added by manasa
			var maxRecords = 10;
	    	  if($("#maxRecords").length>0 && $("#maxRecords").val() != "") 
	    		  maxRecords = $("#maxRecords").val();
	    	  
	    	  
	    	 
	    	
			var contextPath = $("#contextPath").val();
		   URL = contextPath+"/inventorymanager/viewStoreTaxation.do";
	 	
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				index : index,
	 				location : location,
	 				searchName : searchName,
	 				maxRecords : maxRecords
	 			},
	 			beforeSend: function(xhr){   
	 				// alert(xhr.status)
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	 				$("#right-side").html(result);
	 				 if(id != undefined && id != "")
	                    	activeMenu(id);
	                    openMenu("storedetails", "ulstoredetails",0);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		
		function viewWarehouseTaxation(id,index,location){
			try{
				
			
			/*
			 * if($("#searchStoreTaxation").length > 0 &&
			 * $("#searchStoreTaxation").val().trim() != ""){
			 * searchStoreTaxationMaster($("#searchStoreTaxation").val(),
			 * 'storeTaxationMaster',index); return; }
			 */
		          debugger;
			var online = window.navigator.onLine;
	      	if(!online){
	      	alert("check your internet connection,please try again after some time");
	      	return;
	      	}
			
			
			var searchName=""
		   		 if($("#searchWHTaxation").length>0)
		   			 searchName = $("#searchWHTaxation").val().trim();
			
			//added by koti
			if(location == "" || location==null || location == undefined){
				location = $("#location").val();
			}
			if(location == undefined){
				location="";
			}

			// added by manasa
			var maxRecords = 10;
	    	  if($("#maxRecords").length>0 && $("#maxRecords").val() != "") 
	    		  maxRecords = $("#maxRecords").val();
	    	  
	    	  
	    	 
	    	
			var contextPath = $("#contextPath").val();
		   URL = contextPath+"/inventorymanager/viewWarehouseTaxation.do";
	 	
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				index : index,
	 				location : location,
	 				searchName : searchName,
	 				maxRecords : maxRecords
	 			},
	 			beforeSend: function(xhr){   
	 				// alert(xhr.status)
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	 				$("#right-side").html(result);
	 				 if(id != undefined && id != "")
	                    	activeMenu(id);
	 				openMenu("warehouseDetails", "ulwarehouseDetails",0);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		
		function newStoreTax(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
				var locationStr = "";
				if($("#location").length > 0)
					locationStr = $("#location").val();
			  	
			var contextPath = $("#contextPath").val();
			URL = contextPath + "/inventorymanager/newStoreTax.do";
	 		 
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				locationStr:locationStr
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	 				$("#right-side").html(result);
	 				 if(id != undefined && id != "")
	                    	activeMenu(id);
	                openMenu("storedetails", "ulstoredetails",0);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 				
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});

		}
			catch(e)
			{
			              errorCode(e);
			}

		}
		
	
		function newWarehouseTax(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
				var locationStr = "";
				if($("#location").length > 0)
					locationStr = $("#location").val();
			  	
			var contextPath = $("#contextPath").val();
			URL = contextPath + "/inventorymanager/newWarehouseTax.do";
	 		 
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				locationStr:locationStr
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	 				$("#right-side").html(result);
	 				 if(id != undefined && id != "")
	                    	activeMenu(id);
	 				openMenu("warehouseDetails", "ulwarehouseDetails",0);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 				
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});

		}
			catch(e)
			{
			              errorCode(e);
			}

		}
		
	
	
		
		function newCustomerComplaints(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $("#contextPath").val();
			 URL = contextPath + "/crm/newCustomerComplaints.do";
				$.ajax({
					type: "GET",
					url : URL,
					data : {
					},
					beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
					success : function(result) {
						$("#right-side").html(result);
						if(id != undefined)
							activeMenu(id);
						openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					},
					error : function(jqXHR, textStatus, errorThrown)  {
						 errorCode(jqXHR.status);
						$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
					}
				});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}

		function viewCustomerComplaints(id,index,menu){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			if(menu == undefined)
			if((($("#searchComplaint").length > 0 && $("#searchComplaint").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
				searchCustomerComplaints($("#searchComplaint").val(), 'customerComplaints',index);
				return;
			}
			var location = "";
			if(menu == undefined)
			if($("#toLocation").length>0)
	    		  location = $("#toLocation").val();
	    	 var maxRecords = "10";
	    	 if(menu == undefined)
	    	  if($("#maxRecords").length > 0)
	    		  maxRecords = $("#maxRecords").val();
			var contextPath = $("#contextPath").val();
		   URL = contextPath+"/crm/viewCustomerComplaints.do";
				$.ajax({
					type: "GET",
					url : URL,
					data : {
						index : index,
						location : location,
						maxRecords : maxRecords
					},
					beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
					success : function(result) {
						$("#right-side").html(result);
						if(id != undefined && id != "")
						activeMenu(id);
						openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					},
					error : function(jqXHR, textStatus, errorThrown)  {
						 errorCode(jqXHR.status);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					}
				});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}

		
		
		function viewEditCustomerSettings(id,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $("#contextPath").val();
			 URL = contextPath + "/settings/editCustomerSettings.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					
					operation : operation
				},
				beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
				success : function(result) {
					openMenu("liSettings", "ulSettings",0);
					$("#right-side").html(result);
					activeMenu(id);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					 $("#loading").css("display","none");
					 $("#mainDiv").removeClass('disabled');
				}
			});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		function viewAverageInventory(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/viewAverageInventory.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					$('#right-side').html(result);
					activeMenu(id);
					openMenu("liOutletHealth","ulOutletHealth",0);
					openMenu("liInventoryManagement","ulInventoryManagement",1);
					openMenu("storedetails","ulstoredetails",1);
  	    			
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}
		} 
		
		
		
		function showCustomerSettingsFlow(){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
  
			var contextPath = $('#contextPath').val();
    		  var URL = contextPath + "/settings/showCustomerSettingsFlow.do";
	    	    $.ajax({
	    		url : URL,
	    		data : {
	    		},
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			$(".active-menu").removeClass("active-menu");
	    			/*
					 * openMenu("liGenericData","ulGenericData",0);
					 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
					 */
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });

			}
				catch(e)
				{
				              errorCode(e);
				}

    	   }
		function viewEditStoreTax(taxName,location,taxCategory,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
               debugger;
			var contextPath = $("#contextPath").val();
		  // added by manasa
		   	var taxlocation=$("#taxLocation").val();
		   	var maxRecords = 10;
	    	  if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	// finalObj.maxRecords=maxRecords;
	    	  
		   	var searchName=""
		   		 if($("#searchStoreTaxation").length>0)
		   			 searchName = $("#searchStoreTaxation").val();
		   	
		   	URL = contextPath + "/inventorymanager/editStoreTaxation.do";
		 		$.ajax({
		 			type: "GET",
		 			url : URL,
		 			data : {
		 				taxName : taxName,
		 				location : location,
		 				taxCategory : taxCategory,
		 				operation : operation,
		 				taxlocation : taxlocation,
		 				searchName : searchName,
		 				maxRecords : maxRecords
		 			},
		 			beforeSend: function(xhr){                    
		  	   			$("#loading").css("display","block");
		  	   			$("#mainDiv").addClass("disabled");
		  	   		  },
		 			success : function(result) {
		 				$("#right-side").html(result);
		 				$("#loading").css("display","none");
		 				$("#mainDiv").removeClass('disabled');
		 			},
		 			error : function(jqXHR, textStatus, errorThrown)  {
		 				 errorCode(jqXHR.status);
		 				$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
		 			}
		 		});

			}
				catch(e)
				{
				              errorCode(e);
				}

		    }
		
		function viewEditWHTax(taxName,location,taxCategory,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
               debugger;
			var contextPath = $("#contextPath").val();
		  // added by manasa
		   	var taxlocation=$("#taxLocation").val();
		   	var maxRecords = 10;
	    	  if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	// finalObj.maxRecords=maxRecords;
	    	  
		   	var searchName=""
		   		 if($("#searchStoreTaxation").length>0)
		   			 searchName = $("#searchStoreTaxation").val();
		   	
		   	URL = contextPath + "/inventorymanager/editWHTaxation.do";
		 		$.ajax({
		 			type: "GET",
		 			url : URL,
		 			data : {
		 				taxName : taxName,
		 				location : location,
		 				taxCategory : taxCategory,
		 				operation : operation,
		 				taxlocation : taxlocation,
		 				searchName : searchName,
		 				maxRecords : maxRecords
		 			},
		 			beforeSend: function(xhr){                    
		  	   			$("#loading").css("display","block");
		  	   			$("#mainDiv").addClass("disabled");
		  	   		  },
		 			success : function(result) {
		 				$("#right-side").html(result);
		 				$("#loading").css("display","none");
		 				$("#mainDiv").removeClass('disabled');
		 			},
		 			error : function(jqXHR, textStatus, errorThrown)  {
		 				 errorCode(jqXHR.status);
		 				$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
		 			}
		 		});

			}
				catch(e)
				{
				              errorCode(e);
				}

		    }
		
		
		function showCRMFlow(){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
  
			var contextPath = $('#contextPath').val();
    		  var URL = contextPath + "/crm/showCRMFlow.do";
	    	    $.ajax({
	    		url : URL,
	    		data : {
	    		},
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			$(".active-menu").removeClass("active-menu");
	    		// $(".menu-open").css("display","none");
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });

			}
				catch(e)
				{
				              errorCode(e);
				}

    	   }
		
		function showB2cFlows(){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
  		  var URL = contextPath + "/b2c/showB2cFlows.do";
	    	    $.ajax({
	    		url : URL,
	    		data : {
	    		},
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			debugger;
	    			$(".active-menu").removeClass("active-menu");
	    		// $(".menu-open").css("display","none");
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });

			}
				catch(e)
				{
				              errorCode(e);
				}

  	   }
		
		

		function viewHomePageBanners(id,index,type){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			if(type == undefined || type == "")
				type = $("#type").val();
			if($("#homePageBannerMaster").length > 0 && $("#homePageBannerMaster").val().trim() != ""){
				searchHomePageBanners($("#homePageBannerMaster").val(), 'homePageBannerMaster',index);
				return;
			}
			var contextPath = $("#contextPath").val();
		    URL = contextPath + "/b2c/viewHomePageBanners.do";
				$.ajax({
					type: "GET",
					url : URL,
					data : {
						index : index,
						type : type
					},
					beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
					success : function(result) {
						$("#right-side").html(result);
						if(id != undefined && id != "")
							activeMenu(id);
						openMenu("lib2cConfig","ulb2cConfig",0);
						$("#type").val(type);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					},
					error : function(jqXHR, textStatus, errorThrown)  {
						 errorCode(jqXHR.status);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					}
				});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		
		
		function newBannerImage(id,type){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $("#contextPath").val();
			if(type == undefined || type == "")
			 type = $("#type").val();
			URL = contextPath + "/b2c/newHomePageBanner.do";
	 		 
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				type : type
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	 				$("#right-side").html(result);
	 				if(id != undefined)
	 					activeMenu(id);
	 				openMenu("lib2cConfig","ulb2cConfig",0);
	 				$("#type").val(type);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 				
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		
		
		
		function searchAvgStock(index){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var location = $("#outletLocation").val();
			var startDate = "";
			var endDate = "";
			if($("#from").length>0 && $("#to").length>0){
	 			if($("#from").val() != "" && $("#to").val() == ""){
	 				alert("Please Select End Date");
	 				return false;
	 			} 
	 			if($("#from").val() == "" && $("#to").val() != ""){
	 				alert("Please Select Start Date");
	 				return false;
	 			}
	 			if($("#from").val() != "" && $("#to").val() != ""){
		 			var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
					 if(noOfDays < 0){
						 alert("Start Date can't be less than End Date");
						 return;
					 }
					 startDate = $("#from").val() + " 00:00:00";
					 endDate = $("#to").val() + " 00:00:00";
	 			}
	 		}
			/*
			 * if($("#from").val() != "" && $("#to").val() == ""){ alert("Please
			 * Select End Date"); return false; } if($("#from").val() == "" &&
			 * $("#to").val() != ""){ alert("Please Select Start Date"); return
			 * false; } if($("#from").length>0 && $("#from").val() != "" &&
			 * $("#from").val() != undefined){ var noOfDays =
			 * daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
			 * if(noOfDays < 0){ alert("Start Date can't be less than End
			 * Date"); return; } startDate = $("#from").val(); }
			 * if($("#to").length>0 && $("#to").val() != "" && $("#to").val() !=
			 * undefined){ var noOfDays = daydiff(parseDate($('#from').val()),
			 * parseDate($('#to').val())); if(noOfDays < 0){ alert("Start Date
			 * can't be less than End Date"); return; } endDate =
			 * $("#to").val(); }
			 */
			var timeCycle = $("#timeCycle").val();
			var finalObj ={};
			if(location == "select" || location == "-- Select --")
				location = "";
			
			// added by manasa
			var maxRecords = 10;
	    	  if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	  finalObj.maxRecords=maxRecords;
	    	  
			finalObj.locationId = location;
			finalObj.startIndex = index;
			finalObj.requiredRecords = 10;
			finalObj.startDate = startDate;
			finalObj.endDate = endDate;
			finalObj.timeCycle  = timeCycle;
			if($("#filterBy").length > 0){
				var filterBy = $("#filterBy").val();
				if(filterBy == "select" || filterBy == "-- Select --")
					filterBy = "";
				finalObj.filterBy = filterBy;
			}
			var contextPath = $("#contextPath").val();
			URL = contextPath + "/inventorymanager/searchAvgStock.do";
			var formData = JSON.stringify(finalObj);
			$.ajax({
				type: "POST",
  			  	url : URL,
  			  	contentType: "application/json",
  			  	data : formData,
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	 				$("#inventoryTable").html(result);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 				
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		function viewCustomerPurchases(id,index){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			debugger;
			 var contextPath = $('#contextPath').val();
			 var maxRecords = 10;
	    	  if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	  var outletlocation =""
	    	  		 if($("#locationPurchase").length > 0)
	    	  		outletlocation = $("#locationPurchase").val();
	    	  
	      	 var dateTime = getCurrentDate();
	      	 var date = dateTime.split(' ');
	      		 date = date[0].split('/');
	      	 var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	      			    	
	      	 var fromDate = $("#fromDate").val();
	      	 var endDate = $("#endDate").val();
	      	 
	      	 if(fromDate == "" || fromDate == null || fromDate == undefined){
	      		$("#fromDate").val(formatedDate);
	      		fromDate = formatedDate;
	      	 }
	      	if(endDate == "" || endDate == null || endDate == undefined){
	      		$("#endDate").val(formatedDate);
	      		endDate = formatedDate;
	      	 }
	    	  
			 var URL = contextPath + "/crm/viewCustomerPurchases.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {
					index : index,
    	    		maxRecords : maxRecords,
    	    		fromDate : fromDate,
    	    		endDate : endDate
    	    		// outletlocation : outletlocation
				},
				beforeSend: function(xhr){                    
			   		$("#loadingreport").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					$('#right-side').html(result);
					openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
					
					/*if($("#fromDate").val() == ""){
						$("#fromDate").val(formatedDate);
					}
					if($("#endDate").val() == ""){
      			    	$("#endDate").val(formatedDate);
					}*/
					if(id != undefined && id != "")
					activeMenu(id);
					$("#loadingreport").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loadingreport").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		} 
		
		function viewstocks(id){
			
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		function viewHomePageDeals(id,index){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
					if(id != undefined)
	  					activeMenu(id);
// openMenu("liOutletProcurement","ulOutletProcurement",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		/*
		 * function viewShipmentGatePass(id,index){ var contextPath =
		 * $('#contextPath').val(); var URL = contextPath +
		 * "/inventorymanager/accessDenied.do"; $.ajax({ type : "GET", url :
		 * URL, data : {}, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result){
		 * if(id != undefined) activeMenu(id);
		 * openMenu("liWarehouseOrders","ulWarehouseOrders",0);
		 * openMenu("warehouseDetails","ulwarehouseDetails",1);
		 * $('#right-side').html(result); $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 */
		
		function viewPayments(id,index){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liWarehouseOrders","ulWarehouseOrders",0);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		function viewShipmentInspection(id,index){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					if(id == "wshipmentInspection"){
						openMenu("liShipment","ulShipment",0);
						openMenu("liStockManagement","ulStockManagement",1);
						openMenu("warehouseDetails","ulwarehouseDetails",1);						
					}
					else
					openMenu("liOutletProcurement","ulOutletProcurement",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		function viewShipmentRejection(id,index){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					if(id == "wshipmentRejection"){
						openMenu("liShipment","ulShipment",0);
						openMenu("liStockManagement","ulStockManagement",1);
						openMenu("warehouseDetails","ulwarehouseDetails",1);						
					}
					else
					openMenu("liOutletProcurement","ulOutletProcurement",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		function viewAllHomePageDeals(id,index){
			
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
			  	var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/b2c/viewHomePageDeals.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {
					index :index
				},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("lib2cConfig","ulb2cConfig",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		

		function newHomePageDeal(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $("#contextPath").val();
	 		 URL = contextPath + "/b2c/newHomePageDeal.do";
	 			$.ajax({
	 				type: "GET",
	 				url : URL,
	 				data : {
	 				},
	 				beforeSend: function(xhr){                    
	 		   			$("#loading").css("display","block");
	 		   			$("#mainDiv").addClass("disabled");
	 		   		  },
	 				success : function(result) {
	 					$("#right-side").html(result);
	 					if(id != undefined)
	 						activeMenu(id);
	 					$("#loading").css("display","none");
	 					$("#mainDiv").removeClass('disabled');
	 				},
	 				error : function(jqXHR, textStatus, errorThrown)  {
	 					 errorCode(jqXHR.status);
	 					$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 				}
	 			});

			}
				catch(e)
				{
				              errorCode(e);
				}

	 	}
		
	 	function viewEditHotDeal(dealName,operation){
	 		try{
	 			
	 			var online = window.navigator.onLine;
	 		  	if(!online){
	 		  	alert("Check your internet connection,Please try agian after some time.");
	 		  	return;
	 		  	}

	 		var contextPath = $("#contextPath").val();
	 		 
	 		// added by manasa
		 		var formData={}
		 		// formData.storeLocation = $("#outletLocation").val();
		 		formData.effectiveFromDateStr = $("#dealfrom").val();
		 		 formData.endDateStr = $("#dealto").val();
		 		 var formData = JSON.stringify(formData);
	 		 
	 		 URL = contextPath + "/b2c/editHomePageDeal.do";
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				dName : dealName,
	 				operation : operation,
	 				formData : formData
	 			},
	 			beforeSend: function(xhr){                    
	 		   			$("#loading").css("display","block");
	 		   			$("#mainDiv").addClass("disabled");
	 		   		  },
	 			success : function(result) {
	 				$("#right-side").html(result);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				 $("#loading").css("display","none");
	 	 			 $("#mainDiv").removeClass('disabled');
	 			}
	 		});

	 		}
	 			catch(e)
	 			{
	 			              errorCode(e);
	 			}

	 	}
		
		function viewBrandDeals(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("lib2cConfig","ulb2cConfig",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		function viewDealCategories(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("lib2cConfig","ulb2cConfig",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		function viewNewArrivals(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/b2c/getNewArrivals.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
					if(id != undefined)
	  					activeMenu(id);
					openMenu("lib2cConfig","ulb2cConfig",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		/*function viewBatchOperationsFlow(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/dataManagement/viewBatchOperationsFlow.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liDataManagement", "ulDataManagement",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}

		}*/
		/*
		 * function viewFeaturedProducts(id){ var contextPath =
		 * $('#contextPath').val(); var URL = contextPath +
		 * "/inventorymanager/accessDenied.do"; $.ajax({ type : "GET", url :
		 * URL, data : {}, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result){
		 * if(id != undefined) activeMenu(id);
		 * openMenu("lib2cConfig","ulb2cConfig",0);
		 * $('#right-side').html(result); $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 */
		function viewPaymentGateway(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			 var contextPath = $('#contextPath').val();
			 var URL = contextPath +"/b2c/viewPaymentPage.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("lib2cConfig","ulb2cConfig",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		
		
		/*
		 * function viewCustomerVisits(id){ var contextPath =
		 * $('#contextPath').val(); var URL = contextPath +
		 * "/inventorymanager/accessDenied.do"; $.ajax({ type : "GET", url :
		 * URL, data : {}, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result){
		 * if(id != undefined) activeMenu(id); $('#right-side').html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(){
		 * alert("Internal error, please contact Technolabs support. "); $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 */
		
		function viewCustomerVisits(id,index,saveFlag){
			try{
				debugger;
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
			  	// debugger
			  	var maxRecords="10"
			  	 if($("#maxRecords").length>0)
		 			 maxRecords = $("#maxRecords").val();
			  	
			  	var zone = "";
    	    	if($("#outletZone").length > 0)
    	    		zone = $("#outletZone").val();
			  	
		 		var searchName = "";
		 		if($("#supplierReport").length > 0 )
		 			searchName = $("#supplierReport").val().trim();
		 		var location = "";
    	    	if($("#outletLocation").length > 0)
    	    		location = $("#outletLocation").val();

    	    	 var startDate = "";
    	    	 var endDate = "";
    	    	 if($("#from").length>0)
    	    		 startDate = $("#from").val();
    	    	 if($("#to").length>0)
    	    		 endDate = $("#to").val();

					if(startDate == ""){
    	      		  var dateTime = getCurrentDate();
    	      			    	  var date = dateTime.split(' ');
    	      			    	  date = date[0].split('/');
    	      			    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];

    	      			    	startDate = formatedDate;
    	      			    	$("#from").val(formatedDate);
    	      		 }

    	    	
    	    	 var productCategory = "";
 		    	if($("#customerCategory").length > 0)
 		    		productCategory = $("#customerCategory").val();
    	    	 
    	    	if(startDate != "" && endDate != ""){
    	 			var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
    				 if(noOfDays < 0){
    					 alert("Start Date can't be less than End Date");
    					 return;
    				 }
    		 }
    	    	
    	    	
    	    	 var allLocationsList = [];
    		 	 var length = $('#outletLocation').children('option').length;
    		       	$('#outletLocation option').each(function() { 
    		       		allLocationsList.push( $(this).attr('value'));
    		       	});
    		 	 var  locationList="";
    		    	for(i=1;i<allLocationsList.length;i++)
    		    		{
    		    		locationList =locationList+ allLocationsList[i]+',';
    		    		}
    	    	
			  	
			 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/crm/getCustomerVisits.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {
					maxRecords : maxRecords,
					searchName : searchName,
					location : location,
					startDate : startDate,
					endDate : endDate,
					index : index,
					saveFlag : saveFlag,
					zone : zone,
					productCategory : productCategory,
					locationList : locationList
				},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					$('#right-side').html(result);
					
					if(saveFlag){
         				 var anchor = document.createElement('a');
     				  anchor.href = $("#stockdownloadurl").val();
     				  anchor.target = '_blank';
     				  anchor.download = '';
     				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
     				  anchor.click();
         				}
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		
		
		
		function printCustomerVisits(id,index,saveFlag){
                         debugger;
                          //purpose:for checking internet conection
                         var online = window.navigator.onLine;
                           if(!online)
                           {
                           alert("check your internet connection,please try agian after some time");
                           return;
                           }
                           
                           var maxRecords="10"
                                   if($("#maxRecords").length>0)
                                          maxRecords = $("#maxRecords").val();
                                  
                                  var zone = "";
                       if($("#outletZone").length > 0)
                               zone = $("#outletZone").val();
                                  
                                 var searchName = "";
                                 if($("#supplierReport").length > 0 )
                                         searchName = $("#supplierReport").val().trim();
                                 var location = "";
                       if($("#outletLocation").length > 0)
                               location = $("#outletLocation").val();
                       
                        var startDate = "";
                        var endDate = "";
                        if($("#from").length>0)
                                startDate = $("#from").val();
                        
                        if(startDate == ""){
                                   var dateTime = getCurrentDate();
                                                       var date = dateTime.split(' ');
                                                       date = date[0].split('/');
                                                       var formatedDate = date[1]+"/"+date[0]+"/"+date[2];

                                                     startDate = formatedDate;
                                                     $("#from").val(formatedDate);
                                  }
                        
                        
                        if($("#to").length>0)
                                endDate = $("#to").val();
                        
                        var productCategory = "";
                            if($("#customerCategory").length > 0)
                                    productCategory = $("#customerCategory").val();
                        
                       if(startDate != "" && endDate != ""){
                                    var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
                                    if(noOfDays < 0){
                                            alert("Start Date can't be less than End Date");
                                            return;
                                    }
                    }
                       
                       
                        var allLocationsList = [];
                             var length = $('#outletLocation').children('option').length;
                                  $('#outletLocation option').each(function() { 
                                          allLocationsList.push( $(this).attr('value'));
                                  });
                             var  locationList="";
                               for(i=1;i<allLocationsList.length;i++)
                                       {
                                       locationList =locationList+ allLocationsList[i]+',';
                                       }
                               
                 
                         var contextPath = $("#contextPath").val();
                         URL = contextPath + "/crm/printCustomerVisitsDetails.do";
                                 $.ajax({
                                         type: "GET",
                                         url : URL,
                                         data : {
                                                maxRecords : maxRecords,
                                                searchName : searchName,
                                                location : location,
                                                startDate : startDate,
                                                endDate : endDate,
                                                index : index,
                                                saveFlag : saveFlag,
                                                zone : zone,
                                                productCategory : productCategory,
                                                locationList : locationList
                                        },
                                         beforeSend: function(xhr){                    
                                                    $("#loading").css("display","block");
                                                    $("#mainDiv").addClass("disabled");
                                              },
                                         success : function(result) {
                                                  
                                                 if(result.includes("Sorry")){
                                                         alert(result);
                                                 }else{
                                                   var anchor = document.createElement('a');
                                                   anchor.href = result;
                                                   anchor.target = '_blank';
                                                   //anchor.download = '';
                                                   anchor.click();
                                                 }
                                                 
                                                 $("#myModalIos").modal("hide");
                                                 $("#loading").css("display","none");
                                                 $("#mainDiv").removeClass('disabled')
                                         },
                                         error : function() {
                                                  alert("something went wrong");
                                                 $("#loading").css("display","none");
                                                 $("#mainDiv").removeClass('disabled');
                                         }
                                 });
                 }



		
		function viewOMOrders(id){
			
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
	 	  			openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function 	viewOMStockReports(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function searchShoppingList(name,searchCategory,index){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var maxRecords =$("#maxRecords").val();;
			 if($("#maxRecords").length>0)
				 maxRecords = $("#maxRecords").val();
			 var contextPath = $("#contextPath").val();
			 var URL = contextPath +"/b2c/searchShoppingList.do";
			 $.ajax({
					type: "GET",
					url : URL,
					data : {
						searchName : name,
						index : index,
						maxRecords : maxRecords
						},
					beforeSend: function(xhr){                    
			   	   		$("#loading").css("display","block");
			   	   		$("#mainDiv").addClass("disabled");
			   	   	},
					success : function(result) {
						$('#right-side').html(result);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					},
					error : function(jqXHR, textStatus, errorThrown)  {
						 errorCode(jqXHR.status);
						 $("#loading").css("display","none");
			 			 $("#mainDiv").removeClass('disabled');
					}
				});
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		
		function viewShoppingList(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			if($("#searchShopping").length > 0 && $("#searchShopping").val().trim() != ""){
				searchShoppingList($("#searchShopping").val(), 'searchShopping',index);
				return;
			}	
			
			 var maxRecords = 10;
	    	  if($("#maxRecords").length > 0)
	    		  maxRecords = $("#maxRecords").val();
			 var contextPath = $('#contextPath').val();
			 var URL = contextPath +"/b2c/viewShoppingList.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {
					maxRecords:maxRecords
				},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("lib2cConfig","ulb2cConfig",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}

				function viewEditShopping(listId,startIndex,operation){
					try{
						
						var online = window.navigator.onLine;
					  	if(!online){
					  	alert("Check your internet connection,Please try agian after some time.");
					  	return;
					  	}

					var contextPath = $('#contextPath').val();
					
					var URL=contextPath + "/b2c/viewCustomerShoppingListDetails.do";
					
					$.ajax({
					
						type : "GET",
		   				url : URL,
		   				data : {
		   					listId:listId,
		   					startIndex:startIndex,
		   					operation:operation	
		   				},
		   				beforeSend: function(xhr){                    
		   			   		$("#loading").css("display","block");
		   			   		$("#mainDiv").addClass("disabled");
		   			   	},
		   				success : function(result){
		   					$('#right-side').html(result);
		   					// if(id != undefined)
			  				// activeMenu(id);
							openMenu("lib2cConfig","ulb2cConfig",0);
							$('#right-side').html(result);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled')
		   				},
		   				error : function(jqXHR, textStatus, errorThrown) {
		   					errorCode(jqXHR.status);
		   					$("#loading").css("display","none");
		   					$("#mainDiv").removeClass('disabled');
		   				}
					});
					}
					catch(e)
					{
					              errorCode(e);
					}


					
				}
		function viewOMPurchases(id){
			
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		/*
		 * function viewOMShipments(id){ var contextPath =
		 * $('#contextPath').val(); var URL = contextPath +
		 * "/inventorymanager/accessDenied.do"; $.ajax({ type : "GET", url :
		 * URL, data : {}, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result){
		 * if(id != undefined) activeMenu(id);
		 * openMenu("liOutletReports","ulOutletReports",0); openMenu("reports",
		 * "ulReports",1); $('#right-side').html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 */
		
		
		
		function showShipmentsFlow(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/reports/showShipmentsFlow.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
// openMenu("liOutletGRNReports","ulOutletGRNReports",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		
		function viewWasteManagement(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/reports/showWastemanagmentFlows.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function viewExpiryManagement(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function viewFiNANcial(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function viewOMDealsAndOffers(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		/*
		 * function viewOMCRM(id){ var contextPath = $('#contextPath').val();
		 * var URL = contextPath + "/inventorymanager/accessDenied.do"; $.ajax({
		 * type : "GET", url : URL, data : {}, beforeSend: function(xhr){
		 * $("#loading").css("display","block");
		 * $("#mainDiv").addClass("disabled"); }, success : function(result){
		 * if(id != undefined) activeMenu(id);
		 * openMenu("liOutletReports","ulOutletReports",0); openMenu("reports",
		 * "ulReports",1); $('#right-side').html(result);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
		 * textStatus, errorThrown) { errorCode(jqXHR.status);
		 * $("#loading").css("display","none");
		 * $("#mainDiv").removeClass('disabled'); } }); }
		 */
		
		function viewWarehouseReports(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
	 	  			openMenu("reports", "ulReports",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		
		function viewExports(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/dataManagement/viewExportFlow.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
		   			$("#loading").css("display","block");
		   			$("#mainDiv").addClass("disabled");
		   		  },
			success : function(result){
				$("#right-side").html(result);
				activeMenu(id);
				openMenu("export", "ulExportData",0);
				openMenu("liDataManagement", "ulDataManagement",1);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown) {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function viewExportDetails(id,flow){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/dataManagement/viewExportdetails.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {
					flow : flow
				},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("export", "ulExportData",0);
					openMenu("liDataManagement", "ulDataManagement",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		

		function viewoutletdaysOpen(type,id,index,menu){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
			
			var contextPath = $('#contextPath').val();
						 var URL = contextPath + "/inventorymanager/viewoutletdaysOpen.do";
						 $.ajax({
							type : "GET",
							url : URL,
							data : {
								index : index
							},
							beforeSend: function(xhr){                    
						   		$("#loading").css("display","block");
						   		$("#mainDiv").addClass("disabled");
						   	},
							success : function(result){
								if(id != undefined)
										activeMenu(id);
								$('#right-side').html(result);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							},
							error : function(jqXHR, textStatus, errorThrown) {
								errorCode(jqXHR.status);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							}
						 });
			}
			catch(e)
			{
			              errorCode(e);
			}


					  }



					function newdaysOpen(id){
						try{
							
							var online = window.navigator.onLine;
						  	if(!online){
						  	alert("Check your internet connection,Please try agian after some time.");
						  	return;
						  	}
 
						var contextPath = $("#contextPath").val();
						 URL = contextPath + "/inventorymanager/newdaysOpen.do";
							$.ajax({
								type: "GET",
								url : URL,
								data : {
								},
								beforeSend: function(xhr){                    
						   			$("#loading").css("display","block");
						   			$("#mainDiv").addClass("disabled");
						   		  },
								success : function(result) {
									$("#right-side").html(result);
									if(id != undefined)
										activeMenu(id);
									$("#loading").css("display","none");
									$("#mainDiv").removeClass('disabled');
								},
								error : function(jqXHR, textStatus, errorThrown)  {
									 errorCode(jqXHR.status);
									$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
								}
							});
						}
						catch(e)
						{
						              errorCode(e);
						}


					}


					function viewoutletdaysClose(type,id,index,menu){
						try{
							
							var online = window.navigator.onLine;
						  	if(!online){
						  	alert("Check your internet connection,Please try agian after some time.");
						  	return;
						  	}
					
						var contextPath = $('#contextPath').val();
											
											 var URL = contextPath + "/inventorymanager/viewoutletdaysClose.do";
											 $.ajax({
												type : "GET",
												url : URL,
												data : {
													index : index
												},
												beforeSend: function(xhr){                    
											   		$("#loading").css("display","block");
											   		$("#mainDiv").addClass("disabled");
											   	},
												success : function(result){
													if(id != undefined)
															activeMenu(id);
												    openMenu("storedetails", "ulstoredetails",0);
													$('#right-side').html(result);
													$("#loading").css("display","none");
													$("#mainDiv").removeClass('disabled');
												},
												error : function(jqXHR, textStatus, errorThrown) {
													errorCode(jqXHR.status);
													$("#loading").css("display","none");
													$("#mainDiv").removeClass('disabled');
												}
											 });
						}
						catch(e)
						{
						              errorCode(e);
						}


										  }



										function newdaysClose(id){
											try{
												
												var online = window.navigator.onLine;
											  	if(!online){
											  	alert("Check your internet connection,Please try agian after some time.");
											  	return;
											  	}

											var contextPath = $("#contextPath").val();
											 URL = contextPath + "/inventorymanager/newdaysClose.do";
												$.ajax({
													type: "GET",
													url : URL,
													data : {
														
													},
													beforeSend: function(xhr){                    
											   			$("#loading").css("display","block");
											   			$("#mainDiv").addClass("disabled");
											   		  },
													success : function(result) {
														$("#right-side").html(result);
														/*
														 * if(id != undefined)
														 * activeMenu(id);
														 */
														  openMenu("storedetails", "ulstoredetails",0);
														$("#loading").css("display","none");
														$("#mainDiv").removeClass('disabled');
													},
													error : function(jqXHR, textStatus, errorThrown)  {
														 errorCode(jqXHR.status);
														$("#loading").css("display","none");
													$("#mainDiv").removeClass('disabled');
													}
												});
											}
											catch(e)
											{
											              errorCode(e);
											}


										}

		function viewRecovery(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liDataManagement", "ulDataManagement",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function viewCustomerWalkIns(id){
			debugger
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/getcustomerWalkIns.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletHealth","ulOutletHealth",0);
					openMenu("liInventoryManagement","ulInventoryManagement",1);
					openMenu("storedetails","ulstoredetails",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function viewCustomerConversion(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletHealth","ulOutletHealth",0);
					openMenu("liInventoryManagement","ulInventoryManagement",1);
					openMenu("storedetails","ulstoredetails",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function viewBillingAverages(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  				activeMenu(id);
					openMenu("liOutletHealth","ulOutletHealth",0);
					openMenu("liInventoryManagement","ulInventoryManagement",1);
					openMenu("storedetails","ulstoredetails",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		function viewHealthSales(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletHealth","ulOutletHealth",0);
					openMenu("liInventoryManagement","ulInventoryManagement",1);
					openMenu("storedetails","ulstoredetails",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		
		
		
	

		
		
		function viewApplicationLog(id,index){
			debugger
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			if((($("#searchLog").length > 0 && $("#searchLog").val().trim() != "") || ($("#appfrom").length > 0 && $("#appfrom").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != "")) && index != '0'){
				searchApplicationLog($("#searchLog").val(), 'applicationLog',index);
     				return;
     			}
			 var maxRecords = 10;
	 		 if($("#maxRecords").length>0)
	 			 maxRecords = $("#maxRecords").val();
   			 var contextPath = $('#contextPath').val();
 	 		 var startDate = $("#appfrom").val();
	    	 var endDate = $("#to").val();
	    	  
	    	  if(startDate == "" || startDate == null || startDate == undefined)
	    		  {
	    		  var dateTime = getCurrentDate();
	    	  var date = dateTime.split(' ');
	    	  date = date[0].split('/');
	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	    	  var startDate = formatedDate;
	    	  startDate=startDate;
	    		  }
	    	 
	    	  if(endDate == "" || endDate == null || endDate == undefined)
		  {
	    		  var endDate = formatedDate;
	    		  endDate=endDate;
		  }
			var location = $('#outletLocation').val();
			if(location==undefined)
				location="";
			
			var searchCreteria = $('#searchLog').val();
			if(searchCreteria==undefined)
				searchCreteria=""; 
   			 
			
			 var saveFlag = "";
			if (saveFlag == "save")
				 saveFlag = true;
			else
				 saveFlag =false;
			
   			 var URL = contextPath + "/systemLog/viewApplicationLog.do";
   			 $.ajax({
   				type : "GET",
   				url : URL,
   				data : {
   					id :id,
   					index : index,
   					maxRecords : maxRecords,
   					searchCreteria:searchCreteria,
   					startDate:startDate,
   					endDate:endDate,
   					location:location,
   					saveFlag:saveFlag,
   				},
   				beforeSend: function(xhr){                    
   			   		$("#loading").css("display","block");
   			   		$("#mainDiv").addClass("disabled");
   			   	},
   				success : function(result){
   					$('#right-side').html(result);
   					openMenu("liSystemLog", "ulSystemLog",0);
   					if(id != undefined && id != "")
   						activeMenu(id);
   					$("#loading").css("display","none");
   					$("#mainDiv").removeClass('disabled');
   				},
   				error : function(jqXHR, textStatus, errorThrown) {
   					errorCode(jqXHR.status);
   					$("#loading").css("display","none");
   					$("#mainDiv").removeClass('disabled');
   				}
   			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


   		} 
		
		
		
		
/*
		function viewExportLog(id,index){
			try{
				debugger;
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
			
			 var maxRecords = 10;
	 		 if($("#maxRecords").length>0)
	 			 maxRecords = $("#maxRecords").val();
   			 var contextPath = $('#contextPath').val();
   			 
   			var dateTime = getCurrentDate();
	    	  var date = dateTime.split(' ');
	    	  date = date[0].split('/');
	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
   			 
   			var startDate = $("#from").val();
	    	  var endDate = $("#to").val();
	    	  
	    	  if(startDate == "" || startDate == null || startDate == undefined)
	    		  {
	    		  
  	    	  var startDate = formatedDate;
  	    	  startDate=startDate;
	    		  }
	    	 
	    	  if(endDate == "" || endDate == null || endDate == undefined)
  		  {
	    		  var endDate = formatedDate;
	    		  endDate=endDate;
  		  }
	    	  
	    	  var dates=$("#to").val();
		 	  if($("#to").val() != undefined && $("#to").val() != "" && $("#from").val() != undefined && $("#from").val() != ""){
	    	      var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
				 if(noOfDays < 0){
					 $("#Error").html("End Date can't be less than Start Date");
					 return;
				 }else{
					 $("#Error").html("");
				 }
				 }
		 	  
		 	 var saveFlag = "";
				if (saveFlag == "save")
					 saveFlag = true;
				else
					 saveFlag =false;
				
				 if($("#to").val() != undefined && $("#to").val() != "" && $("#from").val() != undefined && $("#from").val() != ""){
		    	      var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
					 if(noOfDays > 6){
						 $("#Error").html("End Date can't be more than seven Days");
						 return;
					 }else{
						 $("#Error").html("");
					 }}
  		 
				
				 
				 debugger;
				 var getDay = startDate.split('/');
	  	    	 var getDayNo = getDay[2]+"-"+getDay[1]+"-"+getDay[0];
				 const d = new Date(getDayNo);
				 var dayNo =  d.getDay();
				 
				 var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
				 var dayName = days[dayNo];
				 if($("#from").val() != undefined && dayName != "Sunday"){
				 $("#Error").html("Select Only Sundays Date.");
				 return;
				 }
				 
				 
  			var location = $('#outletLocation').val();
  			if(location==undefined)
  				location="";
  			
  			var searchCreteria = $('#searchLog').val();
  			if(searchCreteria==undefined)
  				searchCreteria="";
  			 
   			
   			 
   			 var URL = contextPath + "/systemLog/viewExportLog.do";
   			 $.ajax({
   				type : "GET",
   				url : URL,
   				data : {
   					id:id,
   					index : index,
   					maxRecords : maxRecords,
   					searchCreteria:searchCreteria,
   					startDate:startDate,
   					endDate:endDate,
   					location:location,
   					saveFlag:saveFlag,
   				},
				
   				beforeSend: function(xhr){                    
   			   		$("#loading").css("display","block");
   			   		$("#mainDiv").addClass("disabled");
   			   	},
   				success : function(result){
   					$('#right-side').html(result);
   					if(id != undefined && id != "")
   						activeMenu(id);
   					openMenu("liSystemLog", "ulSystemLog",0);
   					$("#loading").css("display","none");
   					$("#mainDiv").removeClass('disabled');
   				},
   				error : function(jqXHR, textStatus, errorThrown) {
   					errorCode(jqXHR.status);
   					$("#loading").css("display","none");
   					$("#mainDiv").removeClass('disabled');
   				}
   			 });
			}
			catch(e)
			{
			              errorCode(e);
			}
   		} 
			*/
		
		
		 function getPreviousSunday(date) {
			  debugger;
			  date = date;
  		  const a = new Date();
  		  a.setDate(date.getDate() - date.getDay());
  	      var formatedDate = a.getDate()+"/"+(a.getMonth()+1)+"/"+a.getFullYear();
  		  return formatedDate;
  		}
		
		

		function viewExportLog(id,index){
			try{
				debugger;
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
			
			 var maxRecords = 10;
	 		 if($("#maxRecords").length>0)
	 			 maxRecords = $("#maxRecords").val();
   			 var contextPath = $('#contextPath').val();
   			 
   			var dateTime = getCurrentDate();
	    	  var date = dateTime.split(' ');
	    	  date = date[0].split('/');
	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
   			var startDate = $("#from").val();
	    	  var endDate = $("#to").val();
	    
	    	  
	    	  if(startDate == "" || startDate == null || startDate == undefined)
    		  {
	    		 
	    		  var firstformatedDate = getPreviousSunday(new Date (date[2]+"/"+date[0]+"/"+date[1]));
	    		  
	    	           var startDate = firstformatedDate;
	    	         
    		  }
	    	  
	    	  if(endDate == "" || endDate == null || endDate == undefined)
  		  {
	    		  var endDate = formatedDate;
	    		  endDate=endDate;
  		  }
	    	  
	    	  var dates=$("#to").val();
		 	  if($("#to").val() != undefined && $("#to").val() != "" && $("#from").val() != undefined && $("#from").val() != ""){
	    	      var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
				 if(noOfDays < 0){
					 $("#Error").html("End Date can't be less than Start Date");
					 return;
				 }else{
					 $("#Error").html("");
				 }
				 }
		 	  
		 	 var saveFlag = "";
				if (saveFlag == "save")
					 saveFlag = true;
				else
					 saveFlag =false;
				
				 if($("#to").val() != undefined && $("#to").val() != "" && $("#from").val() != undefined && $("#from").val() != ""){
		    	      var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
					 if(noOfDays > 6){
						 $("#Error").html("End Date can't be more than seven Days");
						 return;
					 }else{
						 $("#Error").html("");
					 }}
  		 
				
				 
				 debugger;
				 var getDay = startDate.split('/');
	  	    	 var getDayNo = getDay[2]+"-"+getDay[1]+"-"+getDay[0];
				 const d = new Date(getDayNo);
				 var dayNo =  d.getDay();
				 
				 var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
				 var dayName = days[dayNo];
				 if($("#from").val() != undefined && dayName != "Sunday"){
				 $("#Error").html("Start day must be Sunday as it is weekly Log file.");
				 return;
				 }
				
				
					 
  			var location = $('#outletLocation').val();
  			if(location==undefined)
  				location="";
  			
  			var searchCreteria = $('#searchLog').val();
  			if(searchCreteria==undefined)
  				searchCreteria="";
  			 
   			
   			 
   			 var URL = contextPath + "/systemLog/viewExportLog.do";
   			 $.ajax({
   				type : "GET",
   				url : URL,
   				data : {
   					id:id,
   					index : index,
   					maxRecords : maxRecords,
   					searchCreteria:searchCreteria,
   					startDate:startDate,
   					endDate:endDate,
   					location:location,
   					saveFlag:saveFlag,
   				},
				
   				beforeSend: function(xhr){                    
   			   		$("#loading").css("display","block");
   			   		$("#mainDiv").addClass("disabled");
   			   	},
   				success : function(result){
   					$('#right-side').html(result);
   					if(id != undefined && id != "")
   						activeMenu(id);
   					openMenu("liSystemLog", "ulSystemLog",0);
   					$("#loading").css("display","none");
   					$("#mainDiv").removeClass('disabled');
   				},
   				error : function(jqXHR, textStatus, errorThrown) {
   					errorCode(jqXHR.status);
   					$("#loading").css("display","none");
   					$("#mainDiv").removeClass('disabled');
   				}
   			 });
			}
			catch(e)
			{
			              errorCode(e);
			}
   		} 
				

		
		
		
function validateApplicationLog(id,index,searchname){
	  
	   debugger;
	   
		 $('#myModalIos').modal('hide');
	   try{
	   var online = window.navigator.onLine;
	   	if(!online)
	           {
	   	 alert("Check your internet connection,Please try agian after some time.");
	     	 return;
	          }
	    debugger;
	    
		var maxRecords = 10;
	if ($("#maxRecords").length > 0)
		maxRecords = $("#maxRecords").val();


	var location = "";
	if($("#outletLocation").length>0 && $("#outletLocation").val != "ALL" && $("#outletLocation").val != "all"){
		location = $("#outletLocation").val();
	}
	var startDate = "";
	
	if(id == "exportLog"){
		
	if ($("#from").length > 0)
		startDate = $("#from").val();
	}else{
		if ($("#appfrom").length > 0)
			startDate = $("#appfrom").val();
	}
	
	var endDate = "";
	if ($("#to").length > 0)
		endDate = $("#to").val();
	
	 if (startDate != undefined && endDate != undefined && startDate != "" && endDate != "") {
  		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
  		if (noOfDays < 0) {
  			alert("Start Date can't be less than End Date");
  			return;
  		}
  	}
	 
	 if(id == "applicationLog"){
		 
		 
 	 if(endDate!="" || endDate!=null)
 		 {
 			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
 			 if(allownoOfDays > 31){
 				 alert("Date Range should not exceed a Month");
 				 return false;
 			 }
 		 }
 	if(noOfDays>15){
			var returnValue = getConfirmation();
			if(returnValue == false)
				return;
			}
	 }
 	
	 debugger;
	 if(id == "exportLog")
 	 {
	 if(startDate != "" && startDate != undefined){
 	var getDay = startDate.split('/');
 	 var getDayNo = getDay[2]+"-"+getDay[1]+"-"+getDay[0];
	 const d = new Date(getDayNo);
	 var dayNo =  d.getDay();
 	 
	 var days = ['Sunday', 'Monday', 'Tuesday', 'Wednesday', 'Thursday', 'Friday', 'Saturday'];
	 var dayName = days[dayNo];
	 if($("#from").val() != undefined && dayName != "Sunday"){
	 $("#Error").html("Start day must be Sunday as it is weekly Log file.");
	 return;
	 }
	 }
 	 }
 	 
	 
 	if(searchname == "" || searchname == null || searchname == undefined)
	  {
 		searchname= "";
	  }
 	
	if (searchname == "save")
		var saveFlag = true;
	else
		var saveFlag =false;
	
	
	
	var searchCreteria = $('#searchLog').val();
	if(searchCreteria==undefined)
		searchCreteria=""; 
	
	
		// alert(flowUnder);
		var contextPath = $("#contextPath").val();
		
		
  	// var URL = contextPath + "/systemLog/viewApplicationLog.do";
  	 
  	 if(id == "applicationLog")
  		URL = contextPath + "/systemLog/viewApplicationLog.do";
  	  	else
  	  	URL = contextPath + "/systemLog/viewExportLog.do"; 		
  		 
  	 
  	 $.ajax({
  		type : "GET",
  		url : URL,
  		data : {
  	        	id:id,
  			    index : index,
				maxRecords : maxRecords,
				location : location,
				startDate : startDate,
				endDate : endDate,
				searchCreteria : searchCreteria,
				saveFlag : saveFlag,
				
  		},
  		beforeSend: function(xhr){                    
				$("#loadingreport").css("display","block");
				$("#mainDiv").addClass("disabled");
	        },

	        
	        success : function(result){
	        	
	        	 $("#right-side").html(result);
	        	 openMenu("liSystemLog", "ulSystemLog",0);
					if(id != undefined && id != "")
						activeMenu(id);
      			 $("#loading").css("display","none");
     			  $("#mainDiv").removeClass('disabled');
     			  $("#loadingreport").css("display", "none");
       		 var anchor = document.createElement('a');
				  anchor.href = $("#applicationdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#applicationdownloadurl").val()!=null && $("#applicationdownloadurl").val()!='')
				  anchor.click();
    		},

			error : function(jqXHR, textStatus, errorThrown)  {
				errorCode(jqXHR.status);
				$("#loadingreport").css("display", "none");
				$("#mainDiv").removeClass('disabled');
			}
		
  	 });
	   }
	   catch(e)
	   	{
	   	        errorCode(e);
	   } 
  }   

	
		
		
		
		
		function viewSecurityLog(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liSystemLog", "ulSystemLog",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}


		}
		
		 function viewWarehouseLogisticsPartners(id,index,name){
	  		
			 try{
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
			 
			 var contextPath = $("#contextPath").val();
	  			 var URL = contextPath + "/inventorymanager/accessDenied.do";
	  	 		$.ajax({
	  	 			type: "GET",
	  	 			url : URL,
	  	 			data : {
	  	 			},
	  	 			beforeSend: function(xhr){                    
	  	   	   			$("#loading").css("display","block");
	  	   	   			$("#mainDiv").addClass("disabled");
	  	   	   		  },
	  	   			success : function(result) {
	  	 				activeMenu(id);
	  	 				openMenu("warehousemaster-details","ulWarehouseMasterDetails",0);
	  		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			},
	  	 			error : function(jqXHR, textStatus, errorThrown)  {
	  	 				 errorCode(jqXHR.status);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			}
	  	 		});
	  	 		

			 }
			 						catch(e)
			 						{
			 						              errorCode(e);
			 						}
	  	 		
	  		}
		
		 function viewWarehouseLogisticsPartners(id,index,name){
			 try{
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
	  			var contextPath = $("#contextPath").val();
	  			 var URL = contextPath + "/inventorymanager/accessDenied.do";
	  	 		$.ajax({
	  	 			type: "GET",
	  	 			url : URL,
	  	 			data : {
	  	 			},
	  	 			beforeSend: function(xhr){                    
	  	   	   			$("#loading").css("display","block");
	  	   	   			$("#mainDiv").addClass("disabled");
	  	   	   		  },
	  	   			success : function(result) {
	  	   			$("#right-side").html(result);
	  	 				activeMenu(id);
	  	 				openMenu("warehousemaster-details","ulWarehouseMasterDetails",0);
	  		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			},
	  	 			error : function(jqXHR, textStatus, errorThrown)  {
	  	 				 errorCode(jqXHR.status);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			}
	  	 		});

		     }
		 		catch(e)
		 			{
	              errorCode(e);
		 		   }
	  	 		
	  		}
		 function viewWarehouseStorageSystemsMaster(id,index,name){
			 debugger;
			 
			 try{
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
			 
	  			var contextPath = $("#contextPath").val();
	  			 var URL = contextPath + "/inventorymanager/warehouseStorageMaster.do";
	  	 		$.ajax({
	  	 			type: "GET",
	  	 			url : URL,
	  	 			data : {
	  	 				index : index
	  	 			},
	  	 			beforeSend: function(xhr){                    
	  	   	   			$("#loading").css("display","block");
	  	   	   			$("#mainDiv").addClass("disabled");
	  	   	   		  },
	  	   			success : function(result) {
	  	   			$("#right-side").html(result);
	  	 				activeMenu(id);
	  	 				openMenu("warehousemaster-details","ulWarehouseMasterDetails",0);
	  		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			},
	  	 			error : function(jqXHR, textStatus, errorThrown)  {
	  	 				 errorCode(jqXHR.status);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			}
	  	 		});
			 }
				catch(e)
				{
				              errorCode(e);
				}
	  	 		
	  		}
		 
		 
		 
		 
		 function viewOutletStorageSystemsMaster(id,index,name){
			 debugger;
			 
			 try{
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
			 
	  			var contextPath = $("#contextPath").val();
	  			 var URL = contextPath + "/inventorymanager/warehouseStorageMaster.do";
	  	 		$.ajax({
	  	 			type: "GET",
	  	 			url : URL,
	  	 			data : {
	  	 			},
	  	 			beforeSend: function(xhr){                    
	  	   	   			$("#loading").css("display","block");
	  	   	   			$("#mainDiv").addClass("disabled");
	  	   	   		  },
	  	   			success : function(result) {
	  	   			$("#right-side").html(result);
	  	 				activeMenu(id);
	  	 				openMenu("master-details","ulMasterDetails",0);
	 		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			},
	  	 			error : function(jqXHR, textStatus, errorThrown)  {
	  	 				 errorCode(jqXHR.status);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			}
	  	 		});
			 }
				catch(e)
				{
				              errorCode(e);
				}
	  	 		
	  		}
		
		 
		 
		 function viewWarehouseFleetMaster(id,index,name){
			 try{
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				  	
			 
			 var contextPath = $("#contextPath").val();
	  			 var URL = contextPath + "/inventorymanager/fleetMasters.do";
	  	 		$.ajax({
	  	 			type: "GET",
	  	 			url : URL,
	  	 			data : {
	  	 			},
	  	 			beforeSend: function(xhr){                    
	  	   	   			$("#loading").css("display","block");
	  	   	   			$("#mainDiv").addClass("disabled");
	  	   	   		  },
	  	   			success : function(result) {
	  	   			$("#right-side").html(result);
	  	 				activeMenu(id);
	  	 				openMenu("warehousemaster-details","ulWarehouseMasterDetails",0);
	  		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			},
	  	 			error : function(jqXHR, textStatus, errorThrown)  {
	  	 				 errorCode(jqXHR.status);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			}
	  	 		});
			 }
				catch(e)
				{
				              errorCode(e);
				}
	  		}
		
		
		
		 function viewWarehouseSkuMaster(id,index,name){
			 try{
					debugger;
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
	  		   if($("#searchwarehouseSKU").length > 0 && $("#searchwarehouseSKU").val().trim() != ""){
	  			   searchWarehouseSkuProducts($("#searchwarehouseSKU").val(), 'warehouseskuMaster',index);
	  				return;
	  			}
	  			var location = "";
	  			var contextPath = $("#contextPath").val();
	  			if($("#outletLocation").length > 0)
		    		location = $("#outletLocation").val();
	  			var productCategory = "";
		    	if($("#warehouseCategory").length > 0)
		    		productCategory = $("#warehouseCategory").val();
		    	
		    	var subcategory = "";
    	    	if($("#outletSubcategory").length > 0)
    	    		subcategory = $("#outletSubcategory").val();
    	    	var brand = "";
    	    	if($("#outletBrandId").length > 0)
    	    		brand = $("#outletBrandId").val();
    	    	var department = "";
    	    	if($("#outletDepartmentId").length > 0)
    	    		department = $("#outletDepartmentId").val();
    	    	var supplierid = "";
    	    	if($("#outletSupplierId").length > 0)
    	    		supplierid = $("#outletSupplierId").val();
		    	
		    	
	  		    URL = contextPath + "/warehouseMaster/viewWarehouseSkuMaster.do";
	  		    console.log(location);
	  	 		$.ajax({
	  	 			type: "GET",
	  	 			url : URL,
	  	 			data : {
	  	 				searchName:name,
	  	 				location : location,
	  	 				productCategory : productCategory,
	  	 				subcategory : subcategory,
    	 				brand : brand,
    	 				department : department,
    	 				supplierid : supplierid,
	  	 				index : index
	  	 			},
	  	 			beforeSend: function(xhr){                    
	  	   	   			$("#loading").css("display","block");
	  	   	   			$("#mainDiv").addClass("disabled");
	  	   	   		  },
	  	   			success : function(result) {
	  	 				$("#right-side").html(result);
	  	 				activeMenu(id);
	  	 				openMenu("warehousemaster-details","ulWarehouseMasterDetails",0);
	  		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			},
	  	 			error : function(jqXHR, textStatus, errorThrown)  {
	  	 				 errorCode(jqXHR.status);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			}
	  	 		});

			 }
			 catch(e)
			 		{
			          errorCode(e);
			 		}	
	  	 		
	  		}
		
		
		function viewUserLog(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
			 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liSystemLog", "ulSystemLog",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

		}
     catch(e)
			{
    	 errorCode(e);
			}
		}
		
		function viewAdminstrationLog(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
			 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liSystemLog", "ulSystemLog",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

			}
				catch(e)
					{
		              errorCode(e);
					}
		}
		function viewXZReading(id,flow){
			try{
				debugger;
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
	
			 var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/inventorymanager/accessDenied.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
						if(flow == ""){
				  			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
				  			openMenu("liOutletReports","ulOutletReports",1);
				  			openMenu("reports", "ulReports",1);
				  			}else{
				  				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
								openMenu("liWarehouseReports","ulWarehouseReports",1);
								openMenu("reports", "ulReports",1);
				  			}
	  					activeMenu(id);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });

		}
				catch(e)
					{
		              errorCode(e);
					}
		}
		

		function viewEditPrintSettings(id,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
		   			 var contextPath = $("#contextPath").val();
			   			 URL = contextPath + "/settings/editPrintSettings.do";
			   			$.ajax({
			   				type: "GET",
			   				url : URL,
			   				data : {
			   					
			   					operation : operation
			   				},
			   				beforeSend: function(xhr){                    
			   			   			$("#loading").css("display","block");
			   			   			$("#mainDiv").addClass("disabled");
			   			   		  },
			   				success : function(result) {
			   					openMenu("liSettings", "ulSettings",0);
			   					$("#right-side").html(result);
			   					if(id != undefined)
			   	  					activeMenu(id);
			   					$("#loading").css("display","none");
			   					$("#mainDiv").removeClass('disabled');
			   				},
			   				error : function(jqXHR, textStatus, errorThrown)  {
			   					 errorCode(jqXHR.status);
			   					 $("#loading").css("display","none");
			   					 $("#mainDiv").removeClass('disabled');
			   				}
			   			});

			}
					catch(e)
							{
				          errorCode(e);
						}
			   		}
			   		
			   		function viewEditUserSecurity(id,operation){
                      try{
							
							var online = window.navigator.onLine;
						  	if(!online){
						  	alert("Check your internet connection,Please try agian after some time.");
						  	return;
						  	}
			   			 var contextPath = $("#contextPath").val();
			   			 URL = contextPath + "/settings/editUserSecurity.do";
			   			$.ajax({
			   				type: "GET",
			   				url : URL,
			   				data : {
			   					operation : operation
			   				},
			   				beforeSend: function(xhr){                    
			   			   			$("#loading").css("display","block");
			   			   			$("#mainDiv").addClass("disabled");
			   			   		  },
			   				success : function(result) {
			   					openMenu("liSettings", "ulSettings",0);
			   					$("#right-side").html(result);
			   					if(id != undefined)
			   	  					activeMenu(id);
			   					$("#loading").css("display","none");
			   					$("#mainDiv").removeClass('disabled');
			   				},
			   				error : function(jqXHR, textStatus, errorThrown)  {
			   					 errorCode(jqXHR.status);
			   					 $("#loading").css("display","none");
			   					 $("#mainDiv").removeClass('disabled');
			   				}
			   			});

                      }
                      catch(e)
                      	{
                            errorCode(e);
                      		}
			   		}
			   		
			   		
			   		function viewOutletShipments(status,id,index,type,flowUnder,menu){
                      try{
							
							var online = window.navigator.onLine;
						  	if(!online){
						  	alert("Check your internet connection,Please try agian after some time.");
						  	return;
						  	}
			   			
			   			var location = "";
			   			var maxRecords = 10;
			   			if(menu == undefined){
			   				if((type == undefined) && $("#type").length > 0)
			   					type = $("#type").val();
			   				if((flowUnder == undefined) && $("#flowUnder").length > 0)
			   					flowUnder = $("#flowUnder").val();
			   				if((($("#outletShipments").length > 0 && $("#outletShipments").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
			   					searchShipments($("#outletShipments").val(), 'outletShipments',index);
			   					return;
			   				}
			   				if(status == '' && $("#status").length > 0)
			   					status = $("#status").val();
			   				if($("#outletLocation").length>0 && $("#outletLocation").val != "select" && $("#outletLocation").val != "-- Select --")
				    	 		location = $("#outletLocation").val();
			   				if($("#maxRecords").length > 0)
				    	 		maxRecords = $("#maxRecords").val();
			   			}
			   				if(status == 'all')
			   					status = '';
		    	    	 var contextPath = $('#contextPath').val();
		    	    	 var URL = contextPath + "/orderManagement/viewOutletShipments.do";
		    	    	 $.ajax({
		    	    		type : "GET",
		    	    		url : URL,
		    	    		data : {
		    	    			status : status,
		    	    			index : index,
		    	    			location : location,
		    	    			type : type,
		    	    			flowUnder : flowUnder,
		    	    			maxRecords : maxRecords
		    	    		},
		    	    		beforeSend: function(xhr){                    
		    	   	   			$("#loading").css("display","block");
		    	   	   			$("#mainDiv").addClass("disabled");
		    	   	   		  },
		    	    		success : function(result){
		    	    			$('#right-side').html(result);
		    	    		// openMenu("warehouseDetails",
							// "ulwarehouseDetails",1);
		    	    			if(flowUnder == "warehouse"){
		    	    				openMenu("liWarehouseOrders","ulWarehouseOrders",0);
		    						openMenu("warehouseDetails","ulwarehouseDetails",1);
		    	    			}
		    	    			
		    	    			if(id != undefined && id != '')
			   						activeMenu(id);
		    	    			$("#loading").css("display","none");
		    	    			$("#mainDiv").removeClass('disabled');
		    	    		},
		    	    		error : function(jqXHR, textStatus, errorThrown) {
		    	    			errorCode(jqXHR.status);
		    	    			$("#loading").css("display","none");
		    	 				$("#mainDiv").removeClass('disabled');
		    	    		}
		    	    	 });

                      }
                    	catch(e)
                               {
                    	           errorCode(e);
                      			}
		    	     }
			   		

			   		function viewNewOutletShipment(id){
                        try{
							
							var online = window.navigator.onLine;
						  	if(!online){
						  	alert("Check your internet connection,Please try agian after some time.");
						  	return;
						  	}
			   			
			   			if($("#type").length > 0)
			   				type = $("#type").val();
			   			if($("#flowUnder").length > 0)
			   				flowUnder = $("#flowUnder").val();
			   			 var contextPath = $('#contextPath').val();
			   			 var URL = contextPath + "/inventorymanager/viewNewOutletShipment.do";
			   			 $.ajax({
			   				type : "GET",
			   				url : URL,
			   				data : {
			   					type : type,
		    	    			flowUnder : flowUnder
			   				},
			   				beforeSend: function(xhr){                    
			   			   		$("#loading").css("display","block");
			   			   		$("#mainDiv").addClass("disabled");
			   			   	},
			   				success : function(result){
			   					$('#right-side').html(result);
			   					if(id != undefined)
			   						activeMenu(id);
			   					$("#loading").css("display","none");
			   					$("#mainDiv").removeClass('disabled');
			   				},
			   				error : function(jqXHR, textStatus, errorThrown) {
			   					errorCode(jqXHR.status);
			   					$("#loading").css("display","none");
			   					$("#mainDiv").removeClass('disabled');
			   				}
			   			 });
                        }
                        catch(e)
                        	{
                        	        errorCode(e);
                        }
			   			 
			   			 
			   		} 
			   		
			   		function viewoutletdaysOpen(type,id,index,menu){
			   			try{
			           	var online = window.navigator.onLine;
			   		 	if(!online){
			   			alert("Check your internet connection,Please try agian after some time.");
			   			  	return;
			   			  	}
			   		 var contextPath = $('#contextPath').val();
			   		 var URL = contextPath + "/inventorymanager/viewoutletdaysOpen.do";
			   		 $.ajax({
			   			type : "GET",
			   			url : URL,
			   			data : {
			   				index : index
			   			},
			   			beforeSend: function(xhr){                    
			   		   		$("#loading").css("display","block");
			   		   		$("#mainDiv").addClass("disabled");
			   		   	},
			   			success : function(result){
			   				if(id != undefined)
			   						activeMenu(id);
			   				$('#right-side').html(result);
			   				$("#loading").css("display","none");
			   				$("#mainDiv").removeClass('disabled');
			   			},
			   			error : function(jqXHR, textStatus, errorThrown) {
			   				errorCode(jqXHR.status);
			   				$("#loading").css("display","none");
			   				$("#mainDiv").removeClass('disabled');
			   			}
			   		 });

			   			}
			   			catch(e)
			   				{
			   				        errorCode(e);
			   			}
			   	  }







			   	function newdaysOpen(id){
			   		try{
						
			   			var online = window.navigator.onLine;
			   				if(!online)
			   			        {
			   				 alert("Check your internet connection,Please try agian after some time.");
			   			  	 return;
			   			       }
			   		 var contextPath = $("#contextPath").val();
			   		 URL = contextPath + "/inventorymanager/newdaysOpen.do";
			   			$.ajax({
			   				type: "GET",
			   				url : URL,
			   				data : {
			   				},
			   				beforeSend: function(xhr){                    
			   		   			$("#loading").css("display","block");
			   		   			$("#mainDiv").addClass("disabled");
			   		   		  },
			   				success : function(result) {
			   					$("#right-side").html(result);
			   					if(id != undefined)
			   						activeMenu(id);
			   					$("#loading").css("display","none");
			   					$("#mainDiv").removeClass('disabled');
			   				},
			   				error : function(jqXHR, textStatus, errorThrown)  {
			   					 errorCode(jqXHR.status);
			   					$("#loading").css("display","none");
			   				$("#mainDiv").removeClass('disabled');
			   				}
			   			});
			   			
			   		}
			   		catch(e)
			   			{
			   			        errorCode(e);
			   		}
			   	}






			   		
			   		
				  	
			   	function searchStockReceipts(name,searchCategory,index){
			   		try{
			   			var online = window.navigator.onLine;
			   			if(!online)
			   			{
			   				alert("Check your internet connection,Please try agian after some time.");
			   				return;
			   			}
			   			var location = "";
			   			var startDate = "";
			   			var endDate = "";

			   			name=""
			   				if($("#stockReceipts").length>0)
			   					name = $("#stockReceipts").val().trim();

			   			if($("#toLocation").length>0 && $("#toLocation").val != "select" && $("#toLocation").val != "-- Select --")
			   				location = $("#toLocation").val();
			   			var operation ="";
			   			if($("#operation").val() != '' && $("#operation").val().length>0)
			   				operation=$("#operation").val();
			   			if($("#from").val() != "" && $("#to").val() != ""){
			   				var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
			   				if(noOfDays < 0){
			   					alert("Start Date can't be less than End Date");
			   					return;
			   				}
			   				startDate = $("#from").val() + " 00:00:00";
			   				endDate = $("#to").val() + " 00:00:00";
			   			}else if($("#from").val() != "")
			   				startDate = $("#from").val() + " 00:00:00";
			   			else if($("#to").val() != "")
			   				endDate = $("#to").val() + " 00:00:00";
			   			var maxRecords = 10;
			   			if($("#maxRecords").length>0)
			   				maxRecords = $("#maxRecords").val();
			   			var flowUnder = $("#flowUnder").val();

			   			var zone = "";
			   			if($("#outletZone").length > 0)
			   				zone = $("#outletZone").val();

			   			var category = "";
			   			if($("#outletCategory").length > 0)
			   				category = $("#outletCategory").val();
			   			var subcategory = "";
			   			if($("#outletSubcategory").length > 0)
			   				subcategory = $("#outletSubcategory").val();
			   			var brand = "";
			   			if($("#outletBrandId").length > 0)
			   				brand = $("#outletBrandId").val();

			   			// written by manasa
			   			var billedLocationsList = [];
			   			var length = $('#toLocation').children('option').length;
			   			console.log(length)
			   			$('#toLocation option').each(function() { 
			   				billedLocationsList.push( $(this).attr('value'));

			   			});

			   			console.log(billedLocationsList)
			   			// finalobj.billedLocations = billedLocationsList;

			   			// written by manasa
			   			var  locationList="";
			   			for(i=1;i<billedLocationsList.length;i++)
			   			{
			   				locationList =locationList+ billedLocationsList[i]+',';
			   			}
			   			// locationList = locationList.slice(0,-1);//remove last
						// comma

			   			console.log(locationList)


			   			var contextPath = $("#contextPath").val();
			   			URL = contextPath + "/inventorymanager/searchStockReceipts.do";
			   			$.ajax({
			   				type: "GET",
			   				url : URL,
			   				data : {
			   					searchName : name,
			   					index : index,
			   					location : location,
			   					maxRecords : maxRecords,
			   					startDate : startDate,
			   					endDate : endDate,
			   					productCategory : category,
			   					subcategory : subcategory,
			   					brand : brand,
			   					zone : zone,
			   					operation : operation,
			   					flowUnder : flowUnder,
			   					locationList : locationList,
			   					zone:zone
			   				},
			   				beforeSend: function(xhr){                    
			   					$("#loading").css("display","block");
			   					$("#mainDiv").addClass("disabled");
			   				},
			   				success : function(result) {
			   					$('#right-side').html(result);
			   					/*
								 * if($("#searchProduct").val != "")
								 * $("#pagination").css("display","none"); else
								 * $("#pagination").css("display","block");
								 */
			   					$("#loading").css("display","none");
			   					$("#mainDiv").removeClass('disabled');
			   					$("#outletZone").val(zone);
			   					$("#toLocation").val(location);
			   					$("#outletCategory").val(category);
			   					$("#outletSubcategory").val(subcategory);
			   					$("#outletBrandId").val(brand);
			   					$("#from").val(startDate);
			   					$("#to").val(endDate);


			   				},
			   				error : function(jqXHR, textStatus, errorThrown)  {
			   					errorCode(jqXHR.status);
			   					$("#loading").css("display","none");
			   					$("#mainDiv").removeClass('disabled');
			   				}
			   			});
			   		}
			   		catch(e)
			   		{
			   			errorCode(e);
			   		}
			   	}
				  	
			   		




			   		function searchStockIssues(name,searchCategory,index){
			   			
			   			try{
			   				var online = window.navigator.onLine;
			   					if(!online)
			   				        {
			   					 alert("Check your internet connection,Please try agian after some time.");
			   				  	 return;
			   				       }
				   		 var location = "";
				   		 var warehouse = "";
				   		var startDate = "";
		    	 		 var endDate = "";
		    	 		  var zone = "";
		    	 		 var  itemwise = "";
		    	 			var itemname = "";
		    	 			
		    	 			name=""
			    	 	   		 if($("#allIssuedStocks").length>0)
			    	 	   			name = $("#allIssuedStocks").val().trim();
		    	 			
		    	 		 if($("#fromlocation").length>0 && $("#fromlocation").val != "select" && $("#fromlocation").val != "-- Select --")
			    	 		location = $("#fromlocation").val();
		    	 		 if($("#warehouseLocation").length>0 && $("#warehouseLocation").val != "select" && $("#warehouseLocation").val != "-- Select --")
		    	 			warehouse = $("#warehouseLocation").val();
		    	 		 if($("#outletZone").length>0 && $("#outletZone").val != "select" && $("#outletZone").val != "-- Select --")
				    	 		zone = $("#outletZone").val();
		    	 		 var operation ="";
		    	 			 if($("#operation").val() != '' && $("#operation").val().length>0)
		    	 				 operation=$("#operation").val();
		    	 			 var CurrentDate=getCurrentDate().split(" ");
		    	 			var  finalstr=CurrentDate[0];
		    	 			var dobDiff = daydiff(parseDateMMDDYYYY(finalstr), parseDate($('#from').val()));
		    	 			if(dobDiff > 0){
		    	 				alert("Start Date  can't be Future Date");
		    	 				return false;
		    	 			}
		    	 			if($("#from").val() != "" && $("#to").val() != ""){
		    		 			var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
		    					 if(noOfDays < 0){
		    						 alert("Start Date can't be less than End Date");
		    						 return;
		    					 }
		    					 startDate = $("#from").val() + " 00:00:00";
		    					 endDate = $("#to").val() + " 00:00:00";
		    	 			}else if($("#from").val() != "")
		    					 startDate = $("#from").val() + " 00:00:00";
		    	 			else if($("#to").val() != "")
		    	 				endDate = $("#to").val() + " 00:00:00";
		    	 			
		    	 			 if($("#flowUnder").val() == "warehouse")
		    	 			itemwise = $("#itemwise").val();
		    	 			 if($("#flowUnder").val() == "warehouse")
		    	 			itemname = $("#itemwise option:selected").text();	 
			    	 		var maxRecords = 10;
			    	 		 if($("#maxRecords").length>0)
			    	 			 maxRecords = $("#maxRecords").val();
			    	 		var flowUnder = $("#flowUnder").val();
			    	 		
			    	 		// written by manasa
			    			 var allLocationsList = [];
			    			 var length = $('#fromlocation').children('option').length;
			    			 console.log(length)
			    		      	$('#fromlocation option').each(function() { 
			    		      		allLocationsList.push( $(this).attr('value'));
			    		      	   
			    		      	});
			    				 var  locationList="";
			    			      	for(i=1;i<allLocationsList.length;i++)
			    			      		{
			    			      		locationList =locationList+ allLocationsList[i]+',';
			    			      		}
			    			   
			    			      	
			    			      	 var warehouseallLocationsList = [];
					    			 var length = $('#warehouseLocation').children('option').length;
					    		      	$('#warehouseLocation option').each(function() { 
					    		      		warehouseallLocationsList.push( $(this).attr('value'));
					    		      	   
					    		      	});
					    				 var  warehouselocationListall="";
					    			      	for(i=1;i<warehouseallLocationsList.length;i++)
					    			      		{
					    			      		warehouselocationListall =warehouselocationListall+ warehouseallLocationsList[i]+',';
					    			      		}
			    	 		
					  		 var contextPath = $("#contextPath").val();
					  		 URL = contextPath + "/inventorymanager/searchStockIssues.do";
					  		 $.ajax({
					  				type: "GET",
					  				url : URL,
					  				data : {
					  					searchName : name,
					  					index : index,
					  					location : location,
					  					maxRecords : maxRecords,
					  					startDate : startDate,
			    	 					endDate : endDate,
					  					operation : operation,
					  					flowUnder : flowUnder,
					  					zone : zone,
					  					itemwise :itemwise,
					  					itemname : itemname,
					  					warehouse : warehouse,
					  					locationList : locationList,
					  					warehouselocationListall : warehouselocationListall
					  				},
					  				beforeSend: function(xhr){                    
					  		   	   		$("#loading").css("display","block");
					  		   	   		$("#mainDiv").addClass("disabled");
					  		   	   	},
					  				success : function(result) {
					  					$('#right-side').html(result);
					  					/*
										 * if($("#searchProduct").val != "")
										 * $("#pagination").css("display","none");
										 * else
										 * $("#pagination").css("display","block");
										 */
					  					$("#loading").css("display","none");
					  					$("#mainDiv").removeClass('disabled');
					  				},
					  				error : function(jqXHR, textStatus, errorThrown)  {
					  					 errorCode(jqXHR.status);
					  					 $("#loading").css("display","none");
					  		 			 $("#mainDiv").removeClass('disabled');
					  				}
					  			});
			   			}
			   			catch(e)
			   				{
			   				        errorCode(e);
			   			}
					  		 
					  	}
			   		
			   		function searchWHStockIssues(name,searchCategory,index,file){
			   			
			   			try{
			   				debugger;
			   				var online = window.navigator.onLine;
			   					if(!online)
			   				        {
			   					 alert("Check your internet connection,Please try agian after some time.");
			   				  	 return;
			   				       }
				   		 var location = "";
				   		 var warehouse = "";
				   		var startDate = "";
		    	 		 var endDate = "";
		    	 		  var zone = "";
		    	 		 var  itemwise = "";
		    	 			var itemname = "";
		    	 			
		    	 			name=""
			    	 	   		 if($("#allIssuedStocks").length>0)
			    	 	   			name = $("#allIssuedStocks").val().trim();
		    	 			
		    	 		 if($("#fromlocation").length>0 && $("#fromlocation").val != "select" && $("#fromlocation").val != "-- Select --")
			    	 		location = $("#fromlocation").val();
		    	 		 if($("#warehouseLocation").length>0 && $("#warehouseLocation").val != "select" && $("#warehouseLocation").val != "-- Select --")
		    	 			warehouse = $("#warehouseLocation").val();
		    	 		 if($("#outletZone").length>0 && $("#outletZone").val != "select" && $("#outletZone").val != "-- Select --")
				    	 		zone = $("#outletZone").val();
		    	 		 var operation ="";
		    	 			 if($("#operation").val() != '' && $("#operation").val().length>0)
		    	 				 operation=$("#operation").val();
		    	 			 var CurrentDate=getCurrentDate().split(" ");
		    	 			var  finalstr=CurrentDate[0];
		    	 			var dobDiff = daydiff(parseDateMMDDYYYY(finalstr), parseDate($('#from').val()));
		    	 			if(dobDiff > 0){
		    	 				alert("Start Date  can't be Future Date");
		    	 				return false;
		    	 			}
		    	 			if($("#from").val() != "" && $("#to").val() != ""){
		    		 			var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
		    					 if(noOfDays < 0){
		    						 alert("Start Date can't be less than End Date");
		    						 return;
		    					 }
		    					 startDate = $("#from").val() + " 00:00:00";
		    					 endDate = $("#to").val() + " 00:00:00";
		    	 			}else if($("#from").val() != "")
		    					 startDate = $("#from").val() + " 00:00:00";
		    	 			else if($("#to").val() != "")
		    	 				endDate = $("#to").val() + " 00:00:00";
		    	 			
		    	 			 if($("#flowUnder").val() == "warehouse")
		    	 			itemwise = $("#itemwise").val();
		    	 			 if($("#flowUnder").val() == "warehouse")
		    	 			itemname = $("#itemwise option:selected").text();	 
			    	 		var maxRecords = 10;
			    	 		 if($("#maxRecords").length>0)
			    	 			 maxRecords = $("#maxRecords").val();
			    	 		var flowUnder = $("#flowUnder").val();
			    	 		
			    	 		// written by manasa
			    			 var allLocationsList = [];
			    			 var length = $('#fromlocation').children('option').length;
			    			 console.log(length)
			    		      	$('#fromlocation option').each(function() { 
			    		      		allLocationsList.push( $(this).attr('value'));
			    		      	   
			    		      	});
			    				 var  locationList="";
			    			      	for(i=1;i<allLocationsList.length;i++)
			    			      		{
			    			      		locationList =locationList+ allLocationsList[i]+',';
			    			      		}
			    			   
			    			      	
			    			      	 var warehouseallLocationsList = [];
					    			 var length = $('#warehouseLocation').children('option').length;
					    		      	$('#warehouseLocation option').each(function() { 
					    		      		warehouseallLocationsList.push( $(this).attr('value'));
					    		      	   
					    		      	});
					    				 var  warehouselocationListall="";
					    			      	for(i=1;i<warehouseallLocationsList.length;i++)
					    			      		{
					    			      		warehouselocationListall =warehouselocationListall+ warehouseallLocationsList[i]+',';
					    			      		}
			    	 		
					  		 var contextPath = $("#contextPath").val();
					  		 URL = contextPath + "/inventorymanager/searchStockIssues.do";
					  		 $.ajax({
					  				type: "GET",
					  				url : URL,
					  				data : {
					  					searchName : name,
					  					index : index,
					  					location : location,
					  					maxRecords : maxRecords,
					  					startDate : startDate,
			    	 					endDate : endDate,
					  					operation : operation,
					  					flowUnder : flowUnder,
					  					zone : zone,
					  					itemwise :itemwise,
					  					itemname : itemname,
					  					warehouse : warehouse,
					  					locationList : locationList,
					  					warehouselocationListall : warehouselocationListall
					  				},
					  				beforeSend: function(xhr){                    
					  		   	   		$("#loading").css("display","block");
					  		   	   		$("#mainDiv").addClass("disabled");
					  		   	   	},
					  				success : function(result) {
					  					$('#right-side').html(result);
					  					if(file=="true"){
					  						var anchor = document.createElement('a');
											anchor.href = $("#fileDownloadurl").val();
											anchor.target = '_blank';
											anchor.download = '';
											if($("#fileDownloadurl").val()!=null && $("#fileDownloadurl").val()!='')
												anchor.click();
					  					}
					  					$("#loading").css("display","none");
					  					$("#mainDiv").removeClass('disabled');
					  				},
					  				error : function(jqXHR, textStatus, errorThrown)  {
					  					 errorCode(jqXHR.status);
					  					 $("#loading").css("display","none");
					  		 			 $("#mainDiv").removeClass('disabled');
					  				}
					  			});
			   			}
			   			catch(e)
			   				{
			   				        errorCode(e);
			   			}
					  		 
					  	}
			   		
			   		
			   		function searchShipments(name,searchCategory,index){
			   			
			   			try{
			   				var online = window.navigator.onLine;
			   					if(!online)
			   				        {
			   					 alert("Check your internet connection,Please try agian after some time.");
			   				  	 return;
			   				       }
		    	 		if(name == "")
		    	 			name = $("#outletShipments").val();
		    	 		 var maxRecords = 10;
		    	 		 if($("#maxRecords").length>0)
		    	 			 maxRecords = $("#maxRecords").val();
		    	 		 var startDate = "";
		    	 		 var endDate = "";
		    	 		if($("#from").length>0 && $("#to").length>0){
		    	 			if($("#from").val() != "" && $("#to").val() == ""){
		    	 				alert("Please Select End Date");
		    	 				return false;
		    	 			} 
		    	 			if($("#from").val() == "" && $("#to").val() != ""){
		    	 				alert("Please Select Start Date");
		    	 				return false;
		    	 			}
		    	 			if($("#from").val() != "" && $("#to").val() != ""){
			    	 			var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
		    					 if(noOfDays < 0){
		    						 alert("Start Date can't be less than End Date");
		    						 return;
		    					 }
		    					 startDate = $("#from").val() + " 00:00:00";
		    					 endDate = $("#to").val() + " 00:00:00";
		    	 			}
		    	 		}
		    	 		 var status = "";
		    	 		 if($("#status").length>0)
		    	 			 stockType = $("#status").val();
		    	 		 var location = "";
		    	 		 if($("#outletLocation").length>0 && $("#outletLocation").val != "select" && $("#outletLocation").val != "-- Select --")
			    	 		location = $("#outletLocation").val();
		    	 		if($("#type").length > 0)
			   				type = $("#type").val();
			   			if($("#flowUnder").length > 0)
			   				flowUnder = $("#flowUnder").val();
		    	 		 var contextPath = $("#contextPath").val();
		    	 		 URL = contextPath + "/orderManagement/searchShipments.do";
		    	 		 $.ajax({
		    	 				type: "GET",
		    	 				url : URL,
		    	 				data : {
		    	 					searchName : name,
		    	 					index : index,
		    	 					location : location,
		    	 					maxRecords : maxRecords,
		    	 					startDate : startDate,
		    	 					endDate : endDate,
		    	 					status : status,
		    	 					type : type,
		    	 					flowUnder : flowUnder
		    	 				},
		    	 				beforeSend: function(xhr){                    
		    	 		   	   		$("#loading").css("display","block");
		    	 		   	   		$("#mainDiv").addClass("disabled");
		    	 		   	   	},
		    	 				success : function(result) {
		    	 					$('#right-side').html(result);
		    	 					$("#loading").css("display","none");
		    	 					$("#mainDiv").removeClass('disabled');
		    	 				},
		    	 				error : function(jqXHR, textStatus, errorThrown)  {
		    	 					 errorCode(jqXHR.status);
		    	 					 $("#loading").css("display","none");
		    	 		 			 $("#mainDiv").removeClass('disabled');
		    	 				}
		    	 			});
		    	 		 

			   			}
			   			catch(e)
			   				{
			   				        errorCode(e);
			   			}
		    	 		 
		    	 	}
			   		
			   		function searchShiftMaster(name,searchCategory,index){
				debugger;
			   			try{
			   				var online = window.navigator.onLine;
			   					if(!online)
			   				        {
			   					 alert("Check your internet connection,Please try agian after some time.");
			   				  	 return;
			   				       }
			   			var location = "";
			   			// debugger
			   		   name=""
			 			if($("#shiftmaster").length>0)
			 			name = $("#shiftmaster").val().trim();
			   		 
		    	 		 if($("#shift_location").length>0 && $("#shift_location").val != "select" && $("#shift_location").val != "-- Select --"){
			    	 		location = $("#shift_location").val();
		    	 		 }
		    	 		var flowUnder = $("#flowUnder").val();
		    	 		 
		    	 		 var contextPath = $("#contextPath").val();
		    	 		 URL = contextPath + "/admin/searchShiftMaster.do";
		    	 		 $.ajax({
		    	 				type: "GET",
		    	 				url : URL,
		    	 				data : {
		    	 					searchName : name,
		    	 					index : index,
		    	 					location : location,
		    	 					flowUnder : flowUnder
		    	 				},
		    	 				beforeSend: function(xhr){                    
		    	 		   	   		$("#loading").css("display","block");
		    	 		   	   		$("#mainDiv").addClass("disabled");
		    	 		   	   	},
		    	 				success : function(result) {
		    	 					$('#right-side').html(result);
		    	 					$("#loading").css("display","none");
		    	 					$("#mainDiv").removeClass('disabled');
		    	 				},
		    	 				error : function(jqXHR, textStatus, errorThrown)  {
		    	 					 errorCode(jqXHR.status);
		    	 					 $("#loading").css("display","none");
		    	 		 			 $("#mainDiv").removeClass('disabled');
		    	 				}
		    	 			});
			   			}
			   			catch(e)
			   				{
			   				        errorCode(e);
			   			}
		    	 	}
			   		
				   		

	function viewRequestForQuotation(id,index,menu){
		
		try{
			var online = window.navigator.onLine;
				if(!online)
			        {
				 alert("Check your internet connection,Please try agian after some time.");
			  	 return;
			       }
   			if(menu == undefined){
   				if((($("#rfqSearch").length > 0 && $("#rfqSearch").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
   					searchRFQ($("#rfqSearch").val(), 'requestQuotation',index);
   					return;
   				}
   			}
   			var location = ""
   			if($("#outletLocation").length > 0)
   				location = $("#outletLocation").val();
   			var maxRecords = 10;
   			if($("#maxRecords").length > 0)
   				maxRecords = $("#maxRecords").val();
   			var contextPath = $("#contextPath").val();
   		    URL = contextPath + "/procurement/viewRequestForQuotation.do";
   				$.ajax({
   					type: "GET",
   					url : URL,
   					data : {
   						index : index,
   						maxRecords : maxRecords,
   						location : location
   					},
			beforeSend: function(xhr){                    
		   		$("#loading").css("display","block");
		   		$("#mainDiv").addClass("disabled");
		   	},
			success : function(result){
			
				$('#right-side').html(result);
				if(id != undefined)
					activeMenu(id);
				if(id == 'warehouserequestForQuotation'){
					openMenu("liWarehouseProcurementShipment","ulWarehouseProcurementShipment",0);
					openMenu("liStockManagement","ulStockManagement",1);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}
				else
					openMenu("liOutletProcurement","ulOutletProcurement",1);	
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown) {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		 });
		}
		catch(e)
			{
			        errorCode(e);
		}
	} 
		
	function newRFQ(id){
		try{
			var online = window.navigator.onLine;
				if(!online)
			        {
				 alert("Check your internet connection,Please try agian after some time.");
			  	 return;
			       }
		var location = $("#outletLocation").val();
		var contextPath = $("#contextPath").val();
		 URL = contextPath + "/procurement/newRFQ.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
				},
				beforeSend: function(xhr){                    
		   			$("#loading").css("display","block");
		   			$("#mainDiv").addClass("disabled");
		   		  },
				success : function(result) {
					$("#right-side").html(result);
					if(id != undefined)
						activeMenu(id);
					openMenu("liOutletProcurement","ulOutletProcurement",1);
					$("#outletLocation").val(location);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			});
			
		}
		catch(e)
			{
			        errorCode(e);
		}
	}

	
	
	function viewShipmentReturn(id,index,menu,flowUnder,search){
		debugger;
		try{
			var online = window.navigator.onLine;
				if(!online)
			        {
				 alert("Check your internet connection,Please try agian after some time.");
			  	 return;
			       }
		var location = ""
   			if(menu == undefined){
   				if((($("#searchShipmentReturnsId").length > 0 && $("#searchShipmentReturnsId").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
   					searchShipmentReturns($("#searchShipmentReturnsId").val(), 'searchShipmentReturns',index);
   					return;
   				}
   				if($("#outletLocation").length > 0)
   					location = $("#outletLocation").val();
   			}
		
		 var startDate = "";
		 
		 if($("#from").length > 0)
			 startDate = $("#from").val();
		
		 if(startDate == "" || startDate == undefined || startDate == null){
	  			
	  			
	  		  var dateTime = getCurrentDate();
	    	  var date = dateTime.split(' ');
	    	  date = date[0].split('/');
	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	    	  
	    	  startDate = formatedDate;
	  
	  		}
		 
		 
		
		if(flowUnder == "" || flowUnder == undefined)
			flowUnder = $("#flowUnder").val();
   			var maxRecords = 10;
   			if($("#maxRecords").length > 0)
   				maxRecords = $("#maxRecords").val();
   			 var contextPath = $('#contextPath').val();
   			 var URL = contextPath + "/procurement/viewShipmentReturn.do";
   			 $.ajax({
   				type : "GET",
   				url : URL,
   				data : {
						index : index,
						maxRecords : maxRecords,
						location : location,
						flowUnder : flowUnder,
						startDate : startDate
					},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					$('#right-side').html(result);
					if(id != undefined && id != "")
						activeMenu(id);
					if(id == "wShipmentReturn"){
						openMenu("liShipment","ulShipment",0);
						openMenu("liStockManagement","ulStockManagement",1);
						openMenu("warehouseDetails","ulwarehouseDetails",1);
					}else if(id == "shipmentReturn")
						openMenu("liOutletProcurement","ulOutletProcurement",1);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
   			 
		}
		catch(e)
			{
			        errorCode(e);
		}
	}
	
	
	function newShipmentReturn(id,flowUnder){
		
		try{
			var online = window.navigator.onLine;
				if(!online)
			        {
				 alert("Check your internet connection,Please try agian after some time.");
			  	 return;
			       }
		if(flowUnder == "" || flowUnder == undefined)
			flowUnder = $("#flowUnder").val();
		var location = $("#outletLocation").val();
		 var contextPath = $('#contextPath').val();
		 var URL = contextPath + "/procurement/newShipmentReturn.do";
		 $.ajax({
			type : "GET",
			url : URL,
			data : {
				flowUnder : flowUnder
			},
			beforeSend: function(xhr){                    
		   		$("#loading").css("display","block");
		   		$("#mainDiv").addClass("disabled");
		   	},
			success : function(result){
				if(id != undefined && id!="")
					activeMenu(id);
				if(id == "wStockReturn"){
					openMenu("liProcurementShipment","ulProcurementShipment",0);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}
				else if(id == "shipmentReturn")
					openMenu("liOutletProcurement","ulOutletProcurement",1);
				$('#right-side').html(result);
				$("#outletLocation").val(location);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown) {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		 });
		 
		}
		catch(e)
			{
			        errorCode(e);
		}
	} 

	
/*
 * function viewInvoicing(id,index){ var contextPath = $('#contextPath').val();
 * var URL = contextPath + "/inventorymanager/viewInvoicing.do"; $.ajax({ type :
 * "GET", url : URL, data : { index:index }, beforeSend: function(xhr){
 * $("#loading").css("display","block"); $("#mainDiv").addClass("disabled"); },
 * success : function(result){ $('#right-side').html(result); if(id !=
 * undefined) activeMenu(id);
 * openMenu("liWarehouseOrders","ulWarehouseOrders",0);
 * openMenu("warehouseDetails","ulwarehouseDetails",1);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); },
 * error : function(jqXHR, textStatus, errorThrown) { errorCode(jqXHR.status);
 * $("#loading").css("display","none"); $("#mainDiv").removeClass('disabled'); }
 * }); }
 */

	function appendSections(id){
		
		var sections = $("#"+id).val();
		var appendFlag=true;
		
		if(sections.trim()!=''){
			
			$("#sectionsList > option").each(function(){
				
				if($(this).val()==sections)  // to check for given section
												// value is in selected list
					appendFlag=false;
			})
			if(appendFlag)
		$("#sectionsList").append('<option value='+sections+'>'+sections+'</option>');
			else
				alert('section already added')
		}
		$("#"+id).val("");
	}
	function newShipmentNote(id,flowUnder){
		
		try{
			var online = window.navigator.onLine;
				if(!online)
			        {
				 alert("Check your internet connection,Please try agian after some time.");
			  	 return;
			       }
		if(flowUnder == "" || flowUnder == undefined)
			flowUnder = $("#flowUnder").val();
		var location = $("#outletLocation").val();
		 var contextPath = $('#contextPath').val();
		 var URL = contextPath + "/procurement/newShipmentNote.do";
		 $.ajax({
			type : "GET",
			url : URL,
			data : {
				flowUnder : flowUnder
			},
			beforeSend: function(xhr){                    
		   		$("#loading").css("display","block");
		   		$("#mainDiv").addClass("disabled");
		   	},
			success : function(result){
				if(id != undefined && id != "")
					activeMenu(id);
				if(id == "wshipmentNote"){
					openMenu("liProcurementShipment","ulProcurementShipment",0);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}
				else if(id=="shipmentNotes")	
					openMenu("liOutletProcurement","ulOutletProcurement",1);
				$('#right-side').html(result);
				$("#outletLocation").val(location);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown) {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		 });
		}
		catch(e)
			{
			        errorCode(e);
		}
	} 

					function viewShipmentNotes(id,index,menu,flowUnder){
						var location = ""
							
							try{
								var online = window.navigator.onLine;
									if(!online)
								        {
									 alert("Check your internet connection,Please try agian after some time.");
								  	 return;
								       }
			   			if(menu == undefined){
			   				if((($("#searchShipmentNotes").length > 0 && $("#searchShipmentNotes").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
			   					searchShipmentNotes($("#searchShipmentNotes").val(), 'searchShipmentNotes',index);
			   					return;
			   				}
			   				if($("#outletLocation").length > 0)
			   					location = $("#outletLocation").val();
			   			}
						if(flowUnder == "" || flowUnder == undefined)
							flowUnder = $("#flowUnder").val();
			   			var maxRecords = 10;
			   			if($("#maxRecords").length > 0)
			   				maxRecords = $("#maxRecords").val();
			   			 var contextPath = $('#contextPath').val();
			   			 var URL = contextPath + "/procurement/viewShipmentNotes.do";
			   			 $.ajax({
			   				type : "GET",
			   				url : URL,
			   				data : {
		   						index : index,
		   						maxRecords : maxRecords,
		   						location : location,
		   						flowUnder : flowUnder
		   					},
			   				beforeSend: function(xhr){                    
			   			   		$("#loading").css("display","block");
			   			   		$("#mainDiv").addClass("disabled");
			   			   	},
			   				success : function(result){
			   					$('#right-side').html(result);
			   					if(id != undefined && id != "")
			   						activeMenu(id);
			   					if(id == "wshipmentNote"){
			   						openMenu("liShipment","ulShipment",0);
			   						openMenu("liStockManagement","ulStockManagement",1);
			   						openMenu("warehouseDetails","ulwarehouseDetails",1);
			   					}else if(id == "shipmentNotes"){
			   						openMenu("liOutletProcurement","ulOutletProcurement",1);
			   					}
			   					$("#loading").css("display","none");
			   					$("#mainDiv").removeClass('disabled');
			   				},
			   				error : function(jqXHR, textStatus, errorThrown) {
			   					errorCode(jqXHR.status);
			   					$("#loading").css("display","none");
			   					$("#mainDiv").removeClass('disabled');
			   				}
			   			 });
							}
						catch(e)
							{
							        errorCode(e);
						}
			   		} 
					
					
				function viewInvoiceDetails(){

					try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
						 var contextPath = $('#contextPath').val();
						 var URL = contextPath + "/inventorymanager/viewInvoiceDetails.do";
						 $.ajax({
							type : "GET",
							url : URL,
							data : {
								
							},
							beforeSend: function(xhr){                    
						   		$("#loading").css("display","block");
						   		$("#mainDiv").addClass("disabled");
						   	},
							success : function(result){
								$('#right-side').html(result);
								/*
								 * if(id != undefined) activeMenu(id);
								 */
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							},
							error : function(jqXHR, textStatus, errorThrown) {
								errorCode(jqXHR.status);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							}
						 });
					}
						 catch(e)
							{
							        errorCode(e);
						}
					}

				function viewoutletSuppliersMovement(id,index,flowUnder,menu){
					var search = ""

						try{
							var online = window.navigator.onLine;
							if(!online)
							{
								alert("Check your internet connection,Please try agian after some time.");
								return;
							}

							var location = "";
							if($("#outletLocation").length > 0)
								location = $("#outletLocation").val();
							var zone = "";
							if($("#outletZone").length > 0)
								zone = $("#outletZone").val();

							/*
							 * var dateTime = getCurrentDate(); var date =
							 * dateTime.split(' '); date = date[0].split('/');
							 * var formatedDate =
							 * date[1]+"/"+date[0]+"/"+date[2];
							 */
							var startdate = "";
							if($("#from").length > 0)
								startdate = $("#from").val();

							var enddate = "";
							if($("#to").length > 0)
								enddate = $("#to").val();
							var category = "";
							if($("#outletCategory").length > 0)
								category = $("#outletCategory").val();
							var subcategory = "";
							if($("#outletSubcategory").length > 0)
								subcategory = $("#outletSubcategory").val();
							var brand = "";
							if($("#outletBrandId").length > 0)
								brand = $("#outletBrandId").val();
							var maxRecords = 10;
							if($("#maxRecords").length > 0)
								maxRecords = $("#maxRecords").val();
							if((flowUnder == undefined || flowUnder == "" ) && $("#flowUnder").length > 0)
								flowUnder = $("#flowUnder").val();
							var department = null;
							if($("#outletDepartmentId").length > 0)
								department = $("#outletDepartmentId").val();
							var subdepartment = null;
							if($("#outletSubDepartmentId").length > 0)
								subdepartment = $("#outletSubDepartmentId").val();
							
							 debugger
		    	    		 if(startdate!=undefined || startdate!= "" && enddate!=undefined || enddate!= ""){
		    	    		 var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
		       	    		 if(noOfDays < 0){
		       	    			 $("#endDateError").html("End Date can't be less than Start Date");
		       	    			 return;
		       	    		 }else{
		       	    	  	   	 $("#endDateError").html(" ");
		       	    	  	 }
		    	    	 }
							
							var contextPath = $("#contextPath").val();
							var URL = contextPath + "/inventorymanager/viewoutletsuppliesReport.do";
							$.ajax({
								type : "GET",
								url : URL,
								data : {
									index : index,
									flowUnder : flowUnder,
									location : location,
									zone : zone,
									category : category,
									subcategory : subcategory,
									brand : brand,
									startdate: startdate,
									enddate : enddate,
									maxRecords : maxRecords,
									department : department,
									subDepartment:subdepartment,
									search : search
								},
								beforeSend: function(xhr){                    
									$("#loading").css("display","block");
									$("#mainDiv").addClass("disabled");
								},
								success : function(result){
									$('#right-side').html(result);
									if(id == "outletSuppliersMovement"){
										openMenu("liInventoryManagement","ulInventoryManagement",0);
										openMenu("storedetails", "ulstoredetails",1);
									}
									/*
									 * else if(id ==
									 * "warehouseStockVerification"){
									 * openMenu("liStockManagement","ulStockManagement",0);
									 * openMenu("warehouseDetails",
									 * "ulwarehouseDetails",1); }
									 */
									if(id!=undefined && id != "")
										activeMenu(id);
									$("#loading").css("display","none");
									$("#mainDiv").removeClass('disabled');
								},
								error : function(jqXHR, textStatus, errorThrown) {
									errorCode(jqXHR.status);
									$("#loading").css("display","none");
									$("#mainDiv").removeClass('disabled');
								}
							});

						}
					catch(e)
					{
						errorCode(e);
					}
				}
				
				
				
				function viewDenominationMaster(id,index){
					/*
					 * if($("#searchShipmentRate").length > 0 &&
					 * $("#searchShipmentRate").val().trim() != ""){
					 * searchShipmentRate($("#searchShipmentRate").val(),
					 * 'shipmentRateMaster',index); return; }
					 */
					try{
						var online = window.navigator.onLine;
							if(!online)
						        {
							 alert("Check your internet connection,Please try agian after some time.");
						  	 return;
						       }
		   			 var contextPath = $('#contextPath').val();
		   			URL = contextPath + "/genericMaster/viewDenominationMaster.do";
		   			 $.ajax({
		   				type : "GET",
		   				url : URL,
		   				data : {
		   					index : index
		   				},
		   				beforeSend: function(xhr){                    
		   	   	   			$("#loading").css("display","block");
		   	   	   			$("#mainDiv").addClass("disabled");
		   	   	   		  },
		   	   			success : function(result) {
		   	   				if(id != undefined)
		   	   					activeMenu(id);
		   	  				$("#right-side").html(result);
		   	  				$("#loading").css("display","none");
		   	  				$("#mainDiv").removeClass('disabled');
		   	  			},
		   	  			error : function(jqXHR, textStatus, errorThrown)  {
		   	  				 errorCode(jqXHR.status);
		   	  				$("#loading").css("display","none");
		   	 				$("#mainDiv").removeClass('disabled');
		   	  			}
		   	  		});		
					}
					catch(e)
						{
						        errorCode(e);
					} 
					}
				

				function newShipmentRateMaster(id){
			 		 var contextPath = $("#contextPath").val();
			 		try{
			 			var online = window.navigator.onLine;
			 				if(!online)
			 			        {
			 				 alert("Check your internet connection,Please try agian after some time.");
			 			  	 return;
			 			       }
			 		 
			 		 var maxRecords = 10;
			    	  if($("#maxRecords").length>0)
			    		  maxRecords = $("#maxRecords").val();
			    	  var searchName ="";
			    	  if($("#searchShipmentRate").length>0)
			    		  searchName = $("#searchShipmentRate").val();
				 
			 		 URL = contextPath + "/outletMaster/newShipmentRateMaster.do";
			 		 $.ajax({
			 				type: "GET",
			 				url : URL,
			 				data : {
			 					maxRecords : maxRecords,
			 					searchName : searchName
			 				},
			 				beforeSend: function(xhr){                    
			 		   			$("#loading").css("display","block");
			 		   			$("#mainDiv").addClass("disabled");
			 		   		  },
			 				success : function(result) {
			 					$("#right-side").html(result);
			 					if(id != undefined)
			 						activeMenu(id);
			 					$("#loading").css("display","none");
			 					$("#mainDiv").removeClass('disabled');
			 				},
			 				error : function(jqXHR, textStatus, errorThrown)  {
			 					 errorCode(jqXHR.status);
			 					$("#loading").css("display","none");
			 				$("#mainDiv").removeClass('disabled');
			 				}
			 			});

			 		}
			 		catch(e)
			 			{
			 			        errorCode(e);
			 		}
			 	}





				function viewShipmentRateMaster(id,index){
					
					try{
						var online = window.navigator.onLine;
							if(!online)
						        {
							 alert("Check your internet connection,Please try agian after some time.");
						  	 return;
						       }
					if($("#searchShipmentRate").length > 0 && $("#searchShipmentRate").val().trim() != ""){
						searchShipmentRate($("#searchShipmentRate").val(), 'shipmentRateMaster',index);
			 			return;
			 		}
					
					 var maxRecords = 10;
			    	  if($("#maxRecords").length>0)
			    		  maxRecords = $("#maxRecords").val();
			    	  var searchName ="";
			    	  if($("#searchShipmentRate").length>0)
			    		  searchName= $("#searchShipmentRate").val().trim();

		   			 var contextPath = $('#contextPath').val();
		   			 var URL = contextPath + "/outletMaster/viewShipmentRateMaster.do";
		   			 $.ajax({
		   				type : "GET",
		   				url : URL,
		   				data : {
		   					index : index,
		   					maxRecords : maxRecords,
		   					searchName : searchName
		   				},
		   				beforeSend: function(xhr){                    
		   			   		$("#loading").css("display","block");
		   			   		$("#mainDiv").addClass("disabled");
		   			   	},
		   				success : function(result){
		   					$('#right-side').html(result);
		   					if(id != undefined && id != "")
		   						activeMenu(id);
		   					openMenu("liGenericData","ulGenericData",0);
		   		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
		   					$("#loading").css("display","none");
		   					$("#mainDiv").removeClass('disabled');
		   				},
		   				error : function(jqXHR, textStatus, errorThrown) {
		   					errorCode(jqXHR.status);
		   					$("#loading").css("display","none");
		   					$("#mainDiv").removeClass('disabled');
		   				}
		   			 });
					}
					catch(e)
						{
						        errorCode(e);
					}
		   		}
				function viewpriceRangeMaster(id,index){
					// debugger;
					try{
						var online = window.navigator.onLine;
							if(!online)
						        {
							 alert("Check your internet connection,Please try agian after some time.");
						  	 return;
						       }
	   			 var contextPath = $('#contextPath').val();
	   			 
	   			 var maxRecords = 10;
	 	 		if($("#maxRecords").length >0)
	 	 			maxRecords = $("#maxRecords").val();
	 	 		
	 	 		var searchName ="";
	 	 		if($("#searchPriceRange").length >0)
	 	 			searchName = $("#searchPriceRange").val().trim();
	 	 		
	   			 var URL = contextPath + "/outletMaster/viewpriceRangeMaster.do";
	   			 $.ajax({
	   				type : "GET",
	   				url : URL,
	   				data : {
	   					index : index,
	   					searchName:searchName,
	   					maxRecords:"10"
	   					
	   				},
	   				beforeSend: function(xhr){                    
	   			   		$("#loading").css("display","block");
	   			   		$("#mainDiv").addClass("disabled");
	   			   	},
	   				success : function(result){
	   					$('#right-side').html(result);
	   					if(id != undefined && id != "")
	   						activeMenu(id);
	   					openMenu("master-details","ulMasterDetails",0);
	   		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	   					$("#loading").css("display","none");
	   					$("#mainDiv").removeClass('disabled');
	   				},
	   				error : function(jqXHR, textStatus, errorThrown) {
	   					errorCode(jqXHR.status);
	   					$("#loading").css("display","none");
	   					$("#mainDiv").removeClass('disabled');
	   				}
	   			 });
					}
					catch(e)
						{
						        errorCode(e);
					}
	   			 
	   		}
			 function newPriceRangeMaster(id) {
				 try{
					 var online = window.navigator.onLine;
					 	if(!online)
					         {
					 	 alert("Check your internet connection,Please try agian after some time.");
					   	 return;
					        }
    	    		var contextPath = $('#contextPath').val();
    	    		
    	    		 var maxRecords = 10;
    	 	 		if($("#maxRecords").length >0)
    	 	 			maxRecords = $("#maxRecords").val();
    	 	 		
    	 	 		var searchName ="";
    	 	 		if($("#searchPriceRange").length >0)
    	 	 			searchName = $("#searchPriceRange").val();
    	    		
    	    		var URL = contextPath + "/outletMaster/newPriceRangeMaster.do";
    	    		$.ajax({
    	    			type : "GET",
    	    			url : URL,
    	    			data : {
    	    				maxRecords : maxRecords,
    	    				searchName : searchName
    	    			},
    	    			beforeSend : function(xhr) {
    	    				$("#loading").css("display", "block");
    	    				$("#mainDiv").addClass("disabled");
    	    			},
    	    			success : function(result) {
    	    				$('#right-side').html(result);
    	    				if (id != undefined && id != "")
    	    					activeMenu(id);
    	    				openMenu("master-details", "ulMasterDetails", 0);
    	    				openMenu("liMasterDataManagement", "ulMasterDataManagement", 1);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			},
    	    			error : function(jqXHR, textStatus, errorThrown)  {
    	    				errorCode(jqXHR.status);
    	    				$("#loading").css("display", "none");
    	    				$("#mainDiv").removeClass('disabled');
    	    			}
    	    		});
				 }
				 catch(e)
				 	{
				 	        errorCode(e);
				 }
    	    		
    	    	}


				
				/*
				 * function viewPriceUpdate(id,index){
				 * if($("#searchShipmentRate").length > 0 &&
				 * $("#searchShipmentRate").val().trim() != ""){
				 * searchShipmentRate($("#searchShipmentRate").val(),
				 * 'shipmentRateMaster',index); return; } var contextPath =
				 * $('#contextPath').val(); var URL = contextPath +
				 * "/inventorymanager/accessDenied.do"; $.ajax({ type : "GET",
				 * url : URL, data : { index : index }, beforeSend:
				 * function(xhr){ $("#loading").css("display","block");
				 * $("#mainDiv").addClass("disabled"); }, success :
				 * function(result){ $('#right-side').html(result); if(id !=
				 * undefined && id != "") activeMenu(id);
				 * openMenu("master-details","ulMasterDetails",0);
				 * openMenu("liMasterDataManagement","ulMasterDataManagement",1);
				 * $("#loading").css("display","none");
				 * $("#mainDiv").removeClass('disabled'); }, error :
				 * function(jqXHR, textStatus, errorThrown) {
				 * errorCode(jqXHR.status); $("#loading").css("display","none");
				 * $("#mainDiv").removeClass('disabled'); } }); }
				 */
				
				/*
				 * //written by manasa purpose:to update the price
				 * 
				 */
				
				function viewPriceUpdate(id,index,flowLocation){
    				debugger; 

					 var contextPath = $('#contextPath').val();
					 try{
						 var online = window.navigator.onLine;
						 	if(!online)
						         {
						 	 alert("Check your internet connection,Please try agian after some time.");
						   	 return;
						        }
		        	 var location = ""
		        	 if($("#priceoutletLocation").length > 0)
		            location = $("#priceoutletLocation").val();
		        	var category = "";
			    	 if($("#outletCategoryId").length > 0)
			    	category = $("#outletCategoryId").val();
			    	var subcategory = "";
			    	if($("#priceoutletSubcategory").length > 0)
			    	 subcategory = $("#priceoutletSubcategory").val();
			    	var department="";
			    	if($("#priceoutletDepartmentId").length > 0)
			    	department = $("#priceoutletDepartmentId").val();
			    	var section="";
			    	if($("#section").length > 0)
			    	section = $("#section").val();
		        	var maxRecords = 10;
		        	if($("#maxRecords").length > 0)
		        	maxRecords = $("#maxRecords").val();
		        	var brand = "";
	    	    	if($("#outletBrandIdPrice").length > 0)
	    	    		brand = $("#outletBrandIdPrice").val();
	    	    	var startprice = "";
	    	    	if($("#outletStartPrice").length > 0)
	    	    		startprice = $("#outletStartPrice").val();
	    	    	var endprice = "";
	    	    	if($("#outletEndPrice").length > 0)
	    	    		endprice = $("#outletEndPrice").val();
	    	    	
	    	    	var zone = "";
	      	    	if($("#outletZone").length > 0)
	      	    		zone = $("#outletZone").val();
	      	       
	      	    	var name="";
	 				if($("#searchPriceUpdate").length>0)
	 				name = $("#searchPriceUpdate").val().trim();
	    	    	
		        	 var URL = contextPath + "/outletMaster/viewPriceUpdate.do";
		        	$.ajax({
		        			type: "GET",
		        			url : URL,
		        		    data : {
		        			index : index,
		        			maxRecords : maxRecords,
		        			location : location,
		        			category : category,
		        			subcategory : subcategory,
		        			department : department,
		        			section : section,
		        			brand : brand,
		        			startprice : startprice,
		        			endprice : endprice,
		        			zone : zone,
		        			flowLocation : flowLocation,
		        			searchName : name,
		        				},
		        			beforeSend: function(xhr){                    
		        		    $("#loading").css("display","block");
		        			$("#mainDiv").addClass("disabled");
		        		    },
		        			success : function(result) {
		        			  $("#right-side").html(result);
		        			 // if(id != undefined && id != "")
			   						activeMenu(id);
		        		      $("#loading").css("display","none");
		        			  $("#mainDiv").removeClass('disabled');
		        				},
		        			error : function(jqXHR, textStatus, errorThrown)  {
		        			  errorCode(jqXHR.status);
		        		 	  $("#loading").css("display","none");
		        			  $("#mainDiv").removeClass('disabled');
		        					}
		        				});
					 }
					 catch(e)
					 	{
					 	        errorCode(e);
					 }
		        		}
				
				
				
				
				function viewStockUpdateDetails(id,index){
					 var contextPath = $('#contextPath').val();
					 try{
						 var online = window.navigator.onLine;
						 	if(!online)
						         {
						 	 alert("Check your internet connection,Please try agian after some time.");
						   	 return;
						        }
		        	 var location = ""
		        	 if($("#priceoutletLocation").length > 0)
		            location = $("#priceoutletLocation").val();
		        	var category = "";
			    	 if($("#outletCategoryId").length > 0)
			    	category = $("#outletCategoryId").val();
			    	var subcategory = "";
			    	if($("#priceoutletSubcategory").length > 0)
			    	 subcategory = $("#priceoutletSubcategory").val();
			    	var department="";
			    	if($("#priceoutletDepartmentId").length > 0)
			    	department = $("#priceoutletDepartmentId").val();
			    	var section="";
			    	if($("#section").length > 0)
			    	section = $("#section").val();
		        	var maxRecords = 10;
		        	if($("#maxRecords").length > 0)
		        	maxRecords = $("#maxRecords").val();
		        	var brand = "";
	    	    	if($("#outletBrandIdPrice").length > 0)
	    	    		brand = $("#outletBrandIdPrice").val();
	    	    	var startprice = "";
	    	    	if($("#outletStartPrice").length > 0)
	    	    		startprice = $("#outletStartPrice").val();
	    	    	var endprice = "";
	    	    	if($("#outletEndPrice").length > 0)
	    	    		endprice = $("#outletEndPrice").val();
	    	    	
	    	    	var zone = "";
	      	    	if($("#outletZone").length > 0)
	      	    		zone = $("#outletZone").val();
	    	    	
	      	    	// debugger
	      	     var name=""
		 				if($("#searchPriceUpdate").length>0)
		 				name = $("#searchPriceUpdate").val().trim();
		        	 var URL = contextPath + "/outletMaster/viewStockUpdateDetails.do";
		        	$.ajax({
		        			type: "GET",
		        			url : URL,
		        		    data : {
		        			index : index,
		        			maxRecords : maxRecords,
		        			location : location,
		        			category : category,
		        			subcategory : subcategory,
		        			department : department,
		        			section : section,
		        			brand : brand,
		        			zone : zone,
		        			searchName : name
		        				},
		        			beforeSend: function(xhr){                    
		        		    $("#loading").css("display","block");
		        			$("#mainDiv").addClass("disabled");
		        		    },
		        			success : function(result) {
		        			  $("#right-side").html(result);
		        			 // if(id != undefined && id != "")
			   						activeMenu(id);
		        		      $("#loading").css("display","none");
		        			  $("#mainDiv").removeClass('disabled');
		        				},
		        			error : function(jqXHR, textStatus, errorThrown)  {
		        			  errorCode(jqXHR.status);
		        		 	  $("#loading").css("display","none");
		        			  $("#mainDiv").removeClass('disabled');
		        					}
		        				});
					 }
					 catch(e)
					 	{
					 	        errorCode(e);
					 }
		        		}

				
				
				
				
				
				
				
				
				
				function viewOutletStockUpdateDetails(id,index){
					 var contextPath = $('#contextPath').val();
					 try{
						 var online = window.navigator.onLine;
						 	if(!online)
						         {
						 	 alert("Check your internet connection,Please try agian after some time.");
						   	 return;
						        }
		        	 var location = ""
		        	 if($("#priceoutletLocation").length > 0)
		            location = $("#priceoutletLocation").val();
		        	var category = "";
			    	 if($("#outletCategoryId").length > 0)
			    	category = $("#outletCategoryId").val();
			    	var subcategory = "";
			    	if($("#priceoutletSubcategory").length > 0)
			    	 subcategory = $("#priceoutletSubcategory").val();
			    	var department="";
			    	if($("#priceoutletDepartmentId").length > 0)
			    	department = $("#priceoutletDepartmentId").val();
			    	var section="";
			    	if($("#section").length > 0)
			    	section = $("#section").val();
		        	var maxRecords = 10;
		        	if($("#maxRecords").length > 0)
		        	maxRecords = $("#maxRecords").val();
		        	var brand = "";
	    	    	if($("#outletBrandIdPrice").length > 0)
	    	    		brand = $("#outletBrandIdPrice").val();
	    	    	var startprice = "";
	    	    	if($("#outletStartPrice").length > 0)
	    	    		startprice = $("#outletStartPrice").val();
	    	    	var endprice = "";
	    	    	if($("#outletEndPrice").length > 0)
	    	    		endprice = $("#outletEndPrice").val();
	    	    	
	    	    	var zone = "";
	      	    	if($("#outletZone").length > 0)
	      	    		zone = $("#outletZone").val();
	    	    	
	      	    	// debugger
	      	     var name=""
		 				if($("#searchPriceUpdate").length>0)
		 				name = $("#searchPriceUpdate").val().trim();
		        	 var URL = contextPath + "/outletMaster/viewOutletStockUpdateDetails.do";
		        	$.ajax({
		        			type: "GET",
		        			url : URL,
		        		    data : {
		        			index : index,
		        			maxRecords : maxRecords,
		        			location : location,
		        			category : category,
		        			subcategory : subcategory,
		        			department : department,
		        			section : section,
		        			brand : brand,
		        			zone : zone,
		        			searchName : name
		        				},
		        			beforeSend: function(xhr){                    
		        		    $("#loading").css("display","block");
		        			$("#mainDiv").addClass("disabled");
		        		    },
		        			success : function(result) {
		        			  $("#right-side").html(result);
		        			 // if(id != undefined && id != "")
			   						activeMenu(id);
		        		      $("#loading").css("display","none");
		        			  $("#mainDiv").removeClass('disabled');
		        				},
		        			error : function(jqXHR, textStatus, errorThrown)  {
		        			  errorCode(jqXHR.status);
		        		 	  $("#loading").css("display","none");
		        			  $("#mainDiv").removeClass('disabled');
		        					}
		        				});
					 }
					 catch(e)
					 	{
					 	        errorCode(e);
					 }
		        		}

				
				
				function searchPriceUpdate(name,searchCategory,index,flowLocation){
                          debugger;
					try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
					
					 var contextPath = $("#contextPath").val();
					 $("#Error").text("");
			 		    $("#Success").text("");
			 		    
			 		   name="";
			 				if($("#searchPriceUpdate").length>0)
			 				name = $("#searchPriceUpdate").val().trim();
			 		    
					// var storeLocation = $("#outletLocation").val();
					
					 
					 var maxRecords = 10;
						 if($("#maxRecords").length>0)
							 maxRecords = $("#maxRecords").val();
						var location = "";
					if($("#priceoutletLocation").length > 0)
						location = $("#priceoutletLocation").val();
					var productCategory = "";
					if($("#outletCategoryId").length > 0)
						productCategory = $("#outletCategoryId").val();
					var subcategory = "";
					if($("#priceoutletSubcategory").length > 0)
						subcategory = $("#priceoutletSubcategory").val();
					var brand = "";
					if($("#outletBrandIdPrice").length > 0)
						brand = $("#outletBrandIdPrice").val();
					var department = "";
					if($("#priceoutletDepartmentId").length > 0)
						department = $("#priceoutletDepartmentId").val();
					var supplierid = "";
					if($("#outletSupplierId").length > 0)
						supplierid = $("#outletSupplierId").val();
					var status = "";
					if($("#status").length > 0)
						status = $("#status").val();
					var zone = "";
	      	    	if($("#outletZone").length > 0)
	      	    		zone = $("#outletZone").val();
					
						// written by manasa
					 var allLocationsList = [];
					 var length = $('#priceoutletLocation').children('option').length;
					 console.log(length)
				      	$('#priceoutletLocation option').each(function() { 
				      		allLocationsList.push( $(this).attr('value'));
				      	   
				      	});
					
					 console.log(allLocationsList)
					// written by manasa
						 var  locationList="";
					      	for(i=1;i<allLocationsList.length;i++)
					      		{
					      		locationList =locationList+ allLocationsList[i]+',';
					      		}
					   
					    
					      	console.log(locationList)
				 
					
					 URL = contextPath + "/outletMaster/searchPriceUpdate.do";
						$.ajax({
							type: "GET",
							url : URL,
							/* async : false, */
							data : {
								index : index,
								maxRecords :maxRecords,
								location : location,
								productCategory : productCategory,
								subcategory : subcategory,
								brand : brand,
								department : department,
								supplierid : supplierid,
								status : status,
								searchName : name,
								zone : zone,
								locationList : locationList,
								flowLocation : flowLocation
							},
							beforeSend: function(xhr){                    
					   	   		$("#loading").css("display","block");
					   	   		$("#mainDiv").addClass("disabled");
					   	   	},
							success : function(result) {
								$('#right-side').html(result);
								/*
								 * if($("#searchSKU").val != "")
								 * $("#pagination").css("display","none"); else
								 * $("#pagination").css("display","block");
								 */
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							},
							error : function(jqXHR, textStatus, errorThrown)  {
								 errorCode(jqXHR.status);
								 $("#loading").css("display","none");
					 			 $("#mainDiv").removeClass('disabled');
							}
						});
						
					}
					catch(e)
						{
						        errorCode(e);
					}
				}
				
				
				
				
			/*
			 * function viewBulkPriceUpdate(id,index){
			 * 
			 * try{ var online = window.navigator.onLine; if(!online) {
			 * alert("Check your internet connection,Please try agian after some
			 * time."); return; }
			 * 
			 * 
			 * var contextPath = $("#contextPath").val(); $("#Error").text("");
			 * $("#Success").text("");
			 * 
			 * var name="" if($("#searchBulkPriceUpdate").length>0) name =
			 * $("#searchBulkPriceUpdate").val().trim();
			 *  // var storeLocation = $("#outletLocation").val(); URL =
			 * contextPath + "/outletMaster/viewBulkPriceUpdate.do"; var
			 * maxRecords = 10; if($("#maxRecords").length>0) maxRecords =
			 * $("#maxRecords").val(); var location = "";
			 * if($("#priceoutletLocation").length > 0) location =
			 * $("#priceoutletLocation").val(); var productCategory = "";
			 * if($("#outletCategoryId").length > 0) productCategory =
			 * $("#outletCategoryId").val(); var subcategory = "";
			 * if($("#priceoutletSubcategory").length > 0) subcategory =
			 * $("#priceoutletSubcategory").val(); var brand = "";
			 * if($("#outletBrandIdPrice").length > 0) brand =
			 * $("#outletBrandIdPrice").val(); var department = "";
			 * if($("#priceoutletDepartmentId").length > 0) department =
			 * $("#priceoutletDepartmentId").val(); var supplierid = "";
			 * if($("#outletSupplierId").length > 0) supplierid =
			 * $("#outletSupplierId").val(); var status = "";
			 * if($("#status").length > 0) status = $("#status").val(); var zone =
			 * ""; if($("#outletZone").length > 0) zone =
			 * $("#outletZone").val();
			 * 
			 * //written by manasa var allLocationsList = []; var length =
			 * $('#priceoutletLocation').children('option').length;
			 * console.log(length) $('#priceoutletLocation
			 * option').each(function() { allLocationsList.push(
			 * $(this).attr('value'));
			 * 
			 * });
			 * 
			 * //written by manasa var locationList=""; for(i=1;i<allLocationsList.length;i++) {
			 * locationList =locationList+ allLocationsList[i]+','; }
			 * console.log(locationList)
			 * 
			 * $.ajax({ type: "GET", url : URL, async : false, data : { index :
			 * index, maxRecords :maxRecords, location : location,
			 * productCategory : productCategory, subcategory : subcategory,
			 * brand : brand, department : department, supplierid : supplierid,
			 * status : status, searchName : name, zone : zone, locationList :
			 * locationList }, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success : function(result) {
			 * $('#right-side').html(result); activeMenu(id);
			 * if($("#searchSKU").val != "")
			 * $("#pagination").css("display","none"); else
			 * $("#pagination").css("display","block");
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } });
			 *  } catch(e) { errorCode(e); } }
			 * 
			 * function newBulkPriceupdate(id){ try{
			 * 
			 * //purpose:for checking internet conection var online =
			 * window.navigator.onLine; if(!online){ alert("Check your internet
			 * connection,Please try agian after some time."); return; } var
			 * contextPath = $('#contextPath').val(); var URL = contextPath +
			 * "/outletMaster/newBulkPriceupdate.do"; $.ajax({ type : "GET", url :
			 * URL, data : {}, beforeSend: function(xhr){
			 * $("#loading").css("display","block");
			 * $("#mainDiv").addClass("disabled"); }, success :
			 * function(result){ $('#right-side').html(result); //
			 * openMenu("loyaltyProgram", "ulLoyaltyProgram",0); if(id !=
			 * undefined && id != "") activeMenu(id);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); }, error : function(jqXHR,
			 * textStatus, errorThrown) { errorCode(jqXHR.status);
			 * $("#loading").css("display","none");
			 * $("#mainDiv").removeClass('disabled'); } }); } catch(e) {
			 * errorCode(e); } }
			 */
				function viewBulkPriceUpdate(id,index,flowLocation){
					debugger;
					try{
						// debugger;
						var online = window.navigator.onLine;
						if(!online)
						{
							alert("Check your internet connection,Please try agian after some time.");
							return;
						}


						var contextPath = $("#contextPath").val();
						$("#Error").text("");
						$("#Success").text("");
						
						
                          var dateTime = getCurrentDate();
		    	    	  var date = dateTime.split(' ');
		    	    	  date = date[0].split('/');
		    	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
						if(flowLocation ==  null ||  flowLocation  ==  undefined){
							flowLocation = "";
						}

						var   name=""
							if($("#searchBulkPriceUpdate").length>0)
								name = $("#searchBulkPriceUpdate").val().trim();

						// var storeLocation = $("#outletLocation").val();
						URL = contextPath + "/outletMaster/viewBulkPriceUpdate.do";
						var maxRecords = 10;
						if($("#maxRecords").length>0)
							maxRecords = $("#maxRecords").val();
						var location = "";
						if($("#outletLocation").length > 0)
							location = $("#outletLocation").val();
						var productCategory = "";
						if($("#outletCategoryId").length > 0)
							productCategory = $("#outletCategoryId").val();
						var subcategory = "";
						if($("#priceoutletSubcategory").length > 0)
							subcategory = $("#priceoutletSubcategory").val();
						var brand = "";
						if($("#outletBrandIdPrice").length > 0)
							brand = $("#outletBrandIdPrice").val();
						var department = "";
						if($("#priceoutletDepartmentId").length > 0)
							department = $("#priceoutletDepartmentId").val();
						var supplierid = "";
						if($("#outletSupplierId").length > 0)
							supplierid = $("#outletSupplierId").val();
						var status = "";
						if($("#status").length > 0)
							status = $("#status").val();
						var zone = "";
						if($("#outletZone").length > 0)
							zone = $("#outletZone").val();

		    	    	 

						var startDate = $("#from").val();
						if(startDate != undefined && startDate.length > 0){
							startDate = $("#from").val();
							}else{
							startDate = formatedDate;	
							}
						var endDate = $("#to").val();
						if(endDate != undefined && endDate.length > 0){
							endDate  = $("#to").val();
							}else{
							endDate = formatedDate;	
							}

						// written by manasa


						var allLocationsList = [];
						console.log(length)
						if(location === "")
						{
							var length = $('#outletLocation').children('option').length;

							$('#outletLocation option').each(function() { 
								allLocationsList.push( $(this).attr('value'));

							});
						}

						// written by manasa
						var  locationList="";
						for(i=1;i<allLocationsList.length;i++)
						{
							locationList =locationList+ allLocationsList[i]+',';
						}
						console.log(locationList)

						$.ajax({
							type: "GET",
							url : URL,
							/* async : false, */
							data : {
								index : index,
								maxRecords :maxRecords,
								location : location,
								productCategory : productCategory,
								subcategory : subcategory,
								brand : brand,
								department : department,
								supplierid : supplierid,
								status : status,
								searchName : name,
								zone : zone,
								startDate : startDate,
								endDate : endDate,
								locationList : locationList,
								flowLocation : flowLocation
							},
							beforeSend: function(xhr){                    
								$("#loading").css("display","block");
								$("#mainDiv").addClass("disabled");
							},
							success : function(result) {
								$('#right-side').html(result);
								activeMenu(id);

								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							},
							error : function(jqXHR, textStatus, errorThrown)  {
								errorCode(jqXHR.status);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							}
						});

					}
					catch(e)
					{
						errorCode(e);
					}
				}
				function newBulkPriceupdate(id){
					try{

						// purpose:for checking internet conection
						var online = window.navigator.onLine;
						if(!online){
							alert("Check your internet connection,Please try agian after some time.");
							return;
						}

						var maxRecords = 10;
						if($("#maxRecords").length>0)
							maxRecords = $("#maxRecords").val();
						var   name=""
							if($("#searchBulkPriceUpdate").length>0)
								name = $("#searchBulkPriceUpdate").val().trim();
						var contextPath = $('#contextPath').val();
						var URL = contextPath + "/outletMaster/newBulkPriceupdate.do";
						$.ajax({
							type : "GET",
							url : URL,
							data : {},
							beforeSend: function(xhr){                    
								$("#loading").css("display","block");
								$("#mainDiv").addClass("disabled");
							},
							success : function(result){
								$('#right-side').html(result);
								$("#maxRecords").val(maxRecords);
								$("#searchBulkPriceUpdate").val(name);
								if(id != undefined && id != "")
									activeMenu(id);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							},
							error : function(jqXHR, textStatus, errorThrown) {
								errorCode(jqXHR.status);
								$("#maxRecords").val(maxRecords);
								$("#searchBulkPriceUpdate").val(name);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							}
						});
					}
					catch(e)
					{
						errorCode(e);
					}
				} 
				
				function printInvoiceDetails(invoiceRefNo,operation){
					// debugger
					try{
						var online = window.navigator.onLine;
							if(!online)
						        {
							 alert("Check your internet connection,Please try agian after some time.");
						  	 return;
						       }

					var op = $("#operation").val();
					var location = $("#warehouse_location").val();
					var contextPath = $("#contextPath").val();
					URL = contextPath + "/procurement/printInvioceDetails.do";
						$.ajax({
							type: "GET",
							url : URL,
							data : {
								Invoice_Ref : invoiceRefNo,
								operation : operation
							},
							beforeSend: function(xhr){                    
					   			$("#loading").css("display","block");
					   			$("#mainDiv").addClass("disabled");
					   		  },
							success : function(result) {
								  data=JSON.parse(JSON.stringify(result));
								  messageStatus= JSON.stringify(result);
									var parsed_json = JSON.parse(messageStatus);
									var error = parsed_json.err;
									if(error != undefined && error !=""){
										 $("#Error").html(error);
									}
								  var anchor = document.createElement('a');
								  anchor.href = data.urlOfPdf;
								  anchor.target = '_blank';
								  // anchor.download = '';
								  anchor.click();
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled')
							},
							error : function(jqXHR, textStatus, errorThrown)  {
								 errorCode(jqXHR.status);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							}
						});
					}
					catch(e)
						{
						        errorCode(e);
					}
				}
				
				
				function viewEvents(id,index,menu){
					try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
					if(menu == undefined)
					 if((($("#searchEventsId").length > 0 && $("#searchEventsId").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != "") || ($("#maxRecords").length > 0  && $("#maxRecords").val() != 10))  || index != '0'){
						searchEvents($("#searchEventsId").val(), 'searchEvents',index);
						return;
					}
					var maxRecords = "10";
					if(menu == undefined)
					if($("#maxRecords").length > 0)
						maxRecords = $("#maxRecords").val();
					var contextPath = $("#contextPath").val();
				    URL = contextPath + "/b2c/viewEvents.do";
						$.ajax({
							type: "GET",
							url : URL,
							data : {
								index : index,
								maxRecords : maxRecords
							},
							beforeSend: function(xhr){                    
					   			$("#loading").css("display","block");
					   			$("#mainDiv").addClass("disabled");
					   		  },
							success : function(result) {
								$("#right-side").html(result);
								if(id != undefined && id != "")
									activeMenu(id);
								openMenu("lib2cConfig","ulb2cConfig",0);
// $("#type").val(type);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							},
							error : function(jqXHR, textStatus, errorThrown)  {
								 errorCode(jqXHR.status);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							}
						});
					}
					catch(e)
						{
						        errorCode(e);
					}
				}
				
				
				function newEvent(id){

					try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
			 		 var contextPath = $("#contextPath").val();
			 		 URL = contextPath + "/b2c/newEvent.do";
			 			$.ajax({
			 				type: "GET",
			 				url : URL,
			 				data : {
			 				},
			 				beforeSend: function(xhr){                    
			 		   			$("#loading").css("display","block");
			 		   			$("#mainDiv").addClass("disabled");
			 		   		  },
			 				success : function(result) {
			 					$("#right-side").html(result);
			 					if(id != undefined)
			 						activeMenu(id);
			 					openMenu("lib2cConfig","ulb2cConfig",0);
			 					$("#loading").css("display","none");
			 					$("#mainDiv").removeClass('disabled');
			 				},
			 				error : function(jqXHR, textStatus, errorThrown)  {
			 					 errorCode(jqXHR.status);
			 					$("#loading").css("display","none");
			 				$("#mainDiv").removeClass('disabled');
			 				}
			 			});
			 			
					}
					catch(e)
						{
						        errorCode(e);
					}
			 	}
				
				function newShoppingLists(id){
					try{
						var online = window.navigator.onLine;
							if(!online)
						        {
							 alert("Check your internet connection,Please try agian after some time.");
						  	 return;
						       }
			 		 var contextPath = $("#contextPath").val();
			 		 URL = contextPath + "/b2c/newShoppingList.do";
			 			$.ajax({
			 				type: "GET",
			 				url : URL,
			 				data : {
			 				},
			 				beforeSend: function(xhr){                    
			 		   			$("#loading").css("display","block");
			 		   			$("#mainDiv").addClass("disabled");
			 		   		  },
			 				success : function(result) {
			 					$("#right-side").html(result);
			 					if(id != undefined)
			 						activeMenu(id);
			 					openMenu("lib2cConfig","ulb2cConfig",0);
			 					$("#loading").css("display","none");
			 					$("#mainDiv").removeClass('disabled');
			 				},
			 				error : function(jqXHR, textStatus, errorThrown)  {
			 					 errorCode(jqXHR.status);
			 					$("#loading").css("display","none");
			 				$("#mainDiv").removeClass('disabled');
			 				}
			 			});
					}
					catch(e)
						{
						        errorCode(e);
					}
			 	}
				
				/*
				 * function validatestockverificationform(operation){
				 * if($("#outletLocation").val() == ""){
				 * $("#Error").html("Select Location") focusDiv("Error");
				 * return; } if($("#from").val() == ""){
				 * $("#Error").html("Select Start Date") focusDiv("Error");
				 * return; } if($("#to").val() == ""){ $("#Error").html("Select
				 * End Date") focusDiv("Error"); return; }
				 * if($("#approvedBy").val() == ""){ $("#Error").html("Approved
				 * By Required") focusDiv("Error"); return; }
				 * 
				 * var location = ""; if($("#outletLocation").length > 0)
				 * location = $("#outletLocation").val(); else {
				 * $("#Error").html("Location Recquired") focusDiv("Error");
				 * return; } var zone = ""; if($("#outletZone").length > 0) zone =
				 * $("#outletZone").val(); var startTime = "00:00:00";
				 * if($("#startTime").length > 0) startTime =
				 * $("#startTime").val(); var endTime = "00:00:00";
				 * if($("#endTime").length > 0) endTime = $("#endTime").val();
				 * var startdate = ""; if($("#from").length > 0) startdate =
				 * $("#from").val()+" "; else { $("#Error").html("Start Date
				 * Required") focusDiv("Error"); return; } var enddate = "";
				 * if($("#to").length > 0) enddate = $("#to").val()+" "; else {
				 * $("#Error").html("End Date Required") focusDiv("Error");
				 * return; } var category = ""; if($("#outletCategory").length >
				 * 0) category = $("#outletCategory").val(); var subcategory =
				 * ""; if($("#outletSubcategory").length > 0) subcategory =
				 * $("#outletSubcategory").val(); var brand = "";
				 * if($("#outletBrandId").length > 0) brand =
				 * $("#outletBrandId").val(); var department = ""; var
				 * approvedBy=""; if($("#approvedBy").length>0)
				 * approvedBy=$("#approvedBy").val(); else {
				 * $("#Error").html("Approved By Required") focusDiv("Error");
				 * return; } if($("#outletDepartmentId").length > 0) department =
				 * $("#outletDepartmentId").val(); var flowUnder ="";
				 * if($("#flowUnder").length > 0) flowUnder =
				 * $("#flowUnder").val(); var verificationcode ="";
				 * if($("#verification_code").length > 0) verificationcode =
				 * $("#verification_code").val(); var finalobj = {}; var status =
				 * ""; if($("#searchType").length > 0) status =
				 * $("#searchType").val(); startdate =
				 * startdate.concat(startTime); enddate =
				 * enddate.concat(endTime); finalobj.location= location;
				 * finalobj.productcategory= category; finalobj.subcategory=
				 * subcategory; finalobj.brand= brand; finalobj.department=
				 * department; finalobj.startDateStr= startdate;
				 * finalobj.endDateStr= enddate; finalobj.approvedBy=
				 * approvedBy; finalobj.flowUnder= flowUnder; finalobj.status=
				 * status; finalobj.verification_code= verificationcode; var
				 * formData = JSON.stringify(finalobj); var contextPath =
				 * $("#contextPath").val(); URL = contextPath +
				 * "/inventorymanager/createstockverification.do"; $.ajax({
				 * type: "POST", url : URL, contentType: "application/json",
				 * data : formData, beforeSend: function(xhr){
				 * $("#loading").css("display","block");
				 * $("#mainDiv").addClass("disabled"); }, success :
				 * function(result) { $("#right-side").html(result);
				 * if(flowUnder == "outlet"){
				 * openMenu("liInventoryManagement","ulInventoryManagement",0);
				 * openMenu("storedetails", "ulstoredetails",1); } else
				 * if(flowUnder == "warehouse"){
				 * openMenu("liStockManagement","ulStockManagement",0);
				 * openMenu("warehouseDetails", "ulwarehouseDetails",1); }
				 * 
				 * $("#loading").css("display","none");
				 * $("#mainDiv").removeClass('disabled'); }, error :
				 * function(jqXHR, textStatus, errorThrown) {
				 * errorCode(jqXHR.status); $("#loading").css("display","none");
				 * $("#mainDiv").removeClass('disabled'); } }); }
				 */
				
				
				/*function validatestockverificationform(operation){
					

					try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
					var daynameslist=[];
					 var selected = "";
					if($("#outletLocation").val() == ""){
						$("#Error").html("Select Location")	
						focusDiv("Error");
						return;
					}
					if($("#from").val() == ""){
						$("#fromError").html("Select Start Date")
						$("#from").focus();
							
						
						// focusDiv("Error");
						return;
					}
					if($("#to").val() == ""){
						$("#to").focus();
						$("#toError").html("Select End Date")	
						// focusDiv("Error");
						return;
					}
					if($("#approvedBy").val() == ""){
						$("#approvedBy").focus();
						$("#approvedByError").html("Approved By Required")	
						// focusDiv("Error");
						return;
					}
					
					var location = "";
	    	    	if($("#outletLocation").length > 0)
	    	    		location = $("#outletLocation").val();
	    	    	else
	    	    		{
	    	    		$("#Error").html("Location Recquired")	
	    				focusDiv("Error");
	    				return;
	    	    		}
	    	    	var zone = "";
	    	    	if($("#outletZone").length > 0)
	    	    		zone = $("#outletZone").val();
	    	    	var startTime = "00:00:00";
	    	    	if($("#startTime").length > 0)
	    	    	startTime = $("#startTime").val();
	    	    	var endTime = "00:00:00";
	    	    	if($("#endTime").length > 0)
	    	    	endTime = $("#endTime").val();
	    	    	var startdate = "";
	    	    	if($("#from").length > 0)
	    	    		startdate = $("#from").val()+" ";
	    	    	else
    	    		{
    	    		$("#Error").html("Start Date Required")	
    				focusDiv("Error");
    				return;
    	    		}
	    	    	var enddate = "";
	    	    	if($("#to").length > 0)
	    	    		enddate = $("#to").val()+" ";
	    	    	else
    	    		{
    	    		$("#Error").html("End Date Required")	
    				focusDiv("Error");
    				return;
    	    		}
	    	    	var category = "";
	    	    	if($("#outletCategory").length > 0)
	    	    		category = $("#outletCategory").val();
	    	    	var subcategory = "";
	    	    	if($("#outletSubcategory").length > 0)
	    	    		subcategory = $("#outletSubcategory").val();
	    	    	var brand = "";
	    	    	if($("#outletBrandId").length > 0)
	    	    		brand = $("#outletBrandId").val();
	    	    	var department = "";
	    	    	var approvedBy="";
	    	    	if($("#approvedBy").length>0)
	    	    		approvedBy=$("#approvedBy").val();
	    	    	else
    	    		{
    	    		$("#Error").html("Approved By Required")	
    				focusDiv("Error");
    				return;
    	    		}
	    	    	if($("#outletDepartmentId").length > 0)
	    	    		department = $("#outletDepartmentId").val();
	    	    	var flowUnder ="";
	    	    	if($("#flowUnder").length > 0)
	    	    	flowUnder = $("#flowUnder").val();
	    	    	var verificationcode ="";
	    	    	if($("#verification_code").length > 0)
	    	    		verificationcode = $("#verification_code").val();
	    	    	var finalobj = {};
	    	    	var status = "";
	    	    		if($("#searchType").length > 0)
	    	    			status = $("#searchType").val();
	    	    	startdate = startdate.concat(startTime);
	    	    	enddate = enddate.concat(endTime);
	    	    	finalobj.location= location;
	    	    	finalobj.productcategory= category;
	    	    	finalobj.subcategory= subcategory;
	    	    	finalobj.brand= brand;
	    	    	finalobj.department= department;
	    	    	finalobj.startDateStr= startdate;
	    	    	finalobj.endDateStr= enddate;
	    	    	finalobj.approvedBy= approvedBy;
	    	    	finalobj.flowUnder= flowUnder;
	    	    	finalobj.status= status;
	    	    	finalobj.startTimeStr= $("#startTime").val();
	    	    	finalobj.endTimeStr= $("#endTime").val();
	    	    	finalobj.description= $("#description").val();
	    	    	
	    	    	
	    	    	if($("#allowMultipleDays").is(':checked'))
	    	    		finalobj.allowMultiplesForDay =  "true";
		    	    	else
		    	    	finalobj.allowMultiplesForDay = "false";
	    	    	
// finalobj.allowMultiplesForDay =
// $('input[name=allowMultipleDays]:checked').val();
// $('input[name="allowMultipleDays"]:checked').val();
	    	    	
	    	    	// finalobj.startTime= $("#startTime").val();
	    	    	// debugger
	    	    	var maxRecords = 10;
			    	  if($("#maxRecords").length > 0)
			    		  maxRecords = $("#maxRecords").val();
			    	  finalobj.maxRecords = maxRecords;
	    	    var repetitive=false;
	    	    	
	    	    	if($("#repetitive").is(':checked'))
	    	    	finalobj.isPeriodic =  "true";
	    	    	else
	    	    		finalobj.isPeriodic = "false";
	    	    		// $("#repetitive").prop( "checked", true );
	    	    	
	    	    	// finalobj.isPeriodic
					// =$('input[name="repetitive"]:checked').val();
	    	    	repetitive = $("#repetitive").is(":checked") ? "true" : "false";	
	    	    	finalobj.isPeriodic=repetitive
	    	    	// alert(repetitive);
	    	    	finalobj.periodicType = $('input[name="repradio"]:checked').val();
	    	    	var perodic=finalobj.periodicType;
	    	    	// alert(perodic)
	    	    	if(perodic === "Monthly")
	    	    		{
	    	    			finalobj.periodicdays = $("#month").val();	
	    	    			finalobj.specificDate = $("#day").val();
	    	    		}
	    	    	
	    	    	else if(perodic == "Daily")
	    	    		{
	    	    		
	    	    		finalobj.periodicdays = $("#dailiDay").val();
	    	    		if($("#dailiDay").val() == "")
	    	    			{
	    	    			alert("Enter Number of  days");
	    	    			$("#dailiDay").focus();
	    	    			return;
	    	    			}
	    	    		}
	    	    	else if(perodic == "Weekly")
	    	    		{
	    	    		if($("#weekDay").val() == "")
    	    			{
    	    			alert("Enter Number of Week");
    	    			$("#weekDay").focus();
    	    			return;
    	    			}
	    	    		
	    	    		finalobj.periodicdays = $("#weekDay").val();
	    	    		// debugger
	    	    	   		var selectedLabel = $('#selectlabel').val();
	    	    	   		var atLeastOneIsChecked = $('input[name="selectall"]:checked').length > 0;
	    	    	   		// alert(atLeastOneIsChecked);
	    	    	   		var selectedLength = $('input[name="selectall"]:checked').length;
	    	    	   		var selectedID = $("#selectall").length;
	    	    	   		if(selectedLength == 1 && selectedID == 0)
	    	    	   			atLeastOneIsChecked = false;
	    	    	   		if(!atLeastOneIsChecked){
	    	    	   			alert(selectedLabel+" "+name);
	    	    	   			return false;
	    	    	   		}
	    	    	   		else{
	    	    	   			// debugger
	    	    	   			var selectedLength = $('input[name="selectall"]:checked');
	    	    	   		    $(selectedLength).each(function(){
	    	    	   		    	if($(this).attr("onClick") != "selectAll(this)")
	    	    	   		    		selected += $(this).val()+",";
	    	    	   		    	// selected += $(this).val().replace(/\//g,
									// '')+",";
	    	    	   			});
	    	    	   			selected = selected.slice(0,-1);// Remove last
																// comma
	    	    	   			
	    	    	   		var idsArray= selected.split(",");
	  	    	    	   			for(var i=0;i<idsArray.length;i++)
	    	    	   				{
	    	    	   				daynameslist.push(idsArray[i]);
	    	    	   				
	    	    	   				// alert(daynameslist)
	    	    	   				}
	    	    		}
	    	    		}
	    	    	
	    	    	
	    	    	finalobj.verification_code= verificationcode;
	    	    	finalobj.daysNameList=daynameslist;
	    	    	 var formData = JSON.stringify(finalobj);
	    	    	 console.log(formData);
	    	    	 var contextPath = $("#contextPath").val();
	            	 URL = contextPath + "/inventorymanager/createstockverification.do";
	            	 $.ajax({
	           			type: "POST",
	           			url : URL,
	           			contentType: "application/json",
	           			data : 	formData ,
	           			beforeSend: function(xhr){                    
	           	   			$("#loading").css("display","block");
	           	   			$("#mainDiv").addClass("disabled");
	           	   		  },
					   		success : function(result) {
				  				$("#right-side").html(result);
				  				if(flowUnder == "outlet"){
		    	    				openMenu("liInventoryManagement","ulInventoryManagement",0);
		    	    				openMenu("storedetails", "ulstoredetails",1);
		    	    			}
		    	    			else if(flowUnder == "warehouse"){
		    	    				openMenu("liStockManagement","ulStockManagement",0);
		    	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
		    	    			}
		    	    		
				  				$("#loading").css("display","none");
				  				$("#mainDiv").removeClass('disabled');
							},
							error : function(jqXHR, textStatus, errorThrown)  {
								errorCode(jqXHR.status);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							}
					});
					}
					catch(e)
						{
						        errorCode(e);
					}
				}*/
				
                   function validatestockverificationform(operation){
					debugger
					try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					  }
					var daynameslist=[];
					var selected = "";
					  if($("#outletLocation").val() == ""){
						$("#Error").html("Select Location")	
						focusDiv("Error");
						return;
					  }
					 if($("#from").val() == ""){
						$("#fromError").html("Select Start Date")
						$("#from").focus();
					// focusDiv("Error");
						return;
					 }
					if($("#to").val() == ""){
						$("#to").focus();
						$("#toError").html("Select End Date")	
						// focusDiv("Error");
						return;
					}
					if($("#approvedBy").val() == ""){
						$("#approvedBy").focus();
						$("#approvedByError").html("Approved By is Required")	
						// focusDiv("Error");
						return;
					}
					else if($("#approvedBy").val().length>30){
					$("#approvedByError").html("Approved By should be less then 30 characters");
					$("#approvedBy").focus();
					return false;
					}else{
					$("#approvedByError").html("");
					}	
				
					var location = "";
	    	    	if($("#outletLocation").length > 0)
	    	    		location = $("#outletLocation").val();
	    	    	else
	    	    		{
	    	    		$("#Error").html("Location Recquired")	
	    				focusDiv("Error");
	    				return;
	    	    		}
	    	    	var zone = "";
	    	    	if($("#outletZone").length > 0)
	    	    		zone = $("#outletZone").val();
	    	    	var startTime = "00:00:00";
	    	    	if($("#startTime").length > 0)
	    	    	startTime = $("#startTime").val();
	    	    	var endTime = "00:00:00";
	    	    	if($("#endTime").length > 0)
	    	    	endTime = $("#endTime").val();
	    	    	var startdate = "";
	    	    	if($("#from").length > 0)
	    	    		startdate = $("#from").val()+" ";
	    	    	else
    	    		{
    	    		$("#Error").html("Start Date Required")	
    				focusDiv("Error");
    				return;
    	    		}
	    	    	var enddate = "";
	    	    	if($("#to").length > 0)
	    	    		enddate = $("#to").val()+" ";
	    	    	else
    	    		{
    	    		$("#Error").html("End Date Required")	
    				focusDiv("Error");
    				return;
    	    		}
	    	    	
	    	    debugger
    	    	if(startdate!=undefined || startdate!= "" && enddate!=undefined || enddate!= ""){
    	    		 var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
      	    		 if(noOfDays < 0){
      	    			 $("#toDateError").html("End Date can't be less than Start Date");
      	    			 return;
      	    		 }else{
      	    	  	   	 $("#toDateError").html(" ");
      	    	  	 } 
    	    	 }
	    	    	
	    	    	var category = "";
	    	    	if($("#outletCategory").length > 0)
	    	    		category = $("#outletCategory").val();
	    	    	var subcategory = "";
	    	    	if($("#outletSubcategory").length > 0)
	    	    		subcategory = $("#outletSubcategory").val();
	    	    	var brand = "";
	    	    	if($("#outletBrandId").length > 0)
	    	    		brand = $("#outletBrandId").val();
	    	    	var department = "";
	    	    	var approvedBy="";
	    	    	if($("#approvedBy").length>0)
	    	    		approvedBy=$("#approvedBy").val();
	    	    	else
    	    		{
    	    		$("#Error").html("Approved By Required")	
    				focusDiv("Error");
    				return;
    	    		}
	    	    	if($("#outletDepartmentId").length > 0)
	    	    		department = $("#outletDepartmentId").val();
	    	    	var flowUnder ="";
	    	    	if($("#flowUnder").length > 0)
	    	    	flowUnder = $("#flowUnder").val();
	    	    	var group ="";
	    	    	if($("#outletProductGroup").length > 0)
	    	    		group = $("#outletProductGroup").val();
	    	    	var verificationcode ="";
	    	    	if($("#verification_code").length > 0)
	    	    		verificationcode = $("#verification_code").val();
	    	    	
	    	    	if($("#description").val().length>250){
	    	    		$("#description").focus();
						$("#eventdescriptionError").html("Description should be less then 250 characters");
						return false;
						}else{
						$("#eventdescriptionError").html("");
						}	
	    	    	
	    	    	var finalobj = {};
	    	    	var status = "";
	    	    		if($("#searchType").length > 0)
	    	    			status = $("#searchType").val();
	    	    	startdate = startdate.concat(startTime);
	    	    	enddate = enddate.concat(endTime);
	    	    	finalobj.location= location;
	    	    	finalobj.productcategory= category;
	    	    	finalobj.subcategory= subcategory;
	    	    	finalobj.brand= brand;
	    	    	finalobj.department= department;
	    	    	finalobj.groupId= group;
	    	    	finalobj.startDateStr= startdate;
	    	    	finalobj.endDateStr= enddate;
	    	    	finalobj.approvedBy= approvedBy;
	    	    	finalobj.flowUnder= flowUnder;
	    	    	finalobj.status= status;
	    	    	finalobj.startTimeStr= $("#startTime").val();
	    	    	finalobj.endTimeStr= $("#endTime").val();
	    	    	finalobj.description= $("#description").val();
	    	    	
	    	    	
	    	    	if($("#allowMultipleDays").is(':checked'))
	    	    		finalobj.allowMultiplesForDay =  "true";
		    	    	else
		    	    	finalobj.allowMultiplesForDay = "false";
	    	    	
// finalobj.allowMultiplesForDay =
// $('input[name=allowMultipleDays]:checked').val();
// $('input[name="allowMultipleDays"]:checked').val();
	    	    	
	    	    	// finalobj.startTime= $("#startTime").val();
	    	    	// debugger
	    	    	var maxRecords = 10;
			    	  if($("#maxRecords").length > 0)
			    		  maxRecords = $("#maxRecords").val();
			    	  finalobj.maxRecords = maxRecords;
	    	    var repetitive=false;
	    	    	
	    	    	if($("#repetitive").is(':checked'))
	    	    	finalobj.isPeriodic =  "true";
	    	    	else
	    	    		finalobj.isPeriodic = "false";
	    	    		// $("#repetitive").prop( "checked", true );
	    	    	
	    	    	// finalobj.isPeriodic
					// =$('input[name="repetitive"]:checked').val();
	    	    	repetitive = $("#repetitive").is(":checked") ? "true" : "false";	
	    	    	finalobj.isPeriodic=repetitive
	    	    	// alert(repetitive);
	    	    	finalobj.periodicType = $('input[name="repradio"]:checked').val();
	    	    	var perodic=finalobj.periodicType;
	    	    	// alert(perodic)
	    	    	if(perodic === "Monthly")
	    	    		{
	    	    			finalobj.periodicdays = $("#month").val();	
	    	    			finalobj.specificDate = $("#day").val();
	    	    		}
	    	    	
	    	    	else if(perodic == "Daily")
	    	    		{
	    	    		
	    	    		finalobj.periodicdays = $("#dailiDay").val();
	    	    		if($("#dailiDay").val() == "")
	    	    			{
	    	    			alert("Enter Number of  days");
	    	    			$("#dailiDay").focus();
	    	    			return;
	    	    			}
	    	    		}
	    	    	else if(perodic == "Weekly")
	    	    		{
	    	    		if($("#weekDay").val() == "")
    	    			{
    	    			alert("Enter Number of Week");
    	    			$("#weekDay").focus();
    	    			return;
    	    			}
	    	    		
	    	    		finalobj.periodicdays = $("#weekDay").val();
	    	    		// debugger
	    	    	   		var selectedLabel = $('#selectlabel').val();
	    	    	   		var atLeastOneIsChecked = $('input[name="selectall"]:checked').length > 0;
	    	    	   		// alert(atLeastOneIsChecked);
	    	    	   		var selectedLength = $('input[name="selectall"]:checked').length;
	    	    	   		var selectedID = $("#selectall").length;
	    	    	   		if(selectedLength == 1 && selectedID == 0)
	    	    	   			atLeastOneIsChecked = false;
	    	    	   		if(!atLeastOneIsChecked){
	    	    	   			alert(selectedLabel+" "+name);
	    	    	   			return false;
	    	    	   		}
	    	    	   		else{
	    	    	   			// debugger
	    	    	   			var selectedLength = $('input[name="selectall"]:checked');
	    	    	   		    $(selectedLength).each(function(){
	    	    	   		    	if($(this).attr("onClick") != "selectAll(this)")
	    	    	   		    		selected += $(this).val()+",";
	    	    	   		    	// selected += $(this).val().replace(/\//g,
									// '')+",";
	    	    	   			});
	    	    	   			selected = selected.slice(0,-1);// Remove last
																// comma
	    	    	   			
	    	    	   		var idsArray= selected.split(",");
	  	    	    	   			for(var i=0;i<idsArray.length;i++)
	    	    	   				{
	    	    	   				daynameslist.push(idsArray[i]);
	    	    	   				
	    	    	   				// alert(daynameslist)
	    	    	   				}
	    	    		}
	    	    		}
	    	    	
	    	    	
	    	    	finalobj.verification_code= verificationcode;
	    	    	finalobj.daysNameList=daynameslist;
	    	    	 var formData = JSON.stringify(finalobj);
	    	    	 console.log(formData);
	    	    	 var contextPath = $("#contextPath").val();
	            	 URL = contextPath + "/inventorymanager/createstockverification.do";
	            	 $.ajax({
	           			type: "POST",
	           			url : URL,
	           			contentType: "application/json",
	           			data : 	formData ,
	           			beforeSend: function(xhr){                    
	           	   			$("#loading").css("display","block");
	           	   			$("#mainDiv").addClass("disabled");
	           	   		  },
					   		success : function(result) {
				  				$("#right-side").html(result);
				  				if(flowUnder == "outlet"){
		    	    				openMenu("liInventoryManagement","ulInventoryManagement",0);
		    	    				openMenu("storedetails", "ulstoredetails",1);
		    	    			}
		    	    			else if(flowUnder == "warehouse"){
		    	    				openMenu("liStockManagement","ulStockManagement",0);
		    	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
		    	    			}
				  				$("#loading").css("display","none");
				  				$("#mainDiv").removeClass('disabled');
							},
							error : function(jqXHR, textStatus, errorThrown)  {
								errorCode(jqXHR.status);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							}
					});
					}
					catch(e)
						{
						        errorCode(e);
					}
				}



				function countersByLocation(locationid,counter){
					// debugger
					try{
						var online = window.navigator.onLine;
							if(!online)
						        {
							 alert("Check your internet connection,Please try agian after some time.");
						  	 return;
						       }
					var contextPath = $('#contextPath').val();
					var location = "";
					if($("#"+locationid).length > 0)
						location = $("#"+locationid).val();
					  var URL = contextPath + "/reports/getCountersByLocation.do";
					  $.ajax({
						url : URL,
						data : {
							location : location
						},
						success : function(counters){
							// alert("Result:::"+counters);
							 var op = '<option value="" >ALL</option>';
							if(counters.length>0){
								
								$("#counter").html("");
								$("#counterError").html("");
								for(var i=0;i<counters.length;i++){
									op += '<option value="'+counters[i]+'">'+counters[i]+'</option>';
								}
								$("#"+counter).html(op);
							}else{
								$("#"+counter).html(op);
								// alert("Counters are not found in "+location+"
								// location");
								$("#counterError").html("Counters are not found in "+location+" location");
							}
						},
						error : function(jqXHR, textStatus, errorThrown) {
							// alert("Counters are not found in "+location+"
							// location");
							$("#counterError").html("Counters are not found in "+location+" location");
						}
					 });

					}
					catch(e)
						{
						        errorCode(e);
					}
				}
				
				function newstockverification(id){

					try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
			 		 var contextPath = $("#contextPath").val();
			 		 var flowUnder = "";
			 		 if($("#flowUnder").length > 0)
			 				flowUnder = $("#flowUnder").val();
			 		 URL = contextPath + "/inventorymanager/newstockverification.do";
			 			$.ajax({
			 				type: "GET",
			 				url : URL,
			 				data : {
			 					flowUnder : flowUnder,
			 				},
			 				
			 				beforeSend: function(xhr){                    
			 		   			$("#loading").css("display","block");
			 		   			$("#mainDiv").addClass("disabled");
			 		   		  },
			 				success : function(result) {
			 					
			 					$("#right-side").html(result);
			 					$("#loading").css("display","none");
			 					$("#mainDiv").removeClass('disabled');
			 				},
			 				error : function(jqXHR, textStatus, errorThrown)  {
			 					 errorCode(jqXHR.status);
			 					$("#loading").css("display","none");
			 				$("#mainDiv").removeClass('disabled');
			 				}
			 			});
					}
					catch(e)
						{
						        errorCode(e);
					}
			 	}
				
				
				function viewBusinessEnquiry(id,index,menu){

					try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
					if(menu == undefined)
					if((($("#searchBusinessEnquiry").length > 0 && $("#searchBusinessEnquiry").val().trim() != "") || ($("#from").length > 0 && $("#from").val().trim() != "") || ($("#to").length > 0 && $("#to").val().trim() != ""))  || index != '0'){
						searchBusinessEnquiry($("#searchBusinessEnquiry").val(), 'searchBusinessEnquiry',index);
						return;
					}
					var maxRecords = "10";
					if(menu == undefined)
						if($("#maxRecords").length > 0)
							maxRecords = $("#maxRecords").val();
					var contextPath = $("#contextPath").val();
					var location = "";
					if(menu == undefined)
						if($("#toLocation").length>0 && $("#toLocation").val != "select" && $("#toLocation").val != "-- Select --")
					 		location = $("#toLocation").val();
				   URL = contextPath+"/crm/viewBusinessEnquiry.do";
					
						$.ajax({
							type: "GET",
							url : URL,
							data : {
								index : index,
								maxRecords : maxRecords,
								location : location
							},
							beforeSend: function(xhr){                    
					   			$("#loading").css("display","block");
					   			$("#mainDiv").addClass("disabled");
					   		  },
							success : function(result) {
								$("#right-side").html(result);
								if(id != undefined && id != "")
								activeMenu(id);
								openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							},
							error : function(jqXHR, textStatus, errorThrown)  {
								 errorCode(jqXHR.status);
								$("#loading").css("display","none");
								$("#mainDiv").removeClass('disabled');
							}
						});
					}
						catch(e)
						{
						        errorCode(e);
					}
				}
				
				
				function newBusinessEnquiry(id){
					try{
						var online = window.navigator.onLine;
							if(!online)
						        {
							 alert("Check your internet connection,Please try agian after some time.");
						  	 return;
						       }
			 		 var contextPath = $("#contextPath").val();
			 		 URL = contextPath + "/crm/newBusinessEnquiry.do";
			 			$.ajax({
			 				type: "GET",
			 				url : URL,
			 				data : {
			 				},
			 				beforeSend: function(xhr){                    
			 		   			$("#loading").css("display","block");
			 		   			$("#mainDiv").addClass("disabled");
			 		   		  },
			 				success : function(result) {
			 					$("#right-side").html(result);
			 					if(id != undefined)
			 						activeMenu(id);
			 					openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
			 					$("#loading").css("display","none");
			 					$("#mainDiv").removeClass('disabled');
			 				},
			 				error : function(jqXHR, textStatus, errorThrown)  {
			 					 errorCode(jqXHR.status);
			 					$("#loading").css("display","none");
			 				$("#mainDiv").removeClass('disabled');
			 				}
			 			});
					}
					catch(e)
						{
						        errorCode(e);
					}
			 	}
				
				
				function viewCustomerWarrants(id, index,menu){
					
					try{
						var online = window.navigator.onLine;
							if(!online)
						        {
							 alert("Check your internet connection,Please try agian after some time.");
						  	 return;
						       }

					if(menu == undefined)
					if((($("#searchWarrant").length > 0 && $("#searchWarrant").val().trim() != "" )|| ($("#warrantFrom").length > 0 && $("#warrantFrom").val().trim() != "") || ($("#warrantTo").length > 0 && $("#warrantTo").val().trim() != ""))  || index != '0') {
						searchWarrant($("#searchWarrant").val(), 'searchWarrant',index);
						return;
					}
					var product = ""
					if(menu == undefined)
						if($("#product").length > 0)
							product = $("#product").val();
					var warehouse_location = ""
					if(menu == undefined)
			   			if($("#warehouse_location").length > 0)
			   				warehouse_location = $("#warehouse_location").val();
					var dealStatus = ""
					if(menu == undefined)
			   			if($("#dealStatus").length > 0)
			   				dealStatus = $("#dealStatus").val();
					var maxRecords = "10";
					if(menu == undefined)
						if($("#maxRecords").length > 0)
							maxRecords = $("#maxRecords").val();
					var contextPath = $('#contextPath').val();
					 var URL = contextPath + "/crm/viewCustomerWarrants.do";
					 $.ajax({
						type : "GET",
						url : URL,
						data : {
							index : index,
							maxRecords : maxRecords,
							product : product,
							warehouse_location : warehouse_location,
							dealStatus : dealStatus
						},
						beforeSend: function(xhr){                    
					   		$("#loading").css("display","block");
					   		$("#mainDiv").addClass("disabled");
					   	},
						success : function(result){
							if(id != undefined)
			  					activeMenu(id);
							openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
							$('#right-side').html(result);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
						},
						error : function(jqXHR, textStatus, errorThrown) {
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
							errorCode(jqXHR.status);
						}
					 });

					}
					catch(e)
						{
						        errorCode(e);
					}
				}
				
				function viewCustomerFeedback(id,index,menu){
					try{
						debugger;
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
					var location = "";
					var contextPath = $('#contextPath').val();
					if($("#location").length>0 && $("#location").val() != "")
			    		  location = $("#location").val();
				    var maxRecords = "10";
			    	  if($("#maxRecords").length > 0)
			    		  maxRecords = $("#maxRecords").val();
			    	var salesChannel = $("#feedbackChannel").val();
			    	  if(salesChannel==undefined)
			    		  salesChannel="";
			    	  
			    	  var feedbackCategory = $("#feedbackCategory").val();
			    	  if(feedbackCategory==undefined)
			    		  feedbackCategory="";
			    	  var startDate = $("#startdate").val();
			    	  if(startDate==undefined)
			    		  startDate="";
			    	  var endDate = $("#enddate").val();
			    	  if(endDate==undefined)
			    		  endDate="";
			    	  var search = $("#searchCustomerFeedback").val();
			    	  if(search==undefined)
			    		  search="";
			    	  var zone = $("#outletZone").val();
			    	  if(zone==undefined)
			    		  zone="";
			    	  
			    	  var noOfDays ="";
			    	  
			    	if(startDate !="" && endDate !=""){
			    		debugger
			    	   noOfDays = daydiff (parseDate(startDate), parseDate(endDate));
			 		   if(noOfDays < 0){
			 			 alert("End Date can't be less than Start Date");
			 		 }
			 	}
			    	  
			    	  if(menu=="clear"){
			    		  zone="";
			    		  search="";
			    		  location="";
			    		  salesChannel="";
			    		  feedbackCategory="";
			    		  startDate="";
			    		  endDate="";
			    	  }
			    	  
					 var URL = contextPath + "/crm/viewCustomerFeedback.do";
					 $.ajax({
						type : "GET",
						url : URL,
						data : {
							location:location,
							zone:zone,
							salesChannel:salesChannel,
							feedbackCategory:feedbackCategory,
							startDate:startDate,
							endDate:endDate,
							search:search,
						    startIndex: index,
		   	    			maxRecords : maxRecords,
		   	    			
						},
						beforeSend: function(xhr){                    
					   		$("#loading").css("display","block");
					   		$("#mainDiv").addClass("disabled");
					   	},
						success : function(result){
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
							if(id != undefined)
			  					activeMenu(id);
							$('#right-side').html(result);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
						},
						error : function(jqXHR, textStatus, errorThrown) {
							errorCode(jqXHR.status);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
						}
					 });
					}
					catch(e)
						{
						        errorCode(e);
					}
				}
				  
				function newCustomerFeedback(id,index){

					try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
					 var contextPath = $('#contextPath').val();
					 if($("#feedbackLocation").length>0)
			    		  location = $("#feedbackLocation").val();
			    	 var maxRecords = 10;
			    	  if($("#maxRecords").length > 0)
			    		  maxRecords = $("#maxRecords").val();
					 var URL = contextPath + "/crm/newCustomerFeedback.do";
					 $.ajax({
						type : "GET",
						url : URL,
						data : {
						    startIndex: index,
		  	    			maxRecords : maxRecords
						},
						beforeSend: function(xhr){                    
					   		$("#loading").css("display","block");
					   		$("#mainDiv").addClass("disabled");
					   	},
						success : function(result){
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
							if(id != undefined)
			  					activeMenu(id);
							$('#right-side').html(result);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
						},
						error : function(jqXHR, textStatus, errorThrown) {
							errorCode(jqXHR.status);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
						}
					 });
					}
					catch(e)
						{
						        errorCode(e);
					}
				}
				
				/*-- B2C ------*/
				// Created by Sreedhar
				// Updated by Soumya Vatte
				
		function viewFeaturedProducts(id,index){
			
			try{
				var online = window.navigator.onLine;
					if(!online)
				        {
					 alert("Check your internet connection,Please try agian after some time.");
				  	 return;
				       }
			
					if($("#searchFeaturedGroup").length >0 && $("#searchFeaturedGroup").val().trim()!=""){
						searchFeaturedProduct($("#searchFeaturedGroup").val(),'searchFeaturedGroup',index);
						return ;
					}
					var contextPath = $('#contextPath').val();
					var URL=contextPath + "/b2c/viewFeaturedProducts.do";
				
					$.ajax({
					
						type : "GET",
		   				url : URL,
		   				data : {
		   					index : index,
		   					maxRecords:10
		   				},
		   				beforeSend: function(xhr){                    
		   			   		$("#loading").css("display","block");
		   			   		$("#mainDiv").addClass("disabled");
		   			   	},
		   				success : function(result){
		   					$('#right-side').html(result);
		   					if(id != undefined)
			  					activeMenu(id);
							openMenu("lib2cConfig","ulb2cConfig",0);
							$('#right-side').html(result);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled')
		   				},
		   				error : function(jqXHR, textStatus, errorThrown) {
		   					errorCode(jqXHR.status);
		   					$("#loading").css("display","none");
		   					$("#mainDiv").removeClass('disabled');
		   				}
					});
			}
			catch(e)
				{
				        errorCode(e);
			}
				}
		
	function newFeaturedProductGroupMaster(id){
			try{
				var online = window.navigator.onLine;
					if(!online)
				        {
					 alert("Check your internet connection,Please try agian after some time.");
				  	 return;
				       }
			 var contextPath = $("#contextPath").val();
			 URL = contextPath + "/b2c/newFeaturedProductGroupMaster.do";
				$.ajax({
					type: "GET",
					url : URL,
					data : {
					},
					beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
					success : function(result) {
						$("#right-side").html(result);
						if(id != undefined)
							activeMenu(id);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					},
					error : function(jqXHR, textStatus, errorThrown)  {
						 errorCode(jqXHR.status);
						$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
					}
				});
			}
			catch(e)
				{
			  errorCode(e);
	}
  }
		
  function newNewarrivalProductGroupMaster(id){

			try{
			var online = window.navigator.onLine;
				if(!online)
			        {
				 alert("Check your internet connection,Please try agian after some time.");
			  	 return;
			       }

			 var contextPath = $("#contextPath").val();
			 URL = contextPath + "/b2c/newNewarrivalProductGroupMaster.do";
				$.ajax({
					type: "GET",
					url : URL,
					data : {
					},
					beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
					success : function(result) {
						$("#right-side").html(result);
						if(id != undefined)
							activeMenu(id);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					},
					error : function(jqXHR, textStatus, errorThrown)  {
						 errorCode(jqXHR.status);
						$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
					}
				});
				
			}
			catch(e)
				{
				        errorCode(e);
			}
		}
		function appendSubDepartments(subDepartmentList,subDepartmentListId){
			 var op = '<option value="" >ALL </option>';
			 
			 for(var i=0;i<subDepartmentList.length;i++){
				  
					 op += '<option value="'+subDepartmentList[i]+'" >'+subDepartmentList[i]+'</option>';
			 }
			
			
			 $("#"+subDepartmentListId).html('');
			 $("#"+subDepartmentListId).html(op);
		}

		 function searchSubDepartmens(id,subDepartmentId){
			
					 var subDepartmentName = $("#"+id).val();
					 if(subDepartmentName != "-- Select --"){
						 var contextPath = $("#contextPath").val();
						 URL = contextPath + "/admin/searchSubDepartmentNames.do";
						 $.ajax({
							 type: "GET",
							 url : URL,
							 data : {
								 deptName : subDepartmentName
							 },
							 beforeSend: function(xhr){                    
								 $("#loading").css("display","block");
								 $("#mainDiv").addClass("disabled");
							 },
							 success : function(result) {
								 appendSubDepartments(result,subDepartmentId);
								 $("#loading").css("display","none");
								 $("#mainDiv").removeClass('disabled');
							 },
							 error : function(jqXHR, textStatus, errorThrown)  {
								 errorCode(jqXHR.status);
								 $("#loading").css("display","none");
								 $("#mainDiv").removeClass('disabled');
							 }
						 });
					 }
					 $("#"+subCategoryId).html('');
				}
		 function searchRFQ(name,searchCategory,index){
			// alert("in")
			 
			 try{
				 var online = window.navigator.onLine;
				 	if(!online)
				         {
				 	 alert("Check your internet connection,Please try agian after some time.");
				   	 return;
				        }
				var location = ""
				if($("#outletLocation").length > 0)
					location = $("#outletLocation").val();
				var maxRecords = 10;
				if($("#maxRecords").length > 0)
					maxRecords = $("#maxRecords").val();
				var startDate = "";
				 var endDate = "";
				 if($("#from").val() != "" && $("#to").val() != ""){
					var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
					 if(noOfDays < 0){
						 alert("Start Date can't be less than End Date");
						 return;
					 }
					 startDate = $("#from").val() + " 00:00:00";
					 endDate = $("#to").val() + " 00:00:00";
				}else if($("#from").val() != "")
					 startDate = $("#from").val() + " 00:00:00";
				else if($("#to").val() != "")
						endDate = $("#to").val() + " 00:00:00";
				 var contextPath = $("#contextPath").val();
				 URL = contextPath + "/procurement/searchRequestForQuotation.do";
				
				 $.ajax({
						type: "GET",
						url : URL,
						data : {
							searchName : name,
							index : index,
							location : location,
							maxRecords : maxRecords,
							startDate : startDate,
							endDate : endDate
						},
						beforeSend: function(xhr){                    
				   	   		$("#loading").css("display","block");
				   	   		$("#mainDiv").addClass("disabled");
				   	   	},
						success : function(result) {
							$('#right-side').html(result);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
						},
						error : function(jqXHR, textStatus, errorThrown)  {
							 errorCode(jqXHR.status);
							 $("#loading").css("display","none");
				 			 $("#mainDiv").removeClass('disabled');
						}
					});
				 
			 }
			 catch(e)
			 	{
			 	        errorCode(e);
			 } 
				 
			}
		 
		 
		 function viewNewShipmentGatePass(id,status,flowUnder){
				
			 try{
				 var online = window.navigator.onLine;
				 	if(!online)
				         {
				 	 alert("Check your internet connection,Please try agian after some time.");
				   	 return;
				        }

				var contextPath = $("#contextPath").val();
				var location = "";
				if($("#location").length > 0)
					location = $("#location").val();
// var flowUnder = "";
// if($("#flowUnder").length > 0)
				if(flowUnder == undefined || flowUnder == "")
			    	flowUnder = $("#flowUnder").val();
				URL = contextPath + "/inventorymanager/viewNewShipmentGatePass.do";
					$.ajax({
						type: "GET",
						url : URL,
						data : {
							},
						beforeSend: function(xhr){                    
					   		$("#loading").css("display","block");
					   		$("#mainDiv").addClass("disabled");
					   	},
						success : function(result){
							$('#right-side').html(result);
							if(id != "" && id != null && id != undefined)
				    				activeMenu(id);
				    			$("#loading").css("display","none");
				    			$("#mainDiv").removeClass('disabled');
						},
						error : function(jqXHR, textStatus, errorThrown) {
							errorCode(jqXHR.status);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
						}
					 });
			 }
			 catch(e)
			 	{
			 	        errorCode(e);
			 }
			}
		 
		 function viewShipmentGatePass(id,index){
				
				var maxRecords = "10";
				try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }
				// console.log(maxRecords+"..."+index);
				  if($("#maxRecords").length > 0)
					  maxRecords = $("#maxRecords").val();
				  var contextPath = $('#contextPath').val();
				 var URL = contextPath + "/inventorymanager/ShipmentGatePass.do";
				 
				  $.ajax({
					 type : "GET",
					url : URL,
					data : { 
						maxRecords : maxRecords,
						index : index,
						},
						beforeSend: function(xhr){                    
				   	   			$("#loading").css("display","block");
				   	   			$("#mainDiv").addClass("disabled");
				   	   		  },
				    		success : function(result){
				    			$("#right-side").html(result);
// if(operation == "order")
				    			if(type == "management")
				    				openMenu("liSalesOrders","ulSalesOrders",1);
			  				else if(flowUnder == "outlet")
			  					openMenu("liOrders","ulOrders",1);
			  				else if(flowUnder == "warehouse"){
			  					openMenu("liWarehouseOrders","ulWarehouseOrders",0);
			  					openMenu("warehouseDetails","ulwarehouseDetails",1);
			  				}
				    			/*
								 * if(operation == "Door Delivery")
								 * openMenu("liShipments","ulShipments",1);
								 */
				    			if(id != "" && id != null && id != undefined)
				    				activeMenu(id);
				    			$("#loading").css("display","none");
				    			$("#mainDiv").removeClass('disabled');
				    		},
				    		error : function(jqXHR, textStatus, errorThrown) {
				    			errorCode(jqXHR.status);
				    			$("#loading").css("display","none");
				 				$("#mainDiv").removeClass('disabled');
					}
				 });
				}
				catch(e)
					{
					        errorCode(e);
				}
			}
		 function viewInvoicing(id,index){
				var maxRecords = 10;
				
				try{
					var online = window.navigator.onLine;
						if(!online)
					        {
						 alert("Check your internet connection,Please try agian after some time.");
					  	 return;
					       }

				
				// console.log(maxRecords+"..."+index);
				  if($("#maxRecords").length > 0)
					  maxRecords = $("#maxRecords").val();
				 var contextPath = $('#contextPath').val();
				 var URL = contextPath + "/inventorymanager/viewInvoicing.do";
				 $.ajax({
					type : "GET",
					url : URL,
					data : {
						maxRecords:maxRecords,
						index:index
					},
					beforeSend: function(xhr){                    
				   		$("#loading").css("display","block");
				   		$("#mainDiv").addClass("disabled");
				   	},
					success : function(result){
						$('#right-side').html(result);
						if(id != undefined)
							activeMenu(id);
						openMenu("liWarehouseOrders","ulWarehouseOrders",0);
						openMenu("warehouseDetails","ulwarehouseDetails",1);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					},
					error : function(jqXHR, textStatus, errorThrown) {
						errorCode(jqXHR.status);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					}
				 });
				}
				catch(e)
					{
					        errorCode(e);
				} 
				 
			}
		 function newverification(id,verificationCode){
			 try{
			 var online = window.navigator.onLine;
			 	if(!online)
			         {
			 	 alert("Check your internet connection,Please try agian after some time.");
			   	 return;
			        }
	 		 var contextPath = $("#contextPath").val();
	 		 var flowUnder = "";
	 		 if($("#flowUnder").length > 0)
	 				flowUnder = $("#flowUnder").val();
	 		 URL = contextPath + "/inventorymanager/newverification.do";
	 			$.ajax({
	 				type: "GET",
	 				url : URL,
	 				data : {
	 					
	 					flowUnder : flowUnder,
	 					verificationCode:verificationCode
	 				},
	 				
	 				beforeSend: function(xhr){                    
	 		   			$("#loading").css("display","block");
	 		   			$("#mainDiv").addClass("disabled");
	 		   		  },
	 				success : function(result) {
	 					
	 					$("#right-side").html(result);
	 					if(id == "outletStockVerification"){
    	    				openMenu("liInventoryManagement","ulInventoryManagement",0);
    	    				openMenu("storedetails", "ulstoredetails",1);
    	    			}
    	    			else if(id == "warehouseStockVerification"){
    	    				openMenu("liStockManagement","ulStockManagement",0);
    	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
    	    			}
	 					
	 					$("#loading").css("display","none");
	 					$("#mainDiv").removeClass('disabled');
	 				},
	 				error : function(jqXHR, textStatus, errorThrown)  {
	 					 errorCode(jqXHR.status);
	 					$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 				}
	 			});
			 }
			 catch(e)
			 	{
			 	        errorCode(e);
			 }
	 			
	 	}
		 
		 
		 function viewSalesHourWiseBillReport(id,index,searchstr,flow){
			 try{
				 debugger;
				 var online = window.navigator.onLine;
				 if(!online)
				 {
					 alert("Check your internet connection,Please try agian after some time.");
					 return;
				 }
				 var contextPath = $('#contextPath').val();
				 var maxRecords = 10;
				 // var saveFlag = false;
				 // debugger
				 if (searchstr == "save")
					 var saveFlag = true;
				 else
					 var saveFlag =false;
				 
				 $('#myModalIos').modal('hide');
				 
				 
				 
				 
				 
				 var serachnameStr=""
					 if($("#hourwiseBill").length>0)
						 serachnameStr=$('#hourwiseBill').val();
				 if($("#maxRecords").length>0)
					 maxRecords = $("#maxRecords").val();
				 var stockdownload = false;
				 if($("#stockdownload").val())
					 stockdownload = $("#stockdownload").val();
				 var location = "";
				 if($("#location").length > 0)
					 location = $("#location").val();
				 var zone = "";
				 if($("#outletZone").length > 0)
					 zone = $("#outletZone").val();
				 var startdate = "";
				 if($("#startDateBill").length > 0 && $("#startDateBill").val() !="")
					 startdate = $("#startDateBill").val();
				 var enddate = "";
				 if($("#endDateBill").length > 0 && $("#endDateBill").val() !="")
					 enddate = $("#endDateBill").val();

				 if($("#endDateBill").length > 0 && $("#endDateBill").val() !="")
					 var  allownoOfDays = daydiff(parseDate($('#startDateBill').val()), parseDate(enddate));
				 if(allownoOfDays > 1){
					 alert("No.of Days between start and end date should be 1 day");
					 return false;
				 }
				 if(allownoOfDays < 0){
					 alert("End Date must greater than Start Date.");
					 return false;
				 }
				 
				 
				 
				 var startTime = "";
				 if($("#startTime").length > 0)
					 startTime = $("#startTime").val();
				 var endTime = "";
				 if($("#endTime").length > 0)
					 endTime = $("#endTime").val();

				 var URL = contextPath + "/reports/viewSalesHourWiseBillReport.do";
				 $.ajax({
					 type : "GET",
					 url : URL,
					 data : {
						 index :index,
						 searchName : serachnameStr,
						 maxRecords : maxRecords,
						 location : location,
						 startdate :startdate,
						 enddate : enddate,
						 zone : zone,
						 saveFlag : saveFlag,
						 startTime : startTime,
						 endTime : endTime,
						 flow : flow
					 },
					 beforeSend: function(xhr){                    
						 $("#loadingreport").css("display","block");
						 $("#mainDiv").addClass("disabled");
					 },
					 success : function(result){
						 if(id != undefined)
							 activeMenu(id);

						 $('#right-side').html(result);
						 var anchor = document.createElement('a');
						 anchor.href = $("#stockdownloadurl").val();
						 anchor.target = '_blank';
						 anchor.download = '';
						 if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
							 anchor.click();
				  			$("#mainDiv").removeClass('disabled');
						 $("#loadingreport").css("display","none");
					 },
					 error : function(jqXHR, textStatus, errorThrown) {
						 errorCode(jqXHR.status);
						 $("#loadingreport").css("display","none");
						 $("#mainDiv").removeClass('disabled');
					 }
				 });

			 }
			 catch(e)
			 {
				 errorCode(e);
			 }

		 }
		 
	 
		 function viewSalesPriceVariationReport(id,index,searchstr,flow){
			 try{
				 var online = window.navigator.onLine;
				 if(!online)
				 {
					 alert("Check your internet connection,Please try agian after some time.");
					 return;
				 }

				 var contextPath = $('#contextPath').val();
				 var maxRecords = 10;
				 // var saveFlag = false;
				 // debugger
				 /*
					 * if (searchCategory == "save") var saveFlag = true; else
					 * var saveFlag =false;
					 */
				 $('#myModalIos').modal('hide');
				 var serachnameStr=""
					 if($("#pricevariation").length>0)
						 serachnameStr=$('#pricevariation').val();
				 if($("#maxRecords").length>0)
					 maxRecords = $("#maxRecords").val();
				 var stockdownload = false;
				 if($("#stockdownload").val())
					 stockdownload = $("#stockdownload").val();
				 var location = "";
				 if($("#outletLocation").length > 0)
					 location = $("#outletLocation").val();
				 var zone = "";
				 if($("#outletZone").length > 0)
					 zone = $("#outletZone").val();
				 var startdate = "";
				 if($("#from").length > 0)
					 startdate = $("#from").val();
				 var enddate = "";
				 if($("#to").length > 0)
					 enddate = $("#to").val();
				 var category = "";
				 if($("#outletCategory").length > 0)
					 category = $("#outletCategory").val();
				 var subcategory = "";
				 if($("#outletSubcategory").length > 0)
					 subcategory = $("#outletSubcategory").val();
				 var brand = "";
				 if($("#outletBrandId").length > 0)
					 brand = $("#outletBrandId").val();
				 var supplierId = "";
				 if($("#outletSupplierId").length > 0)
					 supplierId = $("#outletSupplierId").val();
				 var section = null;
				 if($("#section").length > 0)
					 section = $("#section").val();
				 var department = null;
				 if($("#outletDepartmentId").length > 0)
					 department = $("#outletDepartmentId").val();

				 var URL = contextPath + "/reports/viewSalesPriceVariationReport.do";
				 $.ajax({
					 type : "GET",
					 url : URL,
					 data : {
						 index :index,
						 searchName : serachnameStr,
						 maxRecords : maxRecords,
						 location : location,
						 productCategory : category,
						 subcategory : subcategory,
						 brand : brand,
						 zone : zone,
						 // saveFlag:saveFlag,
						 startdate :startdate,
						 enddate : enddate,
						 department : department,
						 supplierId :supplierId,
						 flow : flow

					 },
					 beforeSend: function(xhr){                    
						 $("#loadingreport").css("display","block");
						 $("#mainDiv").addClass("disabled");
					 },
					 success : function(result){
						 if(id != undefined)
							 activeMenu(id);

						 $('#right-side').html(result);
						 $("#loadingreport").css("display","none");
						 $("#mainDiv").removeClass('disabled');
					 },
					 error : function(jqXHR, textStatus, errorThrown) {
						 errorCode(jqXHR.status);
						 $("#loadingreport").css("display","none");
						 $("#mainDiv").removeClass('disabled');
					 }
				 });

			 }
			 catch(e)
			 {
				 errorCode(e);
			 }

		 }
  	   
  	   
  	   
		 function generateSalesPriceVariationReport(id,index,searchstr,popup){
			 debugger;
			 var contextPath = $('#contextPath').val();
			 
			 try{
				 
				 $('#myModalIos').modal('hide');
				 $('#myModalIoss').modal('hide');
				 
				 var online = window.navigator.onLine;
				 	if(!online)
				         {
				 	 alert("Check your internet connection,Please try agian after some time.");
				   	 return;
				        }
			var maxRecords = 10;
			
			
			
			if (searchstr == "save")
				var saveFlag = true;
			else
				var saveFlag =false;
			 $('#myModalIos').modal('hide');
			var serachnameStr=""
				if($("#pricevariation").length>0)
			 serachnameStr=$('#pricevariation').val().trim();
	    	if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	var stockdownload = false;
	    	if($("#stockdownload").val())
	    	stockdownload = $("#stockdownload").val();
	    	var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var startdate = "";
	    	if($("#from").length > 0)
	    		startdate = $("#from").val();
	    	var enddate = "";
	    	if($("#to").length > 0)
	    		enddate = $("#to").val();
	    	
	    	if(popup == "" || popup == undefined || popup == null){
	  			popup="";
	  		}
	    	
	    	 if(searchstr != "NOPOP"){
	    	
	    	 if ($("#from").val() != "" && $("#to").val() != "") {
	 	   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
	 	   		if (noOfDays < 0) {
	 	   			alert("Start Date can't be less than End Date");
	 	   			return;
	 	   		}
	 	   	}
	    	 
	    	 
	    	 
	    	 
	    	 if(enddate!="" || enddate!=null)
//		  		 if(criteria == 'date'){
		  		 {
		  			 var  allownoOfDays = daydiff(parseDate(startdate), parseDate(enddate));
		  			 if(allownoOfDays > 31){
		  				 alert("Date Range should not exceed a Month");
		  				 return false;
		  			 }
		  		 }
	    	   
	    	 if(popup=="NOPOP"){
	  			 if(allownoOfDays>15 ){
	  				 
	  				 $('#myModalIoss').modal('show');

	  				 
	  					/*var returnValue = getConfirmation();
	  					if(returnValue == false)*/
	  						return;
	  					}
	  		     }
	    	 }
	    	
	    	var category = "";
	    	if($("#outletCategory").length > 0)
	    		category = $("#outletCategory").val();
	    	var subcategory = "";
	    	if($("#outletSubcategory").length > 0)
	    		subcategory = $("#outletSubcategory").val();
	    	var brand = "";
	    	if($("#outletBrandId").length > 0)
	    		brand = $("#outletBrandId").val();
	    	var supplierId = "";
	    	if($("#outletSupplierId").length > 0)
	    		supplierId = $("#outletSupplierId").val();
	    	var section = null;
	  	if($("#section").length > 0)
	  		section = $("#section").val();
	  var department = null;
	    	if($("#outletDepartmentId").length > 0)
	  		department = $("#outletDepartmentId").val();
	    	
			 var URL = contextPath + "/reports/generatePriceVariationReport.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {
					index :index,
					searchName : serachnameStr,
					maxRecords : maxRecords,
					location : location,
					productCategory : category,
					subcategory : subcategory,
					brand : brand,
					zone : zone,
					saveFlag:saveFlag,
					startdate :startdate,
					enddate : enddate,
					department : department,
					supplierId :supplierId,
					
					
				},
				beforeSend: function(xhr){                    
					$("#loadingreport").css("display","block");
					$("#mainDiv").addClass('disabled');
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					$("#xReportsDisplay").html(result);
					/*
					 * columnReset(); var backgroundCss =
					 * $("#"+orderBy).css("background"); if(order == "ASC"){
					 * backgroundCss = backgroundCss.replace('both','asc');
					 * $("#"+orderBy).css("background",backgroundCss); } else
					 * if(order == "DESC"){ backgroundCss =
					 * backgroundCss.replace('both','desc');
					 * $("#"+orderBy).css("background",backgroundCss); }else{
					 * var backgroundCss = $("#businessDate").css("background");
					 * backgroundCss = backgroundCss.replace('both','desc');
					 * $("#businessDate").css("background",backgroundCss); }
					 */
					 var anchor = document.createElement('a');
					 
	 				  anchor.href = $("#stockdownloadurl").val();
	 				  anchor.target = '_blank';
	 				  anchor.download = '';
	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
	 				  anchor.click();
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
					$("#loadingreport").css("display","none");
					$("#salevariation").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loadingreport").css("display","none");
					$("#salevariation").removeClass('disabled');
				}
			 });

			 }
			 catch(e)
			 	{
			 	        errorCode(e);
			 }
		}
  	   
  	   
  	   
  	   
  	 function viewOutletCreditNoteReport(flowUnder, index,saveflag,flow) {
 		debugger;
  		try{
  			var online = window.navigator.onLine;
  				if(!online)
  			        {
  				 alert("Check your internet connection,Please try agian after some time.");
  			  	 return;
  			       }

 		if (flowUnder == undefined && $("#flowUnder").length > 0)
 			flowUnder = $("#flowUnder").val();
 		
 		var maxRecords = 10;
 		if ($("#maxRecords").length > 0)
 			maxRecords = $("#maxRecords").val();

 		var section = "";
 		if ($("#section").length > 0)
 			section = $("#section").val();

 		var subDepartment = "";
 		if ($("#outletSubDepartmentId").length > 0)
 			subDepartment = $("#outletSubDepartmentId").val();

 		var location = "";
 		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
 			location = $("#location").val();
 		var zone = "";
 		if ($("#outletZone").length > 0)
 			zone = $("#outletZone").val();
 		var startDate = "";
 		if ($("#startDate").length > 0)
 			startDate = $("#startDate").val();
 		var endDate = "";
 		if ($("#endDate").length > 0)
 			endDate = $("#endDate").val();
 		
 		
 		
	   
	  		

 		var category = "";
 		if ($("#Category").length > 0)
 			category = $("#Category").val();
 		var subCategory = "";
 		if ($("#outletSubcategory").length > 0)
 			subCategory = $("#outletSubcategory").val();

 		var department = "";
 		if ($("#outletDepartmentId").length > 0)
 			department = $("#outletDepartmentId").val();
 		
 		var brand = "";
 		if ($("#brand").length > 0)
 			department = $("#brand").val();
 		var searchCriteria="";
 		if ($("#searchCriteria").length > 0)
 			searchCriteria = $("#searchCriteria").val();
 		var searchCredit="";
 		if($("#searchCredit").length > 0)
 			searchCriteria = $("#searchCredit").val().trim();
 		

 		var contextPath = $('#contextPath').val();
 		var URL = contextPath + "/reports/viewOutletSalesCreditNoteReport.do";
 		$.ajax({
 			url : URL,
 			data : {
 				flowUnder : flowUnder,
 				maxRecords : maxRecords,
 				index : index,
 				brand : brand,
 				section : section,
 				subDepartment : subDepartment,
 				location : location,
 				zone : zone,
 				startDate : startDate,
 				endDate : endDate,
 				category : category,
 				subCategory : subCategory,
 				department : department,
 				searchCriteria : searchCriteria,
 				saveflag:saveflag,
 				flow : flow
 			
 			},
 			
 			
 			beforeSend : function(xhr) {
 				$("#loadingreport").css("display", "block");
 				$("#mainDiv").addClass("disabled");
 			},

 			success : function(result) {
 				
 				
 				 activeMenu(flowUnder);
 				$('#right-side').html(result);
 				
 			
 				var anchor = document.createElement('a');
				anchor.href = $("#urldownload").val();
				anchor.target = '_blank';
				anchor.download = '';
				if($("#urldownload").val()!=null && $("#urldownload").val()!=''){
					anchor.click();
				}
 		
 				
 				$("#loadingreport").css("display", "none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				errorCode(jqXHR.status);
 				$("#loadingreport").css("display", "none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
  		}
  		catch(e)
  			{
  			        errorCode(e);
  		}
 	}
  	
  	 
  	 //added by koti bommineni
  	 function searchOutletCreditNoteReport(flowUnder, index,popup,saveflag,flow) {
   		debugger;
    		try{
    			
    		 $('#myModalIos').modal('hide');
    		 $('#myModalIoss').modal('hide');
    		 
    			var online = window.navigator.onLine;
    				if(!online)
    			        {
    				 alert("Check your internet connection,Please try agian after some time.");
    			  	 return;
    			       }

   		if (flowUnder == undefined && $("#flowUnder").length > 0)
   			flowUnder = $("#flowUnder").val();
   		
   		var maxRecords = 10;
   		if ($("#maxRecords").length > 0)
   			maxRecords = $("#maxRecords").val();

   		var section = "";
   		if ($("#section").length > 0)
   			section = $("#section").val();

   		var subDepartment = "";
   		if ($("#outletSubDepartmentId").length > 0)
   			subDepartment = $("#outletSubDepartmentId").val();

   		var location = "";
   		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
   			location = $("#location").val();
   		var zone = "";
   		if ($("#outletZone").length > 0)
   			zone = $("#outletZone").val();
   		var startDate = "";
   		if ($("#startDate").length > 0)
   			startDate = $("#startDate").val();
   		var endDate = "";
   		if ($("#endDate").length > 0)
   			endDate = $("#endDate").val();
   		
   		if(popup == "" || popup == undefined || popup == null){
   			popup="";
   		}
   		
   		if(saveflag == "" || saveflag == undefined || saveflag == null){
   			saveflag="false";
   		}
 		
 		
 			
   		
  	   	 if ($("#startDate").val() != "" && $("#endDate").val() != "") {
  		   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
  		   		if (noOfDays < 0) {
  		   			alert("Start Date can't be less than End Date");
  		   			return;
  		   		}
  		   	}
  		
  	  	 if(endDate!="" || endDate!=null)
//  	  		 if(criteria == 'date'){
  	  		 {
  	  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
  	  			 if(allownoOfDays > 31){
  	  				 alert("Date Range should not exceed a Month");
  	  				 return false;
  	  			 }
  	  		 }


  	  	if(popup=="NOPOP"){
  			 if(allownoOfDays>15 ){
  				 
  				 $('#myModalIoss').modal('show');

  				 
  					/*var returnValue = getConfirmation();
  					if(returnValue == false)*/
  						return;
  					}
  		     }

   		var category = "";
   		if ($("#Category").length > 0)
   			category = $("#Category").val();
   		var subCategory = "";
   		if ($("#outletSubcategory").length > 0)
   			subCategory = $("#outletSubcategory").val();

   		var department = "";
   		if ($("#outletDepartmentId").length > 0)
   			department = $("#outletDepartmentId").val();
   		
   		var brand = "";
   		if ($("#brand").length > 0)
   			department = $("#brand").val();
   		var searchCriteria="";
   		if ($("#searchCriteria").length > 0)
   			searchCriteria = $("#searchCriteria").val();
   		var searchCredit="";
   		if($("#searchCredit").length > 0)
   			searchCriteria = $("#searchCredit").val().trim();
   		

   		var contextPath = $('#contextPath').val();
   		var URL = contextPath + "/reports/viewOutletSalesCreditNoteReport.do";
   		$.ajax({
   			url : URL,
   			data : {
   				flowUnder : flowUnder,
   				maxRecords : maxRecords,
   				index : index,
   				brand : brand,
   				section : section,
   				subDepartment : subDepartment,
   				location : location,
   				zone : zone,
   				startDate : startDate,
   				endDate : endDate,
   				category : category,
   				subCategory : subCategory,
   				department : department,
   				searchCriteria : searchCriteria,
   				saveflag:saveflag,
   				flow : flow
   			
   			},
   			
   			
   			beforeSend : function(xhr) {
   				$("#loadingreport").css("display","block");
 				$("#mainDiv").addClass('disabled');
   			},

   			success : function(result) {
   				
   				 activeMenu(flowUnder);
   				$('#right-side').html(result);
   				$("#loading").css("display", "none");
   				$("#mainDiv").removeClass('disabled');
   				$("#loadingreport").css("display","none");
 				$("#gensalereportcriteriawise").removeClass('disabled');
   			},
   			error : function(jqXHR, textStatus, errorThrown)  {
   				errorCode(jqXHR.status);
   				$("#loadingreport").css("display","none");
 				$("#gensalereportcriteriawise").removeClass('disabled');
   			}
   		});
    		}
    		catch(e)
    			{
    			        errorCode(e);
    		}
   	}
    	
   	 
   	 
  	 
  	 
  	 
  	 
  	 
  	 
  	 
  	  function viewNewProfitabilityReports(id,index,searchname){
  		try{
  		var online = window.navigator.onLine;
  			if(!online)
  		        {
  			 alert("Check your internet connection,Please try agian after some time.");
  		  	 return;
  		       }
			 var contextPath = $('#contextPath').val();
	  			var maxRecords = 10;
		    	if($("#maxRecords").length>0)
		    		  maxRecords = $("#maxRecords").val();
		    	var stockdownload = false;
		    	if($("#stockdownload").val())
		    	stockdownload = $("#stockdownload").val();
		    	var location = "";
		    	if($("#outletLocation").length > 0)
		    		location = $("#outletLocation").val();
		    	var zone = "";
		    	if($("#outletZone").length > 0)
		    		zone = $("#outletZone").val();
		    	var startdate = "";
		    	if($("#from").length > 0)
		    		startdate = $("#from").val();
		    	var enddate = "";
		    	if($("#to").length > 0)
		    		enddate = $("#to").val();
		    	var category = "";
		    	if($("#outletCategory").length > 0)
		    		category = $("#outletCategory").val();
		    	var subcategory = "";
		    	if($("#outletSubcategory").length > 0)
		    		subcategory = $("#outletSubcategory").val();
		    	var brand = "";
		    	if($("#outletBrandId").length > 0)
		    		brand = $("#outletBrandId").val();
		    	var section = "";
		    	if($("#section").length > 0)
		    		section = $("#section").val();
		    	var supplierId = "";
		    	if($("#outletSupplierId").length > 0)
		    		supplierId = $("#outletSupplierId").val();
		    	
		    	
		    	if(searchname == 'save')
		    		{
		    		var flag = true;
			    	searchname = "";
		    		}
 	    		else
 	    			var flag = false;
	  			 var URL = contextPath + "/reports/viewOutletNewProfitabilityReport.do";
	  			 $.ajax({
	  				type : "GET",
	  				url : URL,
	  				data : {
	  					index :index,
	  					searchName : searchname,
	  					maxRecords : maxRecords,
	  					location : location,
	  					productCategory : category,
	  					subcategory : subcategory,
	  					brand : brand,
	  					zone : zone,
	  					startdate :startdate,
	  					enddate : enddate,
	  					supplierId :supplierId,
	  					section : section,
	  					flag : flag
	  					
	  				},
	  				beforeSend: function(xhr){                    
	  			   		$("#loading").css("display","block");
	  			   		$("#mainDiv").addClass("disabled");
	  			   	},
	  		success : function(result){
	  			if(id != undefined && id != ""){
	  			
	  				openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
	  			
	  				activeMenu(id);
	  			}
	  			$('#right-side').html(result);
	  			if(flag){
 	  				var anchor = document.createElement('a');
					 
	 				  anchor.href = $("#stockdownloadurl").val();
	 				  anchor.target = '_blank';
	 				  anchor.download = '';
	 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
	 				  anchor.click();
 	  			
 	  			}
	  			$("#loading").css("display","none");
	  			$("#mainDiv").removeClass('disabled');
	  		},
	  		error : function(jqXHR, textStatus, errorThrown) {
	  			errorCode(jqXHR.status);
	  			$("#loading").css("display","none");
				   $("#mainDiv").removeClass('disabled');
	  		}
	  	 });
  		}
  		catch(e)
  			{
  			        errorCode(e);
  		}		 
	   	}
  	 
  	 
  	  
  	  
  	 function viewItemWiseTaxGSTReport(flowUnder, index,saveFlag,flow) {
  		try{
  			var online = window.navigator.onLine;
  				if(!online)
  			        {
  				 alert("Check your internet connection,Please try agian after some time.");
  			  	 return;
  			       }
   		
   		
   		var maxRecords = 10;
   		if ($("#maxRecords").length > 0)
   			maxRecords = $("#maxRecords").val();

   		var section = "";
   		if ($("#section").length > 0)
   			section = $("#section").val();

   		var subDepartment = "";
   		if ($("#outletSubDepartmentId").length > 0)
   			subDepartment = $("#outletSubDepartmentId").val();

   		var location = "";
   		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
   			location = $("#location").val();
   		var zone = "";
   		if ($("#outletZone").length > 0)
   			zone = $("#outletZone").val();
   		var startDate = "";
   		if ($("#startDateGst").length > 0)
   			startDate = $("#startDateGst").val();
   		var endDate = "";
   		if ($("#endDateGst").length > 0)
   			endDate = $("#endDateGst").val();
   	
// debugger
   	
   	 
   	 
   	 
   	 
   	 
   	 
   	 
   	 
   		var category = "";
   		if ($("#productCategory").length > 0)
   			category = $("#productCategory").val();
   		var subCategory = "";
   		if ($("#outletSubcategory").length > 0)
   			subCategory = $("#outletSubcategory").val();

   		var department = "";
   		if ($("#outletDepartmentId").length > 0)
   			department = $("#outletDepartmentId").val();
   		
   		var brand = "";
   		if ($("#brand").length > 0)
   			department = $("#brand").val();
   		var searchCriteria="";
   		if ($("#searchCriteria").length > 0)
   			searchCriteria = $("#searchCriteria").val();
   		var searchCredit="";
   		if($("#searchCredit").length > 0)
   			searchCriteria = $("#searchCredit").val().trim();
   
   		
   	 var billedLocationsList = [];
	 	 var length = $('#location').children('option').length;
	       	$('#location option').each(function() { 
	       		billedLocationsList.push( $(this).attr('value'));
	       	});
	 	 var  locationList="";
	    	for(i=1;i<billedLocationsList.length;i++)
	    		{
	    		locationList =locationList+ billedLocationsList[i]+',';
	    		}
   		

   		var contextPath = $('#contextPath').val();
   		var URL = contextPath + "/reports/viewItemWiseTaxGSTReport.do";
   		$.ajax({
   			url : URL,
   			data : {
   				saveFlag : saveFlag,
   				maxRecords : maxRecords,
   				index : index,
   				brand : brand,
   				section : section,
   				subDepartment : subDepartment,
   				location : location,
   				zone : zone,
   				startDate : startDate,
   				endDate : endDate,
   				category : category,
   				subCategory : subCategory,
   				department : department,
   				searchCriteria : searchCriteria,
   				locationList : locationList,
   				flow : flow
   			
   			},
   			beforeSend : function(xhr) {
   				// debugger
   			/*
			 * var totalTimeAfter = getCurrentTimeInSecondsAfter();
			 * console.log("totalTimeAfter"+totalTimeAfter) if((noOfDays>15) &&
			 * ((totalTimeAfter-totalTimeBefore)>5000)){ getConfirmation(); }
			 * else{
			 */
   				$("#loadingreport").css("display", "block");
   				$("#mainDiv").addClass("disabled");
// }
   			},

   			success : function(result) {
   				// debugger
   				 activeMenu(flowUnder);
   				$('#right-side').html(result);
// $("#xReportsDisplay").html(result);
  				 var anchor = document.createElement('a');
 				  anchor.href = $("#stockdownloadurl").val();
 				  anchor.target = '_blank';
 				  anchor.download = '';
 				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
 				  anchor.click();
   				$("#loadingreport").css("display", "none");
   				$("#mainDiv").removeClass('disabled');
   			},
   			error : function(jqXHR, textStatus, errorThrown)  {
   				errorCode(jqXHR.status);
   				$("#loadingreport").css("display", "none");
   				$("#mainDiv").removeClass('disabled');
   			}
   		});


  		}
  		catch(e)
  			{
  			        errorCode(e);
  		}
   	}
  	  
  	 
  	 
  	 //added by koti bommineni
  	 
  	function searchItemWiseTaxGSTReport(flowUnder, index,saveFlag,popup,flow) {
   		try{
   			
   		 $('#myModalIos').modal('hide');
   		 $('#myModalIoss').modal('hide');
   		 
   			var online = window.navigator.onLine;
   				if(!online)
   			        {
   				 alert("Check your internet connection,Please try agian after some time.");
   			  	 return;
   			       }
    		
    		
    		var maxRecords = 10;
    		if ($("#maxRecords").length > 0)
    			maxRecords = $("#maxRecords").val();

    		var section = "";
    		if ($("#section").length > 0)
    			section = $("#section").val();

    		var subDepartment = "";
    		if ($("#outletSubDepartmentId").length > 0)
    			subDepartment = $("#outletSubDepartmentId").val();

    		var location = "";
    		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
    			location = $("#location").val();
    		var zone = "";
    		if ($("#outletZone").length > 0)
    			zone = $("#outletZone").val();
    		var startDate = "";
    		if ($("#startDateGst").length > 0)
    			startDate = $("#startDateGst").val();
    		var endDate = "";
    		if ($("#endDateGst").length > 0)
    			endDate = $("#endDateGst").val();
    	
 // debugger
    	 if ($("#startDateGst").val() != "" && $("#endDateGst").val() != "") {
 	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
 	   		if (noOfDays < 0) {
 	   			alert("Start Date can't be less than End Date");
 	   			return;
 	   		}
 	   	}
    		
    	 
    	 
    	 
    	 
   	 if(endDate!="" || endDate!=null)
//   		 if(criteria == 'date'){
   		 {
   			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
   			 if(allownoOfDays > 31){
   				 alert("Date Range should not exceed a Month");
   				 return false;
   			 }
   		 }


   	if(popup == "" || popup == undefined || popup == null){
			popup="";
		}
	
	
	
		if(popup=="NOPOP"){
			 if(allownoOfDays>15 ){
				 
				 $('#myModalIoss').modal('show');

				 
					/*var returnValue = getConfirmation();
					if(returnValue == false)*/
						return;
					}
		     }
    	 
    	 
    	 
    	 
    	 
    	 
    	 
    		var category = "";
    		if ($("#productCategory").length > 0)
    			category = $("#productCategory").val();
    		var subCategory = "";
    		if ($("#outletSubcategory").length > 0)
    			subCategory = $("#outletSubcategory").val();

    		var department = "";
    		if ($("#outletDepartmentId").length > 0)
    			department = $("#outletDepartmentId").val();
    		
    		var brand = "";
    		if ($("#brand").length > 0)
    			department = $("#brand").val();
    		var searchCriteria="";
    		if ($("#searchCriteria").length > 0)
    			searchCriteria = $("#searchCriteria").val();
    		var searchCredit="";
    		if($("#searchCredit").length > 0)
    			searchCriteria = $("#searchCredit").val().trim();
    
    		
    	 var billedLocationsList = [];
 	 	 var length = $('#location').children('option').length;
 	       	$('#location option').each(function() { 
 	       		billedLocationsList.push( $(this).attr('value'));
 	       	});
 	 	 var  locationList="";
 	    	for(i=1;i<billedLocationsList.length;i++)
 	    		{
 	    		locationList =locationList+ billedLocationsList[i]+',';
 	    		}
    		

    		var contextPath = $('#contextPath').val();
    		var URL = contextPath + "/reports/viewItemWiseTaxGSTReport.do";
    		$.ajax({
    			url : URL,
    			data : {
    				saveFlag : saveFlag,
    				maxRecords : maxRecords,
    				index : index,
    				brand : brand,
    				section : section,
    				subDepartment : subDepartment,
    				location : location,
    				zone : zone,
    				startDate : startDate,
    				endDate : endDate,
    				category : category,
    				subCategory : subCategory,
    				department : department,
    				searchCriteria : searchCriteria,
    				locationList : locationList,
    				flow : flow
    			
    			},
    			beforeSend : function(xhr) {
    				// debugger
    			/*
 			 * var totalTimeAfter = getCurrentTimeInSecondsAfter();
 			 * console.log("totalTimeAfter"+totalTimeAfter) if((noOfDays>15) &&
 			 * ((totalTimeAfter-totalTimeBefore)>5000)){ getConfirmation(); }
 			 * else{
 			 */$("#loadingreport").css("display","block");
				$("#mainDiv").addClass('disabled');
 // }
    			},

    			success : function(result) {
    				// debugger
    				 activeMenu(flowUnder);
    				$('#right-side').html(result);
 // $("#xReportsDisplay").html(result);
   				 var anchor = document.createElement('a');
  				  anchor.href = $("#stockdownloadurl").val();
  				  anchor.target = '_blank';
  				  anchor.download = '';
  				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
  				  anchor.click();
    				$("#loading").css("display", "none");
    				$("#mainDiv").removeClass('disabled');
    				$("#loadingreport").css("display","none");
    				$("#gst").removeClass('disabled');
    			},
    			error : function(jqXHR, textStatus, errorThrown)  {
    				errorCode(jqXHR.status);
    				$("#loadingreport").css("display","none");
    				$("#gst").removeClass('disabled');
    			}
    		});


   		}
   		catch(e)
   			{
   			        errorCode(e);
   		}
    	}
   	  
  	 
  	 
  	 
  	 
  	 
  	  
 	/* function viewItemWiseTaxReport(flowUnder, index,flow) {
 		try{
 			var online = window.navigator.onLine;
 				if(!online)
 			        {
 				 alert("Check your internet connection,Please try agian after some time.");
 			  	 return;
 			       }
  		if (flowUnder != undefined && flowUnder.length > 0)
  			{
  			if (flowUnder == "save")
				var saveFlag = true;
			else
				var saveFlag =false;
  			}
  		// debugger
  		var maxRecords = 10;
  		if ($("#maxRecords").length > 0)
  			maxRecords = $("#maxRecords").val();

  		var section = "";
  		if ($("#section").length > 0)
  			section = $("#section").val();

  		var subDepartment = "";
  		if ($("#outletSubDepartmentId").length > 0)
  			subDepartment = $("#outletSubDepartmentId").val();

  		var location = "";
  		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
  			location = $("#location").val();
  		var zone = "";
  		if ($("#outletZone").length > 0)
  			zone = $("#outletZone").val();
  		var startDate = "";
  		if ($("#startDateTax").length > 0)
  			startDate = $("#startDateTax").val();
  		var endDate = "";
  		if ($("#endDateTax").length > 0)
  			endDate = $("#endDateTax").val();
  		
  		
  		
  		
  		
  		var category = "";
  		if ($("#productCategory").length > 0)
  			category = $("#productCategory").val();
  		var subCategory = "";
  		if ($("#outletSubcategory").length > 0)
  			subCategory = $("#outletSubcategory").val();

  		var department = "";
  		if ($("#outletDepartmentId").length > 0)
  			department = $("#outletDepartmentId").val();
  		
  		var brand = "";
  		if ($("#brand").length > 0)
  			department = $("#brand").val();
  		var searchCriteria="";
  		if ($("#searchCriteria").length > 0)
  			searchCriteria = $("#searchCriteria").val();
  		var searchCredit="";
  		if($("#searchCredit").length > 0)
  			searchCriteria = $("#searchCredit").val().trim();
  		

  		var contextPath = $('#contextPath').val();
  		var URL = contextPath + "/reports/viewItemTaxesReport.do";
  		$.ajax({
  			url : URL,
  			data : {
  				saveFlag : saveFlag,
  				maxRecords : maxRecords,
  				index : index,
  				brand : brand,
  				section : section,
  				subDepartment : subDepartment,
  				location : location,
  				zone : zone,
  				startDate : startDate,
  				endDate : endDate,
  				category : category,
  				subCategory : subCategory,
  				department : department,
  				searchCriteria : searchCriteria,
  				flow : flow
  			
  			},
  			beforeSend : function(xhr) {
  				$("#loadingreport").css("display", "block");
  				$("#mainDiv").addClass("disabled");
  				
  			},

  			success : function(result) {
  				 activeMenu(flowUnder);
  				$('#right-side').html(result);
 				 var anchor = document.createElement('a');
				  anchor.href = $("#stockdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
				  anchor.click();
  				$("#loadingreport").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				errorCode(jqXHR.status);
  				$("#loadingreport").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  			}
  		});


 		}
 		catch(e)
 			{
 			        errorCode(e);
 		}
  	}*/
 	 
  	
  	 function viewItemWiseTaxReport(flowUnder, index,flow) {
 		 debugger;
 		try{
 			var online = window.navigator.onLine;
 				if(!online)
 			        {
 				 alert("Check your internet connection,Please try agian after some time.");
 			  	 return;
 			       }
  		if (flowUnder != undefined && flowUnder.length > 0)
  			{
  			if (flowUnder == "save")
				var saveFlag = true;
			else
				var saveFlag =false;
  			}
  		// debugger
  		var maxRecords = 10;
  		if ($("#maxRecords").length > 0)
  			maxRecords = $("#maxRecords").val();

  		var section = "";
  		if ($("#section").length > 0)
  			section = $("#section").val();

  		var subDepartment = "";
  		if ($("#outletSubDepartmentId").length > 0)
  			subDepartment = $("#outletSubDepartmentId").val();

  		var location = "";
  		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
  			location = $("#location").val();
  		var zone = "";
  		if ($("#outletZone").length > 0)
  			zone = $("#outletZone").val();
  		var startDate = "";
  		if ($("#startDateTax").length > 0)
  			startDate = $("#startDateTax").val();
  		var endDate = "";
  		if ($("#endDateTax").length > 0)
  			endDate = $("#endDateTax").val();
  		/*if(saveFlag==true)*/
  		if($('#hourselection').val()!=null){
  			 var mytime ="";
    		 var mytime1 ="";
    		 var  hourfilter=""
    		var isHourWiseReport=true; 
			var	hourselection=$('#hourselection').val();
    			 if($('#hourselection').val()!=null){
    		  hourfilter = $('#hourselection').val();
    		  var hourselection=$('#hourselection').val();
    		Arr_hourfilter = new Array()
    		Arr_hourfilter = hourfilter.split("-");
    		Arr_hourfilter1=Arr_hourfilter[0];
    		Arr_hourfilter2=Arr_hourfilter[1];
    			if(hourfilter!=""){
    				
    				isHourWiseReport=true;
    				
    				  var h = Arr_hourfilter1;
    				  var e = Arr_hourfilter2;
    				  var m = "00"
    				  var x ="00"
    				
    				  mytime= h + ':' + m + ':' + x;
    				  mytime1= h + ':' + 59 + ':' + 59;
    				  
    			}else{
    				isHourWiseReport=false;
    				
    				
    				
    			}
    		}
  		}
  		else{
  		var mytime ="";
  		var mytime1 ="";
  		var isHourWiseReport=false; 
  			 var hourselection="";
  		
  		}
  		var category = "";
  		if ($("#productCategory").length > 0)
  			category = $("#productCategory").val();
  		var subCategory = "";
  		if ($("#outletSubcategory").length > 0)
  			subCategory = $("#outletSubcategory").val();

  		var department = "";
  		if ($("#outletDepartmentId").length > 0)
  			department = $("#outletDepartmentId").val();
  		
  		var brand = "";
  		if ($("#brand").length > 0)
  			department = $("#brand").val();
  		var searchCriteria="";
  		if ($("#searchCriteria").length > 0)
  			searchCriteria = $("#searchCriteria").val();
  		var searchCredit="";
  		if($("#searchCredit").length > 0)
  			searchCriteria = $("#searchCredit").val().trim();
  		//var isHourWiseReport=false;

  		var contextPath = $('#contextPath').val();
  		var URL = contextPath + "/reports/viewItemTaxesReport.do";
  		$.ajax({
  			url : URL,
  			data : {
  				
  				saveFlag : saveFlag,
  				maxRecords : maxRecords,
  				index : index,
  				brand : brand,
  				section : section,
  				subDepartment : subDepartment,
  				location : location,
  				zone : zone,
  				startDate : startDate,
  				endDate : endDate,
  				category : category,
  				subCategory : subCategory,
  				department : department,
  				searchCriteria : searchCriteria,
  				flow : flow,
  				isHourWiseReport:isHourWiseReport,
  				mytime:mytime,
  				mytime1:mytime1,
  				hourselection:hourselection
  			
  			},
  			beforeSend : function(xhr) {
  				$("#loadingreport").css("display", "block");
  				$("#mainDiv").addClass("disabled");
  				
  			},

  			success : function(result) {
  				 activeMenu(flowUnder);
  				$('#right-side').html(result);
 				 var anchor = document.createElement('a');
				  anchor.href = $("#stockdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
				  anchor.click();
  				$("#loadingreport").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				errorCode(jqXHR.status);
  				$("#loadingreport").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  			}
  		});


 		}
 		catch(e)
 			{
 			        errorCode(e);
 		}
  	}
  	 
  	 
 	 //added by koti bommineni
 	 
	 function searchItemWiseTaxReport(flowUnder, index,popup,flow) {
 		try{
 			var online = window.navigator.onLine;
 			 $('#myModalIos').modal('hide');
 			 $('#myModalIoss').modal('hide');
 				if(!online)
 			        {
 				 alert("Check your internet connection,Please try agian after some time.");
 			  	 return;
 			       }
  		if (flowUnder != undefined && flowUnder.length > 0)
  			{
  			if (flowUnder == "save")
				var saveFlag = true;
			else
				var saveFlag =false;
  			}
  		// debugger
  		var maxRecords = 10;
  		if ($("#maxRecords").length > 0)
  			maxRecords = $("#maxRecords").val();

  		var section = "";
  		if ($("#section").length > 0)
  			section = $("#section").val();

  		var subDepartment = "";
  		if ($("#outletSubDepartmentId").length > 0)
  			subDepartment = $("#outletSubDepartmentId").val();

  		var location = "";
  		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
  			location = $("#location").val();
  		var zone = "";
  		if ($("#outletZone").length > 0)
  			zone = $("#outletZone").val();
  		var startDate = "";
  		if ($("#startDateTax").length > 0)
  			startDate = $("#startDateTax").val();
  		var endDate = "";
  		if ($("#endDateTax").length > 0)
  			endDate = $("#endDateTax").val();
  		
  		
  		if ($("#startDateTax").val() != "" && $("#endDateTax").val() != "") {
	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	   		if (noOfDays < 0) {
	   			alert("Start Date can't be less than End Date");
	   			return;
	   		}
	   	}
  		
  		
  		 if(endDate!="" || endDate!=null)
//	  		 if(criteria == 'date'){
	  		 {
	  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	  			 if(allownoOfDays > 31){
	  				 alert("Date Range should not exceed a Month");
	  				 return false;
	  			 }
	  		 }


  		if(popup == "" || popup == undefined || popup == null){
 			popup="";
 		}
		
		
		
			if(popup=="NOPOP"){
 			 if(allownoOfDays>15 ){
 				 
 				 $('#myModalIoss').modal('show');

 				 
 					/*var returnValue = getConfirmation();
 					if(returnValue == false)*/
 						return;
 					}
 		     }
  		
  		
  		
  		
  		
  		
  		var category = "";
  		if ($("#productCategory").length > 0)
  			category = $("#productCategory").val();
  		var subCategory = "";
  		if ($("#outletSubcategory").length > 0)
  			subCategory = $("#outletSubcategory").val();

  		var department = "";
  		if ($("#outletDepartmentId").length > 0)
  			department = $("#outletDepartmentId").val();
  		
  		var brand = "";
  		if ($("#brand").length > 0)
  			department = $("#brand").val();
  		var searchCriteria="";
  		if ($("#searchCriteria").length > 0)
  			searchCriteria = $("#searchCriteria").val();
  		var searchCredit="";
  		if($("#searchCredit").length > 0)
  			searchCriteria = $("#searchCredit").val().trim();
  		
  		
  		
  		 var mytime ="";
  		 var mytime1 ="";
  		 var  hourfilter=""
  		var isHourWiseReport=false; 
			var	hourselection=$('#hourselection').val();
  			 if($('#hourselection').val()!=null){
  		  hourfilter = $('#hourselection').val();
  		  var hourselection=$('#hourselection').val();
  		Arr_hourfilter = new Array()
  		Arr_hourfilter = hourfilter.split("-");
  		Arr_hourfilter1=Arr_hourfilter[0];
  		Arr_hourfilter2=Arr_hourfilter[1];
  			if(hourfilter!=""){
  				
  				isHourWiseReport=true;
  				
  				  var h = Arr_hourfilter1;
  				  var e = Arr_hourfilter2;
  				  var m = "00"
  				  var x ="00"
  				
  				  mytime= h + ':' + m + ':' + x;
  				  mytime1= h + ':' + 59 + ':' + 59;
  				  
  			}else{
  				isHourWiseReport=false;
  				
  			}
  		}
  		
  			if(hourselection != null && hourselection != "" && hourselection != undefined ){
		    	      var noOfDays = daydiff(parseDate($('#startDateTax').val()), parseDate($('#endDateTax').val()));
					 if(noOfDays > 0){
						 alert("Start Date and End Date must need to be same.");
						 return;
					 }
					 }
  		

  		var contextPath = $('#contextPath').val();
  		var URL = contextPath + "/reports/viewItemTaxesReport.do";
  		$.ajax({
  			url : URL,
  			data : {
  				saveFlag : saveFlag,
  				maxRecords : maxRecords,
  				index : index,
  				brand : brand,
  				section : section,
  				subDepartment : subDepartment,
  				location : location,
  				zone : zone,
  				startDate : startDate,
  				endDate : endDate,
  				category : category,
  				subCategory : subCategory,
  				department : department,
  				searchCriteria : searchCriteria,
  				flow : flow,
  				isHourWiseReport:isHourWiseReport,
  				mytime:mytime,
  				mytime1:mytime1,
    				hourselection:hourselection
  			
  			},
  			beforeSend : function(xhr) {
  				$("#loadingreport").css("display","block");
				$("#mainDiv").addClass('disabled');
  				
  			},

  			success : function(result) {
  				 activeMenu(flowUnder);
  				$('#right-side').html(result);
 				 var anchor = document.createElement('a');
				  anchor.href = $("#stockdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
				  anchor.click();
  				$("#loading").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  				$("#loadingreport").css("display","none");
				$("#tax").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				errorCode(jqXHR.status);
  				$("#loadingreport").css("display","none");
				$("#tax").removeClass('disabled');
  			}
  		});


 		}
 		catch(e)
 			{
 			        errorCode(e);
 		}
	 }
 	 
 	 
 	/* function searchItemWiseTaxReport(flowUnder, index,popup,flow) {
   		try{
   			var online = window.navigator.onLine;
   			 $('#myModalIos').modal('hide');
   			 $('#myModalIoss').modal('hide');
   				if(!online)
   			        {
   				 alert("Check your internet connection,Please try agian after some time.");
   			  	 return;
   			       }
    		if (flowUnder != undefined && flowUnder.length > 0)
    			{
    			if (flowUnder == "save")
  				var saveFlag = true;
  			else
  				var saveFlag =false;
    			}
    		// debugger
    		var maxRecords = 10;
    		if ($("#maxRecords").length > 0)
    			maxRecords = $("#maxRecords").val();

    		var section = "";
    		if ($("#section").length > 0)
    			section = $("#section").val();

    		var subDepartment = "";
    		if ($("#outletSubDepartmentId").length > 0)
    			subDepartment = $("#outletSubDepartmentId").val();

    		var location = "";
    		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
    			location = $("#location").val();
    		var zone = "";
    		if ($("#outletZone").length > 0)
    			zone = $("#outletZone").val();
    		var startDate = "";
    		if ($("#startDateTax").length > 0)
    			startDate = $("#startDateTax").val();
    		var endDate = "";
    		if ($("#endDateTax").length > 0)
    			endDate = $("#endDateTax").val();
    		
    		
    		if ($("#startDateTax").val() != "" && $("#endDateTax").val() != "") {
  	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
  	   		if (noOfDays < 0) {
  	   			alert("Start Date can't be less than End Date");
  	   			return;
  	   		}
  	   	}
    		
    		
    		 if(endDate!="" || endDate!=null)
//  	  		 if(criteria == 'date'){
  	  		 {
  	  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
  	  			 if(allownoOfDays > 31){
  	  				 alert("Date Range should not exceed a Month");
  	  				 return false;
  	  			 }
  	  		 }


    		if(popup == "" || popup == undefined || popup == null){
   			popup="";
   		}
 		
 		
 		
 			if(popup=="NOPOP"){
   			 if(allownoOfDays>15 ){
   				 
   				 $('#myModalIoss').modal('show');

   				 
   					var returnValue = getConfirmation();
   					if(returnValue == false)
   						return;
   					}
   		     }
    		
    		
    		
    		
    		
    		
    		var category = "";
    		if ($("#productCategory").length > 0)
    			category = $("#productCategory").val();
    		var subCategory = "";
    		if ($("#outletSubcategory").length > 0)
    			subCategory = $("#outletSubcategory").val();

    		var department = "";
    		if ($("#outletDepartmentId").length > 0)
    			department = $("#outletDepartmentId").val();
    		
    		var brand = "";
    		if ($("#brand").length > 0)
    			department = $("#brand").val();
    		var searchCriteria="";
    		if ($("#searchCriteria").length > 0)
    			searchCriteria = $("#searchCriteria").val();
    		var searchCredit="";
    		if($("#searchCredit").length > 0)
    			searchCriteria = $("#searchCredit").val().trim();
    		

    		var contextPath = $('#contextPath').val();
    		var URL = contextPath + "/reports/viewItemTaxesReport.do";
    		$.ajax({
    			url : URL,
    			data : {
    				saveFlag : saveFlag,
    				maxRecords : maxRecords,
    				index : index,
    				brand : brand,
    				section : section,
    				subDepartment : subDepartment,
    				location : location,
    				zone : zone,
    				startDate : startDate,
    				endDate : endDate,
    				category : category,
    				subCategory : subCategory,
    				department : department,
    				searchCriteria : searchCriteria,
    				flow : flow
    			
    			},
    			beforeSend : function(xhr) {
    				$("#loadingreport").css("display","block");
 				$("#mainDiv").addClass('disabled');
    				
    			},

    			success : function(result) {
    				 activeMenu(flowUnder);
    				$('#right-side').html(result);
   				 var anchor = document.createElement('a');
  				  anchor.href = $("#stockdownloadurl").val();
  				  anchor.target = '_blank';
  				  anchor.download = '';
  				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
  				  anchor.click();
    				$("#loading").css("display", "none");
    				$("#mainDiv").removeClass('disabled');
    				$("#loadingreport").css("display","none");
 				$("#tax").removeClass('disabled');
    			},
    			error : function(jqXHR, textStatus, errorThrown)  {
    				errorCode(jqXHR.status);
    				$("#loadingreport").css("display","none");
 				$("#tax").removeClass('disabled');
    			}
    		});


   		}
   		catch(e)
   			{
   			        errorCode(e);
   		}
  	 }*/
  	 
 	 
 	 
 	 
 	 
		                   function viewInvoiceDetails(){
		                	   

		                	   try{
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }

								 var contextPath = $('#contextPath').val();
								 var URL = contextPath + "/inventorymanager/viewInvoiceDetails.do";
								 $.ajax({
									type : "GET",
									url : URL,
									data : {
										
									},
									beforeSend: function(xhr){                    
								   		$("#loading").css("display","block");
								   		$("#mainDiv").addClass("disabled");
								   	},
									success : function(result){
										$('#right-side').html(result);
										/*
										 * if(id != undefined) activeMenu(id);
										 */
										$("#loading").css("display","none");
										$("#mainDiv").removeClass('disabled');
									},
									error : function(jqXHR, textStatus, errorThrown) {
										errorCode(jqXHR.status);
										$("#loading").css("display","none");
										$("#mainDiv").removeClass('disabled');
									}
								 });
		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   } 
							}
		                   
		                   
		                   
		                   
		                   
		                   function viewSalesmanCommission(flowUnder,index,searchname,flow){
                             
		                	   try{
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }
		                	   // debugger;
		                	if (flowUnder == undefined && $("#flowUnder").length > 0)
		                		flowUnder = $("#flowUnder").val();
		                	
		                	var maxRecords = 10;
		                	if ($("#maxRecords").length > 0)
		                		maxRecords = $("#maxRecords").val();

		                	var bussinessArea = "";
		                	if ($("#").length > 0)
		                		bussinessArea = $("#").val();

		                	var section = "";
		                	if ($("#section").length > 0)
		                		section = $("#section").val();

		                	var subDepartment = "";
		                	if ($("#outletSubDepartmentId").length > 0)
		                		subDepartment = $("#outletSubDepartmentId").val();

		                	var location = "";
		                	if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
		                		location = $("#location").val();
		                	var zone = "";
		                	if ($("#outletZone").length > 0)
		                		zone = $("#outletZone").val();
		                	var startDate = "";
		                	if ($("#startDate").length > 0)
		                		startDate = $("#startDate").val();
		                	var endDate = "";
		                	if ($("#endDate").length > 0)
		                		endDate = $("#endDate").val();
		                	var category = "";
		                	if ($("#Category").length > 0)
		                		category = $("#Category").val();
		                	var subCategory = "";
		                	if ($("#outletSubcategory").length > 0)
		                		subCategory = $("#outletSubcategory").val();

		                	var department = "";
		                	if ($("#outletDepartmentId").length > 0)
		                		department = $("#outletDepartmentId").val();
		                	
		                	
		                	if (searchname == "save")
		                		var saveFlag = true;
		                	else
		                		var saveFlag =false;
		                	
		                	
		                	
		              		
		                	
		             
		                	
		                	var searchCriteria="";
		                	if ($("#searchSaleCommissionItems").length > 0)
		                		searchCriteria = $("#searchSaleCommissionItems").val();
		                		// alert(flowUnder);
		                		var contextPath = $("#contextPath").val();
		                    	 var URL = contextPath + "/reports/viewSalesmanCommission.do";
		                    	 $.ajax({
		                    		type : "GET",
		                    		url : URL,
		                    		data : {
		                    			index : index,
		                				Id : flowUnder,
		                				maxRecords : maxRecords,
		                				bussinessArea : bussinessArea,
		                				section : section,
		                				subDepartment : subDepartment,
		                				location : location,
		                				zone : zone,
		                				startDate : startDate,
		                				endDate : endDate,
		                				category : category,
		                				subCategory : subCategory,
		                				department : department,
		                				searchCriteria : searchCriteria,
		                				saveFlag : saveFlag,
		                				flow : flow
		                    		},
		                    	
		                    		beforeSend: function(xhr){                    
		                				$("#loadingreport").css("display","block");
		                				$("#mainDiv").addClass("disabled");
		                	        },

		                		success : function(result){
		                			$(".active-menu").removeClass("active-menu");
		                			 if(flow == ""){
			                				
			                				openMenu("liOutletSalesReports","ulOutletSalesReports",0);
			                				openMenu("liOutletReports","ulOutletReports",1);
			                				openMenu("reports", "ulReports",1);
			                			}else{
			                				 openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
			             					openMenu("liWarehouseReports","ulWarehouseReports",1);
			             					openMenu("reports", "ulReports",1);
			                			}
		                			activeMenu(flowUnder);
		                			$('#right-side').html(result);
		                			$("#loadingreport").css("display","none");
		                			$("#mainDiv").removeClass('disabled');
		                		},
		                			error : function(jqXHR, textStatus, errorThrown)  {
		                				errorCode(jqXHR.status);
		                				$("#loadingreport").css("display", "none");
		                				$("#mainDiv").removeClass('disabled');
		                			}
		                    	 });
		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   } 
		                    }
		                   
		                   
		                   
		                   
		                   //added by koti bommineni
		                   
		                   
		                   function searchSalesmanCommission(flowUnder,index,searchname,popup,flow){

		                	   try{
		                		   $('#myModalIos').modal('hide');
		                			 $('#myModalIoss').modal('hide');
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }
		                	   // debugger;
		                	if (flowUnder == undefined && $("#flowUnder").length > 0)
		                		flowUnder = $("#flowUnder").val();
		                	
		                	var maxRecords = 10;
		                	if ($("#maxRecords").length > 0)
		                		maxRecords = $("#maxRecords").val();

		                	var bussinessArea = "";
		                	if ($("#").length > 0)
		                		bussinessArea = $("#").val();

		                	var section = "";
		                	if ($("#section").length > 0)
		                		section = $("#section").val();

		                	var subDepartment = "";
		                	if ($("#outletSubDepartmentId").length > 0)
		                		subDepartment = $("#outletSubDepartmentId").val();

		                	var location = "";
		                	if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
		                		location = $("#location").val();
		                	var zone = "";
		                	if ($("#outletZone").length > 0)
		                		zone = $("#outletZone").val();
		                	var startDate = "";
		                	if ($("#startDate").length > 0)
		                		startDate = $("#startDate").val();
		                	var endDate = "";
		                	if ($("#endDate").length > 0)
		                		endDate = $("#endDate").val();
		                	var category = "";
		                	if ($("#Category").length > 0)
		                		category = $("#Category").val();
		                	var subCategory = "";
		                	if ($("#outletSubcategory").length > 0)
		                		subCategory = $("#outletSubcategory").val();

		                	var department = "";
		                	if ($("#outletDepartmentId").length > 0)
		                		department = $("#outletDepartmentId").val();
		                	
		                	
		                	if (searchname == "save")
		                		var saveFlag = true;
		                	else
		                		var saveFlag =false;
		                	
		                	if(popup == "" || popup == undefined || popup == null){
		    					popup="";
		    				}
		                	
		                	
		              		if ($("#startDate").val() != "" && $("#endDate").val() != "") {
		            	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		            	   		if (noOfDays < 0) {
		            	   			alert("Start Date can't be less than End Date");
		            	   			return;
		            	   		}
		            	   	}
		                	if($("#endDate").length > 0 && $("#endDate").val() !=""){
 //if(criteria == 'Department' || criteria == 'Brand'){
		   	    		  	   var  allownoOfDays = daydiff(parseDate($('#startDate').val()), parseDate(endDate));
		   	    				if(allownoOfDays > 30){
		   	    					alert("Date Range should not exceed a Month");
		   	    					return false;
		   	    				}
		   	    				if(popup=="NOPOP"){
		   						 if(allownoOfDays>15 ){
		   							 $('#myModalIoss').modal('show');
		   								/*var returnValue = getConfirmation();
		   								if(returnValue == false)*/
		   									return;
		   								}
		   						 }
		                	}
		                	var searchCriteria="";
		                	if ($("#searchSaleCommissionItems").length > 0)
		                		searchCriteria = $("#searchSaleCommissionItems").val();
		                		// alert(flowUnder);
		                		var contextPath = $("#contextPath").val();
		                    	 var URL = contextPath + "/reports/viewSalesmanCommission.do";
		                    	 $.ajax({
		                    		type : "GET",
		                    		url : URL,
		                    		data : {
		                    			index : index,
		                				Id : flowUnder,
		                				maxRecords : maxRecords,
		                				bussinessArea : bussinessArea,
		                				section : section,
		                				subDepartment : subDepartment,
		                				location : location,
		                				zone : zone,
		                				startDate : startDate,
		                				endDate : endDate,
		                				category : category,
		                				subCategory : subCategory,
		                				department : department,
		                				searchCriteria : searchCriteria,
		                				saveFlag : saveFlag,
		                				flow : flow
		                    		},
		                    	
		                    		beforeSend: function(xhr){                    
		                    			$("#loadingreport").css("display","block");
		                				$("#mainDiv").addClass('disabled');
		                	        },

		                		success : function(result){
		                			$(".active-menu").removeClass("active-menu");
		                			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		                			openMenu("liOutletReports","ulOutletReports",1);
		                			openMenu("reports", "ulReports",1);
		                			activeMenu(flowUnder);
		                			$('#right-side').html(result);
		                			$("#loadingreport").css("display","none");
		            				$("#mainDiv").removeClass('disabled');
		                		},
		                			error : function(jqXHR, textStatus, errorThrown)  {
		                				errorCode(jqXHR.status);
		                				$("#loadingreport").css("display","none");
		                				$("#mainDiv").removeClass('disabled');
		                			}
		                    	 });
		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   } 
		                    }

		                   
		                   
		                   
		                   
		                   
		                   
		                   
		                   
		                   
		                   function viewNewSalesmanCommission(flowUnder,index,searchname,flow){

		                	   
		                		 $('#myModalIos').modal('hide');

		                	   
		                	   try{
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }
		                	   // debugger;
		                	if (flowUnder == undefined && $("#flowUnder").length > 0)
		                		flowUnder = $("#flowUnder").val();
		                	
		                	var maxRecords = 10;
		                	if ($("#maxRecords").length > 0)
		                		maxRecords = $("#maxRecords").val();

		                	var bussinessArea = "";
		                	if ($("#").length > 0)
		                		bussinessArea = $("#").val();

		                	var section = "";
		                	if ($("#section").length > 0)
		                		section = $("#section").val();

		                	var subDepartment = "";
		                	if ($("#outletSubDepartmentId").length > 0)
		                		subDepartment = $("#outletSubDepartmentId").val();

		                	var location = "";
		                	if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
		                		location = $("#location").val();
		                	var zone = "";
		                	if ($("#outletZone").length > 0)
		                		zone = $("#outletZone").val();
		                	var startDate = "";
		                	if ($("#startDateSalesmen").length > 0)
		                		startDate = $("#startDateSalesmen").val();
		                	var endDate = "";
		                	if ($("#endDateSalesmen").length > 0)
		                		endDate = $("#endDateSalesmen").val();
		                	
		                	
		                	 if ($("#startDateSalesmen").val() != "" && $("#endDateSalesmen").val() != "") {
		             	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		             	   		if (noOfDays < 0) {
		             	   			alert("Start Date can't be less than End Date");
		             	   			return;
		             	   		}
		             	   	}
		                	 

		             	  	 if(endDate!="" || endDate!=null)
//		             	  		 if(criteria == 'date'){
		             	  		 {
		             	  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		             	  			 if(allownoOfDays > 31){
		             	  				 alert("Date Range should not exceed a Month");
		             	  				 return false;
		             	  			 }
		             	  		 }

		             	  	if(noOfDays>15){
             	  				var returnValue = getConfirmation();
             	  				if(returnValue == false)
             	  					return;
             	  				}
               		
               		
		             	  	
		                	
		                	var category = "";
		                	if ($("#Category").length > 0)
		                		category = $("#Category").val();
		                	var subCategory = "";
		                	if ($("#outletSubcategory").length > 0)
		                		subCategory = $("#outletSubcategory").val();

		                	var department = "";
		                	if ($("#outletDepartmentId").length > 0)
		                		department = $("#outletDepartmentId").val();
		                	
		                	
		                	if (searchname == "save")
		                		var saveFlag = true;
		                	else
		                		var saveFlag =false;
		                	
		                	
		                	var searchCriteria="";
		                	if ($("#searchSaleCommissionItems").length > 0)
		                		searchCriteria = $("#searchSaleCommissionItems").val();
		                		// alert(flowUnder);
		                		var contextPath = $("#contextPath").val();
		                    	 var URL = contextPath + "/reports/viewNewSalesmanCommission.do";
		                    	 $.ajax({
		                    		type : "GET",
		                    		url : URL,
		                    		data : {
		                    			index : index,
		                				Id : flowUnder,
		                				maxRecords : maxRecords,
		                				bussinessArea : bussinessArea,
		                				section : section,
		                				subDepartment : subDepartment,
		                				location : location,
		                				zone : zone,
		                				startDate : startDate,
		                				endDate : endDate,
		                				category : category,
		                				subCategory : subCategory,
		                				department : department,
		                				searchCriteria : searchCriteria,
		                				saveFlag : saveFlag,
		                				flow : flow
		                    		},
		                    	
		                    		beforeSend: function(xhr){                    
		                				$("#loadingreport").css("display","block");
		                				$("#mainDiv").addClass("disabled");
		                	        },

		                		success : function(result){
		                			$(".active-menu").removeClass("active-menu");
                                           if(flow == ""){
		                				
		                				openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		                				openMenu("liOutletReports","ulOutletReports",1);
		                				openMenu("reports", "ulReports",1);
		                			}else{
		                				 openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
		             					openMenu("liWarehouseReports","ulWarehouseReports",1);
		             					openMenu("reports", "ulReports",1);
		                			}
		                			activeMenu(flowUnder);
		                			$('#right-side').html(result);
		                			$("#loadingreport").css("display","none");
		                   		 var anchor = document.createElement('a');
		           				  anchor.href = $("#stockdownloadurl").val();
		           				  anchor.target = '_blank';
		           				  anchor.download = '';
		           				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
		           				  anchor.click();
		                			
		                			
		                			$("#mainDiv").removeClass('disabled');
		                		},
		                			error : function(jqXHR, textStatus, errorThrown)  {
		                				errorCode(jqXHR.status);
		                				$("#loadingreport").css("display", "none");
		                				$("#mainDiv").removeClass('disabled');
		                			}
		                    	 });
		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   } 
		                    }    
		                   
		                   
		                   
		                   //added by koti bommineni
		                   
		                   
		                   
		                   
		                   function searchNewSalesmanCommission(flowUnder,index,searchname,popup,flow){

		                	   try{
		                		   $('#myModalIos').modal('hide');
		                			 $('#myModalIoss').modal('hide');
		                		   
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }
		                	   // debugger;
		                	if (flowUnder == undefined && $("#flowUnder").length > 0)
		                		flowUnder = $("#flowUnder").val();
		                	
		                	var maxRecords = 10;
		                	if ($("#maxRecords").length > 0)
		                		maxRecords = $("#maxRecords").val();

		                	var bussinessArea = "";
		                	if ($("#").length > 0)
		                		bussinessArea = $("#").val();

		                	var section = "";
		                	if ($("#section").length > 0)
		                		section = $("#section").val();

		                	var subDepartment = "";
		                	if ($("#outletSubDepartmentId").length > 0)
		                		subDepartment = $("#outletSubDepartmentId").val();

		                	var location = "";
		                	if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
		                		location = $("#location").val();
		                	var zone = "";
		                	if ($("#outletZone").length > 0)
		                		zone = $("#outletZone").val();
		                	var startDate = "";
		                	if ($("#startDateSalesmen").length > 0)
		                		startDate = $("#startDateSalesmen").val();
		                	var endDate = "";
		                	if ($("#endDateSalesmen").length > 0)
		                		endDate = $("#endDateSalesmen").val();
		                	
		                	
		                	 if ($("#startDateSalesmen").val() != "" && $("#endDateSalesmen").val() != "") {
		             	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		             	   		if (noOfDays < 0) {
		             	   			alert("Start Date can't be less than End Date");
		             	   			return;
		             	   		}
		             	   	}
		                	 

		             	  	 if(endDate!="" || endDate!=null)
//		             	  		 if(criteria == 'date'){
		             	  		 {
		             	  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		             	  			 if(allownoOfDays > 31){
		             	  				 alert("Date Range should not exceed a Month");
		             	  				 return false;
		             	  			 }
		             	  		 }

		             	  	if(popup == "" || popup == undefined || popup == null){
		    					popup="";
		    				}
		    				
		    				
		    				
		    					if(popup=="NOPOP"){
		    					 if(allownoOfDays>15 ){
		    						 
		    						 $('#myModalIoss').modal('show');

		    						 
		    							/*var returnValue = getConfirmation();
		    							if(returnValue == false)*/
		    								return;
		    							}
		    					 }
               		
               		
		             	  	
		                	
		                	var category = "";
		                	if ($("#Category").length > 0)
		                		category = $("#Category").val();
		                	var subCategory = "";
		                	if ($("#outletSubcategory").length > 0)
		                		subCategory = $("#outletSubcategory").val();

		                	var department = "";
		                	if ($("#outletDepartmentId").length > 0)
		                		department = $("#outletDepartmentId").val();
		                	
		                	
		                	if (searchname == "save")
		                		var saveFlag = true;
		                	else
		                		var saveFlag =false;
		                	
		                	
		                	var searchCriteria="";
		                	if ($("#searchSaleCommissionItems").length > 0)
		                		searchCriteria = $("#searchSaleCommissionItems").val();
		                		// alert(flowUnder);
		                		var contextPath = $("#contextPath").val();
		                    	 var URL = contextPath + "/reports/viewNewSalesmanCommission.do";
		                    	 $.ajax({
		                    		type : "GET",
		                    		url : URL,
		                    		data : {
		                    			index : index,
		                				Id : flowUnder,
		                				maxRecords : maxRecords,
		                				bussinessArea : bussinessArea,
		                				section : section,
		                				subDepartment : subDepartment,
		                				location : location,
		                				zone : zone,
		                				startDate : startDate,
		                				endDate : endDate,
		                				category : category,
		                				subCategory : subCategory,
		                				department : department,
		                				searchCriteria : searchCriteria,
		                				saveFlag : saveFlag,
		                				flow : flow
		                    		},
		                    	
		                    		beforeSend: function(xhr){                    
		                				$("#loadingreport").css("display","block");
		                				$("#mainDiv").addClass("disabled");
		                	        },

		                		success : function(result){
		                			$(".active-menu").removeClass("active-menu");
		                			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		                			openMenu("liOutletReports","ulOutletReports",1);
		                			openMenu("reports", "ulReports",1);
		                			activeMenu(flowUnder);
		                			$('#right-side').html(result);
		                			$("#loadingreport").css("display","none");
		                			$("#mainDiv").removeClass('disabled');
		                			$("#loadingreport").css("display","none");
		                			$("#neww").removeClass('disabled');
		                		},
		                			error : function(jqXHR, textStatus, errorThrown)  {
		                				errorCode(jqXHR.status);
		                				$("#loadingreport").css("display", "none");
		                				$("#neww").removeClass('disabled');
		                			}
		                    	 });
		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   } 
		                    }    
		                   
		             
		                   
		                   function viewSerialBillSalesReports(id,index,searchname,flow){
                                debugger;
		                	   try{
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }
		                	   // debugger;
		                	var maxRecords = 10;
		                	if ($("#maxRecords").length > 0)
		                		maxRecords = $("#maxRecords").val();

		                	var startDate = "";
		                	if ($("#from").length > 0)
		                		startDate = $("#from").val();
		                	var endDate = "";
		                	if ($("#to").length > 0)
		                		endDate = $("#to").val();
		                	
		                	
		                	  if(startDate == "" || startDate == null || startDate == undefined)
		    	    		  {
		    	    		  var dateTime = getCurrentDate();
		    	    	  var date = dateTime.split(' ');
		    	    	  date = date[0].split('/');
		    	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
		    	    	  var startDate = formatedDate;
		    	    	  startDate=startDate;
		    	    		  }
		    	    	 
		    	    	  if(endDate == "" || endDate == null || endDate == undefined)
		    		  {
		    	    		  var endDate = formatedDate ;
		    	    		   endDate = endDate;

		    		  }
		    	    	  
			                	
		                	
		                	
		                	 var location =""
		                		 if ($("#outletLocation").length > 0)
		                		 location =  $('#outletLocation').val();
		                 	 var zone =""
		                		 if ($("#outletZone").length > 0)
		                		 zone =  $('#outletZone').val();
		                	
		                	var searchCriteria="";
		                	if ($("#searchSaleCommissionItems").length > 0)
		                		searchCriteria = $("#searchSaleCommissionItems").val();
		                		// alert(flowUnder);
		                		var contextPath = $("#contextPath").val();
		                    	 var URL = contextPath + "/reports/viewSerialBillSalesReports.do";
		                    	 $.ajax({
		                    		type : "GET",
		                    		url : URL,
		                    		data : {
		                    			index : index,
		                				maxRecords : maxRecords,
		                				startdate : startDate,
		                				enddate : endDate,
		                				location : location,
		                				zone:zone,
		                				searchName : searchCriteria,
		                				flow : flow
		                    		},
		                    	
		                    		beforeSend: function(xhr){                    
		                				$("#loadingreport").css("display","block");
		                				$("#mainDiv").addClass("disabled");
		                	        },

		                		success : function(result){
		                			$(".active-menu").removeClass("active-menu");
                                      if(flow == ""){
		                				
		                				openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		                				openMenu("liOutletReports","ulOutletReports",1);
		                				openMenu("reports", "ulReports",1);
		                			}else{
		                				 openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
		             					openMenu("liWarehouseReports","ulWarehouseReports",1);
		             					openMenu("reports", "ulReports",1);
		                			}
		                			activeMenu(id);
		                			$('#right-side').html(result);
		                			$("#loadingreport").css("display","none");
		                   		 var anchor = document.createElement('a');
		           				  anchor.href = $("#stockdownloadurl").val();
		           				  anchor.target = '_blank';
		           				  anchor.download = '';
		           				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
		           				  anchor.click();
		                			
		                			
		                			$("#mainDiv").removeClass('disabled');
		                		},
		                			error : function(jqXHR, textStatus, errorThrown)  {
		                				errorCode(jqXHR.status);
		                				$("#loadingreport").css("display", "none");
		                				$("#mainDiv").removeClass('disabled');
		                			}
		                    	 });
		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   } 
		                    }  
		                   
		                   
		                   // added by koti bommineni
		                   
		                   
		                   
		                   function searchSerialBillSalesReports(id,index,searchname,popup){
                               debugger;
		                	   try{
		                		   
		                		   $('#myModalIos').modal('hide');
		                			 $('#myModalIoss').modal('hide');
		                			 
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }
		                	   // debugger;
		                	   	
		                	   	
		                	  var flow = "";
		                	  
		                	var maxRecords = 10;
		                	if ($("#maxRecords").length > 0)
		                		maxRecords = $("#maxRecords").val();

		                	var startDate = "";
		                	if ($("#from").length > 0)
		                		startDate = $("#from").val();
		                	var endDate = "";
		                	if ($("#to").length > 0)
		                		endDate = $("#to").val();
		                	
		                	
		                	  if(startDate == "" || startDate == null || startDate == undefined)
		    	    		  {
		    	    		  var dateTime = getCurrentDate();
		    	    	  var date = dateTime.split(' ');
		    	    	  date = date[0].split('/');
		    	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
		    	    	  var startDate = formatedDate;
		    	    	  startDate=startDate;
		    	    		  }
		    	    	 
		    	    	  if(endDate == "" || endDate == null || endDate == undefined)
		    		  {
		    	    		  var endDate = formatedDate ;
		    	    		   endDate = endDate;

		    		  }
		    	    		 if ($("#from").val() != "" && $("#to").val() != "") {
			               	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
			               	   		if (noOfDays < 0) {
			               	   			alert("Start Date can't be less than End Date");
			               	   			return;
			               	   		}
			               	   	}
			               	  	 if(endDate!="" || endDate!=null)
//			               	  		 if(criteria == 'date'){
			               	  		 {
			               	  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
			               	  			 if(allownoOfDays > 31){
			               	  				 alert("Date Range should not exceed a Month");
			               	  				 return false;
			               	  			 }
			               	  		 }


			               	  if(popup == "" || popup == undefined || popup == null){
			  					popup="";
			  				                 }
			  				
			  				
			  				
			  					if(popup=="NOPOP"){
			  					 if(allownoOfDays>15 ){
			  						 
			  						 $('#myModalIoss').modal('show');

			  						 
			  							/*var returnValue = getConfirmation();
			  							if(returnValue == false)*/
			  								return;
			  							}
			  					 }
			                	
		                	
		                	
		                	 var location =""
		                		 if ($("#outletLocation").length > 0)
		                		 location =  $('#outletLocation').val();
		                 	 var zone =""
		                		 if ($("#outletZone").length > 0)
		                		 zone =  $('#outletZone').val();
		                	
		                	var searchCriteria="";
		                	if ($("#searchSaleCommissionItems").length > 0)
		                		searchCriteria = $("#searchSaleCommissionItems").val();
		                		// alert(flowUnder);
		                		var contextPath = $("#contextPath").val();
		                    	 var URL = contextPath + "/reports/viewSerialBillSalesReports.do";
		                    	 $.ajax({
		                    		type : "GET",
		                    		url : URL,
		                    		data : {
		                    			index : index,
		                				maxRecords : maxRecords,
		                				startdate : startDate,
		                				enddate : endDate,
		                				location : location,
		                				zone:zone,
		                				searchName : searchCriteria,
		                				flow:flow
		                    		},
		                    	
		                    		beforeSend: function(xhr){                    
		                    			$("#loadingreport").css("display","block");
		                				$("#mainDiv").addClass('disabled');
		                	        },

		                		success : function(result){
		                			$(".active-menu").removeClass("active-menu");
		                			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		                			openMenu("liOutletReports","ulOutletReports",1);
		                			openMenu("reports", "ulReports",1);
		                			activeMenu(id);
		                			$('#right-side').html(result);
		                			$("#loading").css("display","none");
		                			$("#mainDiv").removeClass('disabled');
		                			$("#loadingreport").css("display","none");
		            				$("#bills").removeClass('disabled');
		                   		 var anchor = document.createElement('a');
		           				  anchor.href = $("#stockdownloadurl").val();
		           				  anchor.target = '_blank';
		           				  anchor.download = '';
		           				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
		           				  anchor.click();
		                			
		                			
		                		},
		                			error : function(jqXHR, textStatus, errorThrown)  {
		                				errorCode(jqXHR.status);
		                				$("#loadingreport").css("display","none");
		                				$("#bills").removeClass('disabled');
		                			}
		                    	 });
		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   } 
		                    }  
		                   
// //////
		   
		         function viewSalesCouponReports(id,index,searchname,flow){
		                	   	debugger;
		                	   try{
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }
		                	   // debugger;
		                	   if (searchname == "save")
		                			var saveFlag = true;
		                		else
		                			var saveFlag =false;
		                	   
		                	   
		                	var maxRecords = 10;
		                	if ($("#maxRecords").length > 0)
		                		maxRecords = $("#maxRecords").val();

		                	var startDate = "";
		                	if ($("#startDateSt").length > 0)
		                		startDate = $("#startDateSt").val();
		                	var endDate = "";
		                	if ($("#endDateSt").length > 0)
		                		endDate = $("#endDateSt").val();
		                	 var location =""
		                		 if ($("#outletLocation").length > 0)
		                		 location =  $('#outletLocation').val();
		                 	 var zone =""
		                		 if ($("#outletZone").length > 0)
		                		 zone =  $('#outletZone').val();
		                	
		                	var searchCriteria="";
		                	if ($("#searchSalesCoupon").length > 0)
		                		searchCriteria = $("#searchSalesCoupon").val();
		                		// alert(flowUnder);
		                	if(searchCriteria=="" || searchCriteria==undefined || searchCriteria==null)
		                		{
		                			searchCriteria="coupon";
		                		}
		                		var contextPath = $("#contextPath").val();
		                    	 var URL = contextPath + "/reports/viewSalesCouponIssueReports.do";
		                    	 $.ajax({
		                    		type : "GET",
		                    		url : URL,
		                    		data : {
		                    			index : index,
		                				maxRecords 	: maxRecords,
		                				startdate 	: startDate,
		                				enddate 	: endDate,
		                				location 	: location,
		                				zone		:zone,
		                				searchName  : searchCriteria,
		                				saveFlag	:saveFlag,
		                				flow : flow
		                    		},
		                    	
		                    		beforeSend: function(xhr){                    
		                				$("#loading").css("display","block");
		                				$("#mainDiv").addClass("disabled");
		                	        },

		                		success : function(result){
		                			$(".active-menu").removeClass("active-menu");
		                			 if(flow == ""){
			                				
			                				openMenu("liOutletSalesReports","ulOutletSalesReports",0);
			                				openMenu("liOutletReports","ulOutletReports",1);
			                				openMenu("reports", "ulReports",1);
			                			}else{
			                				 openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
			             					openMenu("liWarehouseReports","ulWarehouseReports",1);
			             					openMenu("reports", "ulReports",1);
			                			}
		                			activeMenu(id);
		                			$('#right-side').html(result);
		                			$("#loading").css("display","none");
		                			/*
									 * $("#startDate").val(startDateSt);
									 * $("#endDate").val(endDateSt);
									 */
		                   		 var anchor = document.createElement('a');
		           				  anchor.href = $("#stockdownloadurl").val();
		           				  anchor.target = '_blank';
		           				  anchor.download = '';
		           				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
		           				  anchor.click();
		                			
		                			
		                			$("#mainDiv").removeClass('disabled');
		                		},
		                			error : function(jqXHR, textStatus, errorThrown)  {
		                				errorCode(jqXHR.status);
		                				$("#loading").css("display", "none");
		                				$("#mainDiv").removeClass('disabled');
		                			}
		                    	 });
		                	   }
		                	   catch(e)
		                	   {
		                	   	        errorCode(e);
		                	   } 
		                    }  
		                   
		                   
		                   
		                   
	 function viewSalesVoucherReports(id,index,searchname,flow){
		                	   	debugger;
		                	   try{
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }
		                	   // debugger;
		                	    if (searchname == "save")
		                			var saveFlag = true;
		                		else
		                			var saveFlag =false;
		                	   
		                	var maxRecords = 10;
		                	if ($("#maxRecords").length > 0)
		                		maxRecords = $("#maxRecords").val();

		                	var startDate = "";
		                	if ($("#startDateSt").length > 0)
		                		startDate = $("#startDateSt").val();
		                	var endDate = "";
		                	if ($("#endDateSt").length > 0)
		                		endDate = $("#endDateSt").val();
		                	 var location =""
		                		 if ($("#outletLocation").length > 0)
		                		 location =  $('#outletLocation').val();
		                 	 var zone =""
		                		 if ($("#outletZone").length > 0)
		                		 zone =  $('#outletZone').val();
		                	
		                	var searchCriteria="";
		                	if ($("#searchSalesVoucher").length > 0)
		                		searchCriteria = $("#searchSalesVoucher").val();
		                		// alert(flowUnder);
		                	if(searchCriteria=="" || searchCriteria==undefined || searchCriteria==null)
		                		{
		                			searchCriteria="giftVoucher";
		                		}
		                		var contextPath = $("#contextPath").val();
		                    	 var URL = contextPath + "/reports/viewSalesVoucherIssueReports.do";
		                    	 $.ajax({
		                    		type : "GET",
		                    		url : URL,
		                    		data : {
		                    			index 		:index,
		                				maxRecords 	:maxRecords,
		                				startdate 	:startDate,
		                				enddate 	:endDate,
		                				location 	:location,
		                				zone		:zone,
		                				searchName 	:searchCriteria,
		                				saveFlag	:saveFlag,
		                				flow : flow
		                    		},
		                    		beforeSend: function(xhr){                    
		                				$("#loading").css("display","block");
		                				$("#mainDiv").addClass("disabled");
		                	        },

		                		success : function(result){
		                			$(".active-menu").removeClass("active-menu");
		                			
		                			if(flow == ""){
		                				
		                				openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		                				openMenu("liOutletReports","ulOutletReports",1);
		                				openMenu("reports", "ulReports",1);
		                			}else{
		                				 openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
		             					openMenu("liWarehouseReports","ulWarehouseReports",1);
		             					openMenu("reports", "ulReports",1);
		                			}
		                			activeMenu(id);
		                			$('#right-side').html(result);
		                			$("#loading").css("display","none");
		                   		 var anchor = document.createElement('a');
		           				  anchor.href = $("#stockdownloadurl").val();
		           				  anchor.target = '_blank';
		           				  anchor.download = '';
		           				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
		           				  anchor.click();
		                			
		                			
		                			$("#mainDiv").removeClass('disabled');
		                		},
		                			error : function(jqXHR, textStatus, errorThrown)  {
		                				errorCode(jqXHR.status);
		                				$("#loading").css("display", "none");
		                				$("#mainDiv").removeClass('disabled');
		                			}
		                    	 });
		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   }
		                    }  
		                   
		    function viewDeliveryPersonWiseReports(id,index,searchname,flow){
          	   	debugger;
          	   try{
          	   var online = window.navigator.onLine;
          	   	if(!online)
          	           {
          	   	 alert("Check your internet connection,Please try agian after some time.");
          	     	 return;
          	          }
          	   // debugger;
          	    if (searchname == "save")
          			var saveFlag = true;
          		else
          			var saveFlag =false;
          	   
          	var maxRecords = 10;
          	if ($("#maxRecords").length > 0)
          		maxRecords = $("#maxRecords").val();

          	var startDate = "";
          	if ($("#startDateSt").length > 0)
          		startDate = $("#startDateSt").val();
          	var endDate = "";
          	if ($("#endDateSt").length > 0)
          		endDate = $("#endDateSt").val();
          	 var location =""
          		 if ($("#outletLocation").length > 0)
          		 location =  $('#outletLocation').val();
           	 var zone =""
          		 if ($("#outletZone").length > 0)
          		 zone =  $('#outletZone').val();
          	
          	var searchCriteria="";
          	if ($("#searchSalesVoucher").length > 0)
          		searchCriteria = $("#searchSalesVoucher").val();
          		// alert(flowUnder);
          	if(searchCriteria=="" || searchCriteria==undefined || searchCriteria==null)
          		{
          			searchCriteria="giftVoucher";
          		}
          		var contextPath = $("#contextPath").val();
              	 var URL = contextPath + "/reports/viewDeliveryPersonWiseReports.do";
              	 $.ajax({
              		type : "GET",
              		url : URL,
              		data : {
              			index : index,
          				maxRecords : maxRecords,
          				startdate : startDate,
          				enddate : endDate,
          				location : location,
          				zone:zone,
          				searchName : searchCriteria,
          				saveFlag:saveFlag,
          				flow : flow
              		},
              		beforeSend: function(xhr){                    
          				$("#loading").css("display","block");
          				$("#mainDiv").addClass("disabled");
          	        },

          		success : function(result){
          			$(".active-menu").removeClass("active-menu");
          			
          			if(flow == ""){
          				
          				openMenu("liOutletSalesReports","ulOutletSalesReports",0);
          				openMenu("liOutletReports","ulOutletReports",1);
          				openMenu("reports", "ulReports",1);
          			}else{
          				
          				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
          				openMenu("liWarehouseReports","ulWarehouseReports",1);
          				openMenu("reports", "ulReports",1);
          			}
          			activeMenu(id);
          			$('#right-side').html(result);
          			$("#loading").css("display","none");
             		 var anchor = document.createElement('a');
     				  anchor.href = $("#stockdownloadurl").val();
     				  anchor.target = '_blank';
     				  anchor.download = '';
     				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
     				  anchor.click();
          			
          			
          			$("#mainDiv").removeClass('disabled');
          		},
          			error : function(jqXHR, textStatus, errorThrown)  {
          				errorCode(jqXHR.status);
          				$("#loading").css("display", "none");
          				$("#mainDiv").removeClass('disabled');
          			}
              	 });
          	   }
          	   catch(e)
          	   	{
          	   	        errorCode(e);
          	   } 
              }  
		                   
		                   
// /////////
		                   
/*
 * below code is for f&b Integration
 */
		                   function viewMenuConfigurations(id){
		                	   try{
		                		   var online = window.navigator.onLine;
		                		   	if(!online)
		                		           {
		                		   	 alert("Check your internet connection,Please try agian after some time.");
		                		     	 return;
		                		          }
		                		   	
// debugger
		                	   
		              		 var contextPath = $("#contextPath").val();
		                  	 URL = contextPath + "/inventorymanager/menuConfigurations.do";
		                  	 $.ajax({
		                 			type: "GET",
		                 			url : URL,
		                 			data : {
		                 				
		                 			},
		                 			beforeSend: function(xhr){                    
		              	   				$("#loading").css("display","block");
		              	   				$("#mainDiv").addClass("disabled");
		              	        },

		                 			success : function(result) {
		                 				if(id!="undefined"&&id!=""&&id!=null)
		                              	activeMenu(id);
		                 			   //openMenu("storedetails", "ulstoredetails",0);
		                                                 			
		                  			 $("#right-side").html(result);
		                  		
		                      		 
		                     			 $("#loading").css("display","none");
		                			   $("#mainDiv").removeClass('disabled');

		                 			},
		                 			error : function(jqXHR, textStatus, errorThrown)  {
		                 				 errorCode(jqXHR.status);
		                 				$("#loading").css("display","none");
		               			   $("#mainDiv").removeClass('disabled');
		                 			}
		                 		});

		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   }
		              	 }
		                   
		                   
		                   
		                   /**
							 * 
							 * Created by: kalyan Creation date: Updated by:
							 * kalyan Last updated on: Verified by: Purpose:
							 * view all Bookings with out filter .method get
							 * call from left menu Bookings Lable.
							 * 
							 * @param id
							 */
		         	      function viewRestaurantBookings(id){
		         	    	
		         	    	 try{
		         	    		var online = window.navigator.onLine;
		         	    			if(!online)
		         	    		        {
		         	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    		  	 return;
		         	    		       }
		         	    	  var contextPath = $('#contextPath').val();
		         	    	   var URL = contextPath + "/inventorymanager/viewRestaurantBookings.do";
		         	    	  $.ajax({
		         	    		url : URL,
		         	    		data : {
		             				location: "",
		             				level : "",
		         					startDate: "",
		         					endDate : "",
		         					index : "0",
		         					bookingId : "",
		         					slot : "",
		         					orderType :""
		             			},
		         	    		beforeSend: function(xhr){                    
		            	   				$("#loading").css("display","block");
		            	   				$("#mainDiv").addClass("disabled");
		             	        },

		         	    		success : function(result){
		         	    			 $("#right-side").html(result);
		         	                 if(id!="undefined"&&id!=""&&id!=null)
		         	                 	activeMenu(id);

		         	                 var flag = 0;
		         	         			if(flag == 0){
		         	         				$(".active").removeClass("active");
		         	         				$(".menu-open").css("display","none");
		         	         				$(".menu-open").removeClass("menu-open");
		         	         			}
		         	         		 
		         	         		 $("#HospitalityDetails").addClass("active");
		         	         		 $("#ulHospitalityDetails").addClass("menu-open");
		         	         		 $("#ulHospitalityDetails").css("display","block");
		         	         		 
		         	         		 $("#liRestaurantManagement").addClass("active");
		         	         		 $("#ulRestaurantManagement").addClass("menu-open");
		         	         		 $("#ulRestaurantManagement").css("display","block");
		         	  			   
		         	    			$("#loading").css("display","none");
		         	    			$("#mainDiv").removeClass('disabled');
		         	    		},
		         	    		error : function(jqXHR, textStatus, errorThrown) {
		         	    			errorCode(jqXHR.status);
		         	    		  $("#loading").css("display","none");
		             			   $("#mainDiv").removeClass('disabled');

		         	    		}
		         	    	 });

		         	    	}
		         	    	catch(e)
		         	    		{
		         	    		        errorCode(e);
		         	    	}
		         	      }

		         	      
		         	      /**
							 * added by kalyan view booking information
							 * 
							 * @param bookingId
							 * @param location
							 */
		         	      function viewRestaurantBookingInfo(bookingId,location){
		         	    	 try{
		         	    		var online = window.navigator.onLine;
		         	    			if(!online)
		         	    		        {
		         	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    		  	 return;
		         	    		       }
		         	    	  var contextPath = $('#contextPath').val();
		         	    	   var URL = contextPath + "/inventorymanager/viewRestaurantBookingDetails.do";
		         	    	  $.ajax({
		         	    		url : URL,
		         	    		data : {
		         	    			bookingId : bookingId
		         	    		},
		         	    		
		         	    		beforeSend: function(xhr){                    
		             	   				$("#loading").css("display","block");
		             	   				$("#mainDiv").addClass("disabled");
		              	        },

		         	    		success : function(result){
		         	    			 $("#right-side").html(result);
		         	         		 $("#HospitalityDetails").addClass("active");
		         	         		 
		         	         		 $("#ulHospitalityDetails").addClass("menu-open");
		         	         		 $("#ulHospitalityDetails").css("display","block");
		         	         		 
		         	    			$("#loading").css("display","none");
		              			$("#mainDiv").removeClass('disabled');
		         	    		},
		         	    		error : function(jqXHR, textStatus, errorThrown) {
		         	    			errorCode(jqXHR.status);
		         	    		  $("#loading").css("display","none");
		              			   $("#mainDiv").removeClass('disabled');

		         	    		}
		         	    	 });


		         	    	}
		         	    	catch(e)
		         	    		{
		         	    		        errorCode(e);
		         	    	}
		         	      }
		         	      
		         		 
		         		 
		         		 
		         	      function viewRestaurentOrders(orders,status,id){
		         	    	  
		         	    	 try{
		         	    	 var online = window.navigator.onLine;
		         	    	 	if(!online)
		         	    	         {
		         	    	 	 alert("Check your internet connection,Please try agian after some time.");
		         	    	   	 return;
		         	    	        }

		         	    	  if(id.search("OutletShipment") != -1)
		         	    		  operation = "Door Delivery";
		         	    	  else
		         	    		  operation = "order";
		         	    	  var contextPath = $('#contextPath').val();
		         	    	   var URL = contextPath + "/inventorymanager/getRestaurentOrders.do";
		         	    	  $.ajax({
		          	    		url : URL,
		          	    		data : {
		          	    			orders : orders,
		          	    			status : status
		          	    		},
		          	    		
		          	    		beforeSend: function(xhr){                    
		               	   				$("#loading").css("display","block");
		               	   				$("#mainDiv").addClass("disabled");
		                	        },

		          	    		success : function(result){
		          	    			$("#right-side").html(result);
		          	    			/*
									 * if(operation == "order")
									 * openMenu("liOrders","ulOrders",1);
									 * if(operation == "Door Delivery")
									 * openMenu("liShipments","ulShipments",1);
									 */
		          	    			
		          	    			
		          	    			activeMenu(id);
		          	    			
		          	    			 var flag = 0;
		         	         			if(flag == 0){
		         	         				$(".active").removeClass("active");
		         	         				$(".menu-open").css("display","none");
		         	         				$(".menu-open").removeClass("menu-open");
		         	         			}
		         	         		 
		         	         		 $("#HospitalityDetails").addClass("active");
		         	         		 $("#ulHospitalityDetails").addClass("menu-open");
		         	         		 $("#ulHospitalityDetails").css("display","block");
		         	         		 
		         	         		 $("#liRestaurantManagement").addClass("active");
		         	         		 $("#ulRestaurantManagement").addClass("menu-open");
		         	         		 $("#ulRestaurantManagement").css("display","block");
		          	    			
		          	    			$("#loading").css("display","none");
		                			$("#mainDiv").removeClass('disabled');
		          	    		},
		          	    		error : function(jqXHR, textStatus, errorThrown) {
		          	    			errorCode(jqXHR.status);
		          	    		  $("#loading").css("display","none");
		                			   $("#mainDiv").removeClass('disabled');

		          	    		}
		          	    	 });
		         	    	}
		         	    	catch(e)
		         	    		{
		         	    		        errorCode(e);
		         	    	} 
		         	    	  
		         	      }
		         	      
		         	      /*
							 * Sambaiah Y 27-04-2015 for getting the orders
							 * details from server based on the location
							 * 
							 */
		         	      function viewRestaurentOrdersByPage(orderType,status){
		         	    	
		         	    	 try{
		         	    		var online = window.navigator.onLine;
		         	    			if(!online)
		         	    		        {
		         	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    		  	 return;
		         	    		       }
		         	    	  var contextPath = $('#contextPath').val();
		         	    	var URL = contextPath + "/inventorymanager/getRestaurentOrdersByLocation.do";
		         	    	var location = $("#outletLocation").val();
		         	    	// alert(location);
		         	    	    $.ajax({
		           	    		url : URL,
		           	    		data : {
		           	    			orderType : orderType,
		           	    			location : location,
		           	    			status : status
		           	    		},
		           	    		beforeSend: function(xhr){                    
		           	   				$("#loading").css("display","block");
		           	   				$("#mainDiv").addClass("disabled");
		            	        },

		           	    		success : function(result){
		           	    			$("#right-side").html(result);
		           	    		 $("#loading").css("display","none");
		          			   $("#mainDiv").removeClass('disabled');

		           	    		},
		           	    		error : function(jqXHR, textStatus, errorThrown) {
		           	    			errorCode(jqXHR.status);
		           	    			$("#loading").css("display","none");
		                			   $("#mainDiv").removeClass('disabled');
		           	    		}
		           	    	 });
		         	    	}
		         	    	catch(e)
		         	    		{
		         	    		        errorCode(e);
		         	    	}
		         	      }
		         	     /*
							 * Sambaiah Y 29-04-2015 this function is used to
							 * getting the specific order details from services
							 * 
							 */
		         	      function viewRestaurentOrderDetails(orderId,orderType){
		         	    	 try{
		         	    		var online = window.navigator.onLine;
		         	    			if(!online)
		         	    		        {
		         	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    		  	 return;
		         	    		       }
		         	    	  var contextPath = $('#contextPath').val();
		         	    	var URL = contextPath + "/inventorymanager/getRestaurentOrderDetails.do";
		         	    		$.ajax({
		           	    		url : URL,
		           	    		data : {
		           	    			orderId : orderId,
		           	    			orderType : orderType,
		           	    			action : "view"
		           	    		},
		           	    		beforeSend: function(xhr){                    
		           	   				$("#loading").css("display","block");
		           	   				$("#mainDiv").addClass("disabled");
		            	        },

		           	    		success : function(result){
		           	    			$("#right-side").html(result);
		           	    		 $("#loading").css("display","none");
		          			   $("#mainDiv").removeClass('disabled');

		           	    		},
		           	    		error : function(jqXHR, textStatus, errorThrown) {
		           	    			errorCode(jqXHR.status);
		           	    			$("#loading").css("display","none");
		                			   $("#mainDiv").removeClass('disabled');
		           	    		}
		           	    	 });

		         	    	}
		         	    	catch(e)
		         	    		{
		         	    		        errorCode(e);
		         	    	}
		         	      }
		         	      
		         	      function editRestaurentOrder(orderId,orderType){
		         	    	 try{
		         	    		var online = window.navigator.onLine;
		         	    			if(!online)
		         	    		        {
		         	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    		  	 return;
		         	    		       }
		         	    	  var contextPath = $('#contextPath').val();
		           	    	var URL = contextPath + "/inventorymanager/getRestaurentOrderDetails.do";
		           	    		$.ajax({
		             	    		url : URL,
		             	    		data : {
		             	    			orderId : orderId,
		             	    			orderType : orderType,
		             	    			action : "edit"
		             	    		},
		             	    		beforeSend: function(xhr){                    
		               	   				$("#loading").css("display","block");
		               	   				$("#mainDiv").addClass("disabled");
		                	        },

		             	    		success : function(result){
		             	    			$("#right-side").html(result);
		             	    			 $("#loading").css("display","none");
		         	        			   $("#mainDiv").removeClass('disabled');

		             	    		},
		             	    		error : function(jqXHR, textStatus, errorThrown) {
		             	    			errorCode(jqXHR.status);
		             	    			$("#loading").css("display","none");
		                 			   $("#mainDiv").removeClass('disabled');
		             	    		}
		             	    	 });

		         	    	}
		         	    	catch(e)
		         	    		{
		         	    		        errorCode(e);
		         	    		}
		         	      }
		         	      /*
							 * function updateOrderDetails(orderId){ var
							 * contextPath = $('#contextPath').val(); var URL =
							 * contextPath +
							 * "/inventorymanager/updateorderdetails.do";
							 * $.ajax({ url : URL, data : { orderReference :
							 * orderId, storeLocation :
							 * $("#outletLocation").val(), store_location :
							 * $("#outletLocation").val(), salesLocation :
							 * $("#orderlocation").val(),
							 * 
							 * 
							 *  }, success : function(result){
							 * $("#right-side").html(result); }, error :
							 * function(jqXHR, textStatus, errorThrown) {
							 * errorCode(jqXHR.status); } }); }
							 */
		         	      
		         	      
		         	      
		         	      
		         		 /* Booking checkin checout functionalities */

		         	      /**
							 * 
							 * Created by: kalyan Creation date: Updated by:
							 * kalyan Last updated on: Verified by: Purpose:
							 * view all Bookings with out filter .method get
							 * call from left menu Bookings Lable.
							 * 
							 * @param id
							 */
		         	      function viewBookings(id){

		         	    	 try{
		         	    	 var online = window.navigator.onLine;
		         	    	 	if(!online)
		         	    	         {
		         	    	 	 alert("Check your internet connection,Please try agian after some time.");
		         	    	   	 return;
		         	    	        }
		         	    	  var contextPath = $('#contextPath').val();
		         	    	   var URL = contextPath + "/inventorymanager/viewBookings.do";
		         	    	  $.ajax({
		         	    		url : URL,
		         	    		data : {
		               				location: "",
		               				level : "",
		           					startDate: "",
		           					endDate : "",
		           					index : "0",
		           					bookingId : ""
		               			},
		         	    		beforeSend: function(xhr){                    
		              	   				$("#loading").css("display","block");
		              	   				$("#mainDiv").addClass("disabled");
		               	        },

		         	    		success : function(result){
		         	    			 $("#right-side").html(result);
		         	                 if(id!="undefined"&&id!=""&&id!=null)
		         	                 	activeMenu(id);

		         	                 var flag = 0;
		         	         			if(flag == 0){
		         	         				$(".active").removeClass("active");
		         	         				$(".menu-open").css("display","none");
		         	         				$(".menu-open").removeClass("menu-open");
		         	         			}
		         	         		 
		         	         		 $("#HospitalityDetails").addClass("active");
		         	         		 $("#ulHospitalityDetails").addClass("menu-open");
		         	         		 $("#ulHospitalityDetails").css("display","block");
		         	         		 
		         	         		 $("#liRoomManagement").addClass("active");
		         	         		 $("#ulRoomManagement").addClass("menu-open");
		         	         		 $("#ulRoomManagement").css("display","block");
		         	  			   
		         	    			$("#loading").css("display","none");
		         	    			$("#mainDiv").removeClass('disabled');
		         	    		},
		         	    		error : function(jqXHR, textStatus, errorThrown) {
		         	    			errorCode(jqXHR.status);
		         	    		  $("#loading").css("display","none");
		               			   $("#mainDiv").removeClass('disabled');

		         	    		}
		         	    	 });
		         	    	}
		         	    	catch(e)
		         	    		{
		         	    		        errorCode(e);
		         	    	}
		         	      }

		         	      
		         	      /**
							 * added by kalyan view booking information
							 * 
							 * @param bookingId
							 * @param location
							 */
		         	    function viewBookingInfo(bookingId,location){
		         	    	try{
		         	    		var online = window.navigator.onLine;
		         	    			if(!online)
		         	    		        {
		         	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    		  	 return;
		         	    		       }  
		         	    	var contextPath = $('#contextPath').val();
		         	    	   var URL = contextPath + "/inventorymanager/viewBookingDetails.do";
		         	    	  $.ajax({
		         	    		url : URL,
		         	    		data : {
		         	    			bookingId : bookingId
		         	    		},
		         	    		
		         	    		beforeSend: function(xhr){                    
		              	   				$("#loading").css("display","block");
		              	   				$("#mainDiv").addClass("disabled");
		               	        },

		         	    		success : function(result){
		         	    			 $("#right-side").html(result);
		         	         		 $("#HospitalityDetails").addClass("active");
		         	         		 
		         	         		 $("#ulHospitalityDetails").addClass("menu-open");
		         	         		 $("#ulHospitalityDetails").css("display","block");
		         	         		 
		         	    			$("#loading").css("display","none");
		               			$("#mainDiv").removeClass('disabled');
		         	    		},
		         	    		error : function(jqXHR, textStatus, errorThrown) {
		         	    			errorCode(jqXHR.status);
		         	    		  $("#loading").css("display","none");
		               			   $("#mainDiv").removeClass('disabled');

		         	    		}
		         	    	 });
		         	    	}
		         	    	catch(e)
		         	    		{
		         	    		        errorCode(e);
		         	    	}
		         	      }
		         	      
		         	    
		         	    /**
						 * added by kalyan view booking information
						 * 
						 * @param checkInId
						 * @param location
						 */
		         	    function viewCheckInInfo(checkInId){

		         	    	try{
		         	    	var online = window.navigator.onLine;
		         	    		if(!online)
		         	    	        {
		         	    		 alert("Check your internet connection,Please try agian after some time.");
		         	    	  	 return;
		         	    	       }
 
		         	    	var contextPath = $('#contextPath').val();
		         	    	  console.info(checkInId);
		         	    	   var URL = contextPath + "/inventorymanager/viewCheckInDetails.do";
		         	    	  $.ajax({
		         	    		url : URL,
		         	    		data : {
		         	    			checkInId : checkInId
		         	    		},
		         	    		
		         	    		beforeSend: function(xhr){                    
		            	   				$("#loading").css("display","block");
		            	   				$("#mainDiv").addClass("disabled");
		             	        },

		         	    		success : function(result){
		         	    			$("#right-side").html(result);
		         	    			$("#loading").css("display","none");
		             			$("#mainDiv").removeClass('disabled');
		         	    		},
		         	    		error : function(jqXHR, textStatus, errorThrown) {
		         	    			errorCode(jqXHR.status);
		         	    		  $("#loading").css("display","none");
		             			   $("#mainDiv").removeClass('disabled');

		         	    		}
		         	    	 });
		         	    	}
		         	    	catch(e)
		         	    		{
		         	    		        errorCode(e);
		         	    	}
		         	     }
		         	      
		         	      
		         	  
		         	      
		         	    /**
						 * 
						 * Created by: kalyan Creation date: Updated by: kalyan
						 * Last updated on: Verified by: Purpose: view all
						 * checkins with out filter .method get call from left
						 * menu CHeckIns Lable.
						 * 
						 * @param id
						 */
		         	    function viewCheckIns(id){

		         	    	try{
		         	    		var online = window.navigator.onLine;
		         	    		if(!online)
		         	    		{
		         	    			alert("Check your internet connection,Please try agian after some time.");
		         	    			return;
		         	    		}
		         	    		var contextPath = $('#contextPath').val();
		         	    		var URL = contextPath + "/inventorymanager/viewCheckins.do";
// var checkInStatus = $("#checkINorOUT").val();
		         	    		$.ajax({
		         	    			url : URL,
		         	    			data : {
		         	    				checkinId : "",
		         	    				bookingId: "",
		         	    				roomNo : "",
		         	    				checkinDate : "",
		         	    				checkoutDate : "",
		         	    				checkinStatus : "checkedIn",
		         	    				location: "",
		         	    				level:"",
		         	    				index : "0"
		         	    			},
		         	    			beforeSend: function(xhr){                    
		         	    				$("#loading").css("display","block");
		         	    				$("#mainDiv").addClass("disabled");
		         	    			},

		         	    			success : function(result){
		         	    				$("#right-side").html(result);
		         	    				if(id!="undefined"&&id!=""&&id!=null)
		         	    					activeMenu(id);

		         	    				var flag = 0;
		         	    				if(flag == 0){
		         	    					$(".active").removeClass("active");
		         	    					$(".menu-open").css("display","none");
		         	    					$(".menu-open").removeClass("menu-open");
		         	    				}

		         	    				$("#HospitalityDetails").addClass("active");
		         	    				$("#ulHospitalityDetails").addClass("menu-open");
		         	    				$("#ulHospitalityDetails").css("display","block");


		         	    				$("#liRoomManagement").addClass("active");
		         	    				$("#ulRoomManagement").addClass("menu-open");
		         	    				$("#ulRoomManagement").css("display","block");

		         	    				$("#loading").css("display","none");
		         	    				$("#mainDiv").removeClass('disabled');
		         	    			},
		         	    			error : function(jqXHR, textStatus, errorThrown) {
		         	    				errorCode(jqXHR.status);
		         	    				$("#loading").css("display","none");
		         	    				$("#mainDiv").removeClass('disabled');

		         	    			}
		         	    		});
		         	    	}
		         	    	catch(e)
		         	    	{
		         	    		errorCode(e);
		         	    	}
		         	    }
		         			      
		         		      
		         			    /**
								 * 
								 * Created by: kalyan Creation date: Updated by:
								 * kalyan Last updated on: Verified by: Purpose:
								 * view all checkOuts with out filter .method
								 * get call from left menu checkOuts Lable.
								 * 
								 * @param id
								 */
		         	    function viewCheckOutDetails(id){

		         	    	try{
		         	    		var online = window.navigator.onLine;
		         	    		if(!online)
		         	    		{
		         	    			alert("Check your internet connection,Please try agian after some time.");
		         	    			return
		         	    		}
		         	    		// alert("called");
		         	    		var contextPath = $('#contextPath').val();
		         	    		var URL = contextPath + "/inventorymanager/viewCheckOuts.do";
		         	    		$.ajax({
		         	    			url : URL,
		         	    			data : {
		         	    				checkinDate : "",
		         	    				checkoutDate : "",
		         	    				bookingId: "",
		         	    				location: "",
		         	    				checkinId : "",
		         	    				roomNo : "",
		         	    				phoneNo : "",
		         	    				level:"",
		         	    				checkinStatus : "checkedOut",
		         	    				index : "0"
		         	    			},
		         	    			beforeSend: function(xhr){                    
		         	    				$("#loading").css("display","block");
		         	    				$("#mainDiv").addClass("disabled");
		         	    			},

		         	    			success : function(result){
		         	    				$("#right-side").html(result);
		         	    				activeMenu(id);

		         	    				if(id!="undefined"&&id!=""&&id!=null)
		         	    					activeMenu(id);
		         	    				$(".menu-open").css("display","none");
		         	    				$(".menu-open").removeClass("menu-open");
		         	    				var flag = 0;
		         	    				if(flag == 0){
		         	    					$(".active").removeClass("active");
		         	    				}
		         	    				$("#HospitalityDetails").addClass("active");
		         	    				$("#ulHospitalityDetails").addClass("menu-open");
		         	    				$("#ulHospitalityDetails").css("display","block");

		         	    				$("#liRoomManagement").addClass("active");
		         	    				$("#ulRoomManagement").addClass("menu-open");
		         	    				$("#ulRoomManagement").css("display","block");

		         	    				$("#loading").css("display","none");
		         	    				$("#mainDiv").removeClass('disabled');
		         	    			},
		         	    			error : function(jqXHR, textStatus, errorThrown) {
		         	    				errorCode(jqXHR.status);
		         	    				$("#loading").css("display","none");
		         	    				$("#mainDiv").removeClass('disabled');

		         	    			}
		         	    		});
		         	    	}
		         	    	catch(e)
		         	    	{
		         	    		errorCode(e);
		         	    	}
		         	    }
		         		      
		         			    
		         			    
		         			    
		         			    /* Procurement Raw materials related method */
		         	    function viewOutletRawMaterialStocks(stockType){
		         	    	try{
		         	    		var online = window.navigator.onLine;
		         	    		if(!online)
		         	    		{
		         	    			alert("Check your internet connection,Please try agian after some time.");
		         	    			return;
		         	    		}

		         	    		var contextPath = $("#contextPath").val();
		         	    		URL = contextPath + "/inventorymanager/viewOutletRawMaterialStocks.do";
		         	    		$.ajax({
		         	    			type: "GET",
		         	    			url : URL,
		         	    			data : {
		         	    				stockType : stockType
		         	    			},
		         	    			beforeSend: function(xhr){                    
		         	    				$("#loading").css("display","block");
		         	    				$("#mainDiv").addClass("disabled");
		         	    			},

		         	    			success : function(result) {
		         	    				$("#tab_1").html("");
		         	    				$("#tab_2").html(result);
		         	    				$("#loading").css("display","none");
		         	    				$("#mainDiv").removeClass('disabled');
		         	    			},
		         	    			error : function(jqXHR, textStatus, errorThrown)  {
		         	    				errorCode(jqXHR.status);
		         	    				$("#loading").css("display","none");
		         	    				$("#mainDiv").removeClass('disabled');
		         	    			}
		         	    		});

		         	    	}
		         	    	catch(e)
		         	    	{
		         	    		errorCode(e);
		         	    	}
		         	    }
		         	    	     
		         			     function getRawMaterialStocksByCriteria(){

		         			    	 try{
		         			    		 var online = window.navigator.onLine;
		         			    		 if(!online)
		         			    		 {
		         			    			 alert("Check your internet connection,Please try agian after some time.");
		         			    			 return;
		         			    		 }

		         			    		 var stockType = $('#rawmaterialStockType').val();
		         			    		 var location = $('#outletLocation').val();
		         			    		 var contextPath = $("#contextPath").val();
		         			    		 URL = contextPath + "/inventorymanager/getRawMaterialStocksByCriteria.do";
		         			    		 $.ajax({
		         			    			 type: "GET",
		         			    			 url : URL,
		         			    			 data : {
		         			    				 stockType : stockType,
		         			    				 location : location
		         			    			 },
		         			    			 beforeSend: function(xhr){                    
		         			    				 $("#loading").css("display","block");
		         			    				 $("#mainDiv").addClass("disabled");
		         			    			 },

		         			    			 success : function(result) {
		         			    				 $("#tab_1").html("");
		         			    				 $("#tab_2").html(result);
		         			    				 $("#loading").css("display","none");
		         			    				 $("#mainDiv").removeClass('disabled');

		         			    			 },
		         			    			 error : function(jqXHR, textStatus, errorThrown)  {
		         			    				 errorCode(jqXHR.status);
		         			    				 $("#loading").css("display","none");
		         			    				 $("#mainDiv").removeClass('disabled');
		         			    			 }
		         			    		 });
		         			    	 }
		         			    	 catch(e)
		         			    	 {
		         			    		 errorCode(e);
		         			    	 }
		         			     }
		         	    	     
		         	    	     
		         	    	    	/*
									 * below methods commented in F&B so kept as
									 * it is .
									 * 
									 * function getRawMaterial(name){ //
									 * alert("Name:::"+name); var contextPath =
									 * $("#contextPath").val(); URL =
									 * contextPath +
									 * "/inventorymanager/getRawMaterial.do";
									 * $.ajax({ type: "GET", url : URL, data : {
									 * searchName : name }, beforeSend:
									 * function(xhr){
									 * $("#loading").css("display","block");
									 * $("#mainDiv").addClass("disabled"); },
									 * 
									 * success : function(result) {
									 * //$("#right-side").html(result);
									 * //alert(result); appendSkuIds(result);
									 * $("#loading").css("display","none");
									 * $("#mainDiv").removeClass('disabled');
									 *  }, error : function(jqXHR, textStatus,
									 * errorThrown) { errorCode(jqXHR.status);
									 * $("#loading").css("display","none");
									 * $("#mainDiv").removeClass('disabled'); }
									 * }); }
									 * 
									 * 
									 * function appendSkuIds(skuList){
									 * $("#skuList").html(''); var op = '';
									 * for(var i=0;i<skuList.length;i++){ op += '<option
									 * value="'+skuList[i]+'">'+skuList[i]+'</option>'; }
									 * $("#skuList").html(op);
									 * $("#skuList").show(); }
									 */
		         	    	    	
		         	    	    	 
		         	    	    	
		         	    	    	
		         	    	    	/*
									 * function getRawMaterialDetails(){ var
									 * materialName =
									 * $('#searchCriteria').val(); var
									 * contextPath = $("#contextPath").val();
									 * URL = contextPath +
									 * "/inventorymanager/getRawMaterialDetails.do";
									 * $.ajax({ type: "GET", url : URL, data : {
									 * skuId : materialName }, beforeSend:
									 * function(xhr){
									 * $("#loading").css("display","block");
									 * $("#mainDiv").addClass("disabled"); },
									 * 
									 * success : function(result) {
									 * $('#searchCriteria').val('');
									 * //console.log(result);
									 * appendRawMaterialDetails(result);
									 * $("#loading").css("display","none");
									 * $("#mainDiv").removeClass('disabled');
									 *  }, error : function(jqXHR, textStatus,
									 * errorThrown) { errorCode(jqXHR.status);
									 * $("#loading").css("display","none");
									 * $("#mainDiv").removeClass('disabled'); }
									 * });
									 *  }
									 */
		         	    	     
		         	    	     function viewOutletRawMaterialStockVerification(){
		         	    	    	 try{
		         	    	    		 var online = window.navigator.onLine;
		         	    	    		 if(!online)
		         	    	    		 {
		         	    	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    	    			 return;
		         	    	    		 }
		         	    	    		 var contextPath = $('#contextPath').val();
		         	    	    		 var URL = contextPath + "/inventorymanager/viewOutletRawMaterialStockVerification.do";
		         	    	    		 $.ajax({
		         	    	    			 type : "GET",
		         	    	    			 url : URL,
		         	    	    			 data : {},
		         	    	    			 beforeSend: function(xhr){                    
		         	    	    				 $("#loading").css("display","block");
		         	    	    				 $("#mainDiv").addClass("disabled");
		         	    	    			 },

		         	    	    			 success : function(result){
		         	    	    				 $("#tab_1").html("");
		         	    	    				 $('#tab_2').html(result);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 },
		         	    	    			 error : function(jqXHR, textStatus, errorThrown) {
		         	    	    				 errorCode(jqXHR.status);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 }
		         	    	    		 });

		         	    	    	 }
		         	    	    	 catch(e)
		         	    	    	 {
		         	    	    		 errorCode(e);
		         	    	    	 }
		         	    	     }
		         	    	     
		         	    	     
		         	    	     function getRawMaterialStockVerificationByOutletWise(element){

		         	    	    	 try{
		         	    	    		 var online = window.navigator.onLine;
		         	    	    		 if(!online)
		         	    	    		 {
		         	    	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    	    			 return;
		         	    	    		 }
		         	    	    		 var contextPath = $('#contextPath').val();
		         	    	    		 var location = $(element).val();
		         	    	    		 var URL = contextPath + "/inventorymanager/getRawMaterialStockVerificationByOutletWise.do";
		         	    	    		 $.ajax({
		         	    	    			 type : "GET",
		         	    	    			 url : URL,
		         	    	    			 data : {
		         	    	    				 location : location
		         	    	    			 },
		         	    	    			 beforeSend: function(xhr){                    
		         	    	    				 $("#loading").css("display","block");
		         	    	    				 $("#mainDiv").addClass("disabled");
		         	    	    			 },

		         	    	    			 success : function(result){
		         	    	    				 $("#tab_1").html("");
		         	    	    				 $('#tab_2').html(result);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 },
		         	    	    			 error : function(jqXHR, textStatus, errorThrown) {
		         	    	    				 errorCode(jqXHR.status);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 }
		         	    	    		 });

		         	    	    	 }
		         	    	    	 catch(e)
		         	    	    	 {
		         	    	    		 errorCode(e);
		         	    	    	 } 
		         	    	     }
		         	    	     
		         	    	     function viewSpecificOutletRawMaterialStockVerification(verificationCode){

		         	    	    	 try{
		         	    	    		 var online = window.navigator.onLine;
		         	    	    		 if(!online)
		         	    	    		 {
		         	    	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    	    			 return;
		         	    	    		 }
		         	    	    		 var contextPath = $('#contextPath').val();
		         	    	    		 var URL = contextPath + "/inventorymanager/viewSpecificOutletRawMaterialStockVerification.do";
		         	    	    		 $.ajax({
		         	    	    			 type : "GET",
		         	    	    			 url : URL,
		         	    	    			 data : {
		         	    	    				 verificationCode : verificationCode
		         	    	    			 },
		         	    	    			 beforeSend: function(xhr){                    
		         	    	    				 $("#loading").css("display","block");
		         	    	    				 $("#mainDiv").addClass("disabled");
		         	    	    			 },

		         	    	    			 success : function(result){
		         	    	    				 $("#tab_1").html("");
		         	    	    				 $('#tab_2').html(result);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 },
		         	    	    			 error : function(jqXHR, textStatus, errorThrown) {
		         	    	    				 errorCode(jqXHR.status);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 }
		         	    	    		 });

		         	    	    	 }
		         	    	    	 catch(e)
		         	    	    	 {
		         	    	    		 errorCode(e);
		         	    	    	 } 
		         	    	     }
		         	    	     
		         	    	     

		         	    	     function viewOutletRawMaterialStockVerificationItems(specificProductData){

		         	    	    	 try{
		         	    	    		 var online = window.navigator.onLine;
		         	    	    		 if(!online)
		         	    	    		 {
		         	    	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    	    			 return;
		         	    	    		 }
		         	    	    		 var productDate = JSON.stringify(specificProductData);
		         	    	    		 console.log(JSON.stringify(specificProductData));
		         	    	    		 var contextPath = $('#contextPath').val();
		         	    	    		 var URL = contextPath + "/inventorymanager/viewOutletRawMaterialStockVerificationItems.do";
		         	    	    		 $.ajax({
		         	    	    			 type : "POST",
		         	    	    			 url : URL,
		         	    	    			 contentType: "application/json",
		         	    	    			 data : productDate,
		         	    	    			 beforeSend: function(xhr){                    
		         	    	    				 $("#loading").css("display","block");
		         	    	    				 $("#mainDiv").addClass("disabled");
		         	    	    			 },

		         	    	    			 success : function(result){
		         	    	    				 $("#tab_1").html("");
		         	    	    				 $('#tab_2').html(result);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 },
		         	    	    			 error : function(jqXHR, textStatus, errorThrown) {
		         	    	    				 errorCode(jqXHR.status);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 }
		         	    	    		 });

		         	    	    	 }
		         	    	    	 catch(e)
		         	    	    	 {
		         	    	    		 errorCode(e);
		         	    	    	 }
		         	    	     }
		         	    	     
		         	    	     /**
									 * 
									 * Created by: kalyan Creation date:
									 * 04-dec-2015 Updated by: kalyan Last
									 * updated on: Verified by: Purpose: view
									 * Room Category Masters
									 * 
									 * @param id
									 * @param index
									 */
		         	    	     function viewRoomCategoryMaster(id,index){


		         	    	    	 try{

		         	    	    		 var online = window.navigator.onLine;
		         	    	    		 if(!online)
		         	    	    		 {
		         	    	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    	    			 return;
		         	    	    		 }


		         	    	    		 if($("#searchCategory").length > 0 && $("#searchCategory").val().trim() != ""){
		         	    	    			 searchCategoryMaster($("#searchCategory").val(), 'categoryMaster',index);
		         	    	    			 return;
		         	    	    		 }
		         	    	    		 var contextPath = $("#contextPath").val();
		         	    	    		 URL = contextPath + "/inventorymanager/viewRoomCategory.do";

		         	    	    		 $.ajax({
		         	    	    			 type: "GET",
		         	    	    			 url : URL,
		         	    	    			 data : {
		         	    	    				 index : index
		         	    	    			 },
		         	    	    			 beforeSend: function(xhr){                    
		         	    	    				 $("#loading").css("display","block");
		         	    	    				 $("#mainDiv").addClass("disabled");
		         	    	    			 },
		         	    	    			 success : function(result) {
		         	    	    				 $("#right-side").html(result);
		         	    	    				 activeMenu(id);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 },
		         	    	    			 error : function(jqXHR, textStatus, errorThrown)  {
		         	    	    				 errorCode(jqXHR.status);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 }
		         	    	    		 });
		         	    	    	 }
		         	    	    	 catch(e)
		         	    	    	 {
		         	    	    		 errorCode(e);
		         	    	    	 }

		         	    	     }
		         	    	 	
		         	    	     

		         	    	     /**
									 * 
									 * Created by: kalyan Creation date:
									 * 04-dec-2015 Updated by: kalyan Last
									 * updated on: Verified by: Purpose:
									 * newRoomCategory
									 * 
									 * @param id
									 */
		         	    	     function newRoomCategory(id){

		         	    	    	 try{
		         	    	    		 var online = window.navigator.onLine;
		         	    	    		 if(!online)
		         	    	    		 {
		         	    	    			 alert("Check your internet connection,Please try agian after some time.");
		         	    	    			 return;
		         	    	    		 }

		         	    	    		 var contextPath = $("#contextPath").val();

		         	    	    		 URL = contextPath + "/inventorymanager/newRoomCategory.do";

		         	    	    		 $.ajax({
		         	    	    			 type: "GET",
		         	    	    			 url : URL,
		         	    	    			 data : {
		         	    	    			 },
		         	    	    			 beforeSend: function(xhr){                    
		         	    	    				 $("#loading").css("display","block");
		         	    	    				 $("#mainDiv").addClass("disabled");
		         	    	    			 },
		         	    	    			 success : function(result) {
		         	    	    				 $("#right-side").html(result);
		         	    	    				 if(id != undefined)
		         	    	    					 activeMenu(id);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 },
		         	    	    			 error : function(jqXHR, textStatus, errorThrown)  {
		         	    	    				 errorCode(jqXHR.status);
		         	    	    				 $("#loading").css("display","none");
		         	    	    				 $("#mainDiv").removeClass('disabled');
		         	    	    			 }
		         	    	    		 });
		         	    	    	 }
		         	    	    	 catch(e)
		         	    	    	 {
		         	    	    		 errorCode(e);
		         	    	    	 }
		         	    	     }
		         	    	 	
		         	    	 	 /**
									 * 
									 * Created by: kalyan Creation date:
									 * 04-dec-2015 Updated by: kalyan Last
									 * updated on: Verified by:
									 * 
									 * @param operation
									 * @returns {Boolean}
									 */
		         	    	 	function saveRoomCategory(operation){
		         	    	 		var contextPath = $("#contextPath").val();

		         	    	 		try{
		         	    	 			var online = window.navigator.onLine;
		         	    	 			if(!online)
		         	    	 			{
		         	    	 				alert("Check your internet connection,Please try agian after some time.");
		         	    	 				return;
		         	    	 			}
		         	    	 			var categoryName = $("#categoryName").val();
		         	    	 			var categoryDescription = $("#categoryDescription").val();
		         	    	 			var checkOutTimeStr = $("#checkOutTimeStr").val();
		         	    	 			var dateTimeStr = $("#dateTimeStr").val();
		         	    	 			var roomMinCapacity = $("#roomMinCapacity").val();

		         	    	 			if(categoryName == ""){
		         	    	 				$("#categoryName").focus();	    	 	    	
		         	    	 				return false;
		         	    	 			}
		         	    	 			else if(roomMinCapacity == ""){
		         	    	 				$("#roomMinCapacity").focus();	    	 	    	
		         	    	 				return false;
		         	    	 			}


		         	    	 			if(operation=="new"){
		         	    	 				URL = contextPath + "/inventorymanager/saveRoomCategory.do";
		         	    	 			}
		         	    	 			else if(operation=="edit"){
		         	    	 				URL = contextPath + "/inventorymanager/updateRoomCategory.do";
		         	    	 			}

// var formData = JSON.stringify($('form').serializeObject());
		         	    	 			$.ajax({
		         	    	 				type: "GET",
		         	    	 				url : URL,
// data : formData,
		         	    	 				data : {
		         	    	 					categoryName : categoryName.trim(),
		         	    	 					categoryDescription : categoryDescription.trim(),
		         	    	 					checkOutTimeStr : checkOutTimeStr.trim(),
		         	    	 					dateTimeStr : dateTimeStr.trim(),
		         	    	 					roomMinCapacity : roomMinCapacity.trim()
		         	    	 				},
		         	    	 				beforeSend: function(xhr){                    
		         	    	 					$("#loading").css("display","block");
		         	    	 					$("#mainDiv").addClass("disabled");
		         	    	 				},
		         	    	 				success : function(result) {
		         	    	 					$("#right-side").html(result);
		         	    	 					$("#loading").css("display","none");
		         	    	 					$("#mainDiv").removeClass('disabled');
		         	    	 				},
		         	    	 				error : function(jqXHR, textStatus, errorThrown)  {
		         	    	 					errorCode(jqXHR.status);
		         	    	 					$("#loading").css("display","none");
		         	    	 					$("#mainDiv").removeClass('disabled');
		         	    	 				}
		         	    	 			});

		         	    	 		}
		         	    	 		catch(e)
		         	    	 		{
		         	    	 			errorCode(e);
		         	    	 		}

		         	    	 	}
		         	    	 	
		         	    	 	 /**
									 * 
									 * Created by: kalyan Creation date:
									 * 04-dec-2015 Updated by: kalyan Last
									 * updated on: Verified by:
									 * 
									 * @param categoryName
									 * @param operation
									 */
		         	    	 	function viewEditRoomCategory(categoryName,operation){

		         	    	 		try{
		         	    	 			var online = window.navigator.onLine;
		         	    	 			if(!online)
		         	    	 			{
		         	    	 				alert("Check your internet connection,Please try agian after some time.");
		         	    	 				return;
		         	    	 			}

		         	    	 			var contextPath = $("#contextPath").val();
		         	    	 			URL = contextPath + "/inventorymanager/editCategory.do";
		         	    	 			$.ajax({
		         	    	 				type: "GET",
		         	    	 				url : URL,
		         	    	 				data : {
		         	    	 					categoryName : categoryName,
		         	    	 					operation : operation
		         	    	 				},
		         	    	 				beforeSend: function(xhr){                    
		         	    	 					$("#loading").css("display","block");
		         	    	 					$("#mainDiv").addClass("disabled");
		         	    	 				},
		         	    	 				success : function(result) {
		         	    	 					$("#right-side").html(result);
		         	    	 					$("#loading").css("display","none");
		         	    	 					$("#mainDiv").removeClass('disabled');
		         	    	 				},
		         	    	 				error : function(jqXHR, textStatus, errorThrown)  {
		         	    	 					errorCode(jqXHR.status);
		         	    	 					$("#loading").css("display","none");
		         	    	 					$("#mainDiv").removeClass('disabled');
		         	    	 				}
		         	    	 			});
		         	    	 		}
		         	    	 		catch(e)
		         	    	 		{
		         	    	 			errorCode(e);
		         	    	 		}

		         	    	 	}
		         	    	 	
		         	    	 	
		         	    		 
		         	    	 	function newRestaurantLayout(){
		         	    	 		try{
		         	    	 			var online = window.navigator.onLine;
		         	    	 			if(!online)
		         	    	 			{
		         	    	 				alert("Check your internet connection,Please try agian after some time.");
		         	    	 				return;
		         	    	 			}
		         	    	 			var contextPath = $("#contextPath").val();
		         	    	 			URL = contextPath + "/inventorymanager/newRestaurantLayout.do";
		         	    	 			$.ajax({
		         	    	 				type: "GET",
		         	    	 				url : URL,
		         	    	 				data : {
		         	    	 				},
		         	    	 				beforeSend: function(xhr){                    
		         	    	 					$("#loading").css("display","block");
		         	    	 					$("#mainDiv").addClass("disabled");
		         	    	 				},

		         	    	 				success : function(result) {
		         	    	 					$("#right-side").html(result);

		         	    	 					$("#loading").css("display","none");
		         	    	 					$("#mainDiv").removeClass('disabled');

		         	    	 				},
		         	    	 				error : function(jqXHR, textStatus, errorThrown)  {
		         	    	 					errorCode(jqXHR.status);
		         	    	 					$("#loading").css("display","none");
		         	    	 					$("#mainDiv").removeClass('disabled');
		         	    	 				}
		         	    	 			});


		         	    	 		}
		         	    	 		catch(e)
		         	    	 		{
		         	    	 			errorCode(e);
		         	    	 		}s
		         	    	 	}
		         	    		
		         	    		// ******** Section Master Starts **********//
		         	    		
		         	    		function viewSectionMaster(id,index){
		         	    			/*
									 * if($("#searchSection").length > 0 &&
									 * $("#searchSection").val().trim() != ""){
									 * searchSectionMaster($("#searchSection").val(),
									 * 'sectionMaster',index); return; }
									 */

		         	    			try{
		         	    				var online = window.navigator.onLine;
		         	    				if(!online)
		         	    				{
		         	    					alert("Check your internet connection,Please try agian after some time.");
		         	    					return;
		         	    				}


		         	    				var maxRecords = 10;
		         	    				if($("#maxRecords").length>0)
		         	    					maxRecords = $("#maxRecords").val();
		         	    				var searchName ="";
		         	    				if($("#searchSection").length>0)
		         	    					searchName = $("#searchSection").val();
		         	    				var contextPath = $("#contextPath").val();
		         	    				URL = contextPath+"/genericMaster/viewSection.do";

		         	    				$.ajax({
		         	    					type: "GET",
		         	    					url : URL,
		         	    					data : {
		         	    						index : index,
		         	    						maxRecords : maxRecords,
		         	    						searchName : searchName

		         	    					},
		         	    					beforeSend: function(xhr){                    
		         	    						$("#loading").css("display","block");
		         	    						$("#mainDiv").addClass("disabled");
		         	    					},
		         	    					success : function(result) {
		         	    						$("#right-side").html(result);
		         	    						openMenu("liGenericData","ulGenericData",1);
		         	    						activeMenu(id);
		         	    						$("#loading").css("display","none");
		         	    						$("#mainDiv").removeClass('disabled');
		         	    					},
		         	    					error : function(jqXHR, textStatus, errorThrown)  {
		         	    						errorCode(jqXHR.status);
		         	    						$("#loading").css("display","none");
		         	    						$("#mainDiv").removeClass('disabled');
		         	    					}
		         	    				});

		         	    			}
		         	    			catch(e)
		         	    			{
		         	    				errorCode(e);
		         	    			}
		         	    		}

		         	    		function newSection(id){

		         	    			try{
		         	    				var online = window.navigator.onLine;
		         	    				if(!online)
		         	    				{
		         	    					alert("Check your internet connection,Please try agian after some time.");
		         	    					return;
		         	    				}  		
		         	    				var contextPath = $("#contextPath").val();

		         	    				var maxRecords = 10;
		         	    				if($("#maxRecords").length>0)
		         	    					maxRecords = $("#maxRecords").val();
		         	    				var searchName ="";
		         	    				if($("#searchSection").length>0)
		         	    					searchName = $("#searchSection").val();
		         	    				URL = contextPath + "/genericMaster/newSection.do";

		         	    				$.ajax({
		         	    					type: "GET",
		         	    					url : URL,
		         	    					data : {
		         	    						maxRecords : maxRecords,
		         	    						searchName : searchName
		         	    					},
		         	    					beforeSend: function(xhr){                    
		         	    						$("#loading").css("display","block");
		         	    						$("#mainDiv").addClass("disabled");
		         	    					},
		         	    					success : function(result) {
		         	    						$("#right-side").html(result);
		         	    						if(id != undefined)
		         	    							activeMenu(id);
		         	    						$("#loading").css("display","none");
		         	    						$("#mainDiv").removeClass('disabled');

		         	    					},
		         	    					error : function(jqXHR, textStatus, errorThrown)  {
		         	    						errorCode(jqXHR.status);
		         	    						$("#loading").css("display","none");
		         	    						$("#mainDiv").removeClass('disabled');
		         	    					}
		         	    				});

		         	    			}
		         	    			catch(e)
		         	    			{
		         	    				errorCode(e);
		         	    			}

		         	    		}

	function validateSection(type){
		try{
			var online = window.navigator.onLine;
			if(!online)
			{
				alert("Check your internet connection,Please try agian after some time.");
				return;
			}
			var finalObj = {};
			var contextPath = $("#contextPath").val();
			var sectionName = $("#sectionName").val();
			var mealType = $("#mealType").val();
			var courseType = $("#courseType").val();
			var status = $("#status").val();
			var description = $("#description").val();
			var searchName = $("#searchSection").val();
			var maxRecords= $("#maxRecords").val();
			if(sectionName == ""){
				$("#sectionNameError").html("Section Name Required");
				return false;
			}
			if(mealType == ""){
				$("#mealTypeError").html("Meal Type Required");
				return false;
			}
			if(courseType == ""){
				$("#courseTypeError").html("Course Type Required");
				return false;
			}
// var dateTime = getCurrentDate();
			finalObj.sectionName = sectionName;
			finalObj.mealType = mealType;
			finalObj.courseType = courseType;
			finalObj.status = status;
			finalObj.sectionDescription = description;
			finalObj.searchCriteria = searchName;
			finalObj.maxRecords = maxRecords;


// finalObj.createdDateStr = dateTime;
			if(type == "new")
				URL = contextPath + "/genericMaster/createSection.do";
			else{
				sectionId = $("#sectionId").val();
				finalObj.sectionId = sectionId;
				URL = contextPath + "/genericMaster/updateSection.do";
			}
			var formData = JSON.stringify(finalObj);
			$.ajax({
				type: "POST",
				url : URL,
				contentType: "application/json",
				data : formData,
				beforeSend: function(xhr){                    
					$("#loading").css("display","block");
					$("#mainDiv").addClass("disabled");
				},
				success : function(result) {
					$("#right-side").html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			});
		}
		catch(e)
		{
			errorCode(e);
		}

	}
			         	    		
	function viewEditSection(sectionId,operation){

		try{
			var online = window.navigator.onLine;
			if(!online)
			{
				alert("Check your internet connection,Please try agian after some time.");
				return;
			}
			var maxRecords = 10;
			if($("#maxRecords").length>0)
				maxRecords = $("#maxRecords").val();
			var searchName ="";
			if($("#searchSupplier").length>0)
				searchName = $("#searchSupplier").val();

			var contextPath = $("#contextPath").val();
			URL = contextPath + "/genericMaster/editSection.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					sectionId : sectionId,
					operation : operation,
					maxRecords: maxRecords,
					searchName: searchName
				},
				beforeSend: function(xhr){                    
					$("#loading").css("display","block");
					$("#mainDiv").addClass("disabled");
				},
				success : function(result) {
					$("#right-side").html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			});
		}
		catch(e)
		{
			errorCode(e);
		}
	}


		         	    		
			         	    		function viewEditSection(sectionId,operation){


			         	    			try{
			         	    				var online = window.navigator.onLine;
			         	    				if(!online)
			         	    				{
			         	    					alert("Check your internet connection,Please try agian after some time.");
			         	    					return;
			         	    				}
			         	    				var contextPath = $("#contextPath").val();
			         	    				URL = contextPath + "/genericMaster/editSection.do";
			         	    				$.ajax({
			         	    					type: "GET",
			         	    					url : URL,
			         	    					data : {
			         	    						sectionId : sectionId,
			         	    						operation : operation
			         	    					},
			         	    					beforeSend: function(xhr){                    
			         	    						$("#loading").css("display","block");
			         	    						$("#mainDiv").addClass("disabled");
			         	    					},
			         	    					success : function(result) {
			         	    						$("#right-side").html(result);
			         	    						$("#loading").css("display","none");
			         	    						$("#mainDiv").removeClass('disabled');
			         	    					},
			         	    					error : function(jqXHR, textStatus, errorThrown)  {
			         	    						errorCode(jqXHR.status);
			         	    						$("#loading").css("display","none");
			         	    						$("#mainDiv").removeClass('disabled');
			         	    					}
			         	    				});

			         	    			}
			         	    			catch(e)
			         	    			{
			         	    				errorCode(e);
			         	    			}
			         	    		}
		         	    		
		         	    		// ******** Section Master Ends **********//
		         	    		function viewRestaurantTakeAways(id){

		         	    			try{
		         	    				var online = window.navigator.onLine;
		         	    				if(!online)
		         	    				{
		         	    					alert("Check your internet connection,Please try agian after some time.");
		         	    					return;
		         	    				}
		         	    				var contextPath = $('#contextPath').val();
		         	    				var URL = contextPath + "/inventorymanager/viewRestaurantBookings.do";
		         	    				$.ajax({
		         	    					url : URL,
		         	    					data : {
		         	    						location: "",
		         	    						level : "",
		         	    						startDate: "",
		         	    						endDate : "",
		         	    						index : "0",
		         	    						bookingId : "",
		         	    						slot : "",
		         	    						orderType:"take_away"

		         	    					},
		         	    					beforeSend: function(xhr){                    
		         	    						$("#loading").css("display","block");
		         	    						$("#mainDiv").addClass("disabled");
		         	    					},

		         	    					success : function(result){
		         	    						$("#right-side").html(result);
		         	    						if(id!="undefined"&&id!=""&&id!=null)
		         	    							activeMenu(id);


		         	    						$("#loading").css("display","none");
		         	    						$("#mainDiv").removeClass('disabled');
		         	    					},
		         	    					error : function(jqXHR, textStatus, errorThrown) {
		         	    						errorCode(jqXHR.status);
		         	    						$("#loading").css("display","none");
		         	    						$("#mainDiv").removeClass('disabled');

		         	    					}
		         	    				});
		         	    			}
		         	    			catch(e)
		         	    			{
		         	    				errorCode(e);
		         	    			}

		         	    		}
		         		    
		         	    	  function viewRestaurantLayout(storeCode,location,level){
		         	    		 try{
		         	    			 
		         	    			var online = window.navigator.onLine;
		         	    				if(!online)
		         	    			        {
		         	    				 alert("Check your internet connection,Please try agian after some time.");
		         	    			  	 return;
		         	    			       }
		         	    		 var contextPath = $("#contextPath").val();
		         	    		 console.info(location+"  ---   "+level);
		         	    		 var levels = $("#_"+storeCode+"_levelsStr").val();// need
																					// to
																					// change
		         	    		 var buildingName = $("#_"+storeCode+"_buildingName").val();
		         	    		 
		         	    		 
		         	    		 var levels = $("#_"+storeCode+"_levelsStr").val();// need
																					// to
																					// change

		         	    		 URL = contextPath + "/inventorymanager/viewRestaurantLayout.do";
		         	    			 $.ajax({
		         	    	       			type: "GET",
		         	    	       			url : URL,
		         	    	       			data : {
		         	    	       				location:location,
		         	    	       				level : level,
		         	    	       				buildingName : buildingName,
		         	    	       				levels : levels
		         	    	       			},
		         	    	       			beforeSend: function(xhr){                    
		         	         	   				$("#loading").css("display","block");
		         	         	   				$("#mainDiv").addClass("disabled");
		         	          	        },

		         	    	       			success : function(result) {
		         	    	       				// debugger
		         	    	                  $("#right-side").html(result);
		         	    	                  $("#loading").css("display","none");
		         	          			   $("#mainDiv").removeClass('disabled');

		         	    	       			},
		         	    	       			error : function(jqXHR, textStatus, errorThrown)  {
		         	    	       				 errorCode(jqXHR.status);
		         	    	       				$("#loading").css("display","none");
		         	    	        			   $("#mainDiv").removeClass('disabled');
		         	    	       			}
		         	    	       		});
		         	    		}
		         	    		catch(e)
		         	    			{
		         	    			        errorCode(e);
		         	    		}
		         	    	  }
               
		         	    		
		         	    		
		         	    	  
		         	    	 // purpose:to handle client side errors
		         	    	  
		         	    	 function errorCode(errorCode)
			         	    	{
			         	    		// debugger;
			         	    		switch(errorCode) {
			         	    	    	case 0:
			         	    	    		{
			         	    	    			alert("Server Connection does not Exists.");
			         	    	    			return;
			         	    	    		}
			         	    	    	case 400:
			         	    	    		{
			         	    	    			alert("Bad Request, please contact support team");
			         	    	    			return;
			         	    	    		}
			         	    	    	case 401:
			         	    	    		{
			         	    	    			alert("Bad Request, please contact support team");
			         	    	    			return;
			         	    	    		}
				         	    	   
			         	    	    	case 403:
			         	    	    		{
			         	    	    			alert("Forbidden request,please contact support team")
			         	    	    			return;
			         	    	    		}
			         	    	    	case 404:
			         	    	    	{
		         	    	    			alert("Bad Request, please contact support team")
		         	    	    			return;
		         	    	    		}
			         	    	    		
			         	    	    	case 413:
			         	    	    	{
		         	    	    			alert("URI is too Large, please contact support team")
		         	    	    			return;
		         	    	    		}
			         	    	    	case 414:
			         	    	    	{
		         	    	    			alert("URI is too Large, please contact support team")
		         	    	    			return;
		         	    	    		}
				         	    	      
			         	    	    	case 415:
			         	    	    	{
		         	    	    			alert("Unsuppoted Media Type, please contact support team")
		         	    	    			return;
		         	    	    		}
			         	    	    	default:
			         	    	    		{
			         	    	    			alert("page is failed to load, please contact support team")
			         	    	    			return;
			         	    	    		
			         	    	    		}
			         	    	    	
			         	    	    
			         	    	        
			         	    	}
			         	    		
			         	    	}
		         	    	 
		         	    	 
		         	    	 
		         	    	 
		         	    	
		         	    	 function scrollToTop()
		         	    	 {
		         	    		$(this).scrollTop(0);
		         	    	 }       
		         	    	 
		         	    	 
		         	    	function getConfirmation(){
		         	 
		         	    
		         	    		
		         	    	// debugger
		                        var retVal = confirm("It may take  time. Do you want to continue ?");
		                        if( retVal == true ){
// document.write ("User want to continue!");
		                        	
								  $("#loadingreport").css("display", "block");
								  $("#mainDiv").addClass("disabled");
								 
		                           return true;
		                        }
		                        else{
// document.write ("User does not want to continue!");
		                           return false;
		                        }
		                    
		         	    		}
		         	    		
		         	    	
		         	    /*
						 * function getCurrentTimeInSeconds() { //debugger var d =
						 * new Date(); var timeSec = d.getSeconds(); var timeMin =
						 * d.getMinutes(); return timeMin*timeSec*60 } function
						 * getCurrentTimeInSecondsAfter() { //debugger var
						 * dAfter = new Date(); var timeSecAfter =
						 * dAfter.getSeconds(); var timeMinAfter =
						 * dAfter.getMinutes(); return
						 * timeMinAfter*timeSecAfter*60 }
						 */
		         	    	
		         	    	function validateMobileNumber()
		         	    	{
		         	    		var phoneNumber = $("#phoneNumber").val();
		         	    		if(phoneNumber!=""){
		         	    		if(phoneNumber.length == 10){
// $("#phoneNumberError").html("Enter 10 digits Numbers");
		         	     			return true;
		         	     		}
		         	    		else
		         	    			{
		         	    			$("#phoneNumberError").html("Enter 10 digits Only");
		         	    			return false;
		         	    			}
		         	    		
		         	    	}
		         	    	}
		         	 
		         	    	
		         	    	function validatePersonalMobileNumber()
		         	    	{
		         	    		var phoneNumber1 = $("#phoneNumber1").val();
		         	    		if(phoneNumber1!=""){
		         	    		if(phoneNumber1.length == 10){
// $("#phoneNumberError").html("Enter 10 digits Numbers");
		         	     			return true;
		         	     		}
		         	    		else
		         	    			{
		         	    			$("#phoneNumber1Error").html("Enter 10 digits Only");
		         	    			return false;
		         	    			}
		         	    		
		         	    	}
		         	    	}
		         	    	
		         	    	
/*
 * function getCurrentDate() { var d = new Date(); // debugger var month =
 * d.getMonth()+1; var day = d.getDate();
 * 
 * var output = d.getFullYear() + '/' + (month<10 ? '0' : '') + month + '/' +
 * (day<10 ? '0' : '') + day; var output =(day<10 ? '0' : '') + day + '/' +
 * (month<10 ? '0' : '') + month + '/' + d.getFullYear() ; return output; }
 */
		         	    	
		         	    	// Written by akhil
		         	   function viewCustomerGroupMaster(id,index){
		         	    		debugger;

		         	    		var online = window.navigator.onLine;
		         	    		if(!online)
		         	    		{
		         	    			alert("There is no Internet Connection.");
		         	    			return false;
		         	    		}
		         	    		var maxRecords = "10";
		         	    		if ($("#maxRecords").length > 0 && $("#maxRecords").val()!="")
		         	    			maxRecords= $("#maxRecords").val();
		         	    		var searchCriteria ="";
		         	    		if($("#searchCustomerGroup").length>0)
		         	    			searchCriteria = $("#searchCustomerGroup").val().trim();
		         	    		var outletZone ="";
		         	    		if($("#outletZone").length>0)
		         	    			outletZone = $("#outletZone").val().trim();
		         	    		var outletLocation ="";
		         	    		if($("#outletLocation").length>0)
		         	    			outletLocation = $("#outletLocation").val().trim();
		         	    		var from ="";
		         	    		if($("#from").length>0)
		         	    			from = $("#from").val().trim();
		         	    		var to ="";
		         	    		if($("#to").length>0)
		         	    			to = $("#to").val().trim();

		         	    		var saveCustomerGroup = false;
		         	    		if($("#saveCustomerGroup").val())
		         	    			saveCustomerGroup = $("#saveCustomerGroup").val();

		         	    		var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
		         	    		 if(noOfDays < 0){
		         	    			 $("#endDateError").html("End Date can't be less than Start Date");
		         	    			 return;
		         	    		 }else{
		         	    	  	   	 $("#endDateError").html(" ");
		         	    	  	 }
		         	    		
		         	    		var contextPath = $("#contextPath").val();
		         	    		URL = contextPath+"/crm/viewCustomerGroup.do";

		         	    		$.ajax({
		         	    			type: "GET",
		         	    			url : URL,
		         	    			data : {
		         	    				index : index,
		         	    				maxRecords:maxRecords,
		         	    				saveCustomerGroup : saveCustomerGroup,
		         	    				searchCriteria: searchCriteria,
		         	    				outletZone: outletZone,
		         	    				outletLocation: outletLocation,
		         	    				from: from,
		         	    				to: to
		         	    			},
		         	    			beforeSend: function(xhr){                    
		         	    				$("#loading").css("display","block");
		         	    				$("#mainDiv").addClass("disabled");
		         	    			},
		         	    			success : function(result) {
		         	    				$("#right-side").html(result);
		         	    				activeMenu(id);
		         	    				openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
		         	    				// openMenu("liMasterDataManagement","ulMasterDataManagement",1);
		         	    				$("#loading").css("display","none");
		         	    				$("#mainDiv").removeClass('disabled');

		         	    				var anchor = document.createElement('a');
		         	    				anchor.href = $("#stockdownloadurl").val();
		         	    				anchor.target = '_blank';
		         	    				anchor.download = '';
		         	    				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
		         	    					anchor.click();
		         	    			},



		         	    			error : function() {
		         	    				alert("Internal error, please contact Technolabs support. ");
		         	    				$("#loading").css("display","none");
		         	    				$("#mainDiv").removeClass('disabled');
		         	    			}
		         	    		});
		         	    	}


// manideep

		         	    	function showFinancialManagementFlow(){
		           				try{
		           					
		           					var online = window.navigator.onLine;
		           				  	if(!online){
		           				  	alert("Check your internet connection,Please try agian after some time.");
		           				  	return;
		           				  	}
		           				var contextPath = $('#contextPath').val();
		                		  var URL = contextPath + "/userAccessControl/showFinantialManagementFlow.do";
		            	    	    $.ajax({
		            	    		url : URL,
		            	    		data : {
		            	    		},
		            	    		beforeSend: function(xhr){                    
		            	   				$("#loading").css("display","block");
		            	   				$("#mainDiv").addClass("disabled");
		            	    		},
		            	    		success : function(result){
		            	    			$(".active-menu").removeClass("active-menu");
		            	    		// $(".menu-open").css("display","none");
		            	    			$('#right-side').html(result);
		            	    			$("#loading").css("display","none");
		            	    			$("#mainDiv").removeClass('disabled');
		            	    		},
		            	    		error : function(jqXHR, textStatus, errorThrown) {
		            	    			errorCode(jqXHR.status);
		            	    			$("#loading").css("display","none");
		            	    			$("#mainDiv").removeClass('disabled');
		            	    		}
		            	    	 });
		           				}
		           				catch(e)
		           				{
		           				errorCode(e);
		           				}


		                	   }

		         	    	
		         	    	
		         	    	
		         	   	function showAccountingFlow(){
		         	   		debugger;
		       				try{
		       					
		       					var online = window.navigator.onLine;
		       				  	if(!online){
		       				  	alert("Check your internet connection,Please try agian after some time.");
		       				  	return;
		       				  	}

		          		  var contextPath = $('#contextPath').val();
		          		  var URL = contextPath + "/userAccessControl/showAccountingFlow.do";
		      	    	    $.ajax({
		      	    		url : URL,
		      	    		data : {
		      	    		},
		      	    		beforeSend: function(xhr){                    
		      	   				$("#loading").css("display","block");
		      	   				$("#mainDiv").addClass("disabled");
		      	    		},
		      	    		success : function(result){
		      	    			debugger;
		      	    			$(".active-menu").removeClass("active-menu");
		      	    		// $(".menu-open").css("display","none");
		    	    			openMenu("Account-details", "ulAccountDetails",0);
		      	    			openMenu("liAccountAccessControl", "ulAccountAccessControl",1);
		      	    			$('#right-side').html(result);
		      	    			$("#loading").css("display","none");
		      	    			$("#mainDiv").removeClass('disabled');
		      	    		},
		      	    		error : function(jqXHR, textStatus, errorThrown) {
		      	    			errorCode(jqXHR.status);
		      	    			$("#loading").css("display","none");
		      	    			$("#mainDiv").removeClass('disabled');
		      	    		}
		      	    	 });
		       				}
		       				catch(e)
		       				{
		       				errorCode(e);
		       				}

		          	   }
		         	   	
		         	   	
		         	   	
		         	   function viewOrganizationMaster(label,SearchName,id,index){
		         		   debugger;
	           				try{
	           					var online = window.navigator.onLine;
	           				  	if(!online){
	           				  	alert("Check your internet connection,Please try agian after some time.");
	           				  	return;
	           				  	}

	           				 var maxRecords = 10;
	                         	if ($("#maxRecords").length > 0)
	                         		maxRecords = $("#maxRecords").val();
	           				  	
		         	    	var	zone= $("#outletZone").val();
		         	    		if(zone ==undefined)
		           					zone='';
			         	    var	location= $("#locationdetails").val();
			         	    	if(location ==undefined)
			         	    		location='';
				         	var bussinessType= $("#accountType").val();
				         	    if(bussinessType ==undefined || bussinessType == 'all')
				         	    	bussinessType='';
					        var status= $("#status").val();
					         	if(status ==undefined ||status =='all' )
					         		status='';
					        var startDate= $("#start_date").val();
					         	if(startDate ==undefined)
					         		startDate='';
						    var endDate= $("#end_date").val();
						        if(endDate ==undefined)
						        	endDate='';
		         	    	var	searchCriteria = $("#searchOrganization").val();
		         	    		if(searchCriteria ==undefined)
		         	    			searchCriteria='';
		         	    	
		         	    		
		         	    	if(SearchName=='data'){
			         	    	if ($("#start_date").val() != "" && $("#end_date").val() != "") {
			         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
			         	   	   		if (noOfDays < 0) {
			         	   	   			alert("Start Date can't be less than End Date");
			         	   	   			return;
			         	   	   		}
			         	   	   	}
		         	    	}
		         	    	var OrganizationId='';
	           				var contextPath = $('#contextPath').val();
	           				
	           			if(SearchName=='edit')
	         	    		{
	         	    		OrganizationId=id;
	         	    		 var URL = contextPath + "/userAccessControl/EditOrganizationMaster.do";
	         	    		}
	           			else if(SearchName=='data')
         	    		{
         	    		OrganizationId='';
         	    		// location='';
         	    		// status ='';
         	    		 var URL = contextPath + "/userAccessControl/viewOrganizationMaster.do";
         	    		}
	           			
	           			else if(SearchName=='clear')
         	    		{
         	    		OrganizationId='';
         	    		location='';
         	    		status ='';
         	    		bussinessType='';
         	    		startDate='';
         	    		endDate ='';
         	    		zone='';
         	    		 var URL = contextPath + "/userAccessControl/viewOrganizationMaster.do";
         	    		}
	           			
	         	    	else
	     	    		{
	         	    		OrganizationId=id;
	     	    		 var URL = contextPath + "/userAccessControl/ShowOrganizationMaster.do";
	     	    		}	
	           			
	                		 
	            	    	    $.ajax({
	            	    		url : URL,
	            	    		data : {
	            	    			OrganizationId:OrganizationId,
	            	    			zone:zone,
	            	    			location:location,
	            	    			accountType:bussinessType,
	            	    			status:status,
	            	    			startDate:startDate,
	            	    			endDate:endDate,
	            	    			searchCriteria:searchCriteria,
	            	    			maxRecords:maxRecords,
	            	    			index:index
	            	    		},
	            	    		beforeSend: function(xhr){                    
	            	   				$("#loading").css("display","block");
	            	   				$("#mainDiv").addClass("disabled");
	            	    		},
	            	    		success : function(result){
	            	    			$(".active-menu").removeClass("active-menu");
	            	    		// $(".menu-open").css("display","none");
	            	    			// if(label != undefined && label != "")
	        							activeMenu(label);
	            	    			$('#right-side').html(result);
	            	    			$("#loading").css("display","none");
	            	    			$("#mainDiv").removeClass('disabled');
	            	    		},
	            	    		error : function(jqXHR, textStatus, errorThrown) {
	            	    			errorCode(jqXHR.status);
	            	    			$("#loading").css("display","none");
	            	    			$("#mainDiv").removeClass('disabled');
	            	    		}
	            	    	 });
	           				}
	           				catch(e)
	           				{
	           				errorCode(e);
	           				}


	                	   }
		         	   
		         	  function CreateOrganizationMaster(){
	           				try{
	           					
	           					var online = window.navigator.onLine;
	           				  	if(!online){
	           				  	alert("Check your internet connection,Please try agian after some time.");
	           				  	return;
	           				  	}
	           				var contextPath = $('#contextPath').val();
	                		  var URL = contextPath + "/userAccessControl/CreateOrganizationMaster.do";
	            	    	    $.ajax({
	            	    		url : URL,
	            	    		data : {
	            	    		},
	            	    		beforeSend: function(xhr){                    
	            	   				$("#loading").css("display","block");
	            	   				$("#mainDiv").addClass("disabled");
	            	    		},
	            	    		success : function(result){
	            	    			$(".active-menu").removeClass("active-menu");
	            	    		// $(".menu-open").css("display","none");
	            	    			$('#right-side').html(result);
	            	    			$("#loading").css("display","none");
	            	    			$("#mainDiv").removeClass('disabled');
	            	    		},
	            	    		error : function(jqXHR, textStatus, errorThrown) {
	            	    			errorCode(jqXHR.status);
	            	    			$("#loading").css("display","none");
	            	    			$("#mainDiv").removeClass('disabled');
	            	    		}
	            	    	 });
	           				}
	           				catch(e)
	           				{
	           				errorCode(e);
	           				}


	                	   }
		         	  
		         	  function CreateAssetAccount(){
	           				try{
	           				 debugger;
	           					var online = window.navigator.onLine;
	           				  	if(!online){
	           				  	alert("Check your internet connection,Please try agian after some time.");
	           				  	return;
	           				  	}
	           				var contextPath = $('#contextPath').val();
	           				var AccountId = '';
	           				var Location = '';
	           				
	                		  var URL = contextPath + "/userAccessControl/CreateAssetAccount.do";
	            	    	    $.ajax({
	            	    		url : URL,
	            	    		data : {
	            	    			AccountId : AccountId,
	            	    			Location : Location,
	            	    		},
	            	    		beforeSend: function(xhr){                    
	            	   				$("#loading").css("display","block");
	            	   				$("#mainDiv").addClass("disabled");
	            	    		},
	            	    		success : function(result){
	            	    			$(".active-menu").removeClass("active-menu");
	            	    		// $(".menu-open").css("display","none");
	            	    			$('#right-side').html(result);
	            	    			$("#loading").css("display","none");
	            	    			$("#mainDiv").removeClass('disabled');
	            	    		},
	            	    		error : function(jqXHR, textStatus, errorThrown) {
	            	    			errorCode(jqXHR.status);
	            	    			$("#loading").css("display","none");
	            	    			$("#mainDiv").removeClass('disabled');
	            	    		}
	            	    	 });
	           				}
	           				catch(e)
	           				{
	           				errorCode(e);
	           				}


	                	   }
		       
		       
		       function CreateLiabilityAccount(){
      				try{
      					
      					var online = window.navigator.onLine;
      				  	if(!online){
      				  	alert("Check your internet connection,Please try agian after some time.");
      				  	return;
      				  	}
      				var contextPath = $('#contextPath').val();
           		  var URL = contextPath + "/userAccessControl/CreateLiabilityAccount.do";
       	    	    $.ajax({
       	    		url : URL,
       	    		data : {
       	    		},
       	    		beforeSend: function(xhr){                    
       	   				$("#loading").css("display","block");
       	   				$("#mainDiv").addClass("disabled");
       	    		},
       	    		success : function(result){
       	    			$(".active-menu").removeClass("active-menu");
       	    		// $(".menu-open").css("display","none");
       	    			$('#right-side').html(result);
       	    			$("#loading").css("display","none");
       	    			$("#mainDiv").removeClass('disabled');
       	    		},
       	    		error : function(jqXHR, textStatus, errorThrown) {
       	    			errorCode(jqXHR.status);
       	    			$("#loading").css("display","none");
       	    			$("#mainDiv").removeClass('disabled');
       	    		}
       	    	 });
      				}
      				catch(e)
      				{
      				errorCode(e);
      				}


           	   }
		         	  
		       
		       function CreateIncomeAccount(){
     				try{
     					
     					var online = window.navigator.onLine;
     				  	if(!online){
     				  	alert("Check your internet connection,Please try agian after some time.");
     				  	return;
     				  	}
     				var contextPath = $('#contextPath').val();
          		  var URL = contextPath + "/userAccessControl/CreateIncomeAccount.do";
      	    	    $.ajax({
      	    		url : URL,
      	    		data : {
      	    		},
      	    		beforeSend: function(xhr){                    
      	   				$("#loading").css("display","block");
      	   				$("#mainDiv").addClass("disabled");
      	    		},
      	    		success : function(result){
      	    			$(".active-menu").removeClass("active-menu");
      	    		// $(".menu-open").css("display","none");
      	    			$('#right-side').html(result);
      	    			$("#loading").css("display","none");
      	    			$("#mainDiv").removeClass('disabled');
      	    		},
      	    		error : function(jqXHR, textStatus, errorThrown) {
      	    			errorCode(jqXHR.status);
      	    			$("#loading").css("display","none");
      	    			$("#mainDiv").removeClass('disabled');
      	    		}
      	    	 });
     				}
     				catch(e)
     				{
     				errorCode(e);
     				}


          	   }
		       
		       
		       function CreateExpensesAccount(){
    				try{
    					
    					var online = window.navigator.onLine;
    				  	if(!online){
    				  	alert("Check your internet connection,Please try agian after some time.");
    				  	return;
    				  	}
    				var contextPath = $('#contextPath').val();
         		  var URL = contextPath + "/userAccessControl/CreateExpensesAccount.do";
     	    	    $.ajax({
     	    		url : URL,
     	    		data : {
     	    		},
     	    		beforeSend: function(xhr){                    
     	   				$("#loading").css("display","block");
     	   				$("#mainDiv").addClass("disabled");
     	    		},
     	    		success : function(result){
     	    			$(".active-menu").removeClass("active-menu");
     	    		// $(".menu-open").css("display","none");
     	    			$('#right-side').html(result);
     	    			$("#loading").css("display","none");
     	    			$("#mainDiv").removeClass('disabled');
     	    		},
     	    		error : function(jqXHR, textStatus, errorThrown) {
     	    			errorCode(jqXHR.status);
     	    			$("#loading").css("display","none");
     	    			$("#mainDiv").removeClass('disabled');
     	    		}
     	    	 });
    				}
    				catch(e)
    				{
    				errorCode(e);
    				}


         	   }
		       
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Assets label
					 * of Accounting menu of Financial Management in home.jsp
					 */	
         	    	function accountingAssets(label,SearchName,id,index){
         	    		debugger;
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				  	
           				  	
           				 	var maxRecords = 10;
                         	if ($("#maxRecords").length > 0)
                         		maxRecords = $("#maxRecords").val();
                         
                         var AccountId='';	
           				 var OrganizationId=$('#organization').val();
           				if(OrganizationId ==undefined)
           					OrganizationId='';
           				 var zone = $('#outletZone').val();
           				if(zone ==undefined)
           					zone='';
           				var location = $('#location').val();
           				if(location ==undefined)
           					location='';
           				
           			
           			    var BusinessType='';
        				var status = $('#status').val();
        				if(status ==undefined || status == 'all')
        					status='';
        				var startDate = $('#startDate').val();
        				if(startDate ==undefined)
        					startDate='';
        				var endDate = $('#endDate').val();
        				if(endDate ==undefined)
        					endDate='';
        				
        				var searchCretiria = $('#searchAccount').val();
        				if(searchCretiria ==undefined)
        					searchCretiria='';
        				
        				var startIndex = index;
	           			var contextPath = $('#contextPath').val();
	           			if(SearchName=='data'){
	           				
	           				var currentDate = getSystemDate();
	           				if ($("#startDate").val() != "" && currentDate != "") {
		         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("Start Date can't be grater than Current Date");
		         	   	   			$("#startDate").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
	           				if (currentDate != "" && $("#endDate").val() != "") {
		         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("End Date can't be grater than Current Date");
		         	   	   			$("#endDate").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
	           			if ($("#startDate").val() != "" && $("#endDate").val() != "") {
	         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	         	   	   		if (noOfDays < 0) {
	         	   	   			alert("Start Date can't be less than End Date");
	         	   	   			$("#startDate").val("");
	         	   	   			$("#endDate").val("");
	         	   	   			return;
	         	   	   		}
	         	   	   	}
	           			}
	           			if(SearchName=='edit')
	         	    		{
	           				AccountId=id;
	         	    		 var URL = contextPath + "/userAccessControl/EditFinantialAssetsFlow.do";
	         	    		}
	           			else if(SearchName=='data')
         	    		{
	           				AccountId='';
	           				
         	    		 var URL = contextPath + "/userAccessControl/showFinantialAssetsFlow.do";
         	    		}
	           			else if(SearchName=='clear')
         	    		{
	           				AccountId='';
	           				OrganizationId='';
	           				zone='';
	           				location='';
	           				BusinessType='';
	           				status='';
	           				startDate='';
	           				endDate='';
         	    		 var URL = contextPath + "/userAccessControl/showFinantialAssetsFlow.do";
         	    		}
	         	    	else 
	     	    		{
	         	    		AccountId=id;
	     	    		 var URL = contextPath + "/userAccessControl/ViewFinantialAssetsFlow.do";
	     	    		}
	           			
           				
                		 
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    			OrganizationId:OrganizationId,
            	    			AccountId:AccountId,
            	    			zone:zone,
            	    			location:location,
            	    			BusinessType:BusinessType,
            	    			status:status,
            	    			startDate:startDate,
            	    			endDate:endDate,
            	    			searchCretiria:searchCretiria,
            	    			maxRecords:maxRecords,
            	    			index:index
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			if(label != undefined && label != "")
        							activeMenu(label);
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}
                	   }

         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Liabilities
					 * label of Accounting menu of Financial Management in
					 * home.jsp
					 */	
         	    	function accountingLiabilities(label,SearchName,id,index){
         	    		debugger;
           				try{
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				  	
           				 var AccountId='';	
           				 var OrganizationId=$('#organization').val();
           				if(OrganizationId ==undefined)
           					OrganizationId='';
           				
           				var maxRecords = 10;
                     	if ($("#maxRecords").length > 0)
                     		maxRecords = $("#maxRecords").val(); 
           				var zone = $('#outletZone').val();
           				if(zone ==undefined)
           					zone='';
           				var location = $('#location').val();
           				if(location ==undefined)
           					location='';
           				
           				var BusinessType='';
        				var status = $('#status').val();
        				if(status ==undefined || status=='all' )
        					status='';
        				var startDate = $('#startDate').val();
        				if(startDate ==undefined)
        					startDate='';
        				var endDate = $('#endDate').val();
        				if(endDate ==undefined)
        					endDate='';
        				var searchCretiria = $('#searchLiabilities').val();
        				if(searchCretiria ==undefined)
        					searchCretiria='';
        				if(SearchName=='data'){
        					
        					var currentDate = getSystemDate();
	           				if ($("#startDate").val() != "" && currentDate != "") {
		         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("Start Date can't be grater than Current Date");
		         	   	   			$("#startDate").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
	           				if (currentDate != "" && $("#endDate").val() != "") {
		         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("End Date can't be grater than Current Date");
		         	   	   			$("#endDate").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
        					
        				if ($("#startDate").val() != "" && $("#endDate").val() != "") {
	         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	         	   	   		if (noOfDays < 0) {
	         	   	   			alert("Start Date can't be less than End Date");
	         	   	   			$("#startDate").val("");
	         	   	   			$("#endDate").val("");
	         	   	   			return;
	         	   	   		}
	         	   	   	}
        				}
	           			var contextPath = $('#contextPath').val();
	           				
	           			if(SearchName=='edit')
	         	    		{
	           				AccountId=id;
	         	    		 var URL = contextPath + "/userAccessControl/EditFinancialLiabilitiesFlow.do";
	         	    		}
	           			else if(SearchName=='data')
         	    		{
	           				AccountId='';
         	    		 var URL = contextPath + "/userAccessControl/showFinancialLiabilitiesFlow.do";
         	    		}
	           			else if(SearchName=='clear')
         	    		{
	           				AccountId='';
	           				OrganizationId='';
	           				zone='';
	           				location='';
	           				status='';
	           				startDate='';
	           				endDate='';
	           				BusinessType='';
         	    		 var URL = contextPath + "/userAccessControl/showFinancialLiabilitiesFlow.do";
         	    		}
	         	    	else
	         	    		{	         	    		
	         	    		AccountId=id;
		         	    		 var URL = contextPath + "/userAccessControl/ViewFinancialLiabilitiesFlow.do";		         	    			         	    		
	         	    		}
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    			OrganizationId:OrganizationId,
            	    			AccountId:AccountId,
            	    			zone:zone,
            	    			location:location,
            	    			BusinessType:BusinessType,
            	    			status:status,
            	    			startDate:startDate,
            	    			endDate:endDate,
            	    			searchCretiria:searchCretiria,
            	    			maxRecords:maxRecords,
            	    			index:index
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			if(label != undefined && label != "")
        							activeMenu(label);
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }
         	    	
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Organization
					 * Master label in home.jsp
					 */			         	    	
         	    	function organizationMaster(){
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				var contextPath = $('#contextPath').val();
                		  var URL = contextPath + "/userAccessControl/showOrganizationMaster.do";
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }
         	
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Income label
					 * of Accounting menu of Financial Liabilities in home.jsp
					 */			         	    			         	    	
         	    	function accountingIncome(label,SearchName,id,index){
         	    		debugger;
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				  	
           				  	
           				 var AccountId='';	
           				 var OrganizationId=$('#organization').val();
           				if(OrganizationId ==undefined)
           					OrganizationId='';
           				
           				var maxRecords = 10;
                     	if ($("#maxRecords").length > 0)
                     		maxRecords = $("#maxRecords").val();  
                     	
           				var zone = $('#outletZone').val();
           				if(zone ==undefined)
           					zone='';
           				var location = $('#location').val();
           				if(location ==undefined || location.length >1 )
           					location='';
           				
           				var BusinessType = $('#BusinessType').val();
           				if(BusinessType ==undefined)
           					BusinessType='';
        				var status = $('#status').val();
        				if(status ==undefined || status=='all')
        					status='';
        				var startDate = $('#startDate').val();
        				if(startDate ==undefined)
        					startDate='';
        				var endDate = $('#endDate').val();
        				if(endDate ==undefined)
        					endDate='';
           				 
        				var searchCritiria = $('#searchIncome').val();
        				if(searchCritiria ==undefined)
        					searchCritiria='';
        				if(SearchName=='data'){
        					var currentDate = getSystemDate();
	           				if ($("#startDate").val() != "" && currentDate != "") {
		         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("Start Date can't be grater than Current Date");
		         	   	   			$("#startDate").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
	           				if (currentDate != "" && $("#endDate").val() != "") {
		         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("End Date can't be grater than Current Date");
		         	   	   			$("#endDate").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
        				if ($("#startDate").val() != "" && $("#endDate").val() != "") {
	         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	         	   	   		if (noOfDays < 0) {
	         	   	   			alert("Start Date can't be less than End Date");
	         	   	   			$("#startDate").val("");
	         	   	   			("#endDate").val("");
	         	   	   			return;
	         	   	   		}
	         	   	   	}
        				}
	           			var contextPath = $('#contextPath').val();
	           				
	           			if(SearchName=='edit')
	         	    		{
	           				AccountId=id;
	         	    		 var URL = contextPath + "/userAccessControl/EditIncome.do";
	         	    		}
	           			else if(SearchName=='data')
         	    		{
	           				AccountId='';
         	    		var URL = contextPath + "/userAccessControl/showIncome.do";
         	    		}
	           			else if(SearchName=='clear')
         	    		{
	           				AccountId='';
	           				OrganizationId='';
	           				zone='';
	           				location='';
	           				BusinessType='';
	           				status='';
	           				startDate='';
	           				endDate='';
         	    		var URL = contextPath + "/userAccessControl/showIncome.do";
         	    		}
	         	    	else 
	     	    		{
	         	    		AccountId=id;
	     	    		var URL = contextPath + "/userAccessControl/ViewIncome.do";
	     	    		}	

	         	    	    $.ajax({
	         	    		url : URL,
	         	    		data : {
	         	    			OrganizationId:OrganizationId,
	         	    			AccountId:AccountId,
            	    			zone:zone,
            	    			location:location,
            	    			BusinessType:BusinessType,
            	    			status:status,
            	    			startDate:startDate,
            	    			endDate:endDate,
            	    			searchCritiria:searchCritiria,
            	    			maxRecords:maxRecords,
            	    			index:index
	         	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			if(label != undefined && label != "")
        							activeMenu(label);
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }
         	    	
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Expenses
					 * label of Accounting menu of Financial Liabilities in
					 * home.jsp
					 */			         	    	
         	    	function accountingExpenses(label,SearchName,id,index){
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				 var AccountId='';	
           				 var OrganizationId=$('#organization').val();
           				if(OrganizationId ==undefined)
           					OrganizationId='';
           			 	var maxRecords = 10;
                     	if ($("#maxRecords").length > 0)
                     		maxRecords = $("#maxRecords").val();     
           				 
           				var zone = $('#outletZone').val();
           				if(zone ==undefined)
           					zone='';
           				var location = $('#location').val();
           				if(location ==undefined || location.length >1 )
           					location='';
           				
           				var BusinessType='';
        				var status = $('#status').val();
        				if(status ==undefined || status=='all')
        					status='';
        				var startDate = $('#startDate').val();
        				if(startDate ==undefined)
        					startDate='';
        				var endDate = $('#endDate').val();
        				if(endDate ==undefined)
        					endDate='';
        				var searchCritiria = $('#searchExpenses').val();
        				if(searchCritiria ==undefined)
        					searchCritiria='';
        				if(SearchName=='data'){ 
        					var currentDate = getSystemDate();
	           				if ($("#startDate").val() != "" && currentDate != "") {
		         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("Start Date can't be grater than Current Date");
		         	   	   			$("#startDate").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
	           				if (currentDate != "" && $("#endDate").val() != "") {
		         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("End Date can't be grater than Current Date");
		         	   	   			$("#endDate").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
        					
        				if ($("#startDate").val() != "" && $("#endDate").val() != "") {
	         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	         	   	   		if (noOfDays < 0) {
	         	   	   			alert("Start Date can't be less than End Date");
	         	   	   			$("#endDate").val("");
	         	   	   			$("#startDate").val("");
	         	   	   			return;
	         	   	   		}
	         	   	   	}
        				}
        				var contextPath = $('#contextPath').val();
	           				
	           			if(SearchName=='edit')
	         	    		{
	           				AccountId=id;
	         	    		var URL = contextPath + "/userAccessControl/EditExpenses.do";
	         	    		}
	           			else if(SearchName=='data')
         	    		{
	           				AccountId='';
         	    		var URL = contextPath + "/userAccessControl/showExpenses.do";
         	    		}
	           			else if(SearchName=='clear')
         	    		{
	           				AccountId='';
	           				OrganizationId='';
	           				zone='';
	           				location='';
	           				BusinessType='';
	           				status='';
	           				startDate='';
	           				endDate='';
         	    		var URL = contextPath + "/userAccessControl/showExpenses.do";
         	    		}
	         	    	else
	     	    		{
	         	    		AccountId=id;
	     	    		var URL = contextPath + "/userAccessControl/ViewExpenses.do";
	     	    		}	
	         	    	    $.ajax({
	         	    		url : URL,
	         	    		data : {
	         	    			OrganizationId:OrganizationId,
	         	    			AccountId:AccountId,
            	    			zone:zone,
            	    			location:location,
            	    			BusinessType:BusinessType,
            	    			status:status,
            	    			startDate:startDate,
            	    			endDate:endDate,
            	    			searchCritiria:searchCritiria,
            	    			maxRecords:maxRecords,
            	    			index:index
	         	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			if(label != undefined && label != "")
        							activeMenu(label);
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }		         	    	
         	    	
         	   	function accountingjournal(searchView,label,index){
       				try{
       					debugger;
       					
       					var online = window.navigator.onLine;
       				  	if(!online){
       				  	alert("Check your internet connection,Please try agian after some time.");
       				  	return;
       				  	}
       				 var AccountType='';
       				var maxRecords = 10;
       				var AccountId = $("#accountId").val();
       				if(AccountId ==undefined){
       					AccountId='';
       				}
       			  	var OrganizationId = $("#organization").val();
       			 if(OrganizationId ==undefined){
       				OrganizationId='';
    				}
       				var zone = $("#zone").val();
       				if(zone ==undefined){
       					zone='';
       				}
       				var location = $("#location").val();
       				if(location ==undefined){
       					location='';
       				}
       				var txnType = $("#TxnTypeF").val();
       				if(txnType ==undefined){
       					txnType='';
       				}
       				var start_date = $("#start_date").val();
       				if(start_date ==undefined){
       					start_date='';
       				}
       				var end_date = $("#end_date").val();
       				if(end_date ==undefined){
       					end_date='';
       				}
       				if(searchView!='View'){
       					
       					var currentDate = getSystemDate();
           				if ($("#start_date").val() != "" && currentDate != "") {
	         	   	   		var noOfDays = daydiff(parseDate(start_date), parseDate(currentDate));
	         	   	   		if (noOfDays < 0) {
	         	   	   			alert("Start Date can't be grater than Current Date");
	         	   	   			$("#start_date").val("");
	         	   	   			return;
	         	   	   		}
	         	   	   	}
           				if (currentDate != "" && $("#end_date").val() != "") {
	         	   	   		var noOfDays = daydiff(parseDate(end_date), parseDate(currentDate));
	         	   	   		if (noOfDays < 0) {
	         	   	   			alert("End Date can't be grater than Current Date");
	         	   	   			$("#end_date").val("");
	         	   	   			return;
	         	   	   		}
	         	   	   	}
       					
       				if ($("#start_date").val() != "" && $("#end_date").val() != "") {
       		   	   		var noOfDays = daydiff(parseDate(start_date), parseDate(end_date));
       		   	   		if (noOfDays < 0) {
       		   	   			alert("Start Date can't be less than End Date");
       		   	   			return;
       		   	   		}
       		   	   	}
       				}
           				var contextPath = $('#contextPath').val();
		           		if(searchView=='View'){
		           			OrganizationId='';
		           			zone='';
		           			location='';
		           			txnType='';
		           			start_date='';
		           			end_date='';
		           			
		           			var URL = contextPath + "/userAccessControl/showJournal.do";
		           		}else{
		           			var URL = contextPath + "/userAccessControl/showJournal.do";
		           		}
         	    		
         	    		
         	    		
         	    	    $.ajax({
         	    		url : URL,
         	    		data : {
         	    			OrganizationId:OrganizationId,
         	    			AccountType:AccountType,
         	    			AccountId:AccountId,
         	    			Zone:zone,
         	    			Location:location,
         	    			TxnType:txnType,
         	    			Start_date:start_date,
         	    			End_date:end_date,
         	    			maxRecords:maxRecords,
        	    			index:index
         	    		},
        	    		beforeSend: function(xhr){                    
        	   				$("#loading").css("display","block");
        	   				$("#mainDiv").addClass("disabled");
        	    		},
        	    		success : function(result){
        	    			$(".active-menu").removeClass("active-menu");
        	    		// $(".menu-open").css("display","none");
        	    			if(label != undefined && label != "")
    							activeMenu(label);
        	    			$('#right-side').html(result);
        	    			$("#loading").css("display","none");
        	    			$("#mainDiv").removeClass('disabled');
        	    		},
        	    		error : function(jqXHR, textStatus, errorThrown) {
        	    			errorCode(jqXHR.status);
        	    			$("#loading").css("display","none");
        	    			$("#mainDiv").removeClass('disabled');
        	    		}
        	    	 });
       				}
       				catch(e)
       				{
       				errorCode(e);
       				}


            	   }
         	    	
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Create New
					 * label in Organization Master label page in home.jsp
					 */			         	    	
         	    	function addNewOrganization(){
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				var contextPath = $('#contextPath').val();
                		  var URL = contextPath + "/userAccessControl/showOrganization.do";
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }
         	    	
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Profitability
					 * label in home.jsp
					 */			         	    	
         	    	function profitability(label){
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				var contextPath = $('#contextPath').val();
                		  var URL = contextPath + "/userAccessControl/showProfitability.do";
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			if(label != undefined && label != "")
            	    				activeMenu(label);
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }
         	    	
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Taxation
					 * label in home.jsp
					 */			         	    	
         	    	function taxation(label){
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				var contextPath = $('#contextPath').val();
                		  var URL = contextPath + "/userAccessControl/showTaxation.do";
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			if(label != undefined && label != "")
            	    				activeMenu(label);
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }
         	    	
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Receivable
					 * label in home.jsp
					 */			         	    	
         	    	function receivable(label){
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				var contextPath = $('#contextPath').val();
                		  var URL = contextPath + "/userAccessControl/showReceivable.do";
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			if(label != undefined && label != "")
            	    				activeMenu(label);
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Payables
					 * label in home.jsp
					 */			         	    	
         	    	function payables(label){
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				var contextPath = $('#contextPath').val();
                		  var URL = contextPath + "/userAccessControl/showPayables.do";
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			if(label != undefined && label != "")
            	    				activeMenu(label);
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }
         	    	
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Deep Analysis
					 * label in home.jsp
					 */		         	    	
         	    	function deep(label){
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				var contextPath = $('#contextPath').val();
                		  var URL = contextPath + "/userAccessControl/showDeep.do";
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			if(label != undefined && label != "")
            	    				activeMenu(label);
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}


                	   }		 
         	    	
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by select option
					 * in newServiceAreaMaster.jsp
					 */
         	       function changeFunc() {		         	    	   
         	    	    var selectBox = document.getElementById("selectBox");
         	    	    var selectedValue = selectBox.options[selectBox.selectedIndex].value;
         	    	    if(selectedValue=="Polygon")
         	    	    	document.getElementById("radius").disabled=true;	
         	    	    else
         	    	    	document.getElementById("radius").disabled=false;
         	    	   }	
         	       
         	    	/*
					 * K.Harsha 27-2-2019 This function is used by Reports Menu
					 * of Accounting menu of Financial Management to load
					 * showReports.jsp
					 */		         	       
         	       function showReportsFlow(){
           				try{
           					
           					var online = window.navigator.onLine;
           				  	if(!online){
           				  	alert("Check your internet connection,Please try agian after some time.");
           				  	return;
           				  	}
           				var contextPath = $('#contextPath').val();
                		  var URL = contextPath + "/userAccessControl/showReportsFlow.do";
            	    	    $.ajax({
            	    		url : URL,
            	    		data : {
            	    		},
            	    		beforeSend: function(xhr){                    
            	   				$("#loading").css("display","block");
            	   				$("#mainDiv").addClass("disabled");
            	    		},
            	    		success : function(result){
            	    			$(".active-menu").removeClass("active-menu");
            	    		// $(".menu-open").css("display","none");
            	    			$('#right-side').html(result);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		},
            	    		error : function(jqXHR, textStatus, errorThrown) {
            	    			errorCode(jqXHR.status);
            	    			$("#loading").css("display","none");
            	    			$("#mainDiv").removeClass('disabled');
            	    		}
            	    	 });
           				}
           				catch(e)
           				{
           				errorCode(e);
           				}		         	    	   
         	    	   
         	       }
	         	    
         	       
         	      
		         	
		       
	         	    
         	       
         	       
         	       
         	       
     // added by sneha
                   
       		    function viewDeliveryPersonWiseReports(id,index,searchname,flow){
                 	   	debugger;
                 	   try{
                 	   var online = window.navigator.onLine;
                 	   	if(!online)
                 	           {
                 	   	 alert("Check your internet connection,Please try agian after some time.");
                 	     	 return;
                 	          }
                 	  
                 	    if (searchname == "save")
                 			var saveFlag = true;
                 		else
                 			var saveFlag =false;
                 	   
                 	var maxRecords = 10;
                 	if ($("#maxRecords").length > 0)
                 		maxRecords = $("#maxRecords").val();

                 	var startDate = "";
                 	if ($("#startDateSt").length > 0)
                 		startDate = $("#startDateSt").val();
                 	
                 	var endDate = "";
                 	if ($("#endDateSt").length > 0)
                   endDate = $("#endDateSt").val();
                 	
                 	 var location =""
                 		 if ($("#outletLocation").length > 0)
                 		 location =  $('#outletLocation').val();
                  	 var zone =""
                 		 if ($("#outletZone").length > 0)
                 		 zone =  $('#outletZone').val();
                 	
                 	var searchCriteria="";
                 	if ($("#searchSalesVoucher").length > 0)
                 		searchCriteria = $("#searchSalesVoucher").val();
                 		
                 	if(searchCriteria=="" || searchCriteria==undefined || searchCriteria==null)
                 		{
                 			searchCriteria="Delivery";
                 		}
                 		var contextPath = $("#contextPath").val();
                     	 var URL = contextPath + "/reports/viewDeliveryPersonWiseReports.do";
                     	 $.ajax({
                     		type : "GET",
                     		url : URL,
                     		data : {
                     			index : index,
                 				maxRecords : maxRecords,
                 				startdate : startDate,
                 				enddate : endDate,
                 				location : location,
                 				zone:zone,
                 				searchName : searchCriteria,
                 				saveFlag:saveFlag,
                 				flow : flow
                     		},
                     		beforeSend: function(xhr){                    
                 				$("#loading").css("display","block");
                 				$("#mainDiv").addClass("disabled");
                 	        },

                 		success : function(result){
                 			$(".active-menu").removeClass("active-menu");
                 			if(flow == ""){
                  				
                  				openMenu("liOutletSalesReports","ulOutletSalesReports",0);
                  				openMenu("liOutletReports","ulOutletReports",1);
                  				openMenu("reports", "ulReports",1);
                  			}else{
                  				
                  				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
                  				openMenu("liWarehouseReports","ulWarehouseReports",1);
                  				openMenu("reports", "ulReports",1);
                  			}
                 			activeMenu(id);
                 			$('#right-side').html(result);
                 			$("#loading").css("display","none");
                    		 var anchor = document.createElement('a');
                       	  anchor.href = $("#stockdownloadurl").val();
          				  anchor.target = '_blank';
          				  anchor.download = '';
          				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
          				  anchor.click();
              		
         				$("#loading").css("display","none");
         				$("#mainDiv").removeClass('disabled');
            		
         			},
                 			error : function(jqXHR, textStatus, errorThrown)  {
                 				errorCode(jqXHR.status);
                 				$("#loading").css("display", "none");
                 				$("#mainDiv").removeClass('disabled');
                 			}
                     	 });
                 	   }
                 	   catch(e)
                 	   	{
                 	   	        errorCode(e);
                 	   } 
                     }  
       		               
       		 /*
				 * @author Surya.k on 30/03/2019 @returns
				 * viewItemWisePromotionSales
				 */
       		 function showCampaignManagementReportsFlows(id){
      			try{
      				debugger;
      				var online = window.navigator.onLine;
      				if(!online){
      					alert("Check your internet connection,Please try agian after some time.");
      					return;
      				}

      				var contextPath = $('#contextPath').val();
      				var URL = contextPath + "/reports/showCampaignManagementReportsFlows.do";
      				$.ajax({
      					url : URL,
      					data : {

      					},
      					beforeSend: function(xhr){                    
      						$("#loading").css("display","block");
      						$("#mainDiv").addClass("disabled");
      					},

      					success : function(result){
      						$(".active-menu").removeClass("active-menu");
      						openMenu("liCampaignsReports","ulCampaignsReports",0);
      						openMenu("reports", "ulReports",1);
      						activeMenu(id);
      						$('#right-side').html(result);
      						$("#loading").css("display","none");
      						$("#mainDiv").removeClass('disabled');
      					},
      					error : function(jqXHR, textStatus, errorThrown) {
      						errorCode(jqXHR.status);
      						$("#loading").css("display","none");
      						$("#mainDiv").removeClass('disabled');
      					}
      				});
      			}
      			catch(e)
      			{
      				errorCode(e);
      			}

      		}
       		    
       		    
       		    
       		 /*
				 * @author Surya.k on 30/03/2019 @returns
				 * viewItemWisePromotionSales
				 */
       		 function viewItemWisePromotionSales(index,searchname){
       		 	
       		 	debugger;
       		 	var online = window.navigator.onLine;
       		 	
       		 	
       		 	
       		   	if(!online)
       		   	{
       		   	alert("check your internet connection,please try agian after some time");
       		   	return;
       		   	}
       		   	
       		   	
	       		 var maxRecords = 10;
	          	if ($("#maxRecords").length > 0)
	          		maxRecords = $("#maxRecords").val();
	          	
		          	var	zone= $("#outletZone").val();
			    		if(zone ==undefined)
							zone=''; 
		    		
		    		var	promotionName= $("#promotion_name").val();
		    		if(promotionName ==undefined)
		    			promotionName=''; 
		    		
		    		var	startDate= $("#startDate").val();
		    		if(startDate ==undefined)
		    			startDate=''; 
		    		
		    		var	location= $("#location").val();
		    		if(location ==undefined)
		    			location=''; 
		    		
		    		var	endDate= $("#endDate").val();
		    		if(endDate ==undefined)
		    			endDate=''; 
	    	
		    		  if (searchname == "save")
              			var saveFlag = true;
              		else
              			var saveFlag =false;
		    		  
       		 		var contextPath = $('#contextPath').val();
       		 		
       		 		var URL = contextPath + "/reports/viewItemWisePromotionSalesReport.do";
       		 		
       		 		$.ajax({
       		 			url : URL,
       		 			data : {
       		 			index:index,
       		 			maxRecords:maxRecords,
       		 			zone:zone,
       		 			promotionName:promotionName,
       		 			startDate:startDate,
       		 			location:location,
       		 			endDate:endDate,
       		 			saveFlag:saveFlag,
       		 				
       		 		},
       		 		beforeSend: function(xhr){                    
       		 				$("#loading").css("display","block");
       		 				$("#mainDiv").addClass("disabled");
       		 	        },

       		 		success : function(result){
       		 			// $(".active-menu").removeClass("active-menu");
       		 		// openMenu("liOutletSalesReports","ulOutletSalesReports",0);
       		 			// openMenu("liOutletReports","ulOutletReports",1);
       		 			// openMenu("reports", "ulReports",1);
       		 		// activeMenu(id);
       		 			
       		 		 var anchor = document.createElement('a');
      				  anchor.href = $("#stockdownloadurl").val();
      				  anchor.target = '_blank';
      				  anchor.download = '';
      				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
      				  anchor.click();
           			
       		 			
       		 			$('#right-side').html(result);
       		 			$("#loading").css("display","none");
       		 			$("#mainDiv").removeClass('disabled');
       		 		},
       		 		error : function(){
       		 			alert("Internal error, please contact Technolabs support. ");
       		 			$("#loading").css("display","none");
       		 			   $("#mainDiv").removeClass('disabled');
       		 		}
       		 	 });
       		 	} 
       		 
       		function accountingReconciliation(Searchview,id)
       	   {
       		   debugger;
    				try{
    					debugger;
    					
    					var online = window.navigator.onLine;
    				  	if(!online){
    				  	alert("Check your internet connection,Please try agian after some time.");
    				  	return;
    				  	}
    				  	
    				 
        				var contextPath = $('#contextPath').val();
      	    		var URL = contextPath + "/userAccessControl/showReconciliation.do";
      	    		
      	    	    $.ajax({
      	    		url : URL,
      	    		data : {
      	    			
      	    		},
     	    		beforeSend: function(xhr){                    
     	   				$("#loading").css("display","block");
     	   				$("#mainDiv").addClass("disabled");
     	    		},
     	    		success : function(result){
     	    			$(".active-menu").removeClass("active-menu");
     	    		// $(".menu-open").css("display","none");
     	    			activeMenu("reconciliation");
     	    			$('#right-side').html(result);
     	    			$("#loading").css("display","none");
     	    			$("#mainDiv").removeClass('disabled');
     	    		},
     	    		error : function(jqXHR, textStatus, errorThrown) {
     	    			errorCode(jqXHR.status);
     	    			$("#loading").css("display","none");
     	    			$("#mainDiv").removeClass('disabled');
     	    		}
     	    	 });
    				}
    				catch(e)
    				{
    				errorCode(e);
    				}
               }

       		function accountNameChange(count,id){
    	  		debugger;
    	  		var i = count+1;
    	  		$('#'+id+' :nth-child('+i+')').prop('selected', true);
    	  	
    	  		
    	  		}
       		function accountingReconciliationSummary(Searchview,label,index)
       		               	   {
       		               		   debugger;
       		            				try{
       		            					debugger;
       		            					
       		            					var online = window.navigator.onLine;
       		            				  	if(!online){
       		            				  	alert("Check your internet connection,Please try agian after some time.");
       		            				  	return;
       		            				  	}
       		            				  	
       		            				  	var maxRecords =10;
       		                				var contextPath = $('#contextPath').val();
       		                				
       		                				var startDate=$('#startDate').val();
       		                				var endDate=$('#endDate').val();
       		                				var organization=$('#organization').val();
       		                				var location=$('#location').val();
       		                				var searchData=$('#searchData').val();
       		                				
       		                				var URL = contextPath + "/userAccessControl/showReconciliationSummary.do";
       		              	    		if(Searchview=="clear"){
       		              	    			location="";
       		              	    			startDate="";
       		              	    			endDate="";
       		              	    			organization="";
       		              	    			searchData="";
       		              	    		}
       		              	    		
       		              	    	var currentDate = getSystemDate();
       		           				if ($("#startDate").val() != "" && currentDate != "") {
       			         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
       			         	   	   		if (noOfDays < 0) {
       			         	   	   			alert("Start Date can't be grater than Current Date");
       			         	   	   			$("#startDate").val("");
       			         	   	   			return;
       			         	   	   		}
       			         	   	   	}
       		           				if (currentDate != "" && $("#endDate").val() != "") {
       			         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
       			         	   	   		if (noOfDays < 0) {
       			         	   	   			alert("End Date can't be grater than Current Date");
       			         	   	   			$("#endDate").val("");
       			         	   	   			return;
       			         	   	   		}
       			         	   	   	}
       		              	    		
       		              	    	if ($("#startDate").val() != "" && $("endDate").val() != "") {
       		 	     	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
       		 	     	   	   		if (noOfDays < 0) {
       		 	     	   	   			alert("Start Date can't be less than End Date");
       		 	     	   	   			return;
       		 	     	   	   			}
       		 	     	   	   		}
       		                				
       		              	    	    $.ajax({
       		              	    		url : URL,
       		              	    		data : {
	       		              	    		location:location,
	       		              	    		organization:organization,
	       		              	    		endDate:endDate,
	       		              	    		startDate:startDate,
	       		              	    		searchData:searchData,
	       		              	    		maxRecords:maxRecords,
	       		              	    		index:index,
       		              	    		},
       		             	    		beforeSend: function(xhr){                    
       		             	   				$("#loading").css("display","block");
       		             	   				$("#mainDiv").addClass("disabled");
       		             	    		},
       		             	    		success : function(result){
       		             	    			$(".active-menu").removeClass("active-menu");
       		             	    		// $(".menu-open").css("display","none");
       		             	    			activeMenu("reconciliation");
       		             	    			$('#right-side').html(result);
       		             	    			$("#loading").css("display","none");
       		             	    			$("#mainDiv").removeClass('disabled');
       		             	    		},
       		             	    		error : function(jqXHR, textStatus, errorThrown) {
       		             	    			errorCode(jqXHR.status);
       		             	    			$("#loading").css("display","none");
       		             	    			$("#mainDiv").removeClass('disabled');
       		             	    		}
       		             	    	 });
       		            				}
       		            				catch(e)
       		            				{
       		            				errorCode(e);
       		            				}
       		                       }
       		                   
       		function getPurchasesAndPayments(Searchview,label,index,file)
           	   {
           		   debugger;
        				try{
        					debugger;
        					var online = window.navigator.onLine;
        				  	if(!online){
        				  	alert("Check your internet connection,Please try agian after some time.");
        				  	return;
        				  	}
        					var maxRecords = 10;
                         	if ($("#maxRecords").length > 0)
                         		maxRecords = $("#maxRecords").val();
                         	
        				  	var	organization= $("#organization").val();
    			    		if(organization ==undefined)
    			    			organization=''; 
        				  	
        				  	var	zone= $("#outletZone").val();
    			    		if(zone ==undefined)
    			    			zone=''; 
    		    		
    		    		var	location= $("#location").val();
    		    		if(location ==undefined)
    		    			location=''; 
    		    		
    		    		var	category= $("#product_category").val();
    		    		if(category ==undefined)
    		    			category=''; 
    		    		
    		    		var	supplier= $("#searchSupplier").val();
    		    		if(supplier ==undefined)
    		    			supplier=''; 
    		    		
    		    		var	status= $("#payment_status").val();
    		    		if(status ==undefined)
    		    			status=''; 

    		    		var	startDate= $("#start_date").val();
    		    		if(startDate ==undefined)
    		    			startDate=''; 
    		    		
    		    		var	endDate= $("#end_date").val();
    		    		if(endDate ==undefined)
    		    			endDate=''; 
    		    		
    		    		var	searchCriteria= $("#searchAccount").val();
    		    		if(searchCriteria ==undefined)
    		    			searchCriteria=''; 
        				  	
    		    		if(Searchview=='back'){
    		    			organization=''; 
    		    			zone=''; 
    		    			location=''; 
    		    			category=''; 
    		    			supplier=''; 
    		    			status=''; 
    		    			startDate=''; 
    		    			endDate='';
    		    			searchCriteria='';
    		    		}
    		    		var currentDate = getSystemDate();
	           				if ($("#start_date").val() != "" && currentDate != "") {
		         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("Start Date can't be grater than Current Date");
		         	   	   			$("#start_date").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
	           				if (currentDate != "" && $("#end_date").val() != "") {
		         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
		         	   	   		if (noOfDays < 0) {
		         	   	   			alert("End Date can't be grater than Current Date");
		         	   	   			$("#end_date").val("");
		         	   	   			return;
		         	   	   		}
		         	   	   	}
    		    		if ($("#start_date").val() != "" && $("end_date").val() != "") {
		 	     	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		 	     	   	   		if (noOfDays < 0) {
		 	     	   	   			alert("Start Date can't be less than End Date");
		 	     	   	   			return;
		 	     	   	   		}
		 	     	   	   	}
            				var contextPath = $('#contextPath').val();
          	    		var URL = contextPath + "/userAccessControl/getPurchasesAndPayments.do";
          	    		
          	    	    $.ajax({
          	    		url : URL,
          	    		data : {
          	    			organization:organization,
          	    			zone:zone,
          	    			location:location,
          	    			category:category,
          	    			supplier:supplier,
          	    			status:status,
          	    			startDate:startDate,
          	    			endDate:endDate,
          	    			maxRecords:maxRecords,
          	    			index:index,
          	    			searchCriteria:searchCriteria
          	    		},
         	    		beforeSend: function(xhr){                    
         	   				$("#loading").css("display","block");
         	   				$("#mainDiv").addClass("disabled");
         	    		},
         	    		success : function(result){
         	    			if(file=="true"){
    	  						var anchor = document.createElement('a');
    							anchor.href = $("#fileDownloadurl").val();
    							anchor.target = '_blank';
    							anchor.download = '';
    							if($("#fileDownloadurl").val()!=null && $("#fileDownloadurl").val()!='')
    								anchor.click();
    	  					}
         	    			$(".active-menu").removeClass("active-menu");
         	    			activeMenu("purchasesPayments");
         	    			$(".menu-open").css("display","none");
         	    			$('#right-side').html(result);
         	    			$("#loading").css("display","none");
         	    			$("#mainDiv").removeClass('disabled');
         	    		},
         	    		error : function(jqXHR, textStatus, errorThrown) {
         	    			errorCode(jqXHR.status);
         	    			$("#loading").css("display","none");
         	    			$("#mainDiv").removeClass('disabled');
         	    		}
         	    	 });
        				}
        				catch(e)
        				{
        				errorCode(e);
        				}
                   }
       		
       		
       		
       		
       		function newPurchasesAndPayments(status,id)
        	   {
        		   debugger;
     				try{
     					debugger;
     					
     					var online = window.navigator.onLine;
     				  	if(!online){
     				  	alert("Check your internet connection,Please try agian after some time.");
     				  	return;
     				  	}
     				  	
     				 
         				var contextPath = $('#contextPath').val();
       	    		var URL = contextPath + "/userAccessControl/newPurchasesAndPayments.do";
       	    		
       	    	    $.ajax({
       	    		url : URL,
       	    		data : {
       	    			status:status,
       	    		},
      	    		beforeSend: function(xhr){                    
      	   				$("#loading").css("display","block");
      	   				$("#mainDiv").addClass("disabled");
      	    		},
      	    		success : function(result){
      	    			$(".active-menu").removeClass("active-menu");
      	    			activeMenu("purchasesPayments");
      	    			$('#right-side').html(result);
      	    			$("#loading").css("display","none");
      	    			$("#mainDiv").removeClass('disabled');
      	    		},
      	    		error : function(jqXHR, textStatus, errorThrown) {
      	    			errorCode(jqXHR.status);
      	    			$("#loading").css("display","none");
      	    			$("#mainDiv").removeClass('disabled');
      	    		}
      	    	 });
     				}
     				catch(e)
     				{
     				errorCode(e);
     				}
                }
       		function viewPurchasesAndPayments(Searchview,transactionId)
     	   {
     		   debugger;
  				try{
  					debugger;
  					
  					var online = window.navigator.onLine;
  				  	if(!online){
  				  	alert("Check your internet connection,Please try agian after some time.");
  				  	return;
  				  	}
  				  	
  				 
      				var contextPath = $('#contextPath').val();
    	    		var URL = contextPath + "/userAccessControl/viewPurchasesAndPayments.do";
    	    		
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    			transactionId:transactionId
    	    		},
   	    		beforeSend: function(xhr){                    
   	   				$("#loading").css("display","block");
   	   				$("#mainDiv").addClass("disabled");
   	    		},
   	    		success : function(result){
   	    			$(".active-menu").removeClass("active-menu");
   	    			activeMenu("purchasesPayments");
   	    			$('#right-side').html(result);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		},
   	    		error : function(jqXHR, textStatus, errorThrown) {
   	    			errorCode(jqXHR.status);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		}
   	    	 });
  				}
  				catch(e)
  				{
  				errorCode(e);
  				}
             }
       		function editPurchasesAndPayments(Searchview,transactionId)
     	   {
     		   debugger;
  				try{
  					debugger;
  					
  					var online = window.navigator.onLine;
  				  	if(!online){
  				  	alert("Check your internet connection,Please try agian after some time.");
  				  	return;
  				  	}
  				  	
  				 
      				var contextPath = $('#contextPath').val();
    	    		var URL = contextPath + "/userAccessControl/editPurchasesAndPayments.do";
    	    		
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    			transactionId:transactionId
    	    		},
   	    		beforeSend: function(xhr){                    
   	   				$("#loading").css("display","block");
   	   				$("#mainDiv").addClass("disabled");
   	    		},
   	    		success : function(result){
   	    			$(".active-menu").removeClass("active-menu");
   	    			activeMenu("purchasesPayments");
   	    			$('#right-side').html(result);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		},
   	    		error : function(jqXHR, textStatus, errorThrown) {
   	    			errorCode(jqXHR.status);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		}
   	    	 });
  				}
  				catch(e)
  				{
  				errorCode(e);
  				}
             }
       		
       		function createPurchasesAndPayments(Searchview,status)
      	   {
      		   debugger;
   				try{
   					debugger;
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				  	
	   				 if($("#searchSupplier").val().trim() == ""){
	   					$("#SupplierError").html("Enter a Supplier");
	   					 $("#searchSupplier").focus();
	   					return;
	   				 	}
	   				if($("#Invoice_ref").val().trim() == ""){
	   					$("#inviocerefError").html("Enter a Invoice Ref");
	   					 $("#Invoice_ref").focus();
	   					return;
	   				 	}
	   				if($("#start_date").val().trim() == ""){
	   					// $("#startDateError").html("Enter a Transation Date");
	   					 $("#start_date").focus();
	   					return;
	   				 	}
	   				if($("#end_date").val().trim() == ""){
	   					// $("#endDateError").html("Enter a Due Date");
	   					 $("#end_date").focus();
	   					return;
	   				 	}
	   				if($("#Invoice_Amount").val().trim() == ""){
	   					$("#invioceAmtError").html("Enter a Invoice Amount");
	   					 $("#Invoice_Amount").focus();
	   					return;
	   				 	}
	   				var invioceAmt =parseInt($("#Invoice_Amount").val());
	   				var totalCost =parseInt($("#Totalcost").text());
	   				if(totalCost=="")
	   					totalCost="0";
	   				if(invioceAmt != totalCost){
	   					$("#Error").html("Please Enter Proper Invoice Amount");
	   					 // $("#Invoice_Amount").focus();
	   					return;
	   				 	}
	   				var len = parseInt($("#productsList tr").length);
	   				if(len<=1){
	   					$("#Error").html("Add at least one Item..");
	   					return;
	   				 }
	   				
	   				// var
	   				var purchasesobj = {},purchasesItems=[];
       				var contextPath = $('#contextPath').val();
       				
       				
       				if(Searchview == 'new'){
       					purchasesobj.status=status;
       					var URL = contextPath + "/userAccessControl/createPurchasesAndPayments.do";
       				}else {
       					purchasesobj.status=$("#nextActivities").val();
       					var URL = contextPath + "/userAccessControl/updatePurchasesAndPayments.do";
       					
       				}
       					
     	    		
     	    		
     	    		purchasesobj.transactionId=$("#transactionId").val();
     	    		purchasesobj.transactionref=$("#Invoice_ref").val();
     	    		purchasesobj.location=$("#outletLocation").val();
     	    		purchasesobj.zoneId=$("#outletZone").val();
     	    		purchasesobj.transactionDateStr=$("#start_date").val();
     	    		purchasesobj.transactionDescription=$("#transactionDescription").val();
     	    		purchasesobj.supplierName=$("#searchSupplier").val();
     	    		purchasesobj.invoiceAmount=$("#Invoice_Amount").val();
     	    		purchasesobj.paymentMode=$("#paymentmode").val();
     	    		purchasesobj.paymentComments=$("#paymentcomments").val();
     	    		purchasesobj.organizationId=$("#organizationId").val();
     	    		purchasesobj.dueDateStr=$("#end_date").val();
     	    		purchasesobj.paymentReference =$("#pay_ref").val();
     	    		purchasesobj.paidAmount =$("#paid_amount").val();
     	    		purchasesobj.purchasePaymentChilds = purchasesItems;
     	    		
     	    		for(var i=1;i<len;i++){
     	    	 		var idAttr = $("#productsList tr:eq("+i+") td:last").attr("id").replace('netCost','');
     	    	 		/*
						 * if(viewoperatiob == 'new') var obj =
						 * {itemScanCode:$("#itemScanCode"+idAttr).text(),trackingRequired:$("#trackingRequired"+idAttr).val(),utility:$("#utility"+idAttr).val(),ean:$("#ean"+idAttr).val(),category:$("#category"+idAttr).val(),measurementRange:$("#measureRange"+idAttr).val(),productRange:$("#productRange"+idAttr).val(),brand:$("#brandCode"+idAttr).val(),approvedQty:$("#Pack"+idAttr).val(),prvIndentQty:$("#PrvQty"+idAttr).text(),avlQty:$("#Qoh"+idAttr).text(),pluCode:$("#pluCode"+idAttr).val(),skuId:$("#Name"+idAttr).text(),itemDesc:$("#Desc"+idAttr).text(),uom:$("#UOM"+idAttr).text(),itemPrice:$("#Price"+idAttr).text(),quantity:$("#Pack"+idAttr).val(),totalCost:$("#Cost"+idAttr).text(),color:$("#colour"+idAttr).text(),size:$("#size"+idAttr).text()};
						 * else
						 */
     	    	 			var obj = {transactionId:$("#transactionId"+idAttr).val(),skuId:$("#skuId"+idAttr).text(),productDescription:$("#description"+idAttr).text(),purchaseOrderQuantity:$("#poQty"+idAttr).text(),supplyQuantity:$("#supplyQty"+idAttr).text(),supplyPrice:$("#supplyPrice"+idAttr).text(),cost:$("#cost"+idAttr).text(),discount:$("#discount"+idAttr).text(),net_cost:$("#netCost"+idAttr).text()}; 
     	    	 		
     	    	 		purchasesItems.push(obj);
     	    	 	}
     	    		 var formData = JSON.stringify(purchasesobj);
     	    	    $.ajax({
     	    	    	type: "POST",
     	    			url : URL,
     	    			contentType: "application/json",
     	               data : formData,
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    		
    	    			activeMenu("purchasesPayments");
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}
              }
       		
       		
       		
            
       		function getSalesAndPayments(Searchview,label,index,file)
           	   {
           		   debugger;
        				try{
        					debugger;
        					
        					var online = window.navigator.onLine;
        				  	if(!online){
        				  	alert("Check your internet connection,Please try agian after some time.");
        				  	return;
        				  	}
        					var maxRecords = 10;
                         	if ($("#maxRecords").length > 0)
                         		maxRecords = $("#maxRecords").val();
                         	
        				  	var	organization= $("#organization").val();
    			    		if(organization ==undefined)
    			    			organization=''; 
        				  	
        				  	var	zone= $("#outletZone").val();
    			    		if(zone ==undefined)
    			    			zone=''; 
    		    		
    		    		var	location= $("#location").val();
    		    		if(location ==undefined)
    		    			location=''; 
    		    		
    		    		var	category= $("#product_category").val();
    		    		if(category ==undefined)
    		    			category=''; 
    		    		
    		    		var	customerId= $("#customerId").val();
    		    		if(customerId ==undefined)
    		    			customerId=''; 
    		    		
    		    		var	supplier= $("#searchSupplier").val();
    		    		if(supplier ==undefined)
    		    			supplier=''; 
    		    		
    		    		var	status= $("#payment_status").val();
    		    		if(status ==undefined)
    		    			status=''; 

    		    		var	startDate= $("#start_date").val();
    		    		if(startDate ==undefined)
    		    			startDate=''; 
    		    		
    		    		var	endDate= $("#end_date").val();
    		    		if(endDate ==undefined)
    		    			endDate=''; 
    		    		
    		    		var	searchCriteria= $("#searchAccount").val();
    		    		if(searchCriteria ==undefined)
    		    			searchCriteria=''; 
        				  	
    		    		if(Searchview=='back'){
    		    			organization=''; 
    		    			zone=''; 
    		    			location=''; 
    		    			category=''; 
    		    			supplier=''; 
    		    			status=''; 
    		    			startDate=''; 
    		    			endDate='';
    		    			searchCriteria='';
    		    			customerId=''; 
    		    		}
    		    		
    		    		var currentDate = getSystemDate();
           				if ($("#start_date").val() != "" && currentDate != "") {
	         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
	         	   	   		if (noOfDays < 0) {
	         	   	   			alert("Start Date can't be grater than Current Date");
	         	   	   			$("#start_date").val("");
	         	   	   			return;
	         	   	   		}
	         	   	   	}
           				if (currentDate != "" && $("#end_date").val() != "") {
	         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
	         	   	   		if (noOfDays < 0) {
	         	   	   			alert("End Date can't be grater than Current Date");
	         	   	   			$("#end_date").val("");
	         	   	   			return;
	         	   	   		}
	         	   	   	}
    		    		if ($("#start_date").val() != "" && $("end_date").val() != "") {
    	     	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
    	     	   	   		if (noOfDays < 0) {
    	     	   	   			alert("Start Date can't be less than End Date");
    	     	   	   			return;
    	     	   	   		}
    	     	   	   	}
            				var contextPath = $('#contextPath').val();
          	    		var URL = contextPath + "/userAccessControl/getSalesAndPayments.do";
          	    		
          	    	    $.ajax({
          	    		url : URL,
          	    		data : {
          	    			organization:organization,
          	    			zone:zone,
          	    			location:location,
          	    			category:category,
          	    			supplier:supplier,
          	    			status:status,
          	    			startDate:startDate,
          	    			endDate:endDate,
          	    			maxRecords:maxRecords,
          	    			index:index,
          	    			searchCriteria:searchCriteria,
          	    			customerID:customerId
          	    		},
         	    		beforeSend: function(xhr){                    
         	   				$("#loading").css("display","block");
         	   				$("#mainDiv").addClass("disabled");
         	    		},
         	    		success : function(result){
         	    		
         	    			if(file=="true"){
    	  						var anchor = document.createElement('a');
    							anchor.href = $("#fileDownloadurl").val();
    							anchor.target = '_blank';
    							anchor.download = '';
    							if($("#fileDownloadurl").val()!=null && $("#fileDownloadurl").val()!='')
    								anchor.click();
    	  					}
         	    			
         	    			$(".active-menu").removeClass("active-menu");
        	    			activeMenu("salesandpayments");
         	    			$('#right-side').html(result);
         	    			$("#loading").css("display","none");
         	    			$("#mainDiv").removeClass('disabled');
         	    		},
         	    		error : function(jqXHR, textStatus, errorThrown) {
         	    			errorCode(jqXHR.status);
         	    			$("#loading").css("display","none");
         	    			$("#mainDiv").removeClass('disabled');
         	    		}
         	    	 });
        				}
        				catch(e)
        				{
        				errorCode(e);
        				}
                   }
       		
       		function newSalesAndPayments(status,id)
        	   {
        		   debugger;
     				try{
     					debugger;
     					
     					var online = window.navigator.onLine;
     				  	if(!online){
     				  	alert("Check your internet connection,Please try agian after some time.");
     				  	return;
     				  	}
     				  	
     				 
         				var contextPath = $('#contextPath').val();
       	    		var URL = contextPath + "/userAccessControl/newSalesAndPayments.do";
       	    		
       	    	    $.ajax({
       	    		url : URL,
       	    		data : {
       	    			status:status,
       	    		},
      	    		beforeSend: function(xhr){                    
      	   				$("#loading").css("display","block");
      	   				$("#mainDiv").addClass("disabled");
      	    		},
      	    		success : function(result){
      	    			$(".active-menu").removeClass("active-menu");
      	    			activeMenu("salesandpayments");
      	    			$('#right-side').html(result);
      	    			$("#loading").css("display","none");
      	    			$("#mainDiv").removeClass('disabled');
      	    		},
      	    		error : function(jqXHR, textStatus, errorThrown) {
      	    			errorCode(jqXHR.status);
      	    			$("#loading").css("display","none");
      	    			$("#mainDiv").removeClass('disabled');
      	    		}
      	    	 });
     				}
     				catch(e)
     				{
     				errorCode(e);
     				}
                }
       		function viewSalesAndPayments(Searchview,transactionId)
     	   {
     		   debugger;
  				try{
  					debugger;
  					
  					var online = window.navigator.onLine;
  				  	if(!online){
  				  	alert("Check your internet connection,Please try agian after some time.");
  				  	return;
  				  	}
  				  	
  				 
      				var contextPath = $('#contextPath').val();
    	    		var URL = contextPath + "/userAccessControl/viewSalesAndPayments.do";
    	    		
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    			transactionId:transactionId
    	    		},
   	    		beforeSend: function(xhr){                    
   	   				$("#loading").css("display","block");
   	   				$("#mainDiv").addClass("disabled");
   	    		},
   	    		success : function(result){
   	    			$(".active-menu").removeClass("active-menu");
   	    			activeMenu("salesandpayments");
   	    			$('#right-side').html(result);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		},
   	    		error : function(jqXHR, textStatus, errorThrown) {
   	    			errorCode(jqXHR.status);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		}
   	    	 });
  				}
  				catch(e)
  				{
  				errorCode(e);
  				}
             }
       		function editSalesAndPayments(Searchview,transactionId)
     	   {
     		   debugger;
  				try{
  					debugger;
  					
  					var online = window.navigator.onLine;
  				  	if(!online){
  				  	alert("Check your internet connection,Please try agian after some time.");
  				  	return;
  				  	}
  				  	
  				 
      				var contextPath = $('#contextPath').val();
    	    		var URL = contextPath + "/userAccessControl/editSalesAndPayments.do";
    	    		
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    			transactionId:transactionId
    	    		},
   	    		beforeSend: function(xhr){                    
   	   				$("#loading").css("display","block");
   	   				$("#mainDiv").addClass("disabled");
   	    		},
   	    		success : function(result){
   	    			$(".active-menu").removeClass("active-menu");
   	    			activeMenu("salesandpayments");
   	    			$('#right-side').html(result);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		},
   	    		error : function(jqXHR, textStatus, errorThrown) {
   	    			errorCode(jqXHR.status);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		}
   	    	 });
  				}
  				catch(e)
  				{
  				errorCode(e);
  				}
             }
       		
       		function createSalesAndPayments(Searchview,status)
      	   {
      		   debugger;
   				try{
   					debugger;
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				  	
	   				/*
					 * if($("#searchSupplier").val().trim() == ""){
					 * $("#SupplierError").html("Enter a Supplier");
					 * $("#searchSupplier").focus(); return; }
					 */
	   				if($("#Invoice_ref").val().trim() == ""){
	   					$("#inviocerefError").html("Enter a Invoice Ref");
	   					 $("#Invoice_ref").focus();
	   					return;
	   				 	}
	   				if($("#start_date").val().trim() == ""){
	   					// $("#startDateError").html("Enter a Transation Date");
	   					 $("#start_date").focus();
	   					return;
	   				 	}
	   				if($("#end_date").val().trim() == ""){
	   					// $("#endDateError").html("Enter a Due Date");
	   					 $("#end_date").focus();
	   					return;
	   				 	}
	   				if($("#Invoice_Amount").val().trim() == ""){
	   					$("#invioceAmtError").html("Enter a Invoice Amount");
	   					 $("#Invoice_Amount").focus();
	   					return;
	   				 	}
	   				var invioceAmt =parseInt($("#Invoice_Amount").val());
	   				var totalCost =parseInt($("#Totalcost").text());
	   				if(totalCost=="")
	   					totalCost="0";
	   				if(invioceAmt != totalCost){
	   					$("#Error").html("Please Enter Proper Invoice Amount");
	   					 // $("#Invoice_Amount").focus();
	   					return;
	   				 	}
	   				var len = parseInt($("#productsList tr").length);
	   				if(len<=1){
	   					$("#Error").html("Add at least one Item..");
	   					return;
	   				 }
	   				
	   				var bankaccount = $("#accountName").val();
	   				if(bankaccount==undefined){
	   					bankaccount="";
	   				}
	   				// var
	   				var purchasesobj = {},purchasesItems=[];
       				var contextPath = $('#contextPath').val();
       				
       				
       				if(Searchview == 'new'){
       					purchasesobj.status=status;
       					var URL = contextPath + "/userAccessControl/createSalesAndPayments.do";
       				}else {
       					purchasesobj.status=$("#nextActivities").val();
       					var URL = contextPath + "/userAccessControl/updateSalesAndPayments.do";
       					
       				}
       					
     	    		
     	    		
     	    		purchasesobj.transactionId=$("#transactionId").val();
     	    		purchasesobj.transactionref=$("#Invoice_ref").val();
     	    		purchasesobj.location=$("#outletLocation").val();
     	    		purchasesobj.zoneId=$("#outletZone").val();
     	    		purchasesobj.transactionDateStr=$("#start_date").val();
     	    		purchasesobj.transactionDescription=$("#transactionDescription").val();
     	    		purchasesobj.customerId=$("#customerId").val();
     	    		purchasesobj.customerName=$("#customerId").val();
     	    		purchasesobj.invoiceAmount=$("#Invoice_Amount").val();
     	    		purchasesobj.paymentMode=$("#paymentmode").val();
     	    		purchasesobj.paymentComments=$("#paymentcomments").val();
     	    		purchasesobj.organizationId=$("#organizationId").val();
     	    		purchasesobj.dueDateStr=$("#end_date").val();
     	    		purchasesobj.paymentReference =$("#pay_ref").val();
     	    		purchasesobj.paidAmount =$("#paid_amount").val();
     	    		purchasesobj.bankAccount =bankaccount;
     	    		purchasesobj.salesAndPaymentDetails = purchasesItems;
     	    		
     	    		for(var i=1;i<len;i++){
     	    	 		var idAttr = $("#productsList tr:eq("+i+") td:last").attr("id").replace('netCost','');
     	    	 		/*
						 * if(viewoperatiob == 'new') var obj =
						 * {itemScanCode:$("#itemScanCode"+idAttr).text(),trackingRequired:$("#trackingRequired"+idAttr).val(),utility:$("#utility"+idAttr).val(),ean:$("#ean"+idAttr).val(),category:$("#category"+idAttr).val(),measurementRange:$("#measureRange"+idAttr).val(),productRange:$("#productRange"+idAttr).val(),brand:$("#brandCode"+idAttr).val(),approvedQty:$("#Pack"+idAttr).val(),prvIndentQty:$("#PrvQty"+idAttr).text(),avlQty:$("#Qoh"+idAttr).text(),pluCode:$("#pluCode"+idAttr).val(),skuId:$("#Name"+idAttr).text(),itemDesc:$("#Desc"+idAttr).text(),uom:$("#UOM"+idAttr).text(),itemPrice:$("#Price"+idAttr).text(),quantity:$("#Pack"+idAttr).val(),totalCost:$("#Cost"+idAttr).text(),color:$("#colour"+idAttr).text(),size:$("#size"+idAttr).text()};
						 * else
						 */
     	    	 			var obj = {transactionId:$("#transactionId"+idAttr).val(),skuId:$("#skuId"+idAttr).text(),
     	    	 					productDescription:$("#description"+idAttr).text(),saleQuantity:$("#supplyQty"+idAttr).text(),
     	    	 					salePrice:$("#supplyPrice"+idAttr).text(),cost:$("#cost"+idAttr).text(),discount:$("#discount"+idAttr).text(),
     	    	 					net_cost:$("#netCost"+idAttr).text(),transactionId:$("#transactionId"+idAttr).val(),cgstRate:$("#cgstRate"+idAttr).val(),
     	    	 					cgstValue:$("#cgstValue"+idAttr).val(),sgstRate:$("#sgstRate"+idAttr).val(),sgstValue:$("#sgstValue"+idAttr).val(),
     	    	 					igstRate:$("#igstRate"+idAttr).val(),igstValue:$("#igstValue"+idAttr).val(),totalTaxAmt:$("#totalTaxAmt"+idAttr).val(),
     	    	 					hsnCode:$("#hsnCode"+idAttr).val(),uom:$("#uom"+idAttr).val(),ean:$("#ean"+idAttr).val(),mrp:$("#mrp"+idAttr).val(),}; 
     	    	 		
     	    	 		purchasesItems.push(obj);
     	    	 	}
     	    		 var formData = JSON.stringify(purchasesobj);
     	    	    $.ajax({
     	    	    	type: "POST",
     	    			url : URL,
     	    			contentType: "application/json",
     	               data : formData,
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			activeMenu("salesandpayments");
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}
              }
       		
       		
       	 // added by Sneha
       	 function accountingDebitNoteSummary(SearachView,label,index)
     	   {
     		   debugger;
  				try{
  					debugger;
  					var maxRecords=10;
  					var online = window.navigator.onLine;
  				  	if(!online){
  				  	alert("Check your internet connection,Please try agian after some time.");
  				  	return;
  				  	}
  				  	
  				  	var	zone= $("#outletZone").val();
		    		if(zone ==undefined)
		    			zone=''; 
		    		var	location= $("#location").val();
		    		if(location ==undefined)
		    			location=''; 
		    		var	startDate= $("#startDate").val();
		    		if(startDate ==undefined)
		    			startDate=''; 
		    		var	endDate= $("#endDate").val();
		    		if(endDate ==undefined)
		    			endDate=''; 
		    		var	searchCreteria= $("#searchAccount").val();
		    		if(searchCreteria ==undefined)
		    			searchCreteria=''; 
		    		
		    		if(SearachView=="clear"){
		    			zone="";
		    			location="";
		    			startDate="";
		    			endDate="";
		    			searchCreteria="";
		    		}
		    		var currentDate = getSystemDate();
       				if ($("#startDate").val() != "" && currentDate != "") {
         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
         	   	   		if (noOfDays < 0) {
         	   	   			alert("Start Date can't be grater than Current Date");
         	   	   			$("#startDate").val("");
         	   	   			return;
         	   	   		}
         	   	   	}
       				if (currentDate != "" && $("#endDate").val() != "") {
         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
         	   	   		if (noOfDays < 0) {
         	   	   			alert("End Date can't be grater than Current Date");
         	   	   			$("#endDate").val("");
         	   	   			return;
         	   	   		}
         	   	   	}
		    		if ($("#startDate").val() != "" && $("endDate").val() != "") {
	     	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	     	   	   		if (noOfDays < 0) {
	     	   	   			alert("Start Date can't be less than End Date");
	     	   	   			return;
	     	   	   		}
	     	   	   	}
      				var contextPath = $('#contextPath').val();
    	    		var URL = contextPath + "/userAccessControl/showDebitNoteSummary.do";
    	    		
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    			zone:zone,
    	    			location:location,
    	    			startDate:startDate,
    	    			endDate:endDate,
    	    			searchCreteria:searchCreteria,
    	    			maxRecords:maxRecords,
    	    	    	index:index
    	    		},
   	    		beforeSend: function(xhr){                    
   	   				$("#loading").css("display","block");
   	   				$("#mainDiv").addClass("disabled");
   	    		},
   	    		success : function(result){
   	    			$(".active-menu").removeClass("active-menu");
   	    		// $(".menu-open").css("display","none");
   	    			if(label != undefined && label != "")
						activeMenu(label);
   	    			$('#right-side').html(result);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		},
   	    		error : function(jqXHR, textStatus, errorThrown) {
   	    			errorCode(jqXHR.status);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		}
   	    	 });
  				}
  				catch(e)
  				{
  				errorCode(e);
  				}
             }
   	   // added By Sneha
      	  function accountingDebitNote(Searchview,id,refNum)
      	   {
      		   debugger;
   				try{
   					debugger;
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				  	
   				 
       				var contextPath = $('#contextPath').val();
       				if(Searchview=="view"){
       					var URL = contextPath + "/userAccessControl/viewDebitNote.do";
       				}else{
       					var URL = contextPath + "/userAccessControl/showDebitNote.do";
       				}
     	    	
     	    		
     	    	    $.ajax({
     	    		url : URL,
     	    		data : {
     	    			refNum:refNum,
     	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    		// $(".menu-open").css("display","none");
    	    			if(id != undefined && id != "")
    						activeMenu(id);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}
              }
      	  // Added by Surya.k on 16/05/2019
   		function createDebitNote(Searchview,status)
  	   {
  		   debugger;
				try{
					debugger;
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				  	
   				 if($("#po_date").val().trim() == ""){
   					 $("#po_date").focus();
   					return;
   				 	}
   				if($("#invoice_date").val().trim() == ""){
   					 $("#invoice_date").focus();
   					return;
   				 	}
   				if($("#return_date").val().trim() == ""){
   					 $("#return_date").focus();
   					return;
   				 	}
   				if($("#Tax_invoice_number").val().trim() == ""){
   					$("#Error").html("Enter a Tax Invoice Number");
   					 $("#Tax_invoice_number").focus();
   					return;
   				 	}
   				if($("#debit_note_grn_number").val().trim() == ""){
   					$("#Error").html("Enter a GRN No");
   					 $("#debit_note_grn_number").focus();
   					return;
   				 	}
   				if($("#debit_note_po_no").val().trim() == ""){
   					$("#Error").html("Enter a PO No");
   					 $("#debit_note_po_no").focus();
   					return;
   				 	}
   				if($("#debit_note_gst_reg_no").val().trim() == ""){
   					$("#Error").html("Enter a GST Reg No");
   					 $("#debit_note_gst_reg_no").focus();
   					return;
   				 	}
   				
   				var len = parseInt($("#productsList tr").length);
   				if(len<=1){
   					$("#Error").html("Add at least one Item..");
   					return;
   				 }
   				
   				var debitNoteobj = {},debitNoteItems=[];
   				var contextPath = $('#contextPath').val();
   				
   				
   				if(Searchview == 'new'){
   					var URL = contextPath + "/userAccessControl/createDebitNote.do";
   				}else {
   					var URL = contextPath + "/userAccessControl/updatePurchasesAndPayments.do";
   					
   				}
   					
 	    		
 	    		
   				
   				debitNoteobj.location=$("#outletLocation").val();
   				debitNoteobj.purchaseOrderDateStr=$("#po_date").val();
   				debitNoteobj.invoiceDateStr=$("#invoice_date").val();
   				debitNoteobj.returnDateStr=$("#return_date").val();
   				debitNoteobj.taxInvoiceNo=$("#Tax_invoice_number").val();
   				debitNoteobj.grnNo=$("#debit_note_grn_number").val();
 	    		debitNoteobj.purchaseOrderNo=$("#debit_note_po_no").val();
 	    		debitNoteobj.gstRegistrationNo=$("#debit_note_gst_reg_no").val();
 	    		debitNoteobj.debitNoteValue=$("#grandTotal").text();
 	    		debitNoteobj.transactionDescription = $("#comments").val();
 	    		debitNoteobj.debitNoteItems = debitNoteItems;
 	    		
 	    		for(var i=1;i<len;i++){
 	    	 		var idAttr = $("#productsList tr:eq("+i+") td:last").attr("id").replace('resonForReturn','');
 	    	 		/*
					 * if(viewoperatiob == 'new') var obj =
					 * {itemScanCode:$("#itemScanCode"+idAttr).text(),trackingRequired:$("#trackingRequired"+idAttr).val(),utility:$("#utility"+idAttr).val(),ean:$("#ean"+idAttr).val(),category:$("#category"+idAttr).val(),measurementRange:$("#measureRange"+idAttr).val(),productRange:$("#productRange"+idAttr).val(),brand:$("#brandCode"+idAttr).val(),approvedQty:$("#Pack"+idAttr).val(),prvIndentQty:$("#PrvQty"+idAttr).text(),avlQty:$("#Qoh"+idAttr).text(),pluCode:$("#pluCode"+idAttr).val(),skuId:$("#Name"+idAttr).text(),itemDesc:$("#Desc"+idAttr).text(),uom:$("#UOM"+idAttr).text(),itemPrice:$("#Price"+idAttr).text(),quantity:$("#Pack"+idAttr).val(),totalCost:$("#Cost"+idAttr).text(),color:$("#colour"+idAttr).text(),size:$("#size"+idAttr).text()};
					 * else
					 */
 	    	 			var obj = {skuId:$("#skuId"+idAttr).text(),description:$("#description"+idAttr).text(),quantity:$("#Qty"+idAttr).text(),costPrice:$("#costPrice"+idAttr).text(),taxRate:$("#tax"+idAttr).text(),cost:$("#cost"+idAttr).text(),reasonForReturn:$("#resonForReturn"+idAttr).text()}; 
 	    	 		
 	    	 			debitNoteItems.push(obj);
 	    	 	}
 	    		 var formData = JSON.stringify(debitNoteobj);
 	    	    $.ajax({
 	    	    	type: "POST",
 	    			url : URL,
 	    			contentType: "application/json",
 	               data : formData,
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			$(".active-menu").removeClass("active-menu");
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
				}
				catch(e)
				{
				errorCode(e);
				}
          }
   	  
   		
   		
   		
      	 // added by Sneha
      	 function creditNoteSummary(SearachView,label,index)
    	   {
    		   debugger;
 				try{
 					debugger;
 					var maxRecords=10;
 					var online = window.navigator.onLine;
 				  	if(!online){
 				  	alert("Check your internet connection,Please try agian after some time.");
 				  	return;
 				  	}
 				  	
 				  	var	zone= $("#outletZone").val();
		    		if(zone ==undefined)
		    			zone=''; 
		    		var	location= $("#location").val();
		    		if(location ==undefined)
		    			location=''; 
		    		var	startDate= $("#startDate").val();
		    		if(startDate ==undefined)
		    			startDate=''; 
		    		var	endDate= $("#endDate").val();
		    		if(endDate ==undefined)
		    			endDate=''; 
		    		var	searchCreteria= $("#searchAccount").val();
		    		if(searchCreteria ==undefined)
		    			searchCreteria=''; 
		    		
		    		if(SearachView=="clear"){
		    			zone="";
		    			location="";
		    			startDate="";
		    			endDate="";
		    			searchCreteria="";
		    		}
		    		var currentDate = getSystemDate();
       				if ($("#startDate").val() != "" && currentDate != "") {
         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
         	   	   		if (noOfDays < 0) {
         	   	   			alert("Start Date can't be grater than Current Date");
         	   	   			$("#startDate").val("");
         	   	   			return;
         	   	   		}
         	   	   	}
       				if (currentDate != "" && $("#endDate").val() != "") {
         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
         	   	   		if (noOfDays < 0) {
         	   	   			alert("End Date can't be grater than Current Date");
         	   	   			$("#endDate").val("");
         	   	   			return;
         	   	   		}
         	   	   	}
		    		if ($("#startDate").val() != "" && $("endDate").val() != "") {
	     	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	     	   	   		if (noOfDays < 0) {
	     	   	   			alert("Start Date can't be less than End Date");
	     	   	   			return;
	     	   	   		}
	     	   	   	}
     				var contextPath = $('#contextPath').val();
   	    		var URL = contextPath + "/userAccessControl/showCreditNoteSummary.do";
   	    		
   	    	    $.ajax({
   	    		url : URL,
   	    		data : {
   	    			zone:zone,
   	    			location:location,
   	    			startDate:startDate,
   	    			endDate:endDate,
   	    			searchCreteria:searchCreteria,
   	    			maxRecords:maxRecords,
   	    	    	index:index
   	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$(".active-menu").removeClass("active-menu");
  	    		// $(".menu-open").css("display","none");
  	    			if(label != undefined && label != "")
						activeMenu(label);
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
 				}
 				catch(e)
 				{
 				errorCode(e);
 				}
            }
  	   // added By Sneha
     	  function showCreditNote(Searchview,id,refNum)
     	   {
     		   debugger;
  				try{
  					debugger;
  					
  					var online = window.navigator.onLine;
  				  	if(!online){
  				  	alert("Check your internet connection,Please try agian after some time.");
  				  	return;
  				  	}
  				  	
  				 
      				var contextPath = $('#contextPath').val();
      				if(Searchview=="view"){
      					var URL = contextPath + "/userAccessControl/viewCreditNote.do";
      				}else{
      					var URL = contextPath + "/userAccessControl/showCreditNote.do";
      				}
    	    		
    	    		
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    			refNum:refNum,
    	    		},
   	    		beforeSend: function(xhr){                    
   	   				$("#loading").css("display","block");
   	   				$("#mainDiv").addClass("disabled");
   	    		},
   	    		success : function(result){
   	    			$(".active-menu").removeClass("active-menu");
   	    			if(id != undefined && id != "")
						activeMenu(id);
   	    		// $(".menu-open").css("display","none");
   	    			$('#right-side').html(result);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		},
   	    		error : function(jqXHR, textStatus, errorThrown) {
   	    			errorCode(jqXHR.status);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		}
   	    	 });
  				}
  				catch(e)
  				{
  				errorCode(e);
  				}
             }
     	  // Added by Surya.k on 16/05/2019
  		function createCreditNote(Searchview,status)
 	   {
 		   debugger;
				try{
					debugger;
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				  	
  				 if($("#po_date").val().trim() == ""){
  					 $("#po_date").focus();
  					return;
  				 	}
  				if($("#invoice_date").val().trim() == ""){
  					 $("#invoice_date").focus();
  					return;
  				 	}
  				if($("#return_date").val().trim() == ""){
  					 $("#return_date").focus();
  					return;
  				 	}
  				if($("#Tax_invoice_number").val().trim() == ""){
  					$("#Error").html("Enter a Tax Invoice Number");
  					 $("#Tax_invoice_number").focus();
  					return;
  				 	}
  				if($("#debit_note_sales_number").val().trim() == ""){
  					$("#Error").html("Enter a Sales No");
  					 $("#debit_note_sales_number").focus();
  					return;
  				 	}
  				if($("#debit_note_po_no").val().trim() == ""){
  					$("#Error").html("Enter a PO No");
  					 $("#debit_note_po_no").focus();
  					return;
  				 	}
  				if($("#debit_note_gst_reg_no").val().trim() == ""){
  					$("#Error").html("Enter a GST Reg No");
  					 $("#debit_note_gst_reg_no").focus();
  					return;
  				 	}
  				
  				var len = parseInt($("#productsList tr").length);
  				if(len<=1){
  					$("#Error").html("Add at least one Item..");
  					return;
  				 }
  				
  				var debitNoteobj = {},debitNoteItems=[];
  				var contextPath = $('#contextPath').val();
  				
  				
  				if(Searchview == 'new'){
  					var URL = contextPath + "/userAccessControl/createCreditNote.do";
  				}
  					
	    		
	    		
  				
  				debitNoteobj.location=$("#outletLocation").val();
  				debitNoteobj.salesOrderDateStr=$("#po_date").val();
  				debitNoteobj.billDateStr=$("#invoice_date").val();
  				debitNoteobj.returnDateStr=$("#return_date").val();
  				debitNoteobj.taxInvoiceNo=$("#Tax_invoice_number").val();
  				debitNoteobj.billNo=$("#debit_note_sales_number").val();
	    		debitNoteobj.salesOrderNo=$("#debit_note_po_no").val();
	    		debitNoteobj.gstRegistrationNo=$("#debit_note_gst_reg_no").val();
	    		debitNoteobj.creditNoteValue=$("#grandTotal").text();
	    		debitNoteobj.transactionDescription = $("#comments").val();
	    		debitNoteobj.creditNoteItems = debitNoteItems;
	    		
	    		for(var i=1;i<len;i++){
	    	 		var idAttr = $("#productsList tr:eq("+i+") td:last").attr("id").replace('resonForReturn','');
	    	 		/*
					 * if(viewoperatiob == 'new') var obj =
					 * {itemScanCode:$("#itemScanCode"+idAttr).text(),trackingRequired:$("#trackingRequired"+idAttr).val(),utility:$("#utility"+idAttr).val(),ean:$("#ean"+idAttr).val(),category:$("#category"+idAttr).val(),measurementRange:$("#measureRange"+idAttr).val(),productRange:$("#productRange"+idAttr).val(),brand:$("#brandCode"+idAttr).val(),approvedQty:$("#Pack"+idAttr).val(),prvIndentQty:$("#PrvQty"+idAttr).text(),avlQty:$("#Qoh"+idAttr).text(),pluCode:$("#pluCode"+idAttr).val(),skuId:$("#Name"+idAttr).text(),itemDesc:$("#Desc"+idAttr).text(),uom:$("#UOM"+idAttr).text(),itemPrice:$("#Price"+idAttr).text(),quantity:$("#Pack"+idAttr).val(),totalCost:$("#Cost"+idAttr).text(),color:$("#colour"+idAttr).text(),size:$("#size"+idAttr).text()};
					 * else
					 */
	    	 			var obj = {skuId:$("#skuId"+idAttr).text(),description:$("#description"+idAttr).text(),quantity:$("#Qty"+idAttr).text(),salePrice:$("#costPrice"+idAttr).text(),taxRate:$("#tax"+idAttr).text(),cost:$("#cost"+idAttr).text(),reasonForReturn:$("#resonForReturn"+idAttr).text()}; 
	    	 		
	    	 			debitNoteItems.push(obj);
	    	 	}
	    		 var formData = JSON.stringify(debitNoteobj);
	    	    $.ajax({
	    	    	type: "POST",
	    			url : URL,
	    			contentType: "application/json",
	               data : formData,
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			$(".active-menu").removeClass("active-menu");
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
				}
				catch(e)
				{
				errorCode(e);
				}
         }
  	  
   		
   		
   		function showOrderReportsFlow(){
			try{
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

		  var contextPath = $('#contextPath').val();
		  var URL = contextPath + "/userAccessControl/showOrderReportsFlow.do";
    	    $.ajax({
    		url : URL,
    		data : {
    		},
    		beforeSend: function(xhr){                    
   				$("#loading").css("display","block");
   				$("#mainDiv").addClass("disabled");
    		},
    		success : function(result){
    			$(".active-menu").removeClass("active-menu");
    			openMenu("outletOrdersReport", "ulOrdersReportDetails",0);
    			//openMenu("reports", "ulReports",1);
    			//openMenu("outletReports", "ulOutletReports",1);
	    	    openMenu("liOrderManagementLi","ulOrderManagementUl",1);
    			$('#right-side').html(result);
    			$("#loading").css("display","none");
    			$("#mainDiv").removeClass('disabled');
    		},
    		error : function(jqXHR, textStatus, errorThrown) {
    			errorCode(jqXHR.status);
    			$("#loading").css("display","none");
    			$("#mainDiv").removeClass('disabled');
    		}
    	 });
			}
			catch(e)
			{
			errorCode(e);
			}

	   }		
	
   		
   		function showB2BSaleOrdersFlow(){
			try{
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

		  var contextPath = $('#contextPath').val();
		  var URL = contextPath + "/userAccessControl/showB2BSaleOrdersFlow.do";
    	    $.ajax({
    		url : URL,
    		data : {
    		},
    		beforeSend: function(xhr){                    
   				$("#loading").css("display","block");
   				$("#mainDiv").addClass("disabled");
    		},
    		success : function(result){
    			$(".active-menu").removeClass("active-menu");
    			openMenu("outletOrdersReport", "ulOrdersReportDetails",0);
    			//openMenu("reports", "ulReports",1);
    			//openMenu("outletReports", "ulOutletReports",1);
	    	    openMenu("liOrderManagementLi","ulOrderManagementUl",1);
    			$('#right-side').html(result);
    			$("#loading").css("display","none");
    			$("#mainDiv").removeClass('disabled');
    		},
    		error : function(jqXHR, textStatus, errorThrown) {
    			errorCode(jqXHR.status);
    			$("#loading").css("display","none");
    			$("#mainDiv").removeClass('disabled');
    		}
    	 });
			}
			catch(e)
			{
			errorCode(e);
			}

	   }		
	
   	 function viewPendingCartsReports(index,searchname,id){
 	 	debugger;
 	 	var online = window.navigator.onLine;
 	   	if(!online)
 	   	{
 	   	alert("check your internet connection,please try agian after some time");
 	   	return;
 	   	}
 	var maxRecords = 10;
        if ($("#maxRecords").length > 0)
   		maxRecords = $("#maxRecords").val();
 		
   	var searchItems = $("#searchCart").val();
   	if(searchItems ==undefined)
   		searchItems=''; 
   	
 		var	startDate= $("#startDate").val();
 		if(startDate ==undefined)
 			startDate=''; 
 		
 		var	endDate= $("#endDate").val();
 		if(endDate ==undefined)
 			endDate=''; 

 		 var noOfDays = daydiff(parseDate($('#startDate').val()), parseDate($('#endDate').val()));
 		 if(noOfDays < 0){
 			 alert("End Date can't be less than Start Date");
 			 return;
 		 }
 		
 		var	Status= $("#OrderStatus").val();
 		if(Status ==undefined)
 			Status=''; 
 		
 		  if (searchname == "save")
   			var saveFlag = true;
   		else
   			var saveFlag =false;
 		  
 		  
 		  if(searchname=="Clear")
 			  {
 			   startDate=''; 
 			   endDate='';
 			  }
 		  
 	 		var contextPath = $('#contextPath').val();
 	 		
 	 		var URL = contextPath + "/reports/getpendingCartReport.do";
 	 		
 	 		$.ajax({
 	 			url : URL,
 	 			data : {
 	 			index:index,
 	 			maxRecords:maxRecords,
 	 			startDate:startDate,
 	 			endDate:endDate,
 	 			saveFlag:saveFlag,
 	 			status:Status,
 	 			searchItems : searchItems
 	 				
 	 		},
 	 		beforeSend: function(xhr){                    
 	 				$("#loading").css("display","block");
 	 				$("#mainDiv").addClass("disabled");
 	 	        },

 	 		success : function(result){
 	 			activeMenu(id);
 	 			openMenu("outletOrdersReport", "ulOrdersReportDetails",1);
 	 		  if (searchname == "save"){
 	 			 var anchor = document.createElement('a');
 	 			  anchor.href = $("#stockdownloadurl").val();
 	 			  anchor.target = '_blank';
 	 			  anchor.download = '';
 	 			if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
 	 			  anchor.click();
 	 		  }
 	 			
 	 			$('#right-side').html(result);
 	 			$("#loading").css("display","none");
 	 			$("#mainDiv").removeClass('disabled');
 	 		},
 	 		error : function(){
 	 			alert("Internal error, please contact Technolabs support. ");
 	 			$("#loading").css("display","none");
 	 			   $("#mainDiv").removeClass('disabled');
 	 		}
 	 	 });
 	 	} 
 	 
   	 
   	 function viewCartDetails(cartID,searchView){
   		 
   		 debugger
  	    	var online = window.navigator.onLine;
  	      	if(!online){
  	      	alert("Check your internet connection,Please try agian after some time.");
  	      	return;
  	      	}
  	      var contextPath = $("#contextPath").val();
  	      URL = contextPath + "/reports/getCartDetails.do";
  	      var cartId=cartID;
  	      
  	    $.ajax({
	 			url : URL,
	 			data : {
	 			cartId:cartId,				 				
	 		},
	 		beforeSend: function(xhr){                    
	 				$("#loading").css("display","block");
	 				$("#mainDiv").addClass("disabled");
	 	        },

	 		success : function(result){
	 			activeMenu("pendingCartReport");
	 			openMenu("outletOrdersReport", "ulOrdersReportDetails",1);
	 			$('#right-side').html(result);
	 			$("#loading").css("display","none");
	 			$("#mainDiv").removeClass('disabled');
	 		},
	 		error : function(){
	 			alert("Internal error, please contact Technolabs support. ");
	 			$("#loading").css("display","none");
	 			   $("#mainDiv").removeClass('disabled');
	 		}
	 	 });
  	      
   	 }
   	 
   	 
   	 function viewOrderToBillReports(index,searchname,id) {
      	  try{
      	   debugger
      	  // purpose:for checking internet conection
   	    	var online = window.navigator.onLine;
   	      	if(!online){
   	      	alert("Check your internet connection,Please try agian after some time.");
   	      	return;
   	      	}
   	      	
        	var maxRecords = 10;
        	var billRef ="";
        	var zone = $("#outletZone").val();
        	var location= $("#outletLocation").val();
        	var counterId= $("#counterId").val();
        	var salesChannel= $("#salesChannel").val();
        	var startDate= $("#startDate").val();
        	var endDate= $("#endDate").val();
        	var searchCriteria= $("#searchBills").val();;
        	
        	

        	var contextPath = $("#contextPath").val();
        	URL = contextPath + "/reports/getOrderToBillReport.do";
        
        	if(zone == undefined ){
        		zone="";
        	}
        	
        	if(searchCriteria == undefined ){
        		searchCriteria="";
        	}
        	
        	if(location == undefined){
        		location="";
        	}

        	if(counterId == undefined){
        		counterId="";
        	}
        	if(salesChannel == undefined){
        		salesChannel="";
        	}
        	if(startDate == undefined){
        		startDate="";
        	}
        	if(endDate == undefined){
        		endDate="";
        	}
        	
        	 var noOfDays = daydiff(parseDate($('#startDate').val()), parseDate($('#endDate').val()));
        	 if(noOfDays < 0){
        		 alert("End Date can't be less than Start Date");
        		 return;
        	 }
        	
        	
        	if(searchname=="clear"){
        		zone="";
        		location="";
        		counterId="";
        		salesChannel="";
        		startDate="";
        		endDate="";
        	}
        	
        	$.ajax({
        		type : "GET",
        		url : URL,
        		data : {
        			location : location,
        			zone : zone,
        			index : index,
        			maxRecords : maxRecords,
        			counterId : counterId,
        			salesChannel : salesChannel,
        			startDate : startDate,
        			endDate : endDate,
        			searchCriteria : searchCriteria,
        			
        		},
        		beforeSend : function(xhr) {
        			$("#loading").css("display", "block");
        			$("#mainDiv").addClass("disabled");
        		},
        		success : function(result) {
        			$("#loading").css("display", "none");
        			$("#mainDiv").removeClass('disabled');
        			$("#right-side").html(result);
        			activeMenu(id);
   	 				openMenu("outletOrdersReport", "ulOrdersReportDetails",1);
   	 			if (searchname == "save"){
    	 			 var anchor = document.createElement('a');
    	 			  anchor.href = $("#stockdownloadurl").val();
    	 			  anchor.target = '_blank';
    	 			  anchor.download = '';
    	 			if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
    	 			  anchor.click();
    	 		  }
        			
        		},
        		error : function(jqXHR, textStatus, errorThrown)  {
        			errorCode(jqXHR.status);
        			$("#loading").css("display", "none");
        			$("#mainDiv").removeClass('disabled');
        		}
        	});
      	  }
      	  catch(e)
      	 	{
      	    	 errorCode(e);
      	 	}
        } 
        
   	
       
	  
 	 function viewOutputGst(flowUnder, index,saveFlag) {
 		try{
 			var online = window.navigator.onLine;
 				if(!online){
 					alert("Check your internet connection,Please try agian after some time.");
 					return;
 			     }
  		
  		
  		var maxRecords = 10;
  		if ($("#maxRecords").length > 0)
  			maxRecords = $("#maxRecords").val();

  		var section = "";
  		if ($("#section").length > 0)
  			section = $("#section").val();

  		var subDepartment = "";
  		if ($("#outletSubDepartmentId").length > 0)
  			subDepartment = $("#outletSubDepartmentId").val();

  		var location = "";
  		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
  			location = $("#location").val();
  		var zone = "";
  		if ($("#outletZone").length > 0)
  			zone = $("#outletZone").val();
  		var startDate = "";
  		if ($("#startDateGst").length > 0)
  			startDate = $("#startDateGst").val();
  		var endDate = "";
  		if ($("#endDateGst").length > 0)
  			endDate = $("#endDateGst").val();
  	
  	 if ($("#startDateGst").val() != "" && $("#endDateGst").val() != "") {
	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	   		if (noOfDays < 0) {
	   			alert("Start Date can't be less than End Date");
	   			return;
	   		}
	   	}
  		
  		var category = "";
  		if ($("#productCategory").length > 0)
  			category = $("#productCategory").val();
  		var subCategory = "";
  		if ($("#outletSubcategory").length > 0)
  			subCategory = $("#outletSubcategory").val();

  		var department = "";
  		if ($("#outletDepartmentId").length > 0)
  			department = $("#outletDepartmentId").val();
  		
  		var brand = "";
  		if ($("#brand").length > 0)
  			department = $("#brand").val();
  		var searchCriteria="";
  		if ($("#searchCriteria").length > 0)
  			searchCriteria = $("#searchCriteria").val();
  		var searchCredit="";
  		if($("#searchCredit").length > 0)
  			searchCriteria = $("#searchCredit").val().trim();
  
  		
  	 var billedLocationsList = [];
	 	 var length = $('#location').children('option').length;
	       	$('#location option').each(function() { 
	       		billedLocationsList.push( $(this).attr('value'));
	       	});
	 	 var  locationList="";
	    	for(i=1;i<billedLocationsList.length;i++)
	    		{
	    		locationList =locationList+ billedLocationsList[i]+',';
	    		}
  		

  		var contextPath = $('#contextPath').val();
  		var URL = contextPath + "/reports/outputItemWiseTaxGSTReport.do";
  		$.ajax({
  			url : URL,
  			data : {
  				saveFlag : saveFlag,
  				maxRecords : maxRecords,
  				index : index,
  				brand : brand,
  				section : section,
  				subDepartment : subDepartment,
  				location : location,
  				zone : zone,
  				startDate : startDate,
  				endDate : endDate,
  				category : category,
  				subCategory : subCategory,
  				department : department,
  				searchCriteria : searchCriteria,
  				locationList : locationList
  			
  			},
  			beforeSend : function(xhr) {
  				// debugger
  			
  				$("#loading").css("display", "block");
  				$("#mainDiv").addClass("disabled");
  			},

  			success : function(result) {
  				
  				$('#right-side').html(result);
  				if(saveFlag=="true"){
  					var anchor = document.createElement('a');
  				  anchor.href = $("#stockdownloadurl").val();
  				  anchor.target = '_blank';
  				  anchor.download = '';
  				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
  				  anchor.click();
  				}
 				 
  				$("#loading").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				errorCode(jqXHR.status);
  				$("#loading").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  			}
  		});


 		}
 		catch(e)
 			{
 			        errorCode(e);
 		}
  	}
 	  
 	

 	 function viewInputGst(flowUnder, index,saveFlag) {
 		try{
 			var online = window.navigator.onLine;
 				if(!online){
 					alert("Check your internet connection,Please try agian after some time.");
 					return;
 			     }
  		
  		
  		var maxRecords = 10;
  		if ($("#maxRecords").length > 0)
  			maxRecords = $("#maxRecords").val();

  		var section = "";
  		if ($("#section").length > 0)
  			section = $("#section").val();

  		var subDepartment = "";
  		if ($("#outletSubDepartmentId").length > 0)
  			subDepartment = $("#outletSubDepartmentId").val();

  		var location = "";
  		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
  			location = $("#location").val();
  		var zone = "";
  		if ($("#outletZone").length > 0)
  			zone = $("#outletZone").val();
  		var startDate = "";
  		if ($("#startDateGst").length > 0)
  			startDate = $("#startDateGst").val();
  		var endDate = "";
  		if ($("#endDateGst").length > 0)
  			endDate = $("#endDateGst").val();
  	
  	 if ($("#startDateGst").val() != "" && $("#endDateGst").val() != "") {
	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	   		if (noOfDays < 0) {
	   			alert("Start Date can't be less than End Date");
	   			return;
	   		}
	   	}
  		
  		var category = "";
  		if ($("#productCategory").length > 0)
  			category = $("#productCategory").val();
  		var subCategory = "";
  		if ($("#outletSubcategory").length > 0)
  			subCategory = $("#outletSubcategory").val();

  		var department = "";
  		if ($("#outletDepartmentId").length > 0)
  			department = $("#outletDepartmentId").val();
  		
  		var brand = "";
  		if ($("#brand").length > 0)
  			department = $("#brand").val();
  		var searchCriteria="";
  		if ($("#searchCriteria").length > 0)
  			searchCriteria = $("#searchCriteria").val();
  		var searchCredit="";
  		if($("#searchCredit").length > 0)
  			searchCriteria = $("#searchCredit").val().trim();
  
  		
  	 var billedLocationsList = [];
	 	 var length = $('#location').children('option').length;
	       	$('#location option').each(function() { 
	       		billedLocationsList.push( $(this).attr('value'));
	       	});
	 	 var  locationList="";
	    	for(i=1;i<billedLocationsList.length;i++)
	    		{
	    		locationList =locationList+ billedLocationsList[i]+',';
	    		}
  		

  		var contextPath = $('#contextPath').val();
  		var URL = contextPath + "/reports/inputItemWiseTaxGSTReport.do";
  		$.ajax({
  			url : URL,
  			data : {
  				saveFlag : saveFlag,
  				maxRecords : maxRecords,
  				index : index,
  				brand : brand,
  				section : section,
  				subDepartment : subDepartment,
  				location : location,
  				zone : zone,
  				startDate : startDate,
  				endDate : endDate,
  				category : category,
  				subCategory : subCategory,
  				department : department,
  				searchCriteria : searchCriteria,
  				locationList : locationList
  			
  			},
  			beforeSend : function(xhr) {
  				// debugger
  			
  				$("#loading").css("display", "block");
  				$("#mainDiv").addClass("disabled");
  			},

  			success : function(result) {
  				
  				$('#right-side').html(result);
 				 var anchor = document.createElement('a');
				  anchor.href = $("#stockdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
				  anchor.click();
  				$("#loading").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				errorCode(jqXHR.status);
  				$("#loading").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  			}
  		});


 		}
 		catch(e)
 			{
 			        errorCode(e);
 		}
  	}
 	  
 	

 	 function gstTaxReturn(flowUnder, index,saveFlag) {
 		try{
 			debugger;
 			var online = window.navigator.onLine;
 				if(!online){
 					alert("Check your internet connection,Please try agian after some time.");
 					return;
 			     }
  		
  		
  		var maxRecords = 10;
  		if ($("#maxRecords").length > 0)
  			maxRecords = $("#maxRecords").val();

  		var section = "";
  		if ($("#section").length > 0)
  			section = $("#section").val();

  		var subDepartment = "";
  		if ($("#outletSubDepartmentId").length > 0)
  			subDepartment = $("#outletSubDepartmentId").val();

  		var location = "";
  		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
  			location = $("#location").val();
  		var zone = "";
  		if ($("#outletZone").length > 0)
  			zone = $("#outletZone").val();
  		var startDate = "";
  		if ($("#startDateGst").length > 0)
  			startDate = $("#startDateGst").val();
  		var endDate = "";
  		if ($("#endDateGst").length > 0)
  			endDate = $("#endDateGst").val();
  	
  	 if ($("#startDateGst").val() != "" && $("#endDateGst").val() != "") {
	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	   		if (noOfDays < 0) {
	   			alert("Start Date can't be less than End Date");
	   			return;
	   		}
	   	}
  		
  		var category = "";
  		if ($("#productCategory").length > 0)
  			category = $("#productCategory").val();
  		var subCategory = "";
  		if ($("#outletSubcategory").length > 0)
  			subCategory = $("#outletSubcategory").val();

  		var department = "";
  		if ($("#outletDepartmentId").length > 0)
  			department = $("#outletDepartmentId").val();
  		
  		var brand = "";
  		if ($("#brand").length > 0)
  			department = $("#brand").val();
  		var searchCriteria="";
  		if ($("#searchCriteria").length > 0)
  			searchCriteria = $("#searchCriteria").val();
  		var searchCredit="";
  		if($("#searchCredit").length > 0)
  			searchCriteria = $("#searchCredit").val().trim();
  
  		
  	 var billedLocationsList = [];
	 	 var length = $('#location').children('option').length;
	       	$('#location option').each(function() { 
	       		billedLocationsList.push( $(this).attr('value'));
	       	});
	 	 var  locationList="";
	    	for(i=1;i<billedLocationsList.length;i++)
	    		{
	    		locationList =locationList+ billedLocationsList[i]+',';
	    		}
  		

  		var contextPath = $('#contextPath').val();
  		var URL = contextPath + "/reports/gstTaxReturn.do";
  		$.ajax({
  			url : URL,
  			data : {
  				saveFlag : saveFlag,
  				maxRecords : maxRecords,
  				index : index,
  				brand : brand,
  				section : section,
  				subDepartment : subDepartment,
  				location : location,
  				zone : zone,
  				startDate : startDate,
  				endDate : endDate,
  				category : category,
  				subCategory : subCategory,
  				department : department,
  				searchCriteria : searchCriteria,
  				locationList : locationList
  			
  			},
  			beforeSend : function(xhr) {
  				// debugger
  			
  				$("#loading").css("display", "block");
  				$("#mainDiv").addClass("disabled");
  			},

  			success : function(result) {
  				
  				$('#right-side').html(result);
  				$("#loading").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
 				 var anchor = document.createElement('a');
				  anchor.href = $("#stockdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
				  anchor.click();
  				
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				errorCode(jqXHR.status);
  				$("#loading").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  			}
  		});


 		}
 		catch(e)
 			{
 			        errorCode(e);
 		}
  	}
 	  
 	 
		function getPettyCash(Searchview,label,index,file)
    	   {
    		   debugger;
 				try{
 					debugger;
 					
 					var online = window.navigator.onLine;
 				  	if(!online){
 				  	alert("Check your internet connection,Please try agian after some time.");
 				  	return;
 				  	}
 					var maxRecords = 10;
                  	if ($("#maxRecords").length > 0)
                  		maxRecords = $("#maxRecords").val();
                  	
 				  	var	organization= $("#organization").val();
			    		if(organization ==undefined)
			    			organization=''; 
 				  	
 				  	var	zone= $("#outletZone").val();
			    		if(zone ==undefined)
			    			zone=''; 
		    		
		    		var	location= $("#location").val();
		    		if(location ==undefined)
		    			location=''; 
		    		
		    		var	category= $("#product_category").val();
		    		if(category ==undefined)
		    			category=''; 
		    		
		    		

		    		var	startDate= $("#start_date").val();
		    		if(startDate ==undefined)
		    			startDate=''; 
		    		
		    		var	endDate= $("#end_date").val();
		    		if(endDate ==undefined)
		    			endDate=''; 
		    		
		    		var	searchCriteria= $("#searchAccount").val();
		    		if(searchCriteria ==undefined)
		    			searchCriteria=''; 
 				  	
		    		if(Searchview=='back'){
		    			organization=''; 
		    			zone=''; 
		    			location=''; 
		    			category=''; 
		    			startDate=''; 
		    			endDate='';
		    			searchCriteria='';
		    		}
		    		
		    		if ($("#start_date").val() != "" && $("#end_date").val() != "") {
		    	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		    	   		if (noOfDays < 0) {
		    	   			alert("Start Date can't be less than End Date");
		    	   			return;
		    	   		}
		    	   	}
		    		
     				var contextPath = $('#contextPath').val();
   	    		var URL = contextPath + "/userAccessControl/getPettyCash.do";
   	    		
   	    	    $.ajax({
   	    		url : URL,
   	    		data : {
   	    			organization:organization,
   	    			zone:zone,
   	    			location:location,
   	    			category:category,
   	    			startDate:startDate,
   	    			endDate:endDate,
   	    			maxRecords:maxRecords,
   	    			index:index,
   	    			searchCriteria:searchCriteria,
   	    			file:file,
   	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			$('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    			if(file=="true"){
  	    				var anchor = document.createElement('a');
    					  anchor.href = $("#stockdownloadurl").val();
    					  anchor.target = '_blank';
    					  anchor.download = '';
    					if($("#fileDownloadurl").val()!=null && $("#fileDownloadurl").val()!='')
    					  anchor.click();
  	    			}
  	    			 
  					
  	    			$(".active-menu").removeClass("active-menu");
  	    			if(label != undefined && label != "")
 	    				activeMenu(label);
  	    			
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
 				}
 				catch(e)
 				{
 				errorCode(e);
 				}
            }
		   
          		

		function createCashPayment(Searchview,label)
    	   {
    		   debugger;
 				try{
 					debugger;
 					
 					var online = window.navigator.onLine;
 				  	if(!online){
 				  	alert("Check your internet connection,Please try agian after some time.");
 				  	return;
 				  	}
 					var paymentobj={},cashBookList = [];
 					var location="";
 					var date="";
 					
 					if(Searchview=="new"){
 						 location=$("#paymentLocation").val();
 	 					 date=$("#payment_date").val();
 	 					 
 	 					 

 	 				  	var len = parseInt($("#slabLis tr").length);
 		   				
 	 				  	for(var i=1;i<len;i++){
 	     	    	 		var idAttr = i;
 	     	    	 		
 	     	    	 		var description=$("#"+idAttr+"description").val();
 	     					var amt=$("#"+idAttr+"amt").val();
 	     	    	 		
 	     					if(description==""){
 	     	 				  	alert("Please Enter Description");
 	     	 				  	return;
 	     	 				  	}
 	     					if(amt==""){
 	     	 				  	alert("Please Enter Transaction Amount");
 	     	 				  	return;
 	     	 				  	}
 	     					
 	     	    	 			var obj = {voucherNo: $("#voucherno").val(),location:$("#paymentLocation").val(),
 	     	    	 					transactionDateStr:$("#payment_date").val(),transactionDescription:$("#"+idAttr+"description").val(),
 	     	    	 					transactionAmount:$("#"+idAttr+"amt").val(),transactionType:"cash payments"}; 
 	     	    	 		
 	     	    	 			cashBookList.push(obj);
 	     	    	 	}
 	 					 
 					}else{
 						 location=$("#editpaymentLocation").val();
 	 					 date=$("#editpayment_date").val();
 	 					 

 	 				  	var len = parseInt($("#editslabLis tr").length);
 		   				
 	 				  	for(var i=1;i<len;i++){
 	     	    	 		var idAttr = i;
 	     	    	 		
 	     	    	 		var description=$("#"+idAttr+"editdescription").val();
 	     					var amt=$("#"+idAttr+"editamt").val();
 	     	    	 		
 	     					if(description==""){
 	     	 				  	alert("Please Enter Description");
 	     	 				  	return;
 	     	 				  	}
 	     					if(amt==""){
 	     	 				  	alert("Please Enter Transaction Amount");
 	     	 				  	return;
 	     	 				  	}
 	     					
 	     	    	 			var obj = {voucherNo: $("#editvoucherno").val(),location:$("#editpaymentLocation").val(),
 	     	    	 					transactionDateStr:$("#editpayment_date").val(),transactionDescription:$("#"+idAttr+"editdescription").val(),
 	     	    	 					transactionAmount:$("#"+idAttr+"editamt").val(),transactionType:"cash payments",transactionId: $("#editapaymenttransationId").val(),}; 
 	     	    	 		
 	     	    	 			cashBookList.push(obj);
 	     	    	 	}
 					}
 				  	
 				  	
 					
 					if(location==""){
 	 				  	alert("Please Select Location");
 	 				  	return;
 	 				  	}
 					if(date==""){
 	 				  	alert("Please Select Date");
 	 				  	return;
 	 				  	}
 					
 				  
 				
 				paymentobj.cashBookList=cashBookList;
     			var contextPath = $('#contextPath').val();
     			if(Searchview=="new"){
     				var URL = contextPath + "/userAccessControl/createPettyCashPayments.do";
     			}else{
     				var URL = contextPath + "/userAccessControl/editPettyCashPayments.do";
     			}
   	    		
   	    	 var formData = JSON.stringify(paymentobj);
   	    	    $.ajax({
   	    	    	type: "POST",
 	    			url : URL,
 	    			contentType: "application/json",
   	    		data : formData,
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			// $('#right-side').html(result);
  	    			if(Searchview=="new"){
  	    				if(result=="Payments Created Successfully"){
  	  	    				$("#paymentSuccess").html(result);
  	  	    			}else{
  	  	    				$("#paymentError").html(result);
  	  	    			}
  	    			}else{
  	    				if(result=="Payments Created Successfully"){
  	  	    				$("#editpaymentSuccess").html(result);
  	  	    			}else{
  	  	    				$("#editpaymentError").html(result);
  	  	    			}
  	    			}
  	    			
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    			
  	    		
  	    			$(".active-menu").removeClass("active-menu");
  	    			if(label != undefined && label != "")
 	    				activeMenu(label);
  	    			
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
 				}
 				catch(e)
 				{
 				errorCode(e);
 				}
            }
		
       		


		function updateCashPayment(Searchview,label)
    	   {
    		   debugger;
 				try{
 					debugger;
 					
 					var online = window.navigator.onLine;
 				  	if(!online){
 				  	alert("Check your internet connection,Please try agian after some time.");
 				  	return;
 				  	}
 					var paymentobj={};
 					
 					var location=$("#editpaymentLocation").val();
 					var date=$("#editpayment_date").val();
 	     	    	var description=$("#1editdescription").val();
 	     			var amt=$("#1editamt").val();
 	     	    	 		
 	     			if(description==""){
 	     	 			alert("Please Enter Description");
 	     	 			return;
 	     	 		 }
 	     			if(amt==""){
 	     	 			alert("Please Enter Transaction Amount");
 	     	 			return;
 	     	 			}
 	     					
 					if(location==""){
 	 				  	alert("Please Select Location");
 	 				  	return;
 	 				  	}
 					if(date==""){
 	 				  	alert("Please Select Date");
 	 				  	return;
 	 				  	}
 					
 				  
 				
 				paymentobj.transactionId =$("#editapaymenttransationId").val();
 				paymentobj.location =location;
 				paymentobj.transactionDateStr =date;
 				paymentobj.voucherNo =$("#editvoucherno").val();
 				paymentobj.transactionDescription =description;
 				paymentobj.transactionAmount =amt;
 				paymentobj.transactionType ="cash payments";
 				
     			var contextPath = $('#contextPath').val();
     		
     			var URL = contextPath + "/userAccessControl/editPettyCashPayments.do";
     			
   	    		
   	    	 var formData = JSON.stringify(paymentobj);
   	    	    $.ajax({
   	    	    	type: "POST",
 	    			url : URL,
 	    			contentType: "application/json",
   	    		data : formData,
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			// $('#right-side').html(result);
  	    			if(Searchview=="new"){
  	    				if(result=="Payments Created Successfully"){
  	  	    				$("#paymentSuccess").html(result);
  	  	    			}else{
  	  	    				$("#paymentError").html(result);
  	  	    			}
  	    			}else{
  	    				if(result=="Payments Created Successfully"){
  	  	    				$("#editpaymentSuccess").html(result);
  	  	    			}else{
  	  	    				$("#editpaymentError").html(result);
  	  	    			}
  	    			}
  	    			
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    			
  	    		
  	    			$(".active-menu").removeClass("active-menu");
  	    			if(label != undefined && label != "")
 	    				activeMenu(label);
  	    			
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
 				}
 				catch(e)
 				{
 				errorCode(e);
 				}
            }
		
       		

		
		function createPettyCashReceipt(Searchview,label)
    	   {
    		   debugger;
 				try{
 					debugger;
 					
 					var online = window.navigator.onLine;
 				  	if(!online){
 				  	alert("Check your internet connection,Please try agian after some time.");
 				  	return;
 				  	}
 				  	var location="";
 					var receivedAmt="";
 					var receivedFrom="";
 					var bankAccount="";
 					var purpose="";
 					var date="";
 					var givenBy="";
 					var receivedBy="";
 					var txnDescription="";
 					var transactionId="";
 					
 					if(Searchview=="new"){
 						location =$('#receiptLocation').val();
 		 				 receivedAmt =$('#received_amt').val();
 		 				 receivedFrom =$('#received_from').val();
 		 				 bankAccount =$('#bank_account').val();
 		 				 purpose =$('#purpose').val();
 		 				 date =$('#date').val();
 		 				 givenBy =$('#given_by').val();
 		 				 receivedBy =$('#received_by').val();
 		 				 txnDescription =$('#txn_description').val();
 					}else{
 						 location =$('#editreceiptLocation').val();
 		 				 receivedAmt =$('#editreceived_amt').val();
 		 				 receivedFrom =$('#editreceived_from').val();
 		 				 bankAccount =$('#editbank_account').val();
 		 				 purpose =$('#editpurpose').val();
 		 				 date =$('#editdate').val();
 		 				 givenBy =$('#editgiven_by').val();
 		 				 receivedBy =$('#editreceived_by').val();
 		 				 txnDescription =$('#edittxn_description').val();
 		 				 transactionId =$('#edittransationId').val();
 					}
 				 
 				  
 				if(location==""){
 					alert("Please Select Location");
 				  	return;
 				}
 				if(receivedAmt==""){
 					alert("Please Enter Received Amt");
 				  	return;
 				}
 				if(date==""){
 					alert("Please Select Date");
 				  	return;
 				}
 				if(txnDescription==""){
 					alert("Please Enter Transaction Description");
 				  	return;
 				}
     			var contextPath = $('#contextPath').val();
     			if(Searchview=="new"){
     				var URL = contextPath + "/userAccessControl/createPettyCashReceipt.do";
     			}else{
     				var URL = contextPath + "/userAccessControl/editPettyCashReceipt.do";
     			}
   	    		
     			
   	    	    $.ajax({
   	    	    	type: "POST",
 	    			url : URL,
 	    			// contentType: "application/json",
   	    		data : {
   	    			location:location,
   	    			receivedAmt:receivedAmt,
   	    			receivedFrom:receivedFrom,
   	    			bankAccount:bankAccount,
   	    			purpose:purpose,
   	    			date:date,
   	    			givenBy:givenBy,
   	    			receivedBy:receivedBy,
   	    			txnDescription:txnDescription,
   	    			transactionId:transactionId,
   	    		},
  	    		beforeSend: function(xhr){                    
  	   				$("#loading").css("display","block");
  	   				$("#mainDiv").addClass("disabled");
  	    		},
  	    		success : function(result){
  	    			
  	    			$("#receiptError").html("");
  	    			$("#receiptSuccess").html("");
  	    			if(Searchview=="new"){
  	    				if(result=="Payments Created Successfully"){
  	  	    				$("#receiptSuccess").html(result);
  	  	    			}else{
  	  	    				$("#receiptError").html(result);
  	  	    			}
  	    			}else{
  	    				if(result=="Payments Created Successfully"){
  	  	    				$("#editreceiptSuccess").html(result);
  	  	    			}else{
  	  	    				$("#editreceiptError").html(result);
  	  	    			}
  	    			}
  	    			
  	    			// $('#right-side').html(result);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    			
  	    		
  	    			$(".active-menu").removeClass("active-menu");
  	    			if(label != undefined && label != "")
 	    				activeMenu(label);
  	    			
  	    		},
  	    		error : function(jqXHR, textStatus, errorThrown) {
  	    			errorCode(jqXHR.status);
  	    			$("#loading").css("display","none");
  	    			$("#mainDiv").removeClass('disabled');
  	    		}
  	    	 });
 				}
 				catch(e)
 				{
 				errorCode(e);
 				}
            }

		function showSaleQuotation(id,index,menu){
			debugger;
			try{
				var online = window.navigator.onLine;
					if(!online)
				        {
					 alert("Check your internet connection,Please try agian after some time.");
				  	 return;
				       }
	   			
	   			var zone = "";
	   			if($("#outletZone").length > 0)
	   				zone = $("#outletZone").val();
	   			var location = "";
		   			if($("#location").length > 0)
		   				location = $("#location").val();
	   			var startValue = "";
		   			if($("#StartValue").length > 0)
		   				startValue = $("#StartValue").val();
	   			var endValue = "";
		   			if($("#EndValue").length > 0)
		   				endValue = $("#EndValue").val();
	   			var status = "";
		   			if($("#Status").length > 0)
		   				status = $("#Status").val();
	   			var startDate = "";
		   			if($("#from").length > 0)
		   				startDate = $("#from").val();
	   			var endDate = "";
		   			if($("#to").length > 0)
		   				endDate = $("#to").val();
	   			var searchCreteria = "";
		   			if($("#rfqSearch").length > 0)
		   				searchCreteria = $("#rfqSearch").val();
	   			var maxRecords = 10;
	   			if($("#maxRecords").length > 0)
	   				maxRecords = $("#maxRecords").val();
	   			
	   			if(menu=="clear"){
	   				zone = "";
	   				location = "";
	   				startValue = "";
	   				endValue = "";
	   				startDate = "";
	   				endDate = "";
	   				status="";
	   				searchCreteria = "";
	   			}
	   			
	   			if ($("#from").val() != "" && $("#to").val() != "") {
     	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
     	   	   		if (noOfDays < 0) {
     	   	   			alert("Start Date can't be less than End Date");
     	   	   			return;
     	   	   		}
     	   	   	}
	   			
	   			var contextPath = $("#contextPath").val();
	   		    URL = contextPath + "/orderManagement/showSaleQuotation.do";
	   				$.ajax({
	   					type: "GET",
	   					url : URL,
	   					data : {
	   						zone:zone,
	   						index : index,
	   						startValue:startValue,
	   						endValue:endValue,
	   						status:status,
	   						startDate:startDate,
	   						endDate:endDate,
	   						searchCreteria:searchCreteria,
	   						maxRecords : maxRecords,
	   						location : location
	   					},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
				
					$('#right-side').html(result);
					if(id != undefined)
						activeMenu(id);
						
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
				{
				        errorCode(e);
			}
		} 
		
		function newSaleQuotation(id){
			try{
				var online = window.navigator.onLine;
					if(!online)
				        {
					 alert("Check your internet connection,Please try agian after some time.");
				  	 return;
				       }
			var location = $("#outletLocation").val();
			var contextPath = $("#contextPath").val();
			 URL = contextPath + "/orderManagement/newSaleQuotation.do";
				$.ajax({
					type: "GET",
					url : URL,
					data : {
					},
					beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
					success : function(result) {
						$("#right-side").html(result);
						if(id != undefined)
							activeMenu(id);
						
						
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					},
					error : function(jqXHR, textStatus, errorThrown)  {
						 errorCode(jqXHR.status);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					}
				});
				
			}
			catch(e)
				{
				        errorCode(e);
			}
		}

   		function getAdvancesAndPayments(Searchview,label,index,file)
       	   {
       		   debugger;
    				try{
    					debugger;
    					
    					var online = window.navigator.onLine;
    				  	if(!online){
    				  	alert("Check your internet connection,Please try agian after some time.");
    				  	return;
    				  	}
    					var maxRecords = 10;
                     	if ($("#maxRecords").length > 0)
                     		maxRecords = $("#maxRecords").val();
                     	
    				  	var	organization= $("#organization").val();
			    		if(organization ==undefined)
			    			organization=''; 
    				  	
    				  	var	zone= $("#outletZone").val();
			    		if(zone ==undefined)
			    			zone=''; 
		    		
		    		var	location= $("#location").val();
		    		if(location ==undefined)
		    			location=''; 
		    		

		    		var	accountName= $("#accountName").val();
		    		if(accountName ==undefined)
		    			accountName=''; 
		    		
		    		var	advanceGiven= $("#advanceGiven").val();
		    		if(advanceGiven ==undefined)
		    			advanceGiven=''; 
		    		
		    		var	advanceType= $("#advanceType").val();
		    		if(advanceType ==undefined)
		    			advanceType=''; 
		    		
		    		var	status= $("#payment_status").val();
		    		if(status ==undefined)
		    			status=''; 

		    		var	startDate= $("#start_date").val();
		    		if(startDate ==undefined)
		    			startDate=''; 
		    		
		    		var	endDate= $("#end_date").val();
		    		if(endDate ==undefined)
		    			endDate=''; 
		    		
		    		var	searchCriteria= $("#searchAccount").val();
		    		if(searchCriteria ==undefined)
		    			searchCriteria=''; 
    				  	
		    		if(Searchview=='back'){
		    			organization=''; 
		    			zone=''; 
		    			location=''; 
		    			advanceType=''; 
		    			advanceGiven=''; 
		    			status=''; 
		    			startDate=''; 
		    			endDate='';
		    			searchCriteria='';
		    			accountName=''; 
		    		}
		    		
		    		var currentDate = getSystemDate();
       				if ($("#start_date").val() != "" && currentDate != "") {
         	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(currentDate));
         	   	   		if (noOfDays < 0) {
         	   	   			alert("Start Date can't be grater than Current Date");
         	   	   			$("#start_date").val("");
         	   	   			return;
         	   	   		}
         	   	   	}
       				if (currentDate != "" && $("#end_date").val() != "") {
         	   	   		var noOfDays = daydiff(parseDate(endDate), parseDate(currentDate));
         	   	   		if (noOfDays < 0) {
         	   	   			alert("End Date can't be grater than Current Date");
         	   	   			$("#end_date").val("");
         	   	   			return;
         	   	   		}
         	   	   	}
		    		if ($("#start_date").val() != "" && $("end_date").val() != "") {
	     	   	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	     	   	   		if (noOfDays < 0) {
	     	   	   			alert("Start Date can't be less than End Date");
	     	   	   			return;
	     	   	   		}
	     	   	   	}
        				var contextPath = $('#contextPath').val();
      	    		var URL = contextPath + "/userAccessControl/getAdvancesAndPayments.do";
      	    		
      	    	    $.ajax({
      	    		url : URL,
      	    		data : {
      	    			organization:organization,
      	    			zone:zone,
      	    			location:location,
      	    			advanceType:advanceType,
      	    			advanceGiven:advanceGiven,
      	    			status:status,
      	    			startDate:startDate,
      	    			endDate:endDate,
      	    			maxRecords:maxRecords,
      	    			index:index,
      	    			searchCriteria:searchCriteria,
      	    			accountName:accountName
      	    		},
     	    		beforeSend: function(xhr){                    
     	   				$("#loading").css("display","block");
     	   				$("#mainDiv").addClass("disabled");
     	    		},
     	    		success : function(result){
     	    		
     	    			$(".active-menu").removeClass("active-menu");
    	    			activeMenu("advancesandpayments");
     	    			$('#right-side').html(result);
     	    			$("#loading").css("display","none");
     	    			$("#mainDiv").removeClass('disabled');
     	    		},
     	    		error : function(jqXHR, textStatus, errorThrown) {
     	    			errorCode(jqXHR.status);
     	    			$("#loading").css("display","none");
     	    			$("#mainDiv").removeClass('disabled');
     	    		}
     	    	 });
    				}
    				catch(e)
    				{
    				errorCode(e);
    				}
               }
   		
   		
   		function viewAdvancesAndPayments(Searchview,transactionId)
 	   {
 		   debugger;
				try{
					debugger;
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				  	
				 
  				var contextPath = $('#contextPath').val();
	    		var URL = contextPath + "/userAccessControl/viewAdvancesAndPayments.do";
	    		
	    	    $.ajax({
	    		url : URL,
	    		data : {
	    			transactionId:transactionId
	    		},
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			$(".active-menu").removeClass("active-menu");
	    			activeMenu("advancesandpayments");
	    			$('#right-side').html(result);
	    			if(Searchview == 'View'){
	    				$('#viewAdvancesPaymentsModal').modal('show');
	    			}else{
	    				$('#editAdvancesPaymentsModal').modal('show');
	    			}
	    			
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
				}
				catch(e)
				{
				errorCode(e);
				}
         }
   		function createAdvancesAndPayments(Searchview)
  	   {
  		   debugger;
				try{
					debugger;
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				  	
				$("#advanceError").html("");
   				
				if($("#NewadvanceType").val().trim() == ""){
   					$("#advanceError").html("Please Select Advance Type");
   					return;
   				 	}
   				if($("#date").val().trim() == ""){
   					 $("#date").focus();
   					return;
   				 	}
   				if($("#paidAmt").val().trim() == ""){
   					$("#advanceError").html("Please Enter Paid Amt");
   					 $("#paidAmt").focus();
   					return;
   				 	}
   				
   				if($("#paidTo").val().trim() == ""){
   					$("#advanceError").html("Please Enter Paid To");
   					 $("#paidTo").focus();
   					return;
   				 	}
   				
   				var contextPath = $('#contextPath').val();
   				
   				var organizationId = $('#Organization').val();
   				var zone = $('#Zone').val();
   				var advanceType = $('#NewadvanceType').val();
   				var paidDate = $('#date').val();
   				var paymentMode = $('#paymentMode').val();
   				var location = $('#newlocation').val();
   				var paidTo = $('#paidTo').val();
   				var paidRef = $('#paidRef').val();
   				var paidAmt = $('#paidAmt').val();
   				var paidComments = $('#txn_description').val();
   				
   				if(Searchview == 'new'){
   					var URL = contextPath + "/userAccessControl/createAdvancesAndPayments.do";
   				}
   					
 	    		
 	    	    $.ajax({
 	    	    	type: "POST",
 	    			url : URL,
 	    			//contentType: "application/json",
 	               data : {
 	            	   organizationId:organizationId,
 	            	   zone:zone,
 	            	   advanceType:advanceType,
	            	   paidDate:paidDate,
	            	   paymentMode:paymentMode,
 	            	   location:location,
 	            	   paidTo:paidTo,
	            	   paidRef:paidRef,
	            	   paidAmt:paidAmt,
 	            	   paidComments:paidComments,
 	            	   
 	               },
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			$(".active-menu").removeClass("active-menu");
	    			activeMenu("advancesandpayments");
	    			
	    			if(Searchview=="new"){
  	    				if(result=="Payments Created Successfully"){
  	  	    				$("#advanceSuccess").html(result);
  	  	    			}else{
  	  	    				$("#advanceError").html(result);
  	  	    			}
  	    			}
	    			//$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
				}
				catch(e)
				{
				errorCode(e);
				}
          }
   		

   		function updateAdvancesAndPayments(Searchview)
  	   {
  		   debugger;
				try{
					debugger;
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				  	
				$("#editadvanceError").html("");
   				
				if($("#editadvanceType").val().trim() == ""){
   					$("#editadvanceError").html("Please Select Advance Type");
   					return;
   				 	}
   				if($("#editdate").val().trim() == ""){
   					 $("#editdate").focus();
   					return;
   				 	}
   				if($("#editpaidAmt").val().trim() == ""){
   					$("#editadvanceError").html("Please Enter Paid Amt");
   					 $("#editpaidAmt").focus();
   					return;
   				 	}
   				
   				var contextPath = $('#contextPath').val();
   				
   				var organizationId = $('#editOrganization').val();
   				var zone = $('#editZone').val();
   				var advanceType = $('#editadvanceType').val();
   				var paidDate = $('#editdate').val();
   				var paymentMode = $('#editpaymentMode').val();
   				var location = $('#editlocation').val();
   				var paidTo = $('#editpaidTo').val();
   				var paidRef = $('#editpaidRef').val();
   				var paidAmt = $('#editpaidAmt').val();
   				var paidComments = $('#edittxn_description').val();
   				var transactionId = $('#transactionId').val();
   				var status = $('#status').val();
   				
   				var URL = contextPath + "/userAccessControl/updateAdvancesAndPayments.do";
   					
   				
   					
 	    		
 	    	    $.ajax({
 	    	    	type: "POST",
 	    			url : URL,
 	    			//contentType: "application/json",
 	               data : {
 	            	   organizationId:organizationId,
 	            	   zone:zone,
 	            	   advanceType:advanceType,
	            	   paidDate:paidDate,
	            	   paymentMode:paymentMode,
 	            	   location:location,
 	            	   paidTo:paidTo,
	            	   paidRef:paidRef,
	            	   paidAmt:paidAmt,
 	            	   paidComments:paidComments,
 	            	  transactionId:transactionId,
 	            	 status:status,
 	               },
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			$(".active-menu").removeClass("active-menu");
	    			activeMenu("advancesandpayments");
	    			//$('#right-side').html(result);
	    			
	    			if(Searchview=="edit"){
  	    				if(result=="Payments Updated Successfully"){
  	  	    				$("#editadvanceSuccess").html(result);
  	  	    			}else{
  	  	    				$("#editadvanceError").html(result);
  	  	    			}
  	    			}
	    			
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
				}
				catch(e)
				{
				errorCode(e);
				}
          }
   		

   		/**
   		 * @author Vasudeva Reddy
   		 * @param id
   		 * @description It will send the request to newOrganizationDepartment method of Inventory Manager Controller 
   		 * @Created_on 06-Aug-2019
   		 * @Reviewed_by Surya on 20-Aug-2019
   		 */

   		function newOrganizationDepartmentMaster(id){
   			try{
   				var online = window.navigator.onLine;
   			  	if(!online){
   			  	alert("Check your internet connection,Please try again after some time.");
   			  	return;
   			  	}
   			
   			 var contextPath = $("#contextPath").val();
   			 var maxRecords = 10;
   			  if($("#maxRecords").length>0)
   				  maxRecords = $("#maxRecords").val();
   			  
   			  var searchName = "";
   			  if($("#searchDepartment").length>0)
   				  searchName = $("#searchDepartment").val();
   			  
   			//purpose:for checking internet conection
   			
   			 URL = contextPath + "/inventorymanager/newOrganizationDepartment.do";
   				$.ajax({
   					type: "GET",
   					url : URL,
   					data : {
   						maxRecords : maxRecords,
   						searchName : searchName
   					},
   					beforeSend: function(xhr){                    
   			   			$("#loading").css("display","block");
   			   			$("#mainDiv").addClass("disabled");
   			   		  },
   					success : function(result) {
   						$("#right-side").html(result);
   						 if(id != undefined && id != "")
   							 activeMenu(id);
   			 				openMenu("liGenericData","ulGenericData",0);
   				    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
   						$("#loading").css("display","none");
   						$("#mainDiv").removeClass('disabled');
   					},
   					error : function(jqXHR, textStatus, errorThrown)  {
   						 errorCode(jqXHR.status);
   						$("#loading").css("display","none");
   					$("#mainDiv").removeClass('disabled');
   					}
   				});
   			}
   			catch(e)
   			{
   				errorCode(e);
   			}
   		}
   		/**
   		 * @author Vasudeva Reddy
   		 * @param id
   		 * @param index
   		 * @description It will send the request to viewOrganizationDepartment method of Inventory Manager Controller 
   		 * @Created_on 06-Aug-2019
   		 * @Reviewed_by Surya on 20-Aug-2019
   		 */
   		function viewOrganizationDepartmentMaster(id,index){

   			debugger;
   			try{
   				//purpose:for checking internet conection	
   			var online = window.navigator.onLine;
   		  	if(!online){
   		  	alert("Check your internet connection,Please try again after some time.");
   		  	return;
   		  	}
   			if($("#searchOrganizationDepartment").length > 0 && $("#searchOrganizationDepartment").val().trim() != ""){
   				searchOrganizationDepartmentMaster($("#searchOrganizationDepartment").val(), 'organizationdepartmentMaster',index);
   				return;
   			}	
   			var contextPath = $("#contextPath").val();
   				 var maxRecords = 10;
   			    	  if($("#maxRecords").length>0)
   			    		  maxRecords = $("#maxRecords").val();
   			    	  var searchName= "";
   			    	  if($("#searchOrganizationDepartment").length>0)
   			    		  searchName = $("#searchOrganizationDepartment").val().trim();

   		   URL = contextPath + "/inventorymanager/viewOrganizationDepartmentMaster.do";
   				 
   				$.ajax({
   					type: "GET",
   					url : URL,
   					data : {
   						index : index,
   						maxRecords : maxRecords,
   						searchName : searchName
   						
   					},
   					beforeSend: function(xhr){                    
   			   			$("#loading").css("display","block");
   			   			$("#mainDiv").addClass("disabled");
   			   		  },
   					success : function(result) {
   						$("#right-side").html(result);
   						 if(id != undefined && id != "")
   							 activeMenu(id);
   			 				openMenu("liGenericData","ulGenericData",0);
   				    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
   		           
   						$("#loading").css("display","none");
   						$("#mainDiv").removeClass('disabled');
   					},
   					error : function(jqXHR, textStatus, errorThrown)  {
   						 errorCode(jqXHR.status);
   						$("#loading").css("display","none");
   						$("#mainDiv").removeClass('disabled');
   					}
   				});
   			}
   			catch(e)
   			{
   				errorCode(e);

   			}
   		}
   		/**
   		 * @author Vasudeva Reddy
   		 * @param type
   		 * @param id
   		 * @param index
   		 * @param menu
   		 * @description It will send the request to viewMembership method of CRM Controller 
   		 * @Created_on 17/09/2019
   		 * @Reviewed_by 
   		 */  		
   		
   		function viewMemberships(type,id,index,menu){
      		 try{
      			 
   	    	 var contextPath = $('#contextPath').val();
   	    	 
   	    	// purpose:for checking internet conection
   	    		var online = window.navigator.onLine;
   	    	  	if(!online){
   	    	  	alert("Check your internet connection,Please try agian after some time.");
   	    	  	return;
   	    	  	}
   	    	  	debugger;
   	    	  	var location = "";
      	    	if($("#outletLocation").length > 0)
      	    		location = $("#outletLocation").val();
      	    	
      	    	var zone = "";
      	    	if($("#outletZone").length > 0)
      	    		zone = $("#outletZone").val();
      	    	
      	    	var startdate = "";
      	    	if($("#promoStartDate").length > 0)
      	    		startdate = $("#promoStartDate").val();
      	    	var enddate = "";
      	    	if($("#promoEndDate").length > 0)
      	    		enddate = $("#promoEndDate").val();
      	    	
      	    	var membershipType = "";
      	    	if($("#membershipTypeFilter").length > 0)
      	    		 membershipType = $("#membershipTypeFilter").val();
      	    	
      	    	var status = "";
      	    	if($("#MembershipStatusList").length > 0)
      	    		status = $("#MembershipStatusList").val();
      	    	
      	    	 if ($("#promoStartDate").val() != "" && $("#promoEndDate").val() != "") {
      	 	   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
      	 	   		if (noOfDays < 0) {
      	 	   			alert("Start Date can't be less than End Date");
      	 	   			return;
      	 	   		}
      	 	   	}
      	    	
      	    	
      	    	var searchName = "";
    		 		if($("#searchItemsMaster").length > 0 )
    		 			searchName = $("#searchItemsMaster").val().trim();
      	    	
    		 	 var maxRecords = 10;
   	    	  if($("#maxRecords").length > 0)
   	    		  maxRecords = $("#maxRecords").val();
    		 		
    		 		var allLocationsList = [];
    		 	 var length = $('#outletLocation').children('option').length;
    		       	$('#outletLocation option').each(function() { 
    		       		allLocationsList.push( $(this).attr('value'));
    		       	});
    		 	 var  locationList="";
    		    	for(i=1;i<allLocationsList.length;i++)
    		    		{
    		    		locationList =locationList+ allLocationsList[i]+',';
    		    		}
    		    	
    		   /*
   			 * var idLocations = ""; var selectedIds =
   			 * JSON.stringify(idLocations); console.log(selectedIds)
   			 */
    		    	
   	    	 var URL = contextPath + "/crm/viewMemberships.do";
   	    	 $.ajax({
   	    		type : "GET",
   	    		url : URL,
   	    		data : {
   	    			index : index,
   	    			location : location,
   	    			zone : zone,
   	    			startdate : startdate,
   	    			enddate : enddate,	    	
   	    			searchName : searchName,
   	    			maxRecords : maxRecords,
   	    			membershipType : membershipType,
   	    			allLocationsList : locationList,
   	    			status:status,
   	    			//selectedIds : selectedIds
   	    		},
   	    		beforeSend: function(xhr){                    
   	   	   			$("#loading").css("display","block");
   	   	   			$("#mainDiv").addClass("disabled");
   	   	   		  },
   	    		success : function(result){
   	    			$('#right-side').html(result);
   	    			/* openMenu("loyaltyProgram", "ulLoyaltyProgram",0); */
   	    			/* openMenu("liLoyalty", "ulLoyalty",1); */
   	    			activeMenu(id);
   	    			$("#loading").css("display","none");
   	    			$("#mainDiv").removeClass('disabled');
   	    		},
   	    		error : function(jqXHR, textStatus, errorThrown) {
   	    			errorCode(jqXHR.status);
   	    			$("#loading").css("display","none");
   	 				$("#mainDiv").removeClass('disabled');
   	    		}
   	    	 });
      		 }catch(e)
       		{
       			errorCode(e);
       		}

   	     }
		
   		function  viewNewMemberships(id){
    		try{
    		  var contextPath = $("#contextPath").val();
    		    
    		// purpose:for checking internet conection
    			var online = window.navigator.onLine;
    		  	if(!online){
    		  	alert("Check your internet connection,Please try agian after some time.");
    		  	return;
    		  	}
    		  
    			URL = contextPath + "/crm/newMembership.do";
    	 		 
    			 
      	 		$.ajax({
      	 			type: "GET",
      	 			url : URL,
      	 			data : {
      	 			},
      	 			beforeSend: function(xhr){                    
      	   	   			$("#loading").css("display","block");
      	   	   			$("#mainDiv").addClass("disabled");
      	   	   		  },
      	   			success : function(result) {
      	 				$("#right-side").html(result);
      	 				if(id != undefined)
      	 					activeMenu(id);
      	 				$("#loading").css("display","none");
      	 				$("#mainDiv").removeClass('disabled');
      	 			},
      	 			error : function(jqXHR, textStatus, errorThrown)  {
      	 				 errorCode(jqXHR.status);
      	 				$("#loading").css("display","none");
      	 				$("#mainDiv").removeClass('disabled');
      	 			}
      	 		});
    		}catch(e)
    		{
    			errorCode(e);
    		}

    	  }
   		
/*Added by :Manideep
 * reason: For stock reports , to add two new reports called stock aging and expiry report  		
*/   		
   		function showStockReportsFlow(id){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/reports/showStockReportsFlow.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liOutletReports","ulOutletReports",0);
	 	  			openMenu("reports", "ulReports",1);
// openMenu("liOutletGRNReports","ulOutletGRNReports",1);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}
		}
   		
   		/*Added by :Swathi
   		 * reason: Stock aging. 
   		 * */ 		
   		
   		
   		function viewoutletstockAging(id,index,flowUnder,menu){
	    	 try{
	    		 debugger;
	    		 // purpose:for checking internet conection
	    		 var online = window.navigator.onLine;
	    		 if(!online){
	    			 alert("Check your internet connection,Please try agian after some time.");
	    			 return;
	    		 }
	    		 var search =$("#searchAccount").val();
	    		 if(search==undefined){
	    			 search="";
	    		 }
	    		 var saveFlag ="";
	    			 var location = "";
	    		 if($("#outletLocation").length > 0)
	    			 location = $("#outletLocation").val();
	    		 var zone = "";
	    		 if($("#outletZone").length > 0)
	    			 zone = $("#outletZone").val();

	    		 var dateTime = getCurrentDate();
	    		 var date = dateTime.split(' ');
	    		 date = date[0].split('/');
	    		 var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	    		 var startdate = formatedDate;
	    		 if($("#from").length > 0)
	    			 startdate = $("#from").val();
	    		 var enddate = formatedDate;
	    		 if($("#to").length > 0)
	    			 enddate = $("#to").val();
	    		 var category = "";
	    		 if($("#outletCategory").length > 0)
	    			 category = $("#outletCategory").val();
	    		 var subcategory = "";
	    		 if($("#outletSubcategory").length > 0)
	    			 subcategory = $("#outletSubcategory").val();
	    		 var brand = "";
	    		 if($("#outletBrandId").length > 0)
	    			 brand = $("#outletBrandId").val();
	    		 var maxRecords = 10;
	    		 if($("#maxRecords").length > 0)
	    			 maxRecords = $("#maxRecords").val();
	    		 if((flowUnder == undefined || flowUnder == "" ) && $("#flowUnder").length > 0)
	    			 flowUnder = $("#flowUnder").val();
	    		 if(menu=="save"){
	    			 saveFlag="save";
	    		 }
	    		 if(menu=="clear"){
	    			 location="";
	    			 zone="";
	    			 category="";
	    			 subcategory="";
	    			 brand="";
	    			 startdate="";
	    			 enddate="";
	    			 search="";
	    			
	    		 }
	    		 
	    		 if(enddate!="" || enddate!=null)
	    			 {
	    				 var  allownoOfDays = daydiff(parseDate(startdate), parseDate(enddate));
	    				 if(allownoOfDays > 31){
	    					 alert("Date Range should not exceed a Month");
	    					 return false;
	    				 }
	    			 }
	    		 
	    		 var contextPath = $("#contextPath").val();
	    		 var URL = contextPath + "/inventorymanager/viewoutletstockAging.do";
	    		 $.ajax({
	    			 type : "GET",
	    			 url : URL,
	    			 data : {
	    				 index : index,
	    				 flowUnder : flowUnder,
	    				 location : location,
	    				 zone : zone,
	    				 category : category,
	    				 subcategory : subcategory,
	    				 brand : brand,
	    				 startdate: startdate,
	    				 enddate : enddate,
	    				 maxRecords : maxRecords,
	    				 search : search,
	    				 saveFlag:saveFlag,
	    			 },
	    			 beforeSend: function(xhr){                    
	    				 $("#loading").css("display","block");
	    				 $("#mainDiv").addClass("disabled");
	    			 },
	    			 success : function(result){
	    				 debugger;
	    				 $("#loading").css("display","none");
	    				 $("#mainDiv").removeClass('disabled');
	    				 $('#right-side').html(result);
	    				 debugger;
	    				 if(saveFlag=="save"){
	    					 var anchor = document.createElement('a');
	    	 					anchor.href = $("#stockdownloadurl").val();
	    	 					anchor.target = '_blank';
	    	 					anchor.download = '';
	    	 					if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='' && $("#stockdownloadurl").val()!=undefined)
	    	 						anchor.click();
	    				 }
	    				
	    				 activeMenu(id);
	    					openMenu("liOutletStockReprts","ulOutletStockReprts",1);
	    				
	    				 $("#loading").css("display","none");
	    				 $("#mainDiv").removeClass('disabled');
	    			 },
	    			 error : function(jqXHR, textStatus, errorThrown) {
	    				 errorCode(jqXHR.status);
	    				 $("#loading").css("display","none");
	    				 $("#mainDiv").removeClass('disabled');
	    			 }
	    		 });
	    	 }catch(e)
	    	 {
	    		 errorCode(e);
	    	 }


	     }
	         
   		function viewoutletstockExpiry(id,index,flowUnder,menu){
	    	 try{
	    		 debugger;
	    		 // purpose:for checking internet conection
	    		 var online = window.navigator.onLine;
	    		 if(!online){
	    			 alert("Check your internet connection,Please try agian after some time.");
	    			 return;
	    		 }
	    		 var search =$("#searchAccount").val();
	    		 if(search==undefined){
	    			 search="";
	    		 }
	    		 var saveFlag ="";
	    			 var location = "";
	    		 if($("#outletLocation").length > 0)
	    			 location = $("#outletLocation").val();
	    		 var zone = "";
	    		 if($("#outletZone").length > 0)
	    			 zone = $("#outletZone").val();

	    		 var dateTime = getCurrentDate();
	    		 var date = dateTime.split(' ');
	    		 date = date[0].split('/');
	    		 var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	    		 var startdate = formatedDate;
	    		 if($("#expiryDate").length > 0)
	    			 startdate = $("#expiryDate").val();
	    		
	    		 var category = "";
	    		 if($("#outletCategory").length > 0)
	    			 category = $("#outletCategory").val();
	    		 var subcategory = "";
	    		 if($("#outletSubcategory").length > 0)
	    			 subcategory = $("#outletSubcategory").val();
	    		 var brand = "";
	    		 if($("#outletBrandId").length > 0)
	    			 brand = $("#outletBrandId").val();
	    		 var maxRecords = 10;
	    		 if($("#maxRecords").length > 0)
	    			 maxRecords = $("#maxRecords").val();
	    		 if((flowUnder == undefined || flowUnder == "" ) && $("#flowUnder").length > 0)
	    			 flowUnder = $("#flowUnder").val();
	    		 if(menu=="save"){
	    			 saveFlag="save";
	    		 }
	    		 if(menu=="clear"){
	    			 location="";
	    			 zone="";
	    			 category="";
	    			 subcategory="";
	    			 brand="";
	    			 startdate="";
	    			 search="";
	    			
	    		 }
	    		 
	    		
	    		 
	    		 var contextPath = $("#contextPath").val();
	    		 var URL = contextPath + "/inventorymanager/viewoutletstockExpiry.do";
	    		 $.ajax({
	    			 type : "GET",
	    			 url : URL,
	    			 data : {
	    				 index : index,
	    				 flowUnder : flowUnder,
	    				 location : location,
	    				 zone : zone,
	    				 category : category,
	    				 subcategory : subcategory,
	    				 brand : brand,
	    				 startdate: startdate,
	    				 maxRecords : maxRecords,
	    				 search : search,
	    				 saveFlag:saveFlag,
	    			 },
	    			 beforeSend: function(xhr){                    
	    				 $("#loading").css("display","block");
	    				 $("#mainDiv").addClass("disabled");
	    			 },
	    			 success : function(result){
	    				 debugger;
	    				 $("#loading").css("display","none");
	    				 $("#mainDiv").removeClass('disabled');
	    				 $('#right-side').html(result);
	    				 debugger;
	    				 if(saveFlag=="save"){
	    					 var anchor = document.createElement('a');
	    	 					anchor.href = $("#stockdownloadurl").val();
	    	 					anchor.target = '_blank';
	    	 					anchor.download = '';
	    	 					if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
	    	 						anchor.click();
	    				 }
	    				
	    				 activeMenu(id);
	    					openMenu("liOutletStockReprts","ulOutletStockReprts",1);
	    				
	    				 $("#loading").css("display","none");
	    				 $("#mainDiv").removeClass('disabled');
	    			 },
	    			 error : function(jqXHR, textStatus, errorThrown) {
	    				 errorCode(jqXHR.status);
	    				 $("#loading").css("display","none");
	    				 $("#mainDiv").removeClass('disabled');
	    			 }
	    		 });
	    	 }catch(e)
	    	 {
	    		 errorCode(e);
	    	 }


	     }
   		function printOffer(type,view){
   			
   			var offercategory ="";
	   		var offertext="";
	   		
   			if(view=="edit"){
   				 offertext = $("#offerDesc").val();
   			}else{
   				 offertext = $("#dealDesc").val();
   			}
   				
	   		if(type=="offer"){
	   			
	   		 offercategory = $( "#offercategory option:selected" ).text();
	   		}else{
	   			//offercategory = $( "#dealCategory option:selected" ).text();
	   		}
	   			
	   		
	   		var mywindow = window.open('', 'my div', 'height=1000,width=1000');
   	         
   	        mywindow.document.write('</head><body >');
	   		   
   	        mywindow.document.write('<div style="text-align: center;" ><label style="width: 100%;font-size: 30px;font-weight: bold;text-align: center;">'+offertext+'</label><div>');  
	   		  
   	        mywindow.document.write('<div style="text-align: center;" ><label style="width: 100%;font-size: 30px;font-weight: bold;text-align: center;">'+offercategory+'</label><div>');  

   	        
	   		  mywindow.document.write('</body></html>');

   	           mywindow.document.close(); // necessary for IE >= 10
   	           mywindow.focus(); // necessary for IE >= 10

   	           mywindow.print();
   	           mywindow.close();
        }  

   		
   	 function viewStockVerificationUpload(id,index,flowUnder,menu,verificationCode,location){
   		 debugger;
    	 try{
    	// purpose:for checking internet conection
    		var online = window.navigator.onLine;
    	  	if(!online){
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	  	
	    	 var location = "";
	    	if($("#location").length > 0)
	    		location = $("#location").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
			
			if($("#location").val()=="all")
				location="";
	    	
			var maxRecords = 10;
			if($("#maxRecords").length > 0)
				maxRecords = $("#maxRecords").val();
			var startDate="";
			if($("#startDate").length > 0)
				startDate = $("#startDate").val();
			var endDate="";
			if($("#endDate").length > 0)
				endDate = $("#endDate").val();
			var searchName="";
			if($("#searchStockVerification").length > 0)
				searchName = $("#searchStockVerification").val();
			var category = "";
	    	if($("#outletCategory").length > 0)
	    		category = $("#outletCategory").val();
	    	
	    	var subcategory = "";
	    	if($("#outletSubcategory").length > 0)
	    		subcategory = $("#outletSubcategory").val();
	    	var section = "";
 		if ($("#section").length > 0)
 			section = $("#section").val();
 		var department = null;
			if($("#outletDepartmentId").length > 0)
				department = $("#outletDepartmentId").val();
			var subdepartment = null;
			if($("#outletSubDepartmentId").length > 0)
				subdepartment = $("#outletSubDepartmentId").val();
		
			
			var contextPath = $("#contextPath").val();
	    	 var URL = contextPath + "/inventorymanager/viewStockverificationUpload.do";
	    	 $.ajax({
	    		type : "GET",
	    		url : URL,
	    		data : {
	    			index : index,
     				flowUnder : flowUnder,
     				location : location,
     				verificationCode : verificationCode,
     				startDate : startDate,
     				endDate : endDate,
     				maxRecords : maxRecords,
     				searchName : searchName,
     				zone : zone,
     				department : department,
     				subdepartment : subdepartment,
     				category : category,
     				subcategory : subcategory,
     				section	: section
	    		
	    		},
	    		beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	    		success : function(result){
	    			$('#right-side').html(result);
	    			
	    			if(id == "outletStockVerificationReport"){
	    				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
	    				openMenu("liInventoryManagement","ulInventoryManagement",1);
	    				openMenu("storedetails", "ulstoredetails",1);
	    			}
	    			else if(id == "warehouseStockVerification"){
	    				openMenu("liStockManagement","ulStockManagement",0);
	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
	    			}
	    			
	    			if(id!=undefined && id != "")
	    				activeMenu(id);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    			},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
    	 }catch(e)
 		{
 			errorCode(e);
 		}

	 }
   	 
   	 
 	/*Added by:Koti
		Purpose :To Communicate with Controller
		*/
	function viewWallets(type,id,index,menu){
		debugger;
	 try{
		var contextPath = $('#contextPath').val();
	        // purpose:for checking internet conection
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
	  debugger
	  	var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var startdate = "";
	    	if($("#startDate").val() != undefined ){
	    		startdate = $("#startDate").val();
	    	}else{
	    		/* var dateTime = getCurrentDate();
	    	  	  var date = dateTime.split(' ');
	    	  	  date = date[0].split('/');
	    	  	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	    	  	  var startdate = formatedDate;	
	    	  	startdate = startdate*/
	    		startdate="";

	    			
	    	}
	    	var enddate = "";
	    	if($("#endDate").val() != undefined){
	    		enddate = $("#endDate").val();
	    	}else{
	    		
	    		 /*var dateTime = getCurrentDate();
	    	  	  var date = dateTime.split(' ');
	    	  	  date = date[0].split('/');
	    	  	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	    	  	  var enddate = formatedDate;	
	    	    	enddate = enddate	*/
	    		enddate="";
	    	}
	    	
	    	 if ($("#startDate").val() != "" && $("#endDate").val() != "") {
	 	   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
	 	   		if (noOfDays < 0) {
	 	   			alert("Start Date can't be less than End Date");
	 	   			return;
	 	   		}
	 	   	}
	    	
	    	var WalletStatusList= $("#WalletStatusList").val();
	    	
	    	if(WalletStatusList == "" || WalletStatusList == undefined || WalletStatusList== null){
	    		WalletStatusList="";
	    	}
	    	 
	    	 
	    	var searchName = "";
		 		if($("#searchWallet").length > 0 )
		 			searchName = $("#searchWallet").val().trim();
	    	
		 	 var maxRecords = 10;
	  if($("#maxRecords").length > 0)
		  maxRecords = $("#maxRecords").val();
		 		
		 		
	
	  var URL = contextPath + "/crm/viewCustomerWallet.do";
	    	 $.ajax({
	    		type : "GET",
	    		url : URL,
	    		data : {
	    			index : index,
	    			location : location,
	    			zone : zone,
	    			startdate : startdate,
	    			enddate : enddate,	    	
	    			searchName : searchName,
	    			maxRecords : maxRecords,
	    			WalletStatusList:WalletStatusList
	    			},
	    		beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	    		success : function(result){
	    	    	$('#right-side').html(result);
	    			activeMenu(id);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
	}
	catch(e)
	{
		errorCode(e);
	}

}


	function editWalletForPagination(walletId,index,operation){
			debugger;
		 try{
		
		 var contextPath = $('#contextPath').val();
		 
		 // purpose:for checking internet conection
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		var walletMaxRecords="10";
		
		var searchName = "";
			if($("#searchChildWallet").length > 0 )
				searchName = $("#searchChildWallet").val().trim();
			
			
			if(walletId == "" || walletId == null || walletId == undefined){
				walletId = $("#promoCode").val();
  				}
			
			if(operation == "" || operation == null || operation == undefined)
				operation=""
			
		 var URL = contextPath + "/crm/editWalletForPagination.do";
		 $.ajax({
			type : "GET",
			url : URL,
			data : {
				walletId : walletId,
				index:index,
				walletMaxRecords:walletMaxRecords,
				searchName:searchName,
				operation:operation,
				},
	  		
				beforeSend: function(xhr){                    
		   			$("#loading").css("display","block");
		   			$("#mainDiv").addClass("disabled");
		   		  },
			success : function(result){
				$('#tableforPagination').html("");
				$('#tableforPagination').html(result);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown) {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		 });
		 }catch(e)
		{
			errorCode(e);
		}
	}
	
	
	
	
	 //credit Note Redemption Report
 	 
 	 function viewOutletCreditNoteRedemptionReport(flowUnder, index,saveFlag,flow) {
 		debugger;
  		try{
  			var online = window.navigator.onLine;
  				if(!online)
  			        {
  				 alert("Check your internet connection,Please try agian after some time.");
  			  	 return;
  			       }

 		if (flowUnder == undefined && $("#flowUnder").length > 0)
 			flowUnder = $("#flowUnder").val();
 		
 		var maxRecords = 10;
 		if ($("#maxRecords").length > 0)
 			maxRecords = $("#maxRecords").val();

 		var section = "";
 		if ($("#section").length > 0)
 			section = $("#section").val();

 		var subDepartment = "";
 		if ($("#outletSubDepartmentId").length > 0)
 			subDepartment = $("#outletSubDepartmentId").val();

 		var location = "";
 		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
 			location = $("#location").val();
 		var zone = "";
 		if ($("#outletZone").length > 0)
 			zone = $("#outletZone").val();
 		var startDate = "";
 		if ($("#startDate").length > 0)
 			startDate = $("#startDate").val();
 		var endDate = "";
 		if ($("#endDate").length > 0)
 			endDate = $("#endDate").val();
 		

 		var category = "";
 		if ($("#Category").length > 0)
 			category = $("#Category").val();
 		var subCategory = "";
 		if ($("#outletSubcategory").length > 0)
 			subCategory = $("#outletSubcategory").val();

 		var department = "";
 		if ($("#outletDepartmentId").length > 0)
 			department = $("#outletDepartmentId").val();
 		
 		var brand = "";
 		if ($("#brand").length > 0)
 			department = $("#brand").val();
 		var searchCriteria="";
 		if ($("#searchCriteria").length > 0)
 			searchCriteria = $("#searchCriteria").val();
 		var searchCredit="";
 		if($("#searchCredit").length > 0)
 			searchCriteria = $("#searchCredit").val().trim();
 		
 		if(saveFlag==null || saveFlag==undefined || saveFlag=="")
 			{
 			saveFlag="false";
 			}

 		var contextPath = $('#contextPath').val();
 		var URL = contextPath + "/reports/viewOutletSalesCreditNoteRedeemReport.do";
 		$.ajax({
 			url : URL,
 			data : {
 				flowUnder : flowUnder,
 				maxRecords : maxRecords,
 				index : index,
 				brand : brand,
 				section : section,
 				subDepartment : subDepartment,
 				location : location,
 				zone : zone,
 				startDate : startDate,
 				endDate : endDate,
 				category : category,
 				subCategory : subCategory,
 				department : department,
 				searchCriteria : searchCriteria,
 				saveFlag:saveFlag,
 				flow : flow
 			
 			},
 			
 			
 			beforeSend : function(xhr) {
 				$("#loadingreport").css("display", "block");
 				$("#mainDiv").addClass("disabled");
 			},

 			success : function(result) {
 				
 				 activeMenu(flowUnder);
 				$('#right-side').html(result);
 				 if(saveFlag=="true")
 					 {
 					var anchor = document.createElement('a');
 					anchor.href = $("#urldownload").val();
 					anchor.target = '_blank';
 					anchor.download = '';
 					if($("#urldownload").val()!=null && $("#urldownload").val()!=''){
 						anchor.click();
 					}
 					 }
 				
 				$("#loadingreport").css("display", "none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				errorCode(jqXHR.status);
 				$("#loadingreport").css("display", "none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
  		}
  		catch(e)
  			{
  			        errorCode(e);
  		}
 	}
  	
 	 
 	 function searchOutletCreditNoteRedeemReport(flowUnder, index,popup,flow) {
  		debugger;
   		try{
   			
   		 $('#myModalIos').modal('hide');
   		 $('#myModalIoss').modal('hide');
   		 
   			var online = window.navigator.onLine;
   				if(!online)
   			        {
   				 alert("Check your internet connection,Please try agian after some time.");
   			  	 return;
   			       }

  		if (flowUnder == undefined && $("#flowUnder").length > 0)
  			flowUnder = $("#flowUnder").val();
  		
  		var maxRecords = 10;
  		if ($("#maxRecords").length > 0)
  			maxRecords = $("#maxRecords").val();

  		var section = "";
  		if ($("#section").length > 0)
  			section = $("#section").val();

  		var subDepartment = "";
  		if ($("#outletSubDepartmentId").length > 0)
  			subDepartment = $("#outletSubDepartmentId").val();

  		var location = "";
  		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
  			location = $("#location").val();
  		var zone = "";
  		if ($("#outletZone").length > 0)
  			zone = $("#outletZone").val();
  		var startDate = "";
  		if ($("#startDate").length > 0)
  			startDate = $("#startDate").val();
  		var endDate = "";
  		if ($("#endDate").length > 0)
  			endDate = $("#endDate").val();
  		
  		if(popup == "" || popup == undefined || popup == null){
  			popup="";
  		}
		
  		
 	   	 if ($("#startDate").val() != "" && $("#endDate").val() != "") {
 		   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
 		   		if (noOfDays < 0) {
 		   			alert("Start Date can't be less than End Date");
 		   			return;
 		   		}
 		   	}
 		
 	  	 if(endDate!="" || endDate!=null)
// 	  		 if(criteria == 'date'){
 	  		 {
 	  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
 	  			 if(allownoOfDays > 31){
 	  				 alert("Date Range should not exceed a Month");
 	  				 return false;
 	  			 }
 	  		 }


 	  	if(popup=="NOPOP"){
 			 if(allownoOfDays>15 ){
 				 
 				 $('#myModalIoss').modal('show');

 				 
 					/*var returnValue = getConfirmation();
 					if(returnValue == false)*/
 						return;
 					}
 		     }

  		var category = "";
  		if ($("#Category").length > 0)
  			category = $("#Category").val();
  		var subCategory = "";
  		if ($("#outletSubcategory").length > 0)
  			subCategory = $("#outletSubcategory").val();

  		var department = "";
  		if ($("#outletDepartmentId").length > 0)
  			department = $("#outletDepartmentId").val();
  		
  		var brand = "";
  		if ($("#brand").length > 0)
  			department = $("#brand").val();
  		var searchCriteria="";
  		if ($("#searchCriteria").length > 0)
  			searchCriteria = $("#searchCriteria").val();
  		var searchCredit="";
  		if($("#searchCredit").length > 0)
  			searchCriteria = $("#searchCredit").val().trim();
  		
  		var saveFlag="false";

  		var contextPath = $('#contextPath').val();
  		var URL = contextPath + "/reports/viewOutletSalesCreditNoteRedeemReport.do";
  		$.ajax({
  			url : URL,
  			data : {
  				flowUnder : flowUnder,
  				maxRecords : maxRecords,
  				index : index,
  				brand : brand,
  				section : section,
  				subDepartment : subDepartment,
  				location : location,
  				zone : zone,
  				startDate : startDate,
  				endDate : endDate,
  				category : category,
  				subCategory : subCategory,
  				department : department,
  				searchCriteria : searchCriteria,
  				saveFlag:saveFlag,
  				flow : flow
  			
  			},
  			
  			
  			beforeSend : function(xhr) {
  				$("#loadingreport").css("display","block");
				$("#mainDiv").addClass('disabled');
  			},

  			success : function(result) {
  				
  				 activeMenu(flowUnder);
  				$('#right-side').html(result);
  				$("#loading").css("display", "none");
  				$("#mainDiv").removeClass('disabled');
  				$("#loadingreport").css("display","none");
				$("#gensalereportcriteriawise").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown)  {
  				errorCode(jqXHR.status);
  				$("#loadingreport").css("display","none");
				$("#gensalereportcriteriawise").removeClass('disabled');
  			}
  		});
   		}
   		catch(e)
   			{
   			        errorCode(e);
   		}
  	}
   	
 //cashier efficiency Report
 	 
 	 function viewOutletCashierEfficiencyReport(flowUnder, index,saveFlag,flow) {
 		debugger;
  		try{
  			var online = window.navigator.onLine;
  				if(!online)
  			        {
  				 alert("Check your internet connection,Please try agian after some time.");
  			  	 return;
  			       }

 		if (flowUnder == undefined && $("#flowUnder").length > 0)
 			flowUnder = $("#flowUnder").val();
 		
 		var maxRecords = 10;
 		if ($("#maxRecords").length > 0)
 			maxRecords = $("#maxRecords").val();

 		var section = "";
 		if ($("#section").length > 0)
 			section = $("#section").val();

 		var subDepartment = "";
 		if ($("#outletSubDepartmentId").length > 0)
 			subDepartment = $("#outletSubDepartmentId").val();

 		var location = "";
 		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
 			location = $("#location").val();
 		var zone = "";
 		if ($("#outletZone").length > 0)
 			zone = $("#outletZone").val();
 		var startDate = "";
 		if ($("#startDate").length > 0)
 			startDate = $("#startDate").val();
 		var endDate = "";
 		if ($("#endDate").length > 0)
 			endDate = $("#endDate").val();
 		

 		var category = "";
 		if ($("#Category").length > 0)
 			category = $("#Category").val();
 		var subCategory = "";
 		if ($("#outletSubcategory").length > 0)
 			subCategory = $("#outletSubcategory").val();

 		var department = "";
 		if ($("#outletDepartmentId").length > 0)
 			department = $("#outletDepartmentId").val();
 		
 		var brand = "";
 		if ($("#brand").length > 0)
 			department = $("#brand").val();
 		var searchCriteria="";
 		if ($("#searchCriteria").length > 0)
 			searchCriteria = $("#searchCriteria").val();
 		var searchCredit="";
 		if($("#searchCredit").length > 0)
 			searchCriteria = $("#searchCredit").val().trim();
 		
 		if(saveFlag==null || saveFlag==undefined || saveFlag=="")
 			{
 			saveFlag="false";
 			}

 		var contextPath = $('#contextPath').val();
 		var URL = contextPath + "/reports/viewOutletCashierEfficiencyReport.do";
 		$.ajax({
 			url : URL,
 			data : {
 				flowUnder : flowUnder,
 				maxRecords : maxRecords,
 				index : index,
 				brand : brand,
 				section : section,
 				subDepartment : subDepartment,
 				location : location,
 				zone : zone,
 				startDate : startDate,
 				endDate : endDate,
 				category : category,
 				subCategory : subCategory,
 				department : department,
 				searchCriteria : searchCriteria,
 				saveFlag:saveFlag,
 				flow : flow
 			
 			},
 			
 			
 			beforeSend : function(xhr) {
 				$("#loadingreport").css("display", "block");
 				$("#mainDiv").addClass("disabled");
 			},

 			success : function(result) {
 				
 				 activeMenu(flowUnder);
 				$('#right-side').html(result);
 				 if(saveFlag=="true")
 					 {
 					var anchor = document.createElement('a');
 					anchor.href = $("#urldownload").val();
 					anchor.target = '_blank';
 					anchor.download = '';
 					if($("#urldownload").val()!=null && $("#urldownload").val()!=''){
 						anchor.click();
 					}
 					 }
 				
 				$("#loadingreport").css("display", "none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				errorCode(jqXHR.status);
 				$("#loadingreport").css("display", "none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
  		}
  		catch(e)
  			{
  			        errorCode(e);
  		}
 	}
  	

 	 function searchOutletCashierEfficiencyReport(flowUnder, index,popup,flow) {
   		debugger;
    		try{
    			
    		 $('#myModalIos').modal('hide');
    		 $('#myModalIoss').modal('hide');
    		 
    			var online = window.navigator.onLine;
    				if(!online)
    			        {
    				 alert("Check your internet connection,Please try agian after some time.");
    			  	 return;
    			       }

   		if (flowUnder == undefined && $("#flowUnder").length > 0)
   			flowUnder = $("#flowUnder").val();
   		
   		var maxRecords = 10;
   		if ($("#maxRecords").length > 0)
   			maxRecords = $("#maxRecords").val();

   		var section = "";
   		if ($("#section").length > 0)
   			section = $("#section").val();

   		var subDepartment = "";
   		if ($("#outletSubDepartmentId").length > 0)
   			subDepartment = $("#outletSubDepartmentId").val();

   		var location = "";
   		if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
   			location = $("#location").val();
   		var zone = "";
   		if ($("#outletZone").length > 0)
   			zone = $("#outletZone").val();
   		var startDate = "";
   		if ($("#startDate").length > 0)
   			startDate = $("#startDate").val();
   		var endDate = "";
   		if ($("#endDate").length > 0)
   			endDate = $("#endDate").val();
   		
   		if(popup == "" || popup == undefined || popup == null){
   			popup="";
   		}
 		
   		
  	   	 if ($("#startDate").val() != "" && $("#endDate").val() != "") {
  		   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
  		   		if (noOfDays < 0) {
  		   			alert("Start Date can't be less than End Date");
  		   			return;
  		   		}
  		   	}
  		
  	  	 if(endDate!="" || endDate!=null)
//  	  		 if(criteria == 'date'){
  	  		 {
  	  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
  	  			 if(allownoOfDays > 31){
  	  				 alert("Date Range should not exceed a Month");
  	  				 return false;
  	  			 }
  	  		 }


  	  	if(popup=="NOPOP"){
  			 if(allownoOfDays>15 ){
  				 
  				 $('#myModalIoss').modal('show');

  				 
  					/*var returnValue = getConfirmation();
  					if(returnValue == false)*/
  						return;
  					}
  		     }

   		var category = "";
   		if ($("#Category").length > 0)
   			category = $("#Category").val();
   		var subCategory = "";
   		if ($("#outletSubcategory").length > 0)
   			subCategory = $("#outletSubcategory").val();

   		var department = "";
   		if ($("#outletDepartmentId").length > 0)
   			department = $("#outletDepartmentId").val();
   		
   		var brand = "";
   		if ($("#brand").length > 0)
   			department = $("#brand").val();
   		var searchCriteria="";
   		if ($("#searchCriteria").length > 0)
   			searchCriteria = $("#searchCriteria").val();
   		var searchCredit="";
   		if($("#searchCredit").length > 0)
   			searchCriteria = $("#searchCredit").val().trim();
   		
   		var saveFlag="false";

   		var contextPath = $('#contextPath').val();
   		var URL = contextPath + "/reports/viewOutletCashierEfficiencyReport.do";
   		$.ajax({
   			url : URL,
   			data : {
   				flowUnder : flowUnder,
   				maxRecords : maxRecords,
   				index : index,
   				brand : brand,
   				section : section,
   				subDepartment : subDepartment,
   				location : location,
   				zone : zone,
   				startDate : startDate,
   				endDate : endDate,
   				category : category,
   				subCategory : subCategory,
   				department : department,
   				searchCriteria : searchCriteria,
   				saveFlag:saveFlag,
   				flow : flow
   			
   			},
   			
   			
   			beforeSend : function(xhr) {
   				$("#loadingreport").css("display","block");
 				$("#mainDiv").addClass('disabled');
   			},

   			success : function(result) {
   				
   				 activeMenu(flowUnder);
   				$('#right-side').html(result);
   				$("#loading").css("display", "none");
   				$("#mainDiv").removeClass('disabled');
   				$("#loadingreport").css("display","none");
 				$("#gensalereportcriteriawise").removeClass('disabled');
   			},
   			error : function(jqXHR, textStatus, errorThrown)  {
   				errorCode(jqXHR.status);
   				$("#loadingreport").css("display","none");
 				$("#gensalereportcriteriawise").removeClass('disabled');
   			}
   		});
    		}
    		catch(e)
    			{
    			        errorCode(e);
    		}
   	}
    
 
 	  function viewOutletPriceChangeReport(id,index,searchname,searchSave,type,flow){
   		  // debugger;
   		try{
   			
   			var online = window.navigator.onLine;
   		  	if(!online){
   		  	alert("Check your internet connection,Please try agian after some time.");
   		  	return;
   		  	}

   		 $('#myModalIos').modal('hide');
   		 $('#myModalIoss').modal('hide');

   		  var contextPath = $('#contextPath').val();
  	   	var maxRecords = 10;
  		if (searchSave == "save")
			var saveFlag = true;
		else
			var saveFlag =false;
  	   	
  		
  		searchname=""
			if($("#searchPrices").length>0)
				searchname = $("#searchPrices").val().trim();
  		
	    	if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	var stockdownload = false;
	    	if($("#stockdownload").val())
	    	stockdownload = $("#stockdownload").val();
	    	var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var startdate = "";
	    	if($("#startDateOverride").length > 0)
	    		startdate = $("#startDateOverride").val();
	    	var enddate = "";
	    	if($("#endDateOverride").length > 0)
	    		enddate = $("#endDateOverride").val();
	    	
	    	var category = "";
	    	if($("#outletCategory").length > 0)
	    		category = $("#outletCategory").val();
	    	var subcategory = "";
	    	if($("#outletSubcategory").length > 0)
	    		subcategory = $("#outletSubcategory").val();
	    	var brand = "";
	    	if($("#outletBrandId").length > 0)
	    		brand = $("#outletBrandId").val();
	    	var department = "";
    	if($("#outletDepartmentId").length > 0)
    		department = $("#outletDepartmentId").val();
    	
    	if(type=="clear"){
    		searchname="";
    		location="";
    		category="";
    		subcategory="";
    		brand="";
    		zone="";
    		startdate="";
    		enddate="";
    		department="";
    	}
    	
    	
    	
  			var URL = contextPath + "/reports/viewOutletPriceChangeReport.do";
  	 	    $.ajax({
  	  		url : URL,
  	  		data : {
  	  		index :index,
			searchName : searchname,
			maxRecords : maxRecords,
			location : location,
			productCategory : category,
			subcategory : subcategory,
			brand : brand,
			zone : zone,
			startdate :startdate,
			enddate : enddate,
			department : department,
			saveFlag:saveFlag,
			flow : flow
  	  		},
  	  		beforeSend: function(xhr){                    
  	 				$("#loadingreport").css("display","block");
  	 				$("#mainDiv").addClass("disabled");
  		        },

  	  		success : function(result){
  	  			// $(".active-menu").removeClass("active-menu");
  	  		if(id != undefined)
					activeMenu(id);
  	  		$("#summary").html(result);
  	  		$('#right-side').html(result);
  	  		
				var anchor = document.createElement('a');
				  anchor.href = $("#stockdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
				  anchor.click();
  	  			$("#loadingreport").css("display","none");
  	  			$("#mainDiv").removeClass('disabled');
  	  		},
  	  		error : function(jqXHR, textStatus, errorThrown) {
  	  			errorCode(jqXHR.status);
  	  			$("#loadingreport").css("display","none");
  				   $("#mainDiv").removeClass('disabled');
  	  		}
  	  	 });
   		}
   		catch(e)
   		{
   		errorCode(e);
   		}


  	   	}

 	  function viewCashierShortageReport(id,index,searchSave,type,flow){
   		   debugger;
   		try{
   			
   			var online = window.navigator.onLine;
   		  	if(!online){
   		  	alert("Check your internet connection,Please try agian after some time.");
   		  	return;
   		  	}

   		 $('#myModalIos').modal('hide');
   		 $('#myModalIoss').modal('hide');

   		  var contextPath = $('#contextPath').val();
  	   	var maxRecords = 10;
  		if (searchSave == "save")
			var saveFlag = true;
		else
			var saveFlag =false;
  	   	
  		
  		
  		
	    	if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	var stockdownload = false;
	    	if($("#stockdownload").val())
	    	stockdownload = $("#stockdownload").val();
	    	var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var startdate = "";
	    	if($("#startDateOverride").length > 0)
	    		startdate = $("#startDateOverride").val();
	    	var enddate = "";
	    	if($("#endDateOverride").length > 0)
	    		enddate = $("#endDateOverride").val();
	    	
	    	var cashier = "";
	    	if($("#outletCategory").length > 0)
	    		cashier = $("#outletCategory").val();
	    	var counter = "";
	    	if($("#outletSubcategory").length > 0)
	    		counter = $("#outletSubcategory").val();
	    	
    	
    	if(type=="clear"){
    		
    		location="";
    		cashier="";
    		counter="";
    		zone="";
    		startdate="";
    		enddate="";
    	}
    	
    	
    	
  			var URL = contextPath + "/reports/cashierShoartageReport.do";
  	 	    $.ajax({
  	  		url : URL,
  	  		data : {
  	  		index :index,
			maxRecords : maxRecords,
			location : location,
			cashier : cashier,
			counter : counter,
			zone : zone,
			startdate :startdate,
			enddate : enddate,
			saveFlag:saveFlag,
			flow : flow
  	  		},
  	  		beforeSend: function(xhr){                    
  	 				$("#loadingreport").css("display","block");
  	 				$("#mainDiv").addClass("disabled");
  		        },

  	  		success : function(result){
  	  			// $(".active-menu").removeClass("active-menu");
  	  		if(id != undefined)
					activeMenu(id);
  	  		$("#summary").html(result);
  	  		$('#right-side').html(result);
  	  		
				var anchor = document.createElement('a');
				  anchor.href = $("#stockdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
				  anchor.click();
  	  			$("#loadingreport").css("display","none");
  	  			$("#mainDiv").removeClass('disabled');
  	  		},
  	  		error : function(jqXHR, textStatus, errorThrown) {
  	  			errorCode(jqXHR.status);
  	  			$("#loadingreport").css("display","none");
  				   $("#mainDiv").removeClass('disabled');
  	  		}
  	  	 });
   		}
   		catch(e)
   		{
   		errorCode(e);
   		}


  	   	}
 	  
 	 function viewTenderMaster(id,index){
   		try{
   			debugger;
   			var online = window.navigator.onLine;
   		  	if(!online){
   		  	alert("Check your internet connection,Please try agian after some time.");
   		  	return;
   		  	}
  		   // debugger;
  		    var maxRecords = 10;
  		  	  if($("#maxRecords").length>0)
  		  		  maxRecords = $("#maxRecords").val();
  		  	  var searchName ="";
  		  	  if($("#searchRoute").length>0)
  			  searchName = $("#searchRoute").val().trim();
  		  	  
  		  	  
  		 /*
 			 * var localityZone =false; if($("#locality").length>0) localityZone =
 			 * $("#locality").val();
 			 */
  		  	 
  			
  			var contextPath = $("#contextPath").val();
  		    URL = contextPath + "/genericMaster/viewtenderMaster.do";
  	 		 
  	 		$.ajax({
  	 			type: "GET",
  	 			url : URL,
  	 			data : {
  	 				index : index,
  	 				maxRecords : maxRecords,
  	 				searchName :searchName,
  	 			},
  	 			beforeSend: function(xhr){                    
  	   	   			$("#loading").css("display","block");
  	   	   			$("#mainDiv").addClass("disabled");
  	   	   		  },
  	   			success : function(result) {
  	 				$("#right-side").html(result);
  	 				activeMenu(id);
  	 				openMenu("liGenericData","ulGenericData",0);
  		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
 // $("#locality").val(localityZone);
  	 				$("#loading").css("display","none");
  	 				$("#mainDiv").removeClass('disabled');
  	 			},
  	 			error : function(jqXHR, textStatus, errorThrown)  {
  	 				 errorCode(jqXHR.status);
  	 				$("#loading").css("display","none");
  	 				$("#mainDiv").removeClass('disabled');
  	 			}
  	 		});
   		}
   		catch(e)
   		{
   		              errorCode(e);
   		}

  		}
  	
   	
   	



   	function newTenderMaster(id){
   		try{
   			
   			var online = window.navigator.onLine;
   		  	if(!online){
   		  	alert("Check your internet connection,Please try agian after some time.");
   		  	return;
   		  	}
   		
   		var online = window.navigator.onLine;
   	  	if(!online){
   	  	alert("check your internet connection,please try again after some time");
   	  	return;
   	  	}	
   		debugger;
   		    

   	 		 var contextPath = $("#contextPath").val();
   	 		 URL = contextPath + "/genericMaster/newTenderMaster.do";
   	 			$.ajax({
   	 				type: "GET",
   	 				url : URL,
   	 				data : {
   	 					
   	 				},
   	 				beforeSend: function(xhr){                    
   	 		   			$("#loading").css("display","block");
   	 		   			$("#mainDiv").addClass("disabled");
   	 		   		  },
   	 				success : function(result) {
   	 					$("#right-side").html(result);
   	 					if(id != undefined)
   	 						activeMenu(id);
   	 					$("#loading").css("display","none");
   	 					$("#mainDiv").removeClass('disabled');
   	 				},
   	 				error : function(jqxhr) {
   	 					if(jqxhr.status == 0)
   	 						{
   	 						alert("server has stoped")
   	 						}
   	 					else if(jqxhr.status == 401)
   	 							{
   	 						alert("bad request")
   	 							}
   	 					else
   	 						{
   	 						alert("bad request")
   	 						}
   	 					 // errorCode(jqXHR.status);
   	 					// $("#mainDiv").removeClass('loading');
   	 				$("#loading").css("display","none");
   	 			   $("#mainDiv").removeClass('disabled');
   	 				}
   	 			});
   		}
   		catch(e)
   		{
   		              errorCode(e);
   		}

   	 	}
   	 	
   	
   	
   	function validateTender(id,operation){
   		try{
   			
   			var online = window.navigator.onLine;
   		  	if(!online){
   		  	alert("Check your internet connection,Please try agian after some time.");
   		  	return;
   		  	}
   		
   		 $("#tendercodeError").html("");
   		 $("#tenderNameError").html("");
   		 $("#tenderkeyError").html("");
   		 $("#modeOfPaymentError").html("");
   		debugger;
   		var formData={};
   		
   		 var tenderCode = $("#tendercode").val().trim();
 	    	 if(tenderCode.trim() == ""){
 	    		 $("#tendercode").focus();
 	    		 $("#tendercodeError").html("Please Enter Tender Code");
 	    		 return;
 	    	 }else if(parseInt($("#tendercode").val().length)>50){
 				 $("#tendercode").focus();
 				$("#tendercodeError").html("Tender code can't exceeds 50 Characters");
 				return;
 			}
 	    	 var tenderName = $("#tenderName").val().trim();
  	    	 if(tenderName.trim() == ""){
  	    		 $("#tenderName").focus();
  	    		 $("#tenderNameError").html("Please Enter Tender Name");
  	    		 return;
  	    	 }else if(parseInt($("#tenderName").val().length)>50){
 				 $("#tenderName").focus();
  				$("#tenderNameError").html("Tender name can't exceeds 50 Characters");
  				return;
  			}
  	    	 var tenderKey = $("#tenderkey").val().trim();
  	    	 if(tenderKey.trim() == ""){
  	    		 $("#tenderkey").focus();
  	    		 $("#tenderkeyError").html("Please Enter Tender Key");
  	    		 return;
  	    	 }else if(parseInt($("#tenderkey").val().length)>11){
 				 $("#tenderkey").focus();
   				$("#tenderkeyError").html("Tender key can't exceeds 11 Characters");
   				return;
   			}
  	    	 
  	    	 var modeOfPayment = $("#modeOfPayment").val().trim();
  	    	 if(modeOfPayment.trim() == ""){
  	    		 $("#modeOfPayment").focus();
  	    		 $("#modeOfPaymentError").html("Please Enter Mode of Payment");
  	    		 return;
  	    	 }else if(parseInt($("#modeOfPayment").val().length)>50){
 				 $("#modeOfPayment").focus();
    				$("#modeOfPaymentError").html("Payment Mode can't exceeds 50 Characters");
    				return;
    			}
  	    	 
  	    	if(parseInt($("#backendCode").val().length)>30){
  	 		 $("#backendCode").focus();
  	 			$("#backendCodeError").html("Backend Code can't exceeds 30 Character");
  	 			return;
  	 	}else{
  	 	 $("#backendCodeError").html(" ");
  	  }

   		formData.tenderCode = $("#tendercode").val().trim();
  		formData.tenderName = $("#tenderName").val().trim();
  		formData.tenderKey = $("#tenderkey").val().trim();
  		formData.returnTenderStr = $("#returntender").val();
  		formData.allowOtherReturnTenderStr = $("#allowreturntender").val();
  		formData.countryCode = $("#country").val();
  		formData.backEndTenderCode=$("#backendCode").val().trim();
  		formData.modeOfPayment=$("#modeOfPayment").val().trim();
  		formData.operation = operation;
  		   formData = JSON.stringify(formData);

   	 		 var contextPath = $("#contextPath").val();
   	 		 
   	 		 URL = contextPath + "/genericMaster/createTender.do";
   	 			$.ajax({
   	 				
   	 				type: "POST",
   	  			  	url : URL,
   	  			  	contentType: "application/json",
   	  			  	data : formData,
   	 				beforeSend: function(xhr){                    
   	 		   			$("#loading").css("display","block");
   	 		   			$("#mainDiv").addClass("disabled");
   	 		   		  },
   	 				success : function(result) {
   	 					$("#right-side").html(result);
   	 					if(id != undefined)
   	 						activeMenu(id);
   	 					$("#loading").css("display","none");
   	 					$("#mainDiv").removeClass('disabled');
   	 				},
   	 				error : function(jqxhr) {
   	 					if(jqxhr.status == 0)
   	 						{
   	 						alert("server has stoped")
   	 						}
   	 					else if(jqxhr.status == 401)
   	 							{
   	 						alert("bad request")
   	 							}
   	 					else
   	 						{
   	 						alert("bad request")
   	 						}
   	 					 // errorCode(jqXHR.status);
   	 					// $("#mainDiv").removeClass('loading');
   	 				$("#loading").css("display","none");
   	 			   $("#mainDiv").removeClass('disabled');
   	 				}
   	 			});
   		}
   		catch(e)
   		{
   		              errorCode(e);
   		}

   	 	}
   	
   	
   	
 /*  function validateTender(id,operation){
   		try{
   			
   			var online = window.navigator.onLine;
   		  	if(!online){
   		  	alert("Check your internet connection,Please try agian after some time.");
   		  	return;
   		  	}
   		
   	
   		debugger;
   		var formData={};
   		
   		 var tenderCode = $("#tendercode").val().trim();
 	    	 if(tenderCode.trim() == ""){
 	    		 $("#tendercodeError").html("Please Enter Tender Code");
 	    		 return;
 	    	 }
 	    	 var tenderName = $("#tenderName").val().trim();
  	    	 if(tenderName.trim() == ""){
  	    		 $("#tenderNameError").html("Please Enter Tender Name");
  	    		 return;
  	    	 }
  	    	 var tenderKey = $("#tenderkey").val().trim();
  	    	 if(tenderKey.trim() == ""){
  	    		 $("#tenderkeyError").html("Please Enter Tender Key");
  	    		 return;
  	    	 }
  	    	 
  	    	 var modeOfPayment = $("#modeOfPayment").val().trim();
  	    	 if(modeOfPayment.trim() == ""){
  	    		 $("#modeOfPaymentError").html("Please Enter Mode of Payment");
  	    		 return;
  	    	 }

   		formData.tenderCode = $("#tendercode").val().trim();
  		formData.tenderName = $("#tenderName").val().trim();
  		formData.tenderKey = $("#tenderkey").val().trim();
  		formData.returnTenderStr = $("#returntender").val();
  		formData.allowOtherReturnTenderStr = $("#allowreturntender").val();
  		formData.countryCode = $("#country").val();
  		formData.backEndTenderCode=$("#backendCode").val().trim();
  		formData.modeOfPayment=$("#modeOfPayment").val().trim();
  		formData.operation = operation;
  		   formData = JSON.stringify(formData);

   	 		 var contextPath = $("#contextPath").val();
   	 		 
   	 		 URL = contextPath + "/genericMaster/createTender.do";
   	 			$.ajax({
   	 				
   	 				type: "POST",
   	  			  	url : URL,
   	  			  	contentType: "application/json",
   	  			  	data : formData,
   	 				beforeSend: function(xhr){                    
   	 		   			$("#loading").css("display","block");
   	 		   			$("#mainDiv").addClass("disabled");
   	 		   		  },
   	 				success : function(result) {
   	 					$("#right-side").html(result);
   	 					if(id != undefined)
   	 						activeMenu(id);
   	 					$("#loading").css("display","none");
   	 					$("#mainDiv").removeClass('disabled');
   	 				},
   	 				error : function(jqxhr) {
   	 					if(jqxhr.status == 0)
   	 						{
   	 						alert("server has stoped")
   	 						}
   	 					else if(jqxhr.status == 401)
   	 							{
   	 						alert("bad request")
   	 							}
   	 					else
   	 						{
   	 						alert("bad request")
   	 						}
   	 					 // errorCode(jqXHR.status);
   	 					// $("#mainDiv").removeClass('loading');
   	 				$("#loading").css("display","none");
   	 			   $("#mainDiv").removeClass('disabled');
   	 				}
   	 			});
   		}
   		catch(e)
   		{
   		              errorCode(e);
   		}

   	 	}*/

   
 	  function editViewTender(tendercode,operation){
 		  try{
      	 var contextPath = $("#contextPath").val();
      	// purpose:for checking internet conection
      	var online = window.navigator.onLine;
        	if(!online){
        	alert("Check your internet connection,Please try agian after some time.");
        	return;
        	}
      	 
      	 URL = contextPath + "/genericMaster/editViewTender.do";
    		 $.ajax({
    			type: "GET",
    			url : URL,
    			data : {
    				tendercode : tendercode,
    				operation : operation
    			},
    			beforeSend: function(xhr){                    
    	   			$("#loading").css("display","block");
    	   			$("#mainDiv").addClass("disabled");
    	   		  },
    			success : function(result) {
    				$("#right-side").html(result);
    				// $('.left-side').css('height','683px');
    				$("#loading").css("display","none");
    				$("#mainDiv").removeClass('disabled');
    			},
    			error : function(jqXHR, textStatus, errorThrown)  {
    				 errorCode(jqXHR.status);
    				$("#loading").css("display","none");
  				$("#mainDiv").removeClass('disabled');
    			}
    		});
 		  }catch(e)
   		{
   			errorCode(e);
   		}

       }
  	

 	  function downloadImportFiles(type,customerId){
 		  debugger;
 		  try{
      	 var contextPath = $("#contextPath").val();
      	 var path = window.location.protocol + '//' + window.location.hostname + ':' + window.location.port+ '/Configurations/'+customerId+'/Import_Templates/';
      	 
      	 if(type=='skumaster'){
      		 path  = path+'sku_master.xlsx';
      	 }else if(type=='importbrandMaster'){
      		 path  = path+'brand_master.xlsx';
      	 }else if(type=='groupMaster'){
      		 path  = path+'product_group_master.xlsx';
      	 }else if(type=='warehouseskuMaster'){
      		 path  = path+'warehouseskuMaster.xlsx';
      	 }else if(type=='suppliers'){
      		 path  = path+'supplier_master.xlsx';
      	 }else if(type=='taxMasterImport'){
      		 path  = path+'tax_master.xlsx';
      	 }else if(type=='priceList'){
      		 path  = path+'priceList.xlsx';
      	 }else if(type=='departments'){
      		 path  = path+'departments.xlsx';
      	 }else if(type=='employeeMasterImport'){
      		 path  = path+'employee_master.xlsx';
      	 }else if(type=='skuEans'){
     		 path  = path+'skuEans.xlsx';
     	 }else if(type=='giftVouchers'){
     		 path  = path+'gift_vouchers.xlsx';
     	 }else if(type=='coupons'){
     		 path  = path+'gift_coupons.xlsx';
     	 }else if(type=='loyaltyCards'){
     		 path  = path+'loyalty_cards.xlsx';
     	 }else if(type=='customerImport'){
     		 path  = path+'customers.xlsx';
     	 }
      	 
      	

      	 
      	var online = window.navigator.onLine;
        	if(!online){
        	alert("Check your internet connection,Please try agian after some time.");
        	return;
        	}
        	
        	var anchor = document.createElement('a');
			  anchor.href = path;
			  anchor.target = '_blank';
			  anchor.download = '';
			if(path!=null && path!='')
			  anchor.click();
      	 
 		  }catch(e)
   		{
   			errorCode(e);
   		}

       }
 	  
 	  
 	 function viewStandardSalesReport(id,index,searchSave,type,flow){
 		   debugger;
 		try{
 			
 			var online = window.navigator.onLine;
 		  	if(!online){
 		  	alert("Check your internet connection,Please try agian after some time.");
 		  	return;
 		  	}

 		 $('#myModalIos').modal('hide');
 		 $('#myModalIoss').modal('hide');

 		  var contextPath = $('#contextPath').val();
	   	var maxRecords = 10;
		if (searchSave == "save")
			var saveFlag = true;
		else
			var saveFlag =false;

	    	if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();

	    	var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var startdate = "";
	    	if($("#startDateOverride").length > 0)
	    		startdate = $("#startDateOverride").val();
	    	var enddate = "";
	    	if($("#endDateOverride").length > 0)
	    		enddate = $("#endDateOverride").val();
	    	
	    	var salesChannel = "";
	    	if($("#salesChannel").length > 0)
	    		salesChannel = $("#salesChannel").val();
	    	
	    	var tender = "";
	    	if($("#TenderName").length > 0)
	    		tender = $("#TenderName").val();
	    	
  	
  	if(type=="clear"){
  		
  		location="";
  		salesChannel="";
  		tender="";
  		zone="";
  		startdate="";
  		enddate="";
  	}
			var URL = contextPath + "/reports/standardSalesReport.do";
	 	    $.ajax({
	  		url : URL,
	  		data : {
	  		index :index,
			maxRecords : maxRecords,
			location : location,
			salesChannel : salesChannel,
			tender : tender,
			zone : zone,
			startdate :startdate,
			enddate : enddate,
			saveFlag:saveFlag,
			flow : flow
	  		},
	  		beforeSend: function(xhr){                    
	 				$("#loadingreport").css("display","block");
	 				$("#mainDiv").addClass("disabled");
		        },

	  		success : function(result){
	  			// $(".active-menu").removeClass("active-menu");
	  		if(id != undefined)
					activeMenu(id);
	  		$("#summary").html(result);
	  		$('#right-side').html(result);
	  		
				var anchor = document.createElement('a');
				  anchor.href = $("#stockdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
				  anchor.click();
	  			$("#loadingreport").css("display","none");
	  			$("#mainDiv").removeClass('disabled');
	  		},
	  		error : function(jqXHR, textStatus, errorThrown) {
	  			errorCode(jqXHR.status);
	  			$("#loadingreport").css("display","none");
				   $("#mainDiv").removeClass('disabled');
	  		}
	  	 });
 		}
 		catch(e)
 		{
 		errorCode(e);
 		}
	   	}
  	
 	function viewStandardSalesDetailedReport(id,index,searchSave,type,flow){
		   debugger;
		try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}

		 $('#myModalIos').modal('hide');
		 $('#myModalIoss').modal('hide');

		  var contextPath = $('#contextPath').val();
	   	var maxRecords = 10;
		if (searchSave == "save")
			var saveFlag = true;
		else
			var saveFlag =false;

	    	if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	var stockdownload = false;
	    	if($("#stockdownload").val())
	    	stockdownload = $("#stockdownload").val();
	    	var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var startdate = "";
	    	if($("#startDateOverride").length > 0)
	    		startdate = $("#startDateOverride").val();
	    	var enddate = "";
	    	if($("#endDateOverride").length > 0)
	    		enddate = $("#endDateOverride").val();
	    	
	    	var salesChannel = "";
	    	if($("#salesChannel").length > 0)
	    		salesChannel = $("#salesChannel").val();
	    	
	    	var tender = "";
	    	if($("#TenderName").length > 0)
	    		tender = $("#TenderName").val();
	    	
	
	if(type=="clear"){
		
		location="";
  		salesChannel="";
  		tender="";
  		zone="";
  		startdate="";
  		enddate="";
	}
			var URL = contextPath + "/reports/standardSalesDetailedReport.do";
	 	    $.ajax({
	  		url : URL,
	  		data : {
	  			index :index,
				maxRecords : maxRecords,
				location : location,
				salesChannel : salesChannel,
				tender : tender,
				zone : zone,
				startdate :startdate,
				enddate : enddate,
				saveFlag:saveFlag,
				flow : flow
	  		},
	  		beforeSend: function(xhr){                    
	 				$("#loadingreport").css("display","block");
	 				$("#mainDiv").addClass("disabled");
		        },

	  		success : function(result){
	  			// $(".active-menu").removeClass("active-menu");
	  		if(id != undefined)
					activeMenu(id);
	  		//$("#summary").html(result);
	  		$('#right-side').html(result);
	  		
	  		$("#loadingreport").css("display","none");
  			$("#mainDiv").removeClass('disabled');
  			
				var anchor = document.createElement('a');
				  anchor.href = $("#stockdownloadurl").val();
				  anchor.target = '_blank';
				  anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
				  anchor.click();
	  		},
	  		error : function(jqXHR, textStatus, errorThrown) {
	  			errorCode(jqXHR.status);
	  			$("#loadingreport").css("display","none");
				   $("#mainDiv").removeClass('disabled');
	  		}
	  	 });
		}
		catch(e)
		{
		errorCode(e);
		}
	   	}
 	
 	
 	function viewAllHomePageGroups(id,index){
		try{
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		  	var maxRecords = 10;
		  	if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
		  	var contextPath = $('#contextPath').val();
		  	var URL = contextPath + "/b2c/viewHomePageGroups.do";
		 $.ajax({
			type : "GET",
			url : URL,
			data : {
				index :index,
				maxRecords : maxRecords
			},
			beforeSend: function(xhr){                    
		   		$("#loading").css("display","block");
		   		$("#mainDiv").addClass("disabled");
		   	},
			success : function(result){
				if(id != undefined)
  					activeMenu(id);
				openMenu("lib2cConfig","ulb2cConfig",0);
				$('#right-side').html(result);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown) {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		 });
		}catch(e)
			{
			    errorCode(e);
			}
	}
     function viewPackagingandProcessing(id,index,flowUnder,menu,mastercode){
    	    	    try{
    	    	    	debugger;
    	    	    	// purpose:for checking internet conection
    	    	    		var online = window.navigator.onLine;
    	    	    	  	if(!online){
    	    	    	  	alert("Check your internet connection,Please try agian after some time.");
    	    	    	  	return;
    	    	    	  	}
    	    	    	  	
    	    	    	  	
    	    	    	  	
    	   	    			if(flowUnder == undefined && $("#flowUnder").length > 0)
    	   	    				flowUnder = $("#flowUnder").val();
    	   	    			var maxRecords = 10;
    	   	    			if($("#maxRecords").length>0)
    	   	    				maxRecords = $("#maxRecords").val();
    	   	    			var stockdownload = false;
    	   	    			if($("#stockdownload").val())
    	   	    				stockdownload = $("#stockdownload").val();
    	   	    			var location = "";
    	   	    			if($("#outletLocation").length > 0)
    	   	    				location = $("#outletLocation").val();
    	   	    			
    	   	    			
    	   	    			var zone = "";
    	   	    			if($("#outletZone").length > 0)
    	   	    				zone = $("#outletZone").val();
    	   	    			var startdate = "";
    	   	    			if($("#from").length > 0)
    	   	    				startdate = $("#from").val();
    	   	    			var enddate = "";
    	   	    			if($("#to").length > 0)
    	   	    				enddate = $("#to").val();
    	   	    			var category = "";
    	   	    			if($("#outletCategory").length > 0)
    	   	    				category = $("#outletCategory").val();
    	   	    			var subcategory = "";
    	   	    			if($("#outletSubcategory").length > 0)
    	   	    				subcategory = $("#outletSubcategory").val();
    	   	    			var brand = "";
    	   	    			if($("#outletBrandId").length > 0)
    	   	    				brand = $("#outletBrandId").val();
    	   	    			var department = "";
    	   	    			if($("#outletDepartmentId").length > 0)
    	   	    				department = $("#outletDepartmentId").val();
    	   	    			
    	   	    			var suppliername = "";
    	   	    			if($("#outletSupplierId").length > 0)
    	   	    				suppliername = $("#outletSupplierId").val();
    	   	    			
    	   	    			var contextPath = $("#contextPath").val();
    	   	    			URL = contextPath + "/inventorymanager/viewPackagingandProcessing.do";
    	   	    			$.ajax({
    	   	    				type: "GET",
    	   	    				url : URL,
    	   	    				data : {
    	   	    					location : location,
    	   	    					index : index,
    	   	    					maxRecords : maxRecords,
    	   	    					flowUnder : flowUnder,
    	   	    					zone : zone,
    	   	    					category : category,
    	   	    					subcategory : subcategory,
    	   	    					brand : brand,
    	   	    					department : department,
    	   	    					startdate : startdate,
    	   	    					enddate : enddate,
    	   	    					stockdownload : stockdownload,
    	   	    					suppliername : suppliername
    	   	    				},
    	    			
    	    	    		beforeSend: function(xhr){                    
    	    	   	   			$("#loading").css("display","block");
    	    	   	   			$("#mainDiv").addClass("disabled");
    	    	   	   		  },
    	    	    		success : function(result){
    	    	    			$('#right-side').html(result);
    	    	    			 if(id!=undefined && id != "")
        	    					 activeMenu(id);
    	    	    			
			  					$("#loading").css("display","none");
			  					$("#mainDiv").removeClass('disabled');
    	    	    		},
    	    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    	    			errorCode(jqXHR.status);
    	    	    			$("#loading").css("display","none");
    	    	 				$("#mainDiv").removeClass('disabled');
    	    	    		}
    	    	    	 });
    	    	    }
    	    	    catch(e)
    	    		{
    	    			errorCode(e);
    	    		}

    	    	     }
    	    function addpackaging(){
    	    	 try{
     				
     				var online = window.navigator.onLine;
     			  	if(!online){
     			  	alert("Check your internet connection,Please try agian after some time.");
     			  	return;
     			  	}
                 var type ="new";
                 var flowUnder = "";
                 if(flowUnder == undefined && $("#flowUnder").length > 0)
	    				flowUnder = $("#flowUnder").val();
	    			var zone = "";
	    			if($("#outletZone").length > 0)
	    				zone = $("#outletZone").val();
     		   var contextPath = $("#contextPath").val();
     		    URL = contextPath + "/inventorymanager/newpackage.do";
     	 		$.ajax({
     	 			type: "GET",
     	 			url : URL,
     	 			data : {
     	 				type : type,
     	 				zone:zone,
     	 				flowUnder: flowUnder
     	 			},
     	 			beforeSend: function(xhr){                    
     	   	   			$("#loading").css("display","block");
     	   	   			$("#mainDiv").addClass("disabled");
     	   	   		  },
     	 			success : function(result) {
     	 				$("#right-side").html(result);
     	 				
     	 				$("#loading").css("display","none");
     	 				$("#mainDiv").removeClass('disabled');
     	 			},
     	 			error : function(jqXHR, textStatus, errorThrown)  {
     	 				 errorCode(jqXHR.status);
     	 				$("#loading").css("display","none");
     	 				$("#mainDiv").removeClass('disabled');
     	 			}
     	 		});
     			}
     			catch(e)
     			{
     			errorCode(e);
     			}
    	    	 
    	    	 
    	     }
    	    // koti
 	function viewProductGroupMasterforHomepageGroup(id,index){
 	 debugger;
 		
 		var online = window.navigator.onLine;
		if(!online)
		{
			alert("There is no Internet Connection.");
			return false;
		}
		$("#Errorid").text("");
 		var maxRecords = "10";
 		if ($("#maxRecords").length > 0 && $("#maxRecords").val()!="")
 			maxRecords= $("#maxRecords").val();
 		 var searchCriteria ="";
 	  	  if($("#searchProductGroup").length>0)
 	  		searchCriteria = $("#searchProductGroup").val().trim();	 

 		var contextPath = $("#contextPath").val();
 	   URL = contextPath+"/outletMaster/viewProductGroupforHomepage.do";
 		
 			$.ajax({
 				type: "GET",
 				url : URL,
 				data : {
 					index : index,
 					maxRecords:maxRecords,
 					searchCriteria: searchCriteria 
 				},
 				beforeSend: function(xhr){                    
 		   			$("#loading").css("display","block");
 		   			$("#mainDiv").addClass("disabled");
 		   		  },
 				success : function(result) {
 					
 					appendProductsGroup(result);
 					activeMenu(id);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function() {
 					 alert("Internal error, please contact Technolabs support. ");
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				}
 			});
 	}
 	
 	
	
	
		
 // koti
 	function viewProductGroupMasterforHomepageGroup(id,index){
 	 debugger;
 		
 		var online = window.navigator.onLine;
		if(!online)
		{
			alert("There is no Internet Connection.");
			return false;
		}
		$("#Errorid").text("");
 		var maxRecords = "10";
 		if ($("#maxRecords").length > 0 && $("#maxRecords").val()!="")
 			maxRecords= $("#maxRecords").val();
 		 var searchCriteria ="";
 	  	  if($("#searchProductGroup").length>0)
 	  		searchCriteria = $("#searchProductGroup").val().trim();	 

 		var contextPath = $("#contextPath").val();
 	   URL = contextPath+"/outletMaster/viewProductGroupforHomepage.do";
 		
 			$.ajax({
 				type: "GET",
 				url : URL,
 				data : {
 					index : index,
 					maxRecords:maxRecords,
 					searchCriteria: searchCriteria 
 				},
 				beforeSend: function(xhr){                    
 		   			$("#loading").css("display","block");
 		   			$("#mainDiv").addClass("disabled");
 		   		  },
 				success : function(result) {
 					
 					appendProductsGroup(result);
 					activeMenu(id);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function() {
 					 alert("Internal error, please contact Technolabs support. ");
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				}
 			});
 	}
 	
 	
 	
 	
 	function appendProductsGroup(productsList, searchCategory)
 	{
 		debugger;
 		 $(".homePageGroups").html('');
 		 
 		 
 		 
 		 var op = '';
 			debugger;
 			
 				 for(var i=0;i<productsList.length;i++){
 					
 						
 			
 		 
 		
 			 if (i == 0) 
 			     op += '<li style="text-align: left;" id="'+productsList[i].groupId+'" onclick=getIdHomePage('+productsList[i].groupId+'); ><a><label style="width: 30%;">'+productsList[i].groupId+'</label>&nbsp &nbsp &nbsp'+productsList[i].groupDescription+'&nbsp &nbsp &nbsp &nbsp &nbsp</li>';
 	 else
 	     op += '<li style="text-align: left;" id="'+productsList[i].groupId+'" onclick=getIdHomePage('+productsList[i].groupId+'); ><a><label style="width: 30%;">'+productsList[i].groupId+'</label>&nbsp &nbsp &nbsp'+productsList[i].groupDescription+'&nbsp &nbsp &nbsp &nbsp &nbsp</li>';
 	 }
 		 $(".homePageGroups").html(op);
 		 $(".homePageGroups").show();
 	}
 	
 	
 	function getIdHomePage(groupid){
 		 debugger;
  		
 		 
  		var online = window.navigator.onLine;
 		if(!online)
 		{
 			alert("There is no Internet Connection.");
 			return false;
 		}
 		 var groupid= $(groupid).attr("id");
 		$("#Errorid").text("");
 		
  		var contextPath = $("#contextPath").val();
  	   URL = contextPath+"/outletMaster/createHomepageGroup.do";
  		
  			$.ajax({
  				type: "GET",
  				url : URL,
  				data : {
  					groupid : groupid 
  				},
  				beforeSend: function(xhr){                    
  		   			$("#loading").css("display","block");
  		   			$("#mainDiv").addClass("disabled");
  		   		  },
  				success : function(result) {
  					
  					$("#right-side").html(result);
  					
  					$("#loading").css("display","none");
  					$("#mainDiv").removeClass('disabled');
  				},
  				error : function() {
  					 alert("Internal error, please contact Technolabs support. ");
  					$("#loading").css("display","none");
  					$("#mainDiv").removeClass('disabled');
  				}
  			});
  	}	
 		
 	
 	function downloadstocktrackreport(ele){
   	 var stocktype= $("#stockType").val();
   	 // $("#maxRecords").val("-1");
   	 $("#stockdownload").val(true);
   	 var flowUnder =  $("#flowUnder").val();
   	 viewDailyStockTracker('WHDailyStockTracker','0',flowUnder,'menu');
    }




function viewDailyStockTracker(id,index,flowUnder,menu){
	debugger;
	try{
		
		// purpose:for checking internet conection
		var online = window.navigator.onLine;
		if(!online){
			alert("Check your internet connection,Please try agian after some time.");
			return;
		}

		// debugger

		var searchName=""
			if($("#searchStocks").length>0)
				searchName = $("#searchStocks").val();
		
		if(flowUnder == undefined && $("#flowUnder").length > 0)
			flowUnder = $("#flowUnder").val();
		var maxRecords = 10;
		if($("#maxRecords").length>0)
			maxRecords = $("#maxRecords").val();
		var stockdownload = false;
		if($("#stockdownload").val())
			stockdownload = $("#stockdownload").val();
		var location = "";
		if($("#outletLocation").length > 0)
			location = $("#outletLocation").val();
		var zone = "";
		if($("#outletZone").length > 0)
			zone = $("#outletZone").val();
		var startdate = "";
		if($("#from").length > 0)
			startdate = $("#from").val();
		var enddate = "";
		if($("#to").length > 0)
			enddate = $("#to").val();
		
		
		
		var category = "";
		if($("#outletCategory").length > 0)
			category = $("#outletCategory").val();
		var subcategory = "";
		if($("#outletSubcategory").length > 0)
			subcategory = $("#outletSubcategory").val();
		var brand = "";
		if($("#outletBrandId").length > 0)
			brand = $("#outletBrandId").val();
		var department = "";
		if($("#outletDepartmentId").length > 0)
			department = $("#outletDepartmentId").val();
		var startprice = "";
		if($("#outletStartPrice").length > 0)
			startprice = $("#outletStartPrice").val();
		var endprice = "";
		if($("#outletEndPrice").length > 0)
			endprice = $("#outletEndPrice").val();
		
		if(startprice != "" || startprice != undefined && endprice != "" || endprice != undefined){
 		   if (startprice > endprice){
 		     $("#priceError").html("End price can't be less than Start price");
 		           return;
 		  }else{
 	   	 $("#priceError").html(" ");
 	  }
 }
		
		var stockType = "";
		if(stockType == "" && $("#stockType").length>0)
			stockType = $("#stockType").val();
		
		var suppliername = "";
		if($("#outletSupplierId").length > 0)
			suppliername = $("#outletSupplierId").val();
		
		if(startdate != "" && enddate != ""){
		 var noOfDays = daydiff(parseDate($('#from').val()), parseDate($('#to').val()));
		 if(noOfDays < 0){
			 $("#endDateError").html("End Date can't be less than Start Date");
			 return;
		 }else{
	  	   	 $("#endDateError").html(" ");
	  	 }
		}
		
		var contextPath = $("#contextPath").val();
		URL = contextPath + "/inventorymanager/viewStockHistory.do";
		$.ajax({
			type: "GET",
			url : URL,
			data : {
				location : location,
				index : index,
				maxRecords : maxRecords,
				flowUnder : flowUnder,
				zone : zone,
				stockType : stockType,
				category : category,
				subcategory : subcategory,
				brand : brand,
				department : department,
				startprice : startprice,
				endprice : endprice,
				startdate : startdate,
				enddate : enddate,
				stockdownload : stockdownload,
				suppliername : suppliername,
				searchName : searchName
			},
			beforeSend: function(xhr){                    
				$("#loading").css("display","block");
				$("#mainDiv").addClass("disabled");
			},
			success : function(result) {
				$("#right-side").html(result);
				// if(stockdownload){

				var anchor = document.createElement('a');
				anchor.href = $("#stockdownloadurl").val();
				anchor.target = '_blank';
				anchor.download = '';
				if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
					anchor.click();


				if(flowUnder == "outlet"){
					activeMenu(id);
					openMenu("liOutletStocks","ulOutletStocks",0);
					openMenu("liInventoryManagement","ulInventoryManagement",1);
					openMenu("storedetails","ulstoredetails",1);
				}
				if(flowUnder == "warehouse"){
					activeMenu(id);
					openMenu("liwarehouseStocks","ulwarehouseStocks",0);
					openMenu("liStockManagement","ulStockManagement",1);
					openMenu("warehouseDetails","ulwarehouseDetails",1);
				}
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			},
			error : function(jqXHR, textStatus, errorThrown)  {
				errorCode(jqXHR.status);
				$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
			}
		});
	}
	catch(e)
	{
		errorCode(e);
	}

}


function validateWareHousePOS(operation){
debugger;
         try{
         var contextPath = $("#contextPath").val();
         
        
         
        // purpose:for checking internet conection
        var online = window.navigator.onLine;
         if(!online){
         alert("Check your internet connection,Please try agian after some time.");
         return;
         }
          var location = $('#workLocation').val();
          if(location == ""){
                  $("#Error").html("Please Create Location Prior to Creating Warehouse");
                  return;
          }
          var locations = location;
         location = location.split("-")[0];
          var storeName = $('#storename').val();
         /*
         * if($("#error").text() != ""){ $("#phoneNumber").focus(); return
         * false; }
         */
          
          
         var zoneId=$('#zoneId').val();
          if(zoneId=="" || zoneId==null||zoneId==undefined){
                  zoneId=""
          $("#zoneId").focus();
          $("#Error").html("Please Create one zone to Warehouse");
                  return false;
          }
          
          
          if($("#street").val() == ""){
                   $("#street").focus();
                  $("#streetError").html("street should not be empty"); 
                   return false;
           }
          else{
                  $("#streetError").html(""); 
                  }
                   

          if($("#locality").val() == ""){
$("#locality").focus();
         $('#localityErr').html('Locality is required');
         return false;
         }
          else{
                $("#localityErr").html(""); 
                }
        
          

         if($("#phoneNumber").val() == ""){
                            $("#phoneNumber").focus();
                           $("#phoneNumberError").html("phone number should not be empty"); 
                            return false;
                    }
          
          var defaultCountry = $("#defaultCountry").val().trim();
                  var phoneNumber = $("#phoneNumber").val().trim();
                  if(defaultCountry != "" && phoneNumber != ""){
                          $("#phone").val(defaultCountry+"-"+phoneNumber);
                  }
                  
                  var mobileNumber = validateMobileNumber();
                  if(mobileNumber == false){
                          $("#phoneNumber").focus();
                         $("#phoneNumberError").html("Enter 10 digits Only"); 
                         return;
                  }
                  var street = "";
                 var locality = "";
                 var email = "";
                 var periphery ="";
                 var secured = false;
                 var remoteMonitoring = false;
              var phone = $('#phone').val();
                 var amount = $('#amount').val();
                 var gpsLongitude = $('#gpsLongitude').val();
                 var gpsLatitude = $('#gpsLatitude').val();
                 var category = $('#category').val();
                 var startTime = $('#startTime').val();
                 var endTime = $('#endTime').val();
                 
                 //added by koti
                 var maximumCashLimit = $('#maximumCashLimit').val();
                 var leadTime = "";
                 var warehouseId = "";
                if($('#street').val().trim()!="")
                 street = $('#street').val();
                
                if($('#locality').val().trim()!="")
                 locality = $('#locality').val();
                if($('#emailIDinOutlet').val().trim()!="")
                 email = $('#emailIDinOutlet').val();
                if($('#periphery').val().trim()!="")
                 periphery = $('#periphery').val();
                if($('#secured').val().trim()!="")
                 secured = $('#secured').val();
                if($('#remoteMonitoring').val().trim()!="")
                 remoteMonitoring = $('#remoteMonitoring').val();
                if($('#leadTime').val().trim()!="")
                        leadTime = $('#leadTime').val();
                
                if(operation == "edit"){
                        
                        warehouseId = $('#whidupdate').val();
                        }else{
                                
                                warehouseId = locations.split("-")[1];
                        }
                
                        
                
                if(maximumCashLimit =="" || maximumCashLimit == undefined || maximumCashLimit == null){
                        maximumCashLimit ="";
                }
        
                
                
                else  if(phone.trim()==""){
                  $("#phoneNumber").focus();
                  $('#error').html('Phone No is required');
                 
          }else if(gpsLongitude.trim()==""){
                         $('#gpsLongitudeError').html('GPS Longitude is required');
                 }else if(gpsLatitude.trim()==""){
                         $('#gpsLatitudeError').html('GPS Latitude is required');
                 }else if(amount.trim()==""){
                        $("#amount").focus();
                         $('#amountError').html('Amount should be specified');
                 }else if(startTime.trim()==""){
                         $('#startTimeError').html('Start time is required');
                 }else if(endTime.trim()==""){
                         $('#endTimeError').html('End Time is required');
                 }else{
                         var finalObj = {}, facilitiesInfo = [], obj = {};
                        //finalObj.locationId = location;
                        finalObj.warehouse_name = storeName;
                        finalObj.phone = phone;
                        finalObj.location = location;
                        finalObj.startTime = startTime;
                        finalObj.endTime = endTime;
                        finalObj.minPayAmount = amount;
                        finalObj.gpsLongitude = gpsLongitude;
                        finalObj.gpsLatitude = gpsLatitude;
                        finalObj.category = category;
                        finalObj.street = street;
                        finalObj.email = email;
                        finalObj.periphery = parseFloat(periphery);
                        if (secured == "true"){
                                finalObj.secured = true;
                                }else{
                                        finalObj.secured = false;        
                                }
                        
                        if (remoteMonitoring == "true"){
                                finalObj.remoteMonitoring = true;
                                }else{
                                        finalObj.remoteMonitoring = false;        
                                }
                        
                        finalObj.locality = locality;
                        finalObj.leadTime = parseInt(leadTime);
                        finalObj.maximumCashLimit= parseFloat(maximumCashLimit);
                        finalObj.warehouseId = warehouseId;
                        finalObj.fax = $("#fax").val();
                        finalObj.tollFreeNum = $("#tollFreeNum").val();
         
        
                
                var dayOpenMandatory = $('input:radio[name=dayOpenMandatory]:checked').val();
                 if(dayOpenMandatory == "true"){
                      finalObj.dayOpenMandatory =true;
              }else{
                                finalObj.dayOpenMandatory = false;        
                        }
        
                finalObj.gstIn = $("#gstIn").val();
                        var zoneId=""
            if($('#zoneId').val()!="")
                    zoneId = $('#zoneId').val();
      var outletType = $('input:radio[name=outletType]:checked').val();
      if(outletType == "true"){
              finalObj.outletType =true;
      }else{
                        finalObj.outletType = false;        
                }
      
     var manualDiscounts = $('input:radio[name=manualDiscounts]:checked').val();
      if(manualDiscounts == "true"){
              finalObj.manualDiscounts =true;
      }else{
                        finalObj.manualDiscounts = false;        
                }
      
      var discountCalculatedOn = $('input:radio[name=discountCalculatedOn]:checked').val();
      
      if(discountCalculatedOn != undefined || discountCalculatedOn != null){
              finalObj.discountCalculatedOn = discountCalculatedOn;
      }
      
      var discountTaxation = $('input:radio[name=discountTaxation]:checked').val();
      if(discountTaxation != undefined || discountTaxation != null ){
              finalObj.discountTaxation = discountTaxation;
      }
      var employeeDiscounts = $('input:radio[name=employeeDiscounts]:checked').val();
      if(employeeDiscounts == "true"){
              finalObj.employeeDiscounts =true;
      }else{
                        finalObj.employeeDiscounts = false;        
                }
     /* finalObj.productsMenu = $('input:radio[name=productsMenu]:checked').val();
      finalObj.zeroStock = $('input:radio[name=zeroStock]:checked').val();
     */ var latestCampaigns = $('input:radio[name=latestCampaigns]:checked').val();
     if(latestCampaigns == "true"){
             finalObj.latestCampaigns =true;
     }else{
                        finalObj.latestCampaigns = false;        
                }
     
     
     var zeroStock = $('input:radio[name=zeroStock]:checked').val();
     if(zeroStock == "true"){
             finalObj.zeroStock =true;
     }else{
                        finalObj.zeroStock = false;        
                }
     
     
     var roundingRequired = $('input:radio[name=roundingRequired]:checked').val();
     if(roundingRequired == "true"){
             finalObj.roundingRequired =true;
     }else{
                        finalObj.roundingRequired = false;        
                }
     
     var productsMenu = $('input:radio[name=productsMenu]:checked').val();
     if(productsMenu == "true"){
             finalObj.productsMenu =true;
     }else{
                        finalObj.productsMenu = false;        
                }
     
     
      finalObj.zoneId=zoneId;
      var billId = $('input:radio[name=billId]:checked').val();
      
      if(billId == "true"){
                 finalObj.billId =true;
         }else{
                                finalObj.billId = false;        
                        }
                finalObj.companyOwned = $("#companyOwned").val();
                //finalObj.stockVerificationType = $("#stockVerificationType").val();
                debugger;
                var offLineDataTimedOutDays = $("#offLineDataTimedOutDays").val();
                var offLineDataTimedOutHours = $("#offLineDataTimedOutHours").val();
                if(offLineDataTimedOutDays == ""){
                        
                        offLineDataTimedOutDays = "1";
                }
                if(offLineDataTimedOutHours == ""){
                        offLineDataTimedOutHours = "1";
                }
                
                finalObj.offLineDataTimedOutDays = parseInt(offLineDataTimedOutDays);
                finalObj.offLineDataTimedOutHours = parseInt(offLineDataTimedOutHours);
                var foodCoupons = $('input:radio[name=foodCoupons]:checked').val();
                 if(foodCoupons == "true"){
                      finalObj.foodCoupons =true;
              }else{
                                finalObj.foodCoupons = false;        
                        }
                var remoteBilling = $('input:radio[name=remoteBilling]:checked').val();
                 if(remoteBilling == "true"){
                      finalObj.remoteBilling =true;
              }else{
                                finalObj.remoteBilling = false;        
                        }
                var printing = $('input:radio[name=printing]:checked').val();
                 if(printing == "true"){
                      finalObj.printing =true;
              }else{
                                finalObj.printing = false;        
                        }
                var dooorDelivery = $('input:radio[name=doorDelivery]:checked').val();
                 if(dooorDelivery == "true"){
                      finalObj.dooorDelivery =true;
              }else{
                                finalObj.dooorDelivery = false;        
                        }
                
                var exchange = $('input:radio[name=returns]:checked').val();
                 if(exchange == "true"){
                      finalObj.exchange =true;
              }else{
                                finalObj.exchange = false;        
                        }
                var returns = $('input:radio[name=exchanges]:checked').val();
                 if(returns == "true"){
                      finalObj.returns =true;
              }else{
                                finalObj.returns = false;        
                        }
                var storeStatus = $('input:radio[name=storeStatus]:checked').val();
                 if(storeStatus == "1"){
                      finalObj.outletStatus = true;
              }else{
                                finalObj.outletStatus = false;        
                        }
                finalObj.returnMode = $('input:radio[name=returnMode]:checked').val();
                
                var employeeSaleId = $('input:radio[name=employeeSaleId]:checked').val();
                 if(employeeSaleId == "true"){
                      finalObj.employeeSaleId =true;
              }else{
                                finalObj.employeeSaleId = false;        
                        }
                finalObj.barcodeType = $('input:radio[name=barcodeType]:checked').val();
                 
                var telephonicOrders = $('input:radio[name=telephonicOrders]:checked').val();
                 if(telephonicOrders == "true"){
                      finalObj.telephonicOrders =true;
              }else{
                                finalObj.telephonicOrders = false;        
                        }
                var onlineOrders = $('input:radio[name=onlineOrders]:checked').val();
                 if(onlineOrders == "true"){
                      finalObj.onlineOrders =true;
              }else{
                                finalObj.onlineOrders = false;        
                        }
                var attendanceEnabled = $('input:radio[name=attendanceEnabled]:checked').val();
                 if(attendanceEnabled == "true"){
                      finalObj.attendanceEnabled =true;
              }else{
                                finalObj.attendanceEnabled = false;        
                        }
                var offlineMode = $('input:radio[name=offlineMode]:checked').val();
                 if(offlineMode == "true"){
                      finalObj.offlineMode =true;
              }else{
                                finalObj.offlineMode = false;        
                        }
                var mobileSecurity = $('input:radio[name=mobileSecurity]:checked').val();
                 if(mobileSecurity == "true"){
                      finalObj.mobileSecurity =true;
              }else{
                                finalObj.mobileSecurity = false;        
                        }
                finalObj.outletType = $('input:radio[name=outletType]:checked').val();
                
                /*finalObj.stockRequest = $('input:radio[name=stockRequest]:checked').val();
                finalObj.stockReciept = $('input:radio[name=stockReciept]:checked').val();
                finalObj.stockIssue = $('input:radio[name=stockIssue]:checked').val();
                finalObj.stockReturn = $('input:radio[name=stockReturn]:checked').val();
                finalObj.outletGrn = $('input:radio[name=outletGrn]:checked').val();
                finalObj.roundingRequired = $('input:radio[name=roundingRequired]:checked').val();
                */finalObj.exchangeMode = $('input:radio[name=exchangeMode]:checked').val();
                 
                var enforceDenominations = $('input:radio[name=enforcedenominations]:checked').val();
                 if(enforceDenominations == "true"){
                      finalObj.enforceDenominations =true;
              }else{
                                finalObj.enforceDenominations = false;        
                        }
                var enforceVoidItemsReason = $('input:radio[name=enforcevoiditems]:checked').val();
                 if(enforceVoidItemsReason == "true"){
                      finalObj.enforceVoidItemsReason =true;
              }else{
                                finalObj.enforceVoidItemsReason = false;        
                        }
                var enforceBillCancelReason = $('input:radio[name=billcancel]:checked').val();
                 if(enforceBillCancelReason == "true"){
                      finalObj.enforceBillCancelReason =true;
              }else{
                                finalObj.enforceBillCancelReason = false;        
                        }
                
                 // added by manasa
                var editPrice = $('input:radio[name=editprice]:checked').val();
                 if(editPrice == "true"){
                      finalObj.editPrice =true;
              }else{
                                finalObj.editPrice = false;        
                        }
                var masterFlag = $('input:radio[name=masterflag]:checked').val();
                 if(masterFlag == "true"){
                      finalObj.masterFlag =true;
              }else{
                                finalObj.masterFlag = false;        
                        }
                var testStore = $('input:radio[name=teststore]:checked').val();
                 if(testStore == "true"){
                      finalObj.testStore =true;
              }else{
                                finalObj.testStore = false;        
                        }
                var hybrid_mode = $('input:radio[name=hybrid_mode]:checked').val();
                 if(hybrid_mode == "true"){
                      finalObj.hybrid_mode =true;
              }else{
                                finalObj.hybrid_mode = false;        
                        }
                var dayStartSync = $("#dayStartSync").val();
                
                if (dayStartSync == "true"){
                finalObj.dayStartSync = true;
                }else{
                        finalObj.dayStartSync = false;        
                }
                debugger;
                var returnAllowDays=$("#returnDays").val();
                
                finalObj.returnAllowDays=parseInt(returnAllowDays);
                
                var exchangeAllowDays=$("#exchangeDays").val();
                finalObj.exchangeAllowDays=parseInt(exchangeAllowDays);
                finalObj.cancelAllowDays=parseInt($("#cancelDays").val());
                //added by koti
                finalObj.creditNoteExpiryDays=parseInt($("#expiryDays").val());
                var requiredCustomerNumber = $('input:radio[name="customerNo"]:checked').val();
                 if(requiredCustomerNumber == "true"){
                      finalObj.requiredCustomerNumber =true;
              }else{
                                finalObj.requiredCustomerNumber = false;        
                        }
                
                finalObj.draftAllowDays=parseInt($("#draftAllowDays").val());
                //finalObj.stockSaleAllowDays=$("#stockSaleAllowDays").val();
                
                finalObj.signature=$("#signatureFile").val();
                finalObj.sigantureImageRef=$("#signature_refId").val();
                
                /*finalObj.multipleStockReceipts=$('input:radio[name="multipleStockReceipts"]:checked').val();
                finalObj.stockMaintainDays=$("#stockMaintainDays").val();
                */
                //Sales FTP
                var ftpUploadRequired=$('input:radio[name="salesFTP"]:checked').val();
                if(ftpUploadRequired == "true"){
                        finalObj.ftpUploadRequired = true
                 }else{
                                finalObj.ftpUploadRequired = false;        
                        }
                finalObj.ftpServer=$("#ftpIp").val();
                finalObj.ftpPort=$("#ftpPort").val();
                finalObj.userId=$("#ftpUserId").val();
                finalObj.password=$("#ftpPasword").val();
                var isInventoryRequired = $("#isInventoryRequired").val();
                if(isInventoryRequired == "true"){
                        finalObj.isInventoryRequired = true
                 }else{
                                finalObj.isInventoryRequired = false;        
                        }
                
                 //finalObj.isInventoryRequired = $("#isInventoryRequired").val();
                 isVirtualStore = $("#isVirtualStore").val();
                 
                 if (isVirtualStore == "true"){
                        finalObj.isVirtualStore = true;
                        }else{
                                finalObj.isVirtualStore = false;        
                        }
                var cardinfo = $('input:radio[name=cardinfo]:checked').val();
                 if(cardinfo == "true"){
                      finalObj.cardinfo =true;
              }else{
                                finalObj.cardinfo = false;        
                        }
                
                var offlineDuplicateBill= $('input:radio[name=offlineDuplicateBill]:checked').val();
                 if(offlineDuplicateBill == "true"){
                      finalObj.offlineDuplicateBill =true;
              }else{
                                finalObj.offlineDuplicateBill = false;        
                        }
                var creditNoteMultipleClaims= $('input:radio[name=creditNoteMultipleClaims]:checked').val();
                 if(creditNoteMultipleClaims == "true"){
                      finalObj.creditNoteMultipleClaims =true;
              }else{
                                finalObj.creditNoteMultipleClaims = false;        
                        }
                var counterOTP = $('input:radio[name=counterOTP]:checked').val();
                 if(counterOTP == "true"){
                      finalObj.counterOTP =true;
              }else{
                                finalObj.counterOTP = false;        
                        }
                var returnBillRefRequired = $('input:radio[name=returnBillRefRequired]:checked').val();
                 if(returnBillRefRequired == "true"){
                      finalObj.returnBillRefRequired =true;
              }else{
                                finalObj.returnBillRefRequired = false;        
                        }



var billOtp = $('input:radio[name=billOtp]:checked').val();
		 if(billOtp == "true"){
	    	  finalObj.billOtp =true;
	      }else{
				finalObj.billOtp = false;	
			}

                
                  var dateTime = getCurrentDate();
                   var date = dateTime.split(' ');
                   date = date[0].split('/');
                   var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
                  // var startdate = formatedDate;
                        if($("#createddate").val().trim() == "")
                        finalObj.createdDatestr = formatedDate;
                        else
                        finalObj.createdDatestr = $("#createddate").val().trim();
                        
                        finalObj.updatedDatestr = $("#updatedddate").val().trim();
                        
                        
                        // added by vinay
                        finalObj.timeOutStr = $("#timeOutStr").val();
                         finalObj.suspendReason = $("#suspendReason").val();
                
                                finalObj.type = $("#type").val();
                finalObj.operation = operation;
                 }
                
                        URL = contextPath + "/inventorymanager/createWarehousePOS.do";
                
                var formData = JSON.stringify(finalObj);
                console.log(formData);
                $.ajax({
                          type: "POST",
                           url : URL,
                           contentType: "application/json",
             data : formData,
                 beforeSend: function(xhr){                    
                                            $("#loading").css("display","block");
                                            $("#mainDiv").addClass("disabled");
                  },

                           success : function(result) {
                              $("#right-side").html(result);
                            $("#loading").css("display","none");
                             $("#mainDiv").removeClass('disabled');

                            },
                           error : function(jqXHR, textStatus, errorThrown)  {
                                    errorCode(jqXHR.status);
                                   $("#loading").css("display","none");
                             $("#mainDiv").removeClass('disabled');
                           }
                   });
         } catch(e)
                {
                errorCode(e);
                }

        
}







function viewHSNMaster(id,index,location){
	debugger;
	try{
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
		// debugger;
	
		
		var maxRecords="10";
		if($("#maxRecords").length > 0)
			maxRecords = $("#maxRecords").val();
		
		
		
		var contextPath = $("#contextPath").val();
		URL = contextPath + "/genericMaster/viewHsnMaster.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				index : index,
 				location : location,
 				maxRecords : maxRecords,
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
 			success : function(result) {
 				$("#right-side").html(result);
 				activeMenu(id);
 				openMenu("liGenericData","ulGenericData",0);
	    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	    		$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
	}
	catch(e)
	{
	errorCode(e);
	}

	}
function getWareHousespos(id,index){
	   debugger;
		try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}

	   var contextPath = $('#contextPath').val();
	   var URL = contextPath + "/inventorymanager/getWareHousespos.do";
	    $.ajax({
		url : URL,
		data : {
			index : index,
			id : id
		},
		beforeSend: function(xhr){                    
				$("#loading").css("display","block");
				$("#mainDiv").addClass("disabled");
     },

		success : function(result){
			$('#right-side').html(result);
			if(id != "" && id != undefined)
				activeMenu(id);
			openMenu("warehouseDetails", "ulwarehouseDetails",0);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
		   $("#mainDiv").removeClass('disabled');
		}
	 });
		}
		catch(e)
		{
		errorCode(e);
		}


}

function viewEditPack(packageId,operation){
	debugger;
	 //purpose:for checking internet conection
	var online = window.navigator.onLine;
 	if(!online)
 	{
 	alert("check your internet connection,please try agian after some time");
 	return;
 	}
	var contextPath = $("#contextPath").val();
	URL = contextPath + "/inventorymanager/viewEditPack.do";
	$.ajax({
		type: "GET",
		url : URL,
		data : {
			packageId : packageId,
			operation : operation
			
		},
		beforeSend: function(xhr){                    
			$("#loading").css("display","block");
			$("#mainDiv").addClass("disabled");
		},
		success : function(result) {
			$('#right-side').html(result);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function() {
			alert("something went wrong");
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	});	
	
	
	
	
}



	function showWarehouseSalesReportsFlows(id,flow){
		try{

			var online = window.navigator.onLine;
			if(!online){
				alert("Check your internet connection,Please try agian after some time.");
				return;
			}

			var contextPath = $('#contextPath').val();
			var URL = contextPath + "/reports/showOutletSalesReportsFlows.do";
			$.ajax({
				url : URL,
				data : {
       flow : flow
				},
				beforeSend: function(xhr){                    
					$("#loading").css("display","block");
					$("#mainDiv").addClass("disabled");
				},

				success : function(result){
					$(".active-menu").removeClass("active-menu");
					
					
					openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
					openMenu("liWarehouseReports","ulWarehouseReports",1);
					openMenu("reports", "ulReports",1);
					activeMenu(id);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			});
		}
	catch(e)
	{
	              errorCode(e);
	}

	}


    
    function viewStockUploading(id,index,flowUnder,menu,verificationCode,location){
   	 try{
   	// purpose:for checking internet conection
   		var online = window.navigator.onLine;
   	  	if(!online){
   	  	alert("Check your internet connection,Please try agian after some time.");
   	  	return;
   	  	}
   	 
	     	 debugger;
  
    	 var location = "";
	    	if($("#warehouseLocation").length > 0)
	    		location = $("#warehouseLocation").val();
	    	var zone = "";
	    	if($("#warehouseZone").length > 0)
	    		zone = $("#warehouseZone").val();
			
			if($("#location").val()=="all")
				location="";
	    	
			var maxRecords = 10;
			if($("#maxRecords").length > 0)
				maxRecords = $("#maxRecords").val();
			var startDate="";
			if($("#from").length > 0)
				startDate = $("#from").val();
			var endDate="";
			if($("#to").length > 0)
				endDate = $("#to").val();
			var searchName="";
			if($("#searchStockPosting").length > 0)
				searchName = $("#searchStockPosting").val();
			var category = "";
    	if($("#outletCategory").length > 0)
    		category = $("#outletCategory").val();
    	
    	var subcategory = "";
    	if($("#outletSubcategory").length > 0)
    		subcategory = $("#outletSubcategory").val();
    	var section = "";
		if ($("#section").length > 0)
			section = $("#section").val();
		var department = null;
			if($("#outletDepartmentId").length > 0)
				department = $("#outletDepartmentId").val();
			var subdepartment = null;
			if($("#outletSubDepartmentId").length > 0)
				subdepartment = $("#outletSubDepartmentId").val();
		
			
			var contextPath = $("#contextPath").val();
//alert(contextPath);
	    	 var URL = contextPath + "/inventorymanager/viewWarehouseStockUploading.do";
	    	 $.ajax({
	    		type : "GET",
	    		url : URL,
	    		data : {
	    			index : index,
    				flowUnder : flowUnder,
    				location : location,
    				verificationCode : verificationCode,
    				startDate : startDate,
    				endDate : endDate,
    				maxRecords : maxRecords,
    				searchName : searchName,
    				zone : zone,
    				department : department,
    				subdepartment : subdepartment,
    				category : category,
    				subcategory : subcategory,
    				section	: section
	    		
	    		},
	    		beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
    		success : function(result){
    			$('#right-side').html(result);
    			
    			
    		
    			if(id == "outletStockVerificationReport"){
    				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
    				openMenu("liInventoryManagement","ulInventoryManagement",1);
    				openMenu("storedetails", "ulstoredetails",1);
    			}
    			else if(id == "warehouseStockVerificationReport"){
    				openMenu("liWarehouseStockVerifications","ulWarehouseStockVerifications",0);
   				openMenu("liStockManagement","ulStockManagement",1);
   				openMenu("warehouseDetails", "ulwarehouseDetails",1);
    			}
    			
    			if(id!=undefined && id != "")
    				activeMenu(id);
    			$("#loading").css("display","none");
    			$("#mainDiv").removeClass('disabled');
    		},
    		error : function(jqXHR, textStatus, errorThrown) {
    			errorCode(jqXHR.status);
    			$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
    		}
	    	 });
   	 }catch(e)
		{
			errorCode(e);
		}

     }


  function viewStockPostingData(skuid,flowUnder,ref,operation){
	  
	// purpose:for checking internet conection
 		var online = window.navigator.onLine;
 	  	if(!online){
 	  	alert("Check your internet connection,Please try agian after some time.");
 	  	return;
 	  	}
 	 try{
	     	 debugger;

			var contextPath = $("#contextPath").val();
//alert(contextPath);
	    	 var URL = contextPath + "/inventorymanager/viewWarehouseStockUploadingData.do";
	    	 $.ajax({
	    		type : "GET",
	    		url : URL,
	    		data : {
	    		skuid : skuid,
	    		flowUnder : flowUnder,
	    		ref : ref,
	    		operation : operation
	    		
	    		},
	    		beforeSend: function(xhr){                    
 	   			$("#loading").css("display","block");
 	   			$("#mainDiv").addClass("disabled");
 	   		  },
  		success : function(result){
  			$('#right-side').html(result);
  			
  			$("#loading").css("display","none");
  			$("#mainDiv").removeClass('disabled');
  		},
  		error : function(jqXHR, textStatus, errorThrown) {
  			errorCode(jqXHR.status);
  			$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
  		}
	    	 });
 	 }catch(e)
		{
			errorCode(e);
		}
	  
  }
      function viewOrdervsStock(id,index,saveflag){
    	  
	   		try{

	   			var online = window.navigator.onLine;
	   			if(!online){
	   				alert("Check your internet connection,Please try agian after some time.");
	   				return;
	   			}
	   			debugger
	   			var contextPath = $('#contextPath').val();
	   			var URL = "";
	   			
	   	

	   			var outletCategory = "";
	   			if($("#outletCategory").length>0)
	   				outletCategory = $("#outletCategory").val();
	   			
	   			var outletSubCategory = "";
	   			if($("#outletSubcategory").length>0)
	   				outletSubCategory = $("#outletSubcategory").val();
	   			
	   			var outletDepartment = "";
	   			if($("#outletDepartmentId").length>0)
	   				outletDepartment = $("#outletDepartmentId").val();
	   			var outletSection = "";
	   			if($("#outletSection").length>0)
	   				outletSection = $("#outletSection").val();
	   			
	   			
	   			var outletlocation = "";
	   			if($("#location").length>0)
	   				outletlocation = $("#location").val();

	   			
	   			var maxRecords = "10";
	   			if($("#maxRecords").length>0)
	   				maxRecords = $("#maxRecords").val();


	   			var startDate=""
	   				if($("#from").length>0)
	   					startDate = $("#from").val();

	   			var endDate=""
	   				if($("#to").length>0)
	   					var endDate = $("#to").val();
	   			
	   			if(endDate == "" || endDate == undefined || endDate == null){
	   				
	   				
	   				var dateTime = getCurrentDate();
	   				var date = dateTime.split(' ');
	   				date = date[0].split('/');
	   				var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	   				var endDate = formatedDate;	
	   				endDate = endDate
	   				
	   			}
	   			
	   		if(startDate == "" || startDate == undefined || startDate == null){
	  			
	   		
	   				var dateTime = getCurrentDate();
	   				var date = dateTime.split(' ');
	   				date = date[0].split('/');
	   				var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
		    	  var startDate = formatedDate;	
		    	  startDate = startDate
		  
		  		}	
	   			
	   		
	   	 if (startDate != "" && endDate != "") {
		   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		   		if (noOfDays < 0) {
		   			alert("Start Date can't be less than End Date");
		   			return;
		   		}
		   	}
	   		
	   		
	   		
	   			var zone = "";
	   			if($("#outletZone").length > 0)
	   				zone = $("#outletZone").val();
	   			var searchName = "";
	   			if($("#searchOrders").length > 0)
	   				searchName = $("#searchOrders").val();
	   			
	   			if(saveflag == 'true'){
	   				saveflag = true;
	   			}else{
	   				saveflag = false;
	   			}
	   			
	   			
	   		 var URL = contextPath + "/inventorymanager/getOrdersvsStock.do";
	   			$.ajax({
	   				url : URL,
	   				data : {
	   					location : outletlocation,
	   					index : index,
	   					startDate : startDate,
	   					searchName : searchName,
	   					endDate : endDate,
	   					zone : zone,
	   					maxRecords:maxRecords,
                        category : outletCategory,
                        subcategory : outletSubCategory,
                        department : outletDepartment,
                        section : outletSection,
                        saveflag : saveflag
	   			       
	   				},
	   				beforeSend: function(xhr){                    
	   					$("#loadingreport").css("display","block");
	   					$("#mainDiv").addClass("disabled");
	   				},
	   				success : function(result){
	   					$('#right-side').html(result);
	   					if(id != undefined && id != ""){
	   						activeMenu(id);
	   					}
	   					
	   					if(saveflag == true){
	   					var anchor = document.createElement('a');
	    					anchor.href = $("#downloadurlref").val();
	    					anchor.target = '_blank';	
	    					anchor.download = '';
	    					if($("#downloadurlref").val()!=null && $("#downloadurlref").val()!='')
	    						anchor.click();
	   					}
	   				
	   					$("#loading").css("display","none");
	   					$("#loadingreport").css("display","none");
	   					$("#mainDiv").removeClass('disabled');
	   				},
	   				error : function(jqXHR, textStatus, errorThrown) {
	   					errorCode(jqXHR.status);
	   				    $("#loading").css("display","none");
	   					$("#loadingreport").css("display","none");
	   					$("#mainDiv").removeClass('disabled');
	   				}
	   			});
	   		}
	   		catch(e)
	   		{
	   			errorCode(e);
	   		}

	   	
    	  
    	  
    	  
    	  
    	  
      }
      
      
      
      function newEventManagement(operation){
    	  try{
    		  debugger;
    			 var contextPath = $("#contextPath").val();
    			 
    			// purpose:for checking internet conection
    				var online = window.navigator.onLine;
    			  	if(!online){
    			  	alert("Check your internet connection,Please try agian after some time.");
    			  	return;
    			  	}

    			 var maxRecords = 10;
    	    	  if($("#maxRecords").length>0)
    	    		  maxRecords = $("#maxRecords").val();

    	    	 URL = contextPath + "/outletMaster/newEventManagement.do";
    	    	 $.ajax({
    	   			type: "GET",
    	   			url : URL,
    	   			data : {
    	   				operation : operation,
    	   				maxRecords : maxRecords
    	   			},
    	   			beforeSend: function(xhr){                    
    	   	   			$("#loading").css("display","block");
    	   	   			
    	   	   			$("#mainDiv").addClass("disabled");
    	   	   		  },
    	   			success : function(result) {
    	                $("#right-side").html(result);
    	            	$('#tab_1_Event').trigger('click');
    	   				$("#loading").css("display","none");
    	   				$("#mainDiv").removeClass('disabled');
    	   			},
    	   			error : function(jqXHR, textStatus, errorThrown)  {
    	   				 errorCode(jqXHR.status);
    	   				$("#loading").css("display","none");
    	 				$("#mainDiv").removeClass('disabled');
    	   			}
    	   		});
    			 }
    			 catch(e)
    				{
    				 errorCode(e);
    				}

      }

      
      
      function viewBomMasterWarehouse(id,index){
  		debugger;
  		 
  		try{
  		
  		// purpose:for checking internet conection
  		var online = window.navigator.onLine;
  	  	if(!online){
  	  	alert("Check your internet connection,Please try agian after some time.");
  	  	return;
  	  	}
  		
  		 var maxRecords = 10;
  	 		if($("#maxRecords").length >0)
  	 			maxRecords = $("#maxRecords").val();
  	 		
  	 		var searchName ="";
  	 		if($("#searchBOM").length >0)
  	 			searchName = $("#searchBOM").val().trim();
  		
  		
  		 var contextPath = $('#contextPath').val();
  		 var URL = contextPath + "/warehouseMaster/viewWHBomMaster.do";
  		 $.ajax({
  			type : "GET",
  			url : URL,
  			data : {
  				index : index,
  				maxRecords : maxRecords,
  				searchName : searchName,
  				
  			},
  			beforeSend: function(xhr){                    
  		   		$("#loading").css("display","block");
  		   		$("#mainDiv").addClass("disabled");
  		   	},
  			success : function(result){
  				$('#right-side').html(result);
  				if(id != undefined && id != "")
  					activeMenu(id);
  				
  				$("#loading").css("display","none");
  				$("#mainDiv").removeClass('disabled');
  			},
  			error : function(jqXHR, textStatus, errorThrown) {
  				errorCode(jqXHR.status);
  				$("#loading").css("display","none");
  				$("#mainDiv").removeClass('disabled');
  			}
  		 });
  		}catch(e)
  		{
  			errorCode(e);
  			}

  	}
  	

 	 function newWHBomMaster(id){
 		 try{
 			var contextPath = $("#contextPath").val();
 		    URL = contextPath + "/warehouseMaster/newBomMaster.do";
 		    var maxRecords = 10;
 	 		if($("#maxRecords").length >0)
 	 			maxRecords = $("#maxRecords").val();
 	 		
 	 		// purpose:for checking internet conection
 	 		var online = window.navigator.onLine;
 	 	  	if(!online){
 	 	  	alert("Check your internet connection,Please try agian after some time.");
 	 	  	return;
 	 	  	}
 	 		
 	 		var searchName ="";
 	 		if($("#searchBOM").length >0)
 	 			searchName = $("#searchBOM").val();
 		
 	 		$.ajax({
 	 			type: "GET",
 	 			url : URL,
 	 			data : {
 	 				maxRecords:maxRecords,
 	 				searchName:searchName
 	 				
 	 			},
 	 			beforeSend: function(xhr){                    
 	   	   			$("#loading").css("display","block");
 	   	   			$("#mainDiv").addClass("disabled");
 	   	   		  },
 	 			success : function(result) {
 	 				$("#right-side").html(result);
 	 				if(id != undefined)
 	 					activeMenu(id);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			},
 	 			error : function(jqXHR, textStatus, errorThrown)  {
 	 				 errorCode(jqXHR.status);
 	 				$("#loading").css("display","none");
 	 				$("#mainDiv").removeClass('disabled');
 	 			}
 	 		});
 		 }
 		 catch(e)
 			{
 			errorCode(e);
 			}

 		}
 	 
 	 
 	  function viewMenuConfigurationsWH(id){
   	   try{
   		   var online = window.navigator.onLine;
   		   	if(!online)
   		           {
   		   	 alert("Check your internet connection,Please try agian after some time.");
   		     	 return;
   		          }
   		   	
//debugger
   	   
 		 var contextPath = $("#contextPath").val();
     	 URL = contextPath + "/warehouseMaster/menuConfigurationsWH.do";
     	 $.ajax({
    			type: "GET",
    			url : URL,
    			data : {
    				
    			},
    			beforeSend: function(xhr){                    
 	   				$("#loading").css("display","block");
 	   				$("#mainDiv").addClass("disabled");
 	        },

    			success : function(result) {
    				if(id!="undefined"&&id!=""&&id!=null)
                 	activeMenu(id);
    			   //openMenu("storedetails", "ulstoredetails",0);
                                    			
     			 $("#right-side").html(result);
     		
         		 
        			 $("#loading").css("display","none");
   			   $("#mainDiv").removeClass('disabled');

    			},
    			error : function(jqXHR, textStatus, errorThrown)  {
    				 errorCode(jqXHR.status);
    				$("#loading").css("display","none");
  			   $("#mainDiv").removeClass('disabled');
    			}
    		});

   	   }
   	   catch(e)
   	   	{
   	   	        errorCode(e);
   	   }
 	 }
      
 	  
 	 	function viewWarehouseStorageStocks(id,stockType,index,flowUnder,menu){
	    		debugger;
	    		try{
	    			
	    			// purpose:for checking internet conection
	    			var online = window.navigator.onLine;
	    			if(!online){
	    				alert("Check your internet connection,Please try agian after some time.");
	    				return;
	    			}

	    			// debugger

	    			var searchName=""
	    				if($("#searchStocks").length>0)
	    					searchName = $("#searchStocks").val();
	    			if(flowUnder == undefined && $("#flowUnder").length > 0)
	    				flowUnder = $("#flowUnder").val();
	    			var maxRecords = 10;
	    			if($("#maxRecords").length>0)
	    				maxRecords = $("#maxRecords").val();
	    			var stockdownload = false;
	    			if($("#stockdownload").val())
	    				stockdownload = $("#stockdownload").val();
	    			var location = "";
	    			if($("#outletLocation").length > 0)
	    				location = $("#outletLocation").val();
	    			var zone = "";
	    			if($("#outletZone").length > 0)
	    				zone = $("#outletZone").val();
	    			var startdate = "";
	    			if($("#from").length > 0)
	    				startdate = $("#from").val();
	    			var enddate = "";
	    			if($("#to").length > 0)
	    				enddate = $("#to").val();
	    			var category = "";
	    			if($("#outletCategory").length > 0)
	    				category = $("#outletCategory").val();
	    			var subcategory = "";
	    			if($("#outletSubcategory").length > 0)
	    				subcategory = $("#outletSubcategory").val();
	    			var brand = "";
	    			if($("#outletBrandId").length > 0)
	    				brand = $("#outletBrandId").val();
	    			var department = "";
	    			if($("#outletDepartmentId").length > 0)
	    				department = $("#outletDepartmentId").val();
	    			var startprice = "";
	    			if($("#outletStartPrice").length > 0)
	    				startprice = $("#outletStartPrice").val();
	    			var endprice = "";
	    			if($("#outletEndPrice").length > 0)
	    				endprice = $("#outletEndPrice").val();
	    			var suppliername = "";
	    			if($("#outletSupplierId").length > 0)
	    				suppliername = $("#outletSupplierId").val();
	    			if(stockType == "" && $("#stockType").length>0)
	    				stockType = $("#stockType").val();
	    			
	    			
	    			var StorageArea = "";
	    			if($("#storageArea").length > 0)
	    				StorageArea = $("#storageArea").val();
	    			
	    			var contextPath = $("#contextPath").val();
	    			URL = contextPath + "/inventorymanager/viewWarehouseStorageStocks.do";
	    			$.ajax({
	    				type: "GET",
	    				url : URL,
	    				data : {
	    					location : location,
	    					index : index,
	    					maxRecords : maxRecords,
	    					stockType : stockType,
	    					flowUnder : flowUnder,
	    					zone : zone,
	    					category : category,
	    					subcategory : subcategory,
	    					brand : brand,
	    					department : department,
	    					startprice : startprice,
	    					endprice : endprice,
	    					startdate : startdate,
	    					enddate : enddate,
	    					stockdownload : stockdownload,
	    					suppliername : suppliername,
	    					searchName : searchName,
	    					StorageArea : StorageArea,
	    				},
	    				beforeSend: function(xhr){                    
	    					$("#loading").css("display","block");
	    					$("#mainDiv").addClass("disabled");
	    				},
	    				success : function(result) {
	    					$("#right-side").html(result);
	    					if(id!="undefined"&&id!=""&&id!=null)
	    	                 	activeMenu(id);
	    					// if(stockdownload){

	    					var anchor = document.createElement('a');
	    					anchor.href = $("#stockdownloadurl").val();
	    					anchor.target = '_blank';
	    					anchor.download = '';
	    					if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
	    						anchor.click();
	    					
	    					if(flowUnder == "warehouse"){
	    						
	    						activeMenu(id);
	    						openMenu("liwarehouseStorageStocks","ulwarehouseStorageStocks",0);
	    						openMenu("liStockManagement","ulStockManagement",1);
	    						openMenu("warehouseDetails","ulwarehouseDetails",1);
	    					}

	    					$("#loading").css("display","none");
	    					$("#mainDiv").removeClass('disabled');
	    				},
	    				error : function(jqXHR, textStatus, errorThrown)  {
	    					errorCode(jqXHR.status);
	    					$("#loading").css("display","none");
	    					$("#mainDiv").removeClass('disabled');
	    				}
	    			});
	    		}
	    		catch(e)
	    		{
	    			errorCode(e);
	    		}

	    	}
	     
	     function searchStorageStocks(name,searchCategory,index){
	    	 try{
 	 		if(name == "")
 	 			name = $("#searchStocks").val();
 	 		// debugger
 	 	// purpose:for checking internet conection
 	 		var online = window.navigator.onLine;
 	 	  	if(!online){
 	 	  	alert("Check your internet connection,Please try agian after some time.");
 	 	  	return;
 	 	  	}
 	 		
 	 		 var maxRecords = 10;
 	 		 if($("#maxRecords").length>0)
 	 			 maxRecords = $("#maxRecords").val();
 	 		 var startDate = "";
 	 		 var endDate = "";
 	 		 if($("#from").length>0)
 	 			 startDate = $("#from").val();
 	 		 if($("#to").length>0)
 	 			 endDate = $("#to").val();
 	 		var searchType=$("#searchType").val();
 	 		 var stockType = "";
 	 		 if($("#stockType").length>0)
 	 			 stockType = $("#stockType").val();
 	 		 var location = "";
	    	 	 if($("#outletLocation").length>0)
	    	 		location = $("#outletLocation").val();
	    	 	 var flowUnder = $('#flowUnder').val();
 	 		 var contextPath = $("#contextPath").val();
 	 		 
 	 		/*
			 * if ($("#from").val() != "" && $("#to").val() != "") { var
			 * noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
			 * if (noOfDays < 0) { alert("Start Date can't be less than End
			 * Date"); return; } }
			 */
 	 		 
 	 		 
 	 		// written by manasa
 			 var billedLocationsList = [];
 			 var length = $('#outletLocation').children('option').length;
 			 console.log(length)
 		      	$('#outletLocation option').each(function() { 
 		      		billedLocationsList.push( $(this).attr('value'));
 		      	   
 		      	});
 			
 			 console.log(billedLocationsList)
 			// finalobj.billedLocations = billedLocationsList;
 			
 			// written by manasa
 				 var  locationList="";
 			      	for(i=1;i<billedLocationsList.length;i++)
 			      		{
 			      		locationList =locationList+ billedLocationsList[i]+',';
 			      		}
 			      // locationList = locationList.slice(0,-1);//remove last
					// comma
 			    
 			      	console.log(locationList)
 	 		 
 	 		 URL = contextPath + "/inventorymanager/searchStorageStocks.do";
 	 		 $.ajax({
 	 				type: "GET",
 	 				url : URL,
 	 				data : {
 	 					searchName : name,
 	 					index : index,
 	 					location : location,
 	 					maxRecords : maxRecords,
 	 					startDate : startDate,
 	 					endDate : endDate,
 	 					searchType :searchType,
 	 					stockType : stockType,
 	 					flowUnder : flowUnder,
 	 					locationList : locationList
 	 				},
 	 				beforeSend: function(xhr){                    
 	 		   	   		$("#loading").css("display","block");
 	 		   	   		$("#mainDiv").addClass("disabled");
 	 		   	   	},
 	 				success : function(result) {
 	 					// debugger
 	 					$('#right-side').html(result);
 	 					$("#loading").css("display","none");
 	 					$("#mainDiv").removeClass('disabled');
 	 				},
 	 				error : function(jqXHR, textStatus, errorThrown)  {
 	 					 errorCode(jqXHR.status);
 	 					 $("#loading").css("display","none");
 	 		 			 $("#mainDiv").removeClass('disabled');
 	 				}
 	 			});
	    	 }
	    	 catch(e)
	    		{
	    		errorCode(e);
	    		}

 	 	}
	     
	 	function viewWarehouseStoragePickList(id,stockType,index,flowUnder,menu){
    		debugger;
    		try{
    			
    			// purpose:for checking internet conection
    			var online = window.navigator.onLine;
    			if(!online){
    				alert("Check your internet connection,Please try agian after some time.");
    				return;
    			}
    			var searchName=""
    				if($("#searchStocks").length>0)
    					searchName = $("#searchStocks").val();
    			if(flowUnder == undefined && $("#flowUnder").length > 0)
    				flowUnder = $("#flowUnder").val();
    			var maxRecords = 10;
    			if($("#maxRecords").length>0)
    				maxRecords = $("#maxRecords").val();
    			var stockdownload = false;
    			if($("#stockdownload").val())
    				stockdownload = $("#stockdownload").val();
    			var location = "";
    			if($("#outletLocation").length > 0)
    				location = $("#outletLocation").val();
    			var zone = "";
    			if($("#outletZone").length > 0)
    				zone = $("#outletZone").val();
    			var startdate = "";
    			if($("#from").length > 0)
    				startdate = $("#from").val();
    			var enddate = "";
    			if($("#to").length > 0)
    				enddate = $("#to").val();
    			var category = "";
    			if($("#outletCategory").length > 0)
    				category = $("#outletCategory").val();
    			var subcategory = "";
    			if($("#outletSubcategory").length > 0)
    				subcategory = $("#outletSubcategory").val();
    			var brand = "";
    			if($("#outletBrandId").length > 0)
    				brand = $("#outletBrandId").val();
    			var department = "";
    			if($("#outletDepartmentId").length > 0)
    				department = $("#outletDepartmentId").val();
    			var startprice = "";
    			if($("#outletStartPrice").length > 0)
    				startprice = $("#outletStartPrice").val();
    			var endprice = "";
    			if($("#outletEndPrice").length > 0)
    				endprice = $("#outletEndPrice").val();
    			var suppliername = "";
    			if($("#outletSupplierId").length > 0)
    				suppliername = $("#outletSupplierId").val();
    			if(stockType == "" && $("#stockType").length>0)
    				stockType = $("#stockType").val();
    			
    			
    			var StorageArea = "";
    			if($("#storageArea").length > 0)
    				StorageArea = $("#storageArea").val();
    			
    			var contextPath = $("#contextPath").val();
    			URL = contextPath + "/inventorymanager/viewWarehouseStoragePickList.do";
    			$.ajax({
    				type: "GET",
    				url : URL,
    				data : {
    					location : location,
    					index : index,
    					maxRecords : maxRecords,
    					stockType : stockType,
    					flowUnder : flowUnder,
    					zone : zone,
    					category : category,
    					subcategory : subcategory,
    					brand : brand,
    					department : department,
    					startprice : startprice,
    					endprice : endprice,
    					startdate : startdate,
    					enddate : enddate,
    					stockdownload : stockdownload,
    					suppliername : suppliername,
    					searchName : searchName,
    					StorageArea : StorageArea,
    				},
    				beforeSend: function(xhr){                    
    					$("#loading").css("display","block");
    					$("#mainDiv").addClass("disabled");
    				},
    				success : function(result) {
    					$("#right-side").html(result);
    					if(id!="undefined"&&id!=""&&id!=null)
    	                 	activeMenu(id);
    					// if(stockdownload){

    					var anchor = document.createElement('a');
    					anchor.href = $("#stockdownloadurl").val();
    					anchor.target = '_blank';
    					anchor.download = '';
    					if($("#stockdownloadurl").val()!=null && $("#stockdownloadurl").val()!='')
    						anchor.click();
    					
    					if(flowUnder == "warehouse"){
    						
    						activeMenu(id);
    						openMenu("liwarehouseStorageStocks","ulwarehouseStorageStocks",0);
    						openMenu("liStockManagement","ulStockManagement",1);
    						openMenu("warehouseDetails","ulwarehouseDetails",1);
    					}

    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				},
    				error : function(jqXHR, textStatus, errorThrown)  {
    					errorCode(jqXHR.status);
    					$("#loading").css("display","none");
    					$("#mainDiv").removeClass('disabled');
    				}
    			});
    		}
    		catch(e)
    		{
    			errorCode(e);
    		}

    	}
   
	 	
	 	function newPickList(){
    	 debugger;
 		try{
 			// purpose:for checking internet conection
 			var online = window.navigator.onLine;
 			if(!online){
 				alert("Check your internet connection,Please try agian after some time.");
 				return;
 			}
 			var contextPath = $("#contextPath").val();
 			URL = contextPath + "/inventorymanager/newPickList.do";
 			$.ajax({
 				type: "GET",
 				url : URL,
 				data : {
 				},
 				beforeSend: function(xhr){                    
 					$("#loading").css("display","block");
 					$("#mainDiv").addClass("disabled");
 				},
 				success : function(result) {
 					$("#right-side").html(result);
 					
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				},
 				error : function(jqXHR, textStatus, errorThrown)  {
 					errorCode(jqXHR.status);
 					$("#loading").css("display","none");
 					$("#mainDiv").removeClass('disabled');
 				}
 			});
 		}
 		catch(e)
 		{
 			errorCode(e);
 		}
    	 
     }
     
     
	    
	   	 function viewpicklistDetails(operation,pickListId){
	    	 debugger;
	 		try{
	 			// purpose:for checking internet conection
	 			var online = window.navigator.onLine;
	 			if(!online){
	 				alert("Check your internet connection,Please try agian after some time.");
	 				return;
	 			}
	 			var contextPath = $("#contextPath").val();
	   			URL = contextPath + "/inventorymanager/viewpicklistDetails.do";
	 				$.ajax({
	 				type: "GET",
	 				url : URL,
	 				data : {
	 					operation : operation,
	 					pickListId:pickListId
	 				},
	 				beforeSend: function(xhr){                    
	 					$("#loading").css("display","block");
	 					$("#mainDiv").addClass("disabled");
	 				},
	 				success : function(result) {
	 					$("#right-side").html(result);
	 					$("#loading").css("display","none");
	 					$("#mainDiv").removeClass('disabled');
	 				},
	 				error : function(jqXHR, textStatus, errorThrown)  {
	 					errorCode(jqXHR.status);
	 					$("#loading").css("display","none");
	 					$("#mainDiv").removeClass('disabled');
	 				}
	 			});
	 		}
	 		catch(e)
	 		{
	 			errorCode(e);
	 		}
	    	 
	     }
     
	   	 
	   	 
	   	 
	   	 
	   	 
	   	 
	   	 
	   	 
	   	 
     
     

     function searchMenusforCounter(id,menu){
     	try
     	{
     		var online = window.navigator.onLine;
     		if(!online){
     			alert("Check your internet connection,Please try agian after some time.");
     			return;
     		}
     		var location = $("#"+id).val();
     			var contextPath = $("#contextPath").val();
     			URL = contextPath + "/inventorymanager/searchMenusforCounter.do";
     			$.ajax({
     				type: "GET",
     				url : URL,
     				data : {
     					location : location
     				},
     				beforeSend: function(xhr){                    
     					$("#loading").css("display","block");
     					$("#mainDiv").addClass("disabled");
     				},
     				success : function(result) {
     					appendMenusforCounter(result,menu);
     					$("#loading").css("display","none");
     					$("#mainDiv").removeClass('disabled');
     				},
     				error : function(jqXHR, textStatus, errorThrown)  {
     					errorCode(jqXHR.status);
     					$("#loading").css("display","none");
     					$("#mainDiv").removeClass('disabled');
     				}
     			});
     		
     	}
     	catch(e)
     	{
     		errorCode("");
     	}
     }

     function appendMenusforCounter(menuList,menu){
    	 debugger;
     	 var op = '';
     	 for(var i=0;i<menuList.length;i++){
     			 op += '<option value="'+menuList[i].menu_name+'" >'+menuList[i].menu_name+'</option>';
     	 }
     	 $("#"+menu).html('');
     	 $("#"+menu).html(op);
     }


/*     
		
     function loadstocverfications(){
     	debugger;
     	//purpose:for checking internet conection
     	var online = window.navigator.onLine;
       	if(!online)
       	{
       	alert("check your internet connection,please try agian after some time");
       	return;
       	}
       	
                         var location = $("#location").val();
             			 var contextPath = $("#contextPath").val();
             				URL = contextPath + "/inventorymanager/loadStockverifications.do";
                 		 $.ajax({
             	       			type: "POST",
             	       			url : URL,
             	       			//contentType: "application/json",
             	                data : {
             	                	location :location,
             	                },
             	       			beforeSend: function(xhr){                    
             	       	   			$("#loading").css("display","block");
             	       	   			$("#mainDiv").addClass("disabled");
             	       	   		  },
             	       			success : function(result) {
             	       			var test =""
             	       				alert(result);
             	       				
             	       				$("#loading").css("display","none");
             	       				$("#mainDiv").removeClass('disabled');
             	       			},
             	       			error : function() {
             	       				 alert("something went wrong");
             	       				$("#loading").css("display","none");
             	     				$("#mainDiv").removeClass('disabled');
             	       			}
             	       		});
     	 		
     	
     }*/
     
     
     
     
     function loadstocverfications(){
    	 try{
    	// purpose:for checking internet conection
    		var online = window.navigator.onLine;
    	  	if(!online){
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	 
	     	var verificationCode = "";
	    	 var location = "";
	    	if($("#location").length > 0)
	    		location = $("#location").val();
	    	
	    	if($("#location").val() == "" || $("#location").val() == null || $("#location").val() == undefined){
	    		location="";
	    		$("#location").focus();
	    		alert("Please select location");
	    		return false;
	    	}
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
			
			if($("#location").val()=="all")
				location="";
	    	
			var maxRecords = 10;
			if($("#maxRecords").length > 0)
				maxRecords = $("#maxRecords").val();
			var startDate="";
			if($("#startDate").length > 0)
				startDate = $("#startDate").val();
			var endDate="";
			if($("#endDate").length > 0)
				endDate = $("#endDate").val();
			var searchName="";
			if($("#searchStockVerification").length > 0)
				searchName = $("#searchStockVerification").val();
			var category = "";
	    	if($("#outletCategory").length > 0)
	    		category = $("#outletCategory").val();
	    	
	    	var subcategory = "";
	    	if($("#outletSubcategory").length > 0)
	    		subcategory = $("#outletSubcategory").val();
	    	var section = "";
 		if ($("#section").length > 0)
 			section = $("#section").val();
 		var department = null;
			if($("#outletDepartmentId").length > 0)
				department = $("#outletDepartmentId").val();
			var subdepartment = null;
			if($("#outletSubDepartmentId").length > 0)
				subdepartment = $("#outletSubDepartmentId").val();
		
			
			var contextPath = $("#contextPath").val();
//alert(contextPath);
	    	 var URL = contextPath + "/inventorymanager/loadStockverifications.do";
	    	 $.ajax({
	    		type : "GET",
	    		url : URL,
	    		data : {
	    			index : "0",
     				flowUnder : "outlet",
     				location : location,
     				verificationCode : verificationCode,
     				startDate : startDate,
     				endDate : endDate,
     				maxRecords : maxRecords,
     				searchName : searchName,
     				zone : zone,
     				department : department,
     				subdepartment : subdepartment,
     				category : category,
     				subcategory : subcategory,
     				section	: section
	    		
	    		},
	    		beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	    		success : function(result){
	    			$('#right-side').html(result);
	    			
	    				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
	    				openMenu("liInventoryManagement","ulInventoryManagement",1);
	    				openMenu("storedetails", "ulstoredetails",1);
	    			
	    			
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
    	 }catch(e)
 		{
 			errorCode(e);
 		}

	     }
     
     
     
     
     function loadstocverficationswarehouse(){
    	 debugger;
    	 try{
    	// purpose:for checking internet conection
    		var online = window.navigator.onLine;
    	  	if(!online){
    	  	alert("Check your internet connection,Please try agian after some time.");
    	  	return;
    	  	}
    	 
	     	var verificationCode = "";
	    	 var location = "";
	    	if($("#location").length > 0)
	    		location = $("#location").val();
	    	
	    	if($("#location").val() == "" || $("#location").val() == null || $("#location").val() == undefined){
	    		location="";
	    		$("#location").focus();
	    		alert("Please select location");
	    		return false;
	    	}
	    	
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	
	    	
			if($("#location").val()=="all")
				location="";
	    	
			var maxRecords = 10;
			if($("#maxRecords").length > 0)
				maxRecords = $("#maxRecords").val();
			var startDate="";
			if($("#startDate").length > 0)
				startDate = $("#startDate").val();
			var endDate="";
			if($("#endDate").length > 0)
				endDate = $("#endDate").val();
			var searchName="";
			if($("#searchStockVerification").length > 0)
				searchName = $("#searchStockVerification").val();
			var category = "";
	    	if($("#outletCategory").length > 0)
	    		category = $("#outletCategory").val();
	    	
	    	var subcategory = "";
	    	if($("#outletSubcategory").length > 0)
	    		subcategory = $("#outletSubcategory").val();
	    	var section = "";
 		if ($("#section").length > 0)
 			section = $("#section").val();
 		var department = null;
			if($("#outletDepartmentId").length > 0)
				department = $("#outletDepartmentId").val();
			var subdepartment = null;
			if($("#outletSubDepartmentId").length > 0)
				subdepartment = $("#outletSubDepartmentId").val();
		
			
			var contextPath = $("#contextPath").val();
//alert(contextPath);
	    	 var URL = contextPath + "/inventorymanager/loadstocverficationswarehouse.do";
	    	 $.ajax({
	    		type : "GET",
	    		url : URL,
	    		data : {
	    			index : "0",
     				flowUnder : "warehouse",
     				location : location,
     				verificationCode : verificationCode,
     				startDate : startDate,
     				endDate : endDate,
     				maxRecords : maxRecords,
     				searchName : searchName,
     				zone : zone,
     				department : department,
     				subdepartment : subdepartment,
     				category : category,
     				subcategory : subcategory,
     				section	: section
	    		
	    		},
	    		beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	    		success : function(result){
	    			$('#right-side').html(result);
	    			if(flowUnder == "outlet"){
 	    				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
 	    				openMenu("liInventoryManagement","ulInventoryManagement",1);
 	    				openMenu("storedetails", "ulstoredetails",1);
 	    			}
 	    			else if(flowUnder == "warehouse"){
 	    				openMenu("liWarehouseStockVerifications","ulWarehouseStockVerifications",0);
	    				openMenu("liStockManagement","ulStockManagement",1);
	    				openMenu("warehouseDetails", "ulwarehouseDetails",1);
 	    			}
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	    		}
	    	 });
    	 }catch(e)
 		{
 			errorCode(e);
 		}

	     }


  	
		function viewOutletXZReadingReportDifference(id,index,flow){
	   		var contextPath = $('#contextPath').val();
	   		 debugger;
	   		try{
	   			
	   			var online = window.navigator.onLine;
	   		  	if(!online){
	   		  	alert("Check your internet connection,Please try agian after some time.");
	   		  	return;
	   		  	}

	   var 	reportsObj={};
	   	
			
			var location="";
			if($("#outletLocation").length>0)
				location=$("#outletLocation").val();
				
				
	  		var zone="";	
			if($("#outletZone").length > 0)
				zone=$("#outletZone").val();
	  		
	  		var startDate="";
	  		if($("#fromXread").length > 0)
	  			startDate= $("#fromXread").val();

	  		
	  		
	  		
	  		  var dateTime = getCurrentDate();
	    	  var date = dateTime.split(' ');
	    	  date = date[0].split('/');
	    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];
	    	  
	    	  if(startDate== ""){
	    		  startDate = formatedDate;
	    	  }
	    	  
	  		var maxRecords = "10";
	  		if($("#maxRecords").length > 0)
	  			maxRecords= $("#maxRecords").val();
	  		
	  		reportsObj.store_location =location;
	  		reportsObj.flow = flow;
	  		reportsObj.reportType = 'XZ';
	  		reportsObj.zone   = zone;
	  		
	  		reportsObj.reportDate =startDate;
	  		
   		   		var noOfDays = daydiff(parseDate(startDate), parseDate(formatedDate));
   		   		if (noOfDays < 0) {
   		   		$("#Error").html("Report Date can't be Future Date");
   		   			return;
   		   		}
		  	
	  		
	  		reportsObj.startIndex=index;
	  		
	  		reportsObj.maxRecords = maxRecords ;
	  		
	  	      var allLocationsList = [];
		 	 var length = $('#outletLocation').children('option').length;
		       	$('#outletLocation option').each(function() { 
		       		allLocationsList.push( $(this).attr('value'));
		       	});
		 	 var  locationList="";
		    	for(i=1;i<allLocationsList.length;i++)
		    		{
		    		locationList =locationList+ allLocationsList[i]+',';
		    		}
		    	
		   	reportsObj.locationList=locationList;
	  		
	  		
	  		
	  		var formData = JSON.stringify(reportsObj);
	   		
			var URL = contextPath + "/reports/viewOutletXZReadingReportDiff.do";
			
			console.info(formData);

	 	    $.ajax({
	  	
	  		url : URL,
	  		type: "POST",
	  		data : formData,
	  		contentType: "application/json",
	  		
	  		beforeSend: function(xhr){                    
	 				$("#loadingreport").css("display","block");
	 				$("#mainDiv").addClass("disabled");
		        },

	  		success : function(result){
	  			$(".active-menu").removeClass("active-menu");
	  			if(flow == ""){
		  			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		  			openMenu("liOutletReports","ulOutletReports",1);
		  			openMenu("reports", "ulReports",1);
		  			}else{
		  				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
						openMenu("liWarehouseReports","ulWarehouseReports",1);
						openMenu("reports", "ulReports",1);
		  			}
	  			activeMenu(id);
	  			$('#right-side').html(result);
	  			 $("#loading").css("display","none");
	  			$("#loadingreport").css("display","none");
	  			$("#mainDiv").removeClass('disabled');
	  		},
	  		error : function(jqXHR, textStatus, errorThrown) {
	  			errorCode(jqXHR.status);
	  			 $("#loading").css("display","none");
	  			$("#loadingreport").css("display","none");
				   $("#mainDiv").removeClass('disabled');
	  		}
	  	 });
	   		}
	   		catch(e)
	   		{
	   		              errorCode(e);
	   		}

			
	   	}
		


		function viewStockIssueReport(id,index,searchname,searchSave,flow){
	   		  debugger;
	   		try{
	   			
	   			var online = window.navigator.onLine;
	   		  	if(!online){
	   		  	alert("Check your internet connection,Please try agian after some time.");
	   		  	return;
	   		  	}
	   		 var contextPath = $('#contextPath').val();
	  	   	var maxRecords = 10;
	  	
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var category = "";
	    	if($("#outletCategory").length > 0)
	    		category = $("#outletCategory").val();
	    	var brand = "";
	    	if($("#outletBrandId").length > 0)
	    		brand = $("#outletBrandId").val();
	    	var startDate = "";
	    	if($("#fromShipments").length > 0)
	    		startDate = $("#fromShipments").val();
	    	var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	var subCategory = "";
	    	if($("#outletSubcategory").length > 0)
	    		subCategory = $("#outletSubcategory").val();
	    	var supplier = "";
	    	if($("#outletSupplierId").length > 0)
	    		supplier = $("#outletSupplierId").val();
	    	var endDate = "";
	    	if($("#toShipments").length > 0)
	    		endDate = $("#toShipments").val();
	    	var search = "";
	 		if($("#searchissueReport").length > 0 )
	 			search = $("#searchissueReport").val().trim();
	    	
	    	
	  			var URL = contextPath + "/reports/viewStockIssueReport.do";
	  	 	    $.ajax({
	  	  		url : URL,
	  	  		data : {
	  	  		index :index,
				flow : flow,
				zone : zone,
				category : category,
				brand : brand,
				startDate : startDate,
				location : location,
				subCategory : subCategory,
				supplier : supplier,
				endDate : endDate,
				search :search,
				maxRecords : maxRecords
				
	  	  		},
	  	  		beforeSend: function(xhr){                    
	  	 				$("#loadingreport").css("display","block");
	  	 				$("#mainDiv").addClass("disabled");
	  		        },

	  	  		success : function(result){
	  	  		if(id != undefined)
	  					activeMenu(id);
	  	  		$('#right-side').html(result);
	  	  	
	  	  			$("#loadingreport").css("display","none");
	  	  			$("#mainDiv").removeClass('disabled');
	  	  		},
	  	  		error : function(jqXHR, textStatus, errorThrown) {
	  	  			errorCode(jqXHR.status);
	  	  			$("#loadingreport").css("display","none");
	  				   $("#mainDiv").removeClass('disabled');
	  	  		}
	  	  	 });
	   		}
	   		catch(e)
	   		{
	   		errorCode(e);
	   		}


	  	   	}	   
	 	   
    
		function viewPurchaseReports(id,index,searchname,searchSave,flow,save){
	   		  debugger;
	   		try{
	   			
	   			var online = window.navigator.onLine;
	   		  	if(!online){
	   		  	alert("Check your internet connection,Please try agian after some time.");
	   		  	return;
	   		  	}
	   		 var contextPath = $('#contextPath').val();
	  	   	var maxRecords = 10;
	  	  if($("#maxRecords").length > 0)
	  		maxRecords = $("#maxRecords").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var category = "";
	    	if($("#category").length > 0)
	    		category = $("#category").val();
	    	var supplierSearch = "";
	    	if($("#searchSupplier").length > 0)
	    		supplierSearch = $("#searchSupplier").val();
	    	var startDate = "";
	    	if($("#from").length > 0)
	    		startDate = $("#from").val();
	    	var location = "";
	    	if($("#warehouseLocation").length > 0)
	    		location = $("#warehouseLocation").val();
	    	var items = "";
	    	if($("#searchItems").length > 0)
	    		items = $("#searchItems").val();
	    	var supplierID = "";
	    	if($("#supplierid").length > 0)
	    		supplierID = $("#supplierid").val();
	    	var endDate = "";
	    	if($("#to").length > 0)
	    		endDate = $("#to").val();
	    	var search = "";
	 		if($("#searchPurchaseOrders").length > 0 )
	 			search = $("#searchPurchaseOrders").val().trim();
	 		
          if(save == undefined || save == null){
          	save= "";
          }
	    	
	    	
	  			var URL = contextPath + "/reports/viewPurchaseReports.do";
	  	 	    $.ajax({
	  	  		url : URL,
	  	  		data : {
	  	  		index :index,
				flow : flow,
				zone : zone,
				category : category,
				supplierSearch : supplierSearch,
				startDate : startDate,
				location : location,
				items : items,
				supplierID : supplierID,
				endDate : endDate,
				search :search,
				maxRecords : maxRecords,
				save : save
				
	  	  		},
	  	  		beforeSend: function(xhr){                    
	  	 				$("#loadingreport").css("display","block");
	  	 				$("#mainDiv").addClass("disabled");
	  		        },

	  	  		success : function(result){
	  	  		if(id != undefined)
	  					activeMenu(id);
	  	  		$('#right-side').html(result);
	  	  		
	  	  		
	  	  	var anchor = document.createElement('a');
				anchor.href = $("#downloadURLLink").val();
				anchor.target = '_blank';
				anchor.download = '';
				if($("#downloadURLLink").val()!=null && $("#downloadURLLink").val()!='')
					anchor.click();
	  	  	
	  	  			$("#loadingreport").css("display","none");
	  	  			$("#mainDiv").removeClass('disabled');
	  	  		},
	  	  		error : function(jqXHR, textStatus, errorThrown) {
	  	  			errorCode(jqXHR.status);
	  	  			$("#loadingreport").css("display","none");
	  				   $("#mainDiv").removeClass('disabled');
	  	  		}
	  	  	 });
	   		}
	   		catch(e)
	   		{
	   		errorCode(e);
	   		}


	  	   	}
		
		
		 
		 function PrintSalesPriceVariationReport(id,index,searchstr,popup,print){
			 debugger;
			 var contextPath = $('#contextPath').val();
			 
			 try{
				 
				 $('#myModalIos').modal('hide');
				 $('#myModalIoss').modal('hide');
				 
				 var online = window.navigator.onLine;
				 	if(!online)
				         {
				 	 alert("Check your internet connection,Please try agian after some time.");
				   	 return;
				        }
			var maxRecords = 10;
			
			if(print == "" || print == undefined || print == null){
				print="";
	  		}
			
			var printFlag = false;
			
			if(print == "true"){
				printFlag = true;
			}
			// var saveFlag = false;
			// debugger
			if (searchstr == "save")
				var saveFlag = true;
			else
				var saveFlag =false;
			 $('#myModalIos').modal('hide');
			var serachnameStr=""
				if($("#pricevariation").length>0)
			 serachnameStr=$('#pricevariation').val().trim();
	    	if($("#maxRecords").length>0)
	    		  maxRecords = $("#maxRecords").val();
	    	var stockdownload = false;
	    	if($("#stockdownload").val())
	    	stockdownload = $("#stockdownload").val();
	    	var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
	    	var startdate = "";
	    	if($("#from").length > 0)
	    		startdate = $("#from").val();
	    	var enddate = "";
	    	if($("#to").length > 0)
	    		enddate = $("#to").val();
	    	
	    	if(popup == "" || popup == undefined || popup == null){
	  			popup="";
	  		}
	    	
	    	 if(searchstr != "NOPOP"){
	    	
	    	 if ($("#from").val() != "" && $("#to").val() != "") {
	 	   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
	 	   		if (noOfDays < 0) {
	 	   			alert("Start Date can't be less than End Date");
	 	   			return;
	 	   		}
	 	   	}
	    	 
	    	 
	    	 
	    	 
	    	 if(enddate!="" || enddate!=null)
//		  		 if(criteria == 'date'){
		  		 {
		  			 var  allownoOfDays = daydiff(parseDate(startdate), parseDate(enddate));
		  			 if(allownoOfDays > 31){
		  				 alert("Date Range should not exceed a Month");
		  				 return false;
		  			 }
		  		 }
	    	   
	    	 if(popup=="NOPOP"){
	  			 if(allownoOfDays>15 ){
	  				 
	  				 $('#myModalIoss').modal('show');

	  				 
	  					/*var returnValue = getConfirmation();
	  					if(returnValue == false)*/
	  						return;
	  					}
	  		     }
	    	 }
	    	
	    	var category = "";
	    	if($("#outletCategory").length > 0)
	    		category = $("#outletCategory").val();
	    	var subcategory = "";
	    	if($("#outletSubcategory").length > 0)
	    		subcategory = $("#outletSubcategory").val();
	    	var brand = "";
	    	if($("#outletBrandId").length > 0)
	    		brand = $("#outletBrandId").val();
	    	var supplierId = "";
	    	if($("#outletSupplierId").length > 0)
	    		supplierId = $("#outletSupplierId").val();
	    	var section = null;
	  	if($("#section").length > 0)
	  		section = $("#section").val();
	  var department = null;
	    	if($("#outletDepartmentId").length > 0)
	  		department = $("#outletDepartmentId").val();
	    	
			 var URL = contextPath + "/reports/PrintPriceVariationReport.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {
					index :index,
					searchName : serachnameStr,
					maxRecords : maxRecords,
					location : location,
					productCategory : category,
					subcategory : subcategory,
					brand : brand,
					zone : zone,
					saveFlag:saveFlag,
					startdate :startdate,
					enddate : enddate,
					department : department,
					supplierId :supplierId,
					printFlag : printFlag
					
				},
				beforeSend: function(xhr){                    
					$("#loadingreport").css("display","block");
					$("#mainDiv").addClass('disabled');
			   	},
				success : function(result){
					if(id != undefined)
	  					activeMenu(id);
					
					 var anchor = document.createElement('a');
					 if(result != null && result != ""){
	 				  anchor.href = result;
	 				  anchor.target = '_blank';
	 				  anchor.download = '';
	 				
	 				  anchor.click();
				}
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
					$("#loadingreport").css("display","none");
					$("#salevariation").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loadingreport").css("display","none");
					$("#salevariation").removeClass('disabled');
				}
			 });

			 }
			 catch(e)
			 	{
			 	        errorCode(e);
			 }
		}
 	   
		
function showoutletmonitoringflows(flowunder){
   			try{
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	} 
			
   	
  		  var contextPath = $('#contextPath').val();
  		  var URL = contextPath + "/admin/showOutletMonitoringFlows.do";
	    	    $.ajax({
	    		url : URL,
	    		data : {
	    			flowunder : flowunder
	    		},
	    		beforeSend: function(xhr){                    
	   				$("#loading").css("display","block");
	   				$("#mainDiv").addClass("disabled");
	    		},
	    		success : function(result){
	    			/*
					 * $(".active-menu").removeClass("active-menu");
					 * $(".menu-open").css("display","none");
					 * $(".menu-open").removeClass("menu-open");
					 * $(".active").removeClass("active");
					 */
	    			$(".active-menu").removeClass("active-menu");
	    			
	    			if(flowunder == 'outletmonitoring'){
	 	 				openMenu("liOutletMonitoring","uloutletMonitoring",1);
	 	 				openMenu("storedetails","ulstoredetails",1);
	    			}
	 	 				else{
	 	 				openMenu("liOutletMonitoring","uloutletMonitoring",1);
	    		/* openMenu("liShiftManagement","ulShiftManagement",0); */
  	    			
  	    		/*	openMenu("warehouseDetails","ulwarehouseDetails",1);*/
	 	 				}
	    			$('#right-side').html(result);
	    			$("#loading").css("display","none");
	    			$("#mainDiv").removeClass('disabled');
	    		},
	    		error : function(jqXHR, textStatus, errorThrown) {
	    			errorCode(jqXHR.status);
	    			$("#loading").css("display","none");
			        $("#mainDiv").removeClass('disabled');
	    		}
	    	 });

   		}
   			catch(e)
   			{
   			errorCode(e);
   			}


  	   }






function showWarehouseStorageFlow(){
   				try{
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}
   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/inventorymanager/showWarehouseStorageFlow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liwarehouseStorageStocks","ulwarehouseStorageStocks",0);
    					openMenu("liStockManagement","ulStockManagement",1);
    					openMenu("warehouseDetails","ulwarehouseDetails",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }


function showpricemgmtflows(flowunder){
   	   			try{
   						
   						var online = window.navigator.onLine;
   					  	if(!online){
   					  	alert("Check your internet connection,Please try agian after some time.");
   					  	return;
   					  	} 
   	  		  var contextPath = $('#contextPath').val();
   	  		  var URL = contextPath + "/outletMaster/showPricemanagementFlow.do";
   		    	    $.ajax({
   		    		url : URL,
   		    		data : {
   		    			flowunder : flowunder
   		    		},
   		    		beforeSend: function(xhr){                    
   		   				$("#loading").css("display","block");
   		   				$("#mainDiv").addClass("disabled");
   		    		},
   		    		success : function(result){
   		    			/*
   						 * $(".active-menu").removeClass("active-menu");
   						 * $(".menu-open").css("display","none");
   						 * $(".menu-open").removeClass("menu-open");
   						 * $(".active").removeClass("active");*/
   						 
   		    			$(".active-menu").removeClass("active-menu");
   		    			
   		    			if(flowunder == 'outletmaster'){
   		    				openMenu("liPriceManagement","ulPriceManagement",1);
   		 	 				openMenu("storedetails","ulstoredetails",1);
   		    			}
   		 	 				else{
   		 	 				openMenu("liPriceManagement","ulPriceManagement",1);
   		   		    		/* openMenu("liShiftManagement","ulShiftManagement",0); */
   		   	  	    			
   		   	  	    			/*openMenu("warehouseDetails","ulwarehouseDetails",1);*/
   		 	 				}
   		    			$('#right-side').html(result);
   		    			$("#loading").css("display","none");
   		    			$("#mainDiv").removeClass('disabled');
   		    		},
   		    		error : function(jqXHR, textStatus, errorThrown) {
   		    			errorCode(jqXHR.status);
   		    			$("#loading").css("display","none");
   				        $("#mainDiv").removeClass('disabled');
   		    		}
   		    	 });

   	   		}
   	   			catch(e)
   	   			{
   	   			errorCode(e);
   	   			}


   	  	   }

function showWarehouseStocksVerificationflow(){
   				try{
   					
   					var online = window.navigator.onLine;
   				  	if(!online){
   				  	alert("Check your internet connection,Please try agian after some time.");
   				  	return;
   				  	}

   				var contextPath = $('#contextPath').val();
        		  var URL = contextPath + "/inventorymanager/showWarehouseStocksverficationflow.do";
    	    	    $.ajax({
    	    		url : URL,
    	    		data : {
    	    		},
    	    		beforeSend: function(xhr){                    
    	   				$("#loading").css("display","block");
    	   				$("#mainDiv").addClass("disabled");
    	    		},
    	    		success : function(result){
    	    			$(".active-menu").removeClass("active-menu");
    	    			openMenu("liWarehouseStockVerifications","ulWarehouseStockVerifications",0);
    					openMenu("liStockManagement","ulStockManagement",1);
    					openMenu("warehouseDetails","ulwarehouseDetails",1);
    	    			$('#right-side').html(result);
    	    			$("#loading").css("display","none");
    	    			$("#mainDiv").removeClass('disabled');
    	    		},
    	    		error : function(jqXHR, textStatus, errorThrown) {
    	    			errorCode(jqXHR.status);
    	    			$("#loading").css("display","none");
      			   $("#mainDiv").removeClass('disabled');
    	    		}
    	    	 });
   				}
   				catch(e)
   				{
   				errorCode(e);
   				}


        	   }

		
   		
		function showarehousemasterspricemgmtflows(flowunder){
   	   			try{
   						
   						var online = window.navigator.onLine;
   					  	if(!online){
   					  	alert("Check your internet connection,Please try agian after some time.");
   					  	return;
   					  	} 
   				
   	   	
   	  		  var contextPath = $('#contextPath').val();
   	  		  var URL = contextPath + "/warehouseMaster/showPricemanagementFlow.do";
   		    	    $.ajax({
   		    		url : URL,
   		    		data : {
   		    			flowunder : flowunder
   		    		},
   		    		beforeSend: function(xhr){                    
   		   				$("#loading").css("display","block");
   		   				$("#mainDiv").addClass("disabled");
   		    		},
   		    		success : function(result){
   		    			/*
   						 * $(".active-menu").removeClass("active-menu");
   						 * $(".menu-open").css("display","none");
   						 * $(".menu-open").removeClass("menu-open");
   						 * $(".active").removeClass("active");
   						 */
   		    			$(".active-menu").removeClass("active-menu");
   		    			
   		    			if(flowunder == 'warehousemaster'){
   		 	 				openMenu("liPriceManagement","ulPriceManagement",1);
   		 	 				openMenu("storedetails","ulstoredetails",1);
   		    			}
   		 	 				else{
   		 	 			openMenu("liPriceManagement","ulPriceManagement",1);
   		    		/* openMenu("liShiftManagement","ulShiftManagement",0); */
   	  	    			
   	  	    			/*openMenu("warehouseDetails","ulwarehouseDetails",1);*/
   		 	 				}
   		    			$('#right-side').html(result);
   		    			$("#loading").css("display","none");
   		    			$("#mainDiv").removeClass('disabled');
   		    		},
   		    		error : function(jqXHR, textStatus, errorThrown) {
   		    			errorCode(jqXHR.status);
   		    			$("#loading").css("display","none");
   				        $("#mainDiv").removeClass('disabled');
   		    		}
   		    	 });

   	   		}
   	   			catch(e)
   	   			{
   	   			errorCode(e);
   	   			}


   	  	   }






function PrintVerificationItems(verno,location){
 	debugger;
 	 //purpose:for checking internet conection
 	var online = window.navigator.onLine;
   	if(!online)
   	{
   	alert("check your internet connection,please try agian after some time");
   	return;
   	}
 var flowUnder = $("#flowUnder").val();
 	var contextPath = $("#contextPath").val();
 	URL = contextPath + "/inventorymanager/printVerficationItems.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				verno : verno,
 				location : location
 			},
 			beforeSend: function(xhr){                    
 	   			$("#loading").css("display","block");
 	   			$("#mainDiv").addClass("disabled");
 	   		  },
 			success : function(result) {
 				if(result.includes("Sorry")){
 					alert(result);
 				}else{
	  
	 if(result != null){
	              var anchor = document.createElement('a');
    	    	  anchor.href = result;
 				  anchor.target = '_blank';
 		 		  //anchor.download = '';
	           
 				  anchor.click();
	                 }
		}
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled')
 			},
 			error : function() {
 				 alert("something went wrong");
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
 }


function PrintNonVerificationItems(verno,location){
 	debugger;
 	 //purpose:for checking internet conection
 	var online = window.navigator.onLine;
   	if(!online)
   	{
   	alert("check your internet connection,please try agian after some time");
   	return;
   	}
 var flowUnder = $("#flowUnder").val();
 	var contextPath = $("#contextPath").val();
 	URL = contextPath + "/inventorymanager/printNonVerficationItems.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				verno : verno,
 				location : location
 			},
 			beforeSend: function(xhr){                    
 	   			$("#loading").css("display","block");
 	   			$("#mainDiv").addClass("disabled");
 	   		  },
 			success : function(result) {
 			if(result.includes("Sorry")){
 					alert(result);
 				}else{
	  
	 if(result != null){
	              var anchor = document.createElement('a');
    	    	  anchor.href = result;
 				  anchor.target = '_blank';
 		 		  //anchor.download = '';
	           
 				  anchor.click();
	                 }
		
 				}
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled')
 			},
 			error : function() {
 				 alert("something went wrong");
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
 }


 function viewEventsSummaryReport(id,index,flow,save){
	   debugger;
		try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}
		  	
		  	if(save == undefined || save == null || save == ""){
		  		save = "";
			 }
		  	
		  	var  zone = "";
		  	if($("#outletZone").length > 0)
		  		zone= $("#outletZone").val();
	  	 
		  	var location = "";
		  	if($("#outletLocationSummary").length > 0)
		  		location= $("#outletLocationSummary").val();
	  	 var eventType = "";
		  	if($("#eventTypeSummary").length > 0)
		  		eventType= $("#eventTypeSummary").val();
	  	 var salesPerson = "";
		  	if($("#salesPersonSummary").length > 0)
		  		salesPerson= $("#salesPersonSummary").val();
	  	 var status = "";
		  	if($("#eventstatusSummary").length > 0)
		  		status= $("#eventstatusSummary").val();
		  	
		  	if(status == undefined || status == null || status == ""){
		  		status = "";
			 }
		  
	  	 var startDate = "";
	  	if($("#from").length > 0)
			startDate= $("#from").val();
	  	 var endDate = $("#to").val();
	  	 
	  	 var searchName = "";
	  	if($("#searchEvent").length > 0)
	  		searchName= $("#searchEvent").val();
	  	
	  	if(endDate == "" || endDate == undefined || endDate == null){
	  		endDate = "";
	  
	  		}
	  	
	  	if ($("#from").val() != "" && $("#to").val() != "") {
		   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		   		if (noOfDays < 0) {
		   			alert("Start Date can't be less than End Date");
		   			return;
		   		}
		   	}
	  	
	  	
	  	if(save == "true"){
	  		var eventReport = "true";
	  	}else{
	  		var eventReport = "false";
	  	}
	  	
	 var maxRecords = 10;
	  if($("#maxRecords").length>0)
		  maxRecords = $("#maxRecords").val();
	  
	  
	  var contextPath = $('#contextPath').val();
	  var URL = contextPath + "/reports/viewEventSummaryReport.do";
	  
	    $.ajax({
	    	type: "GET",
			url : URL,
			data : {
				index : index,
				maxRecords : maxRecords,
				zone : zone,
				location : location,
				eventType : eventType,
				salesPerson : salesPerson,
				status : status,
				startDate : startDate,
				endDate : endDate,
				searchName : searchName,
				eventReport : eventReport,
			},	
		beforeSend: function(xhr){                    
				$("#loadingreport").css("display","block");
				$("#mainDiv").addClass("disabled");
	        },

		success : function(result){
			$(".active-menu").removeClass("active-menu");
			activeMenu(id);
			$('#right-side').html(result);
			
			var anchor = document.createElement('a');
	   		  anchor.href = $("#printeventsSummaryURL").val();
	   		  anchor.target = '_blank';
	   		  anchor.download = '';
	   		if($("#printeventsSummaryURL").val()!=null && $("#printeventsSummaryURL").val()!='')
	   		  anchor.click();
	   		
			
			if(flow == "outlet"){
			openMenu("liOutletSalesReports","ulOutletSalesReports",0);
			openMenu("liOutletReports","ulOutletReports",1);
			openMenu("reports", "ulReports",1);
			}else{
				openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
				openMenu("liWarehouseReports","ulWarehouseReports",1);
				openMenu("reports", "ulReports",1);
			}
			
			 $("#loading").css("display","none");
			$("#loadingreport").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			 $("#loading").css("display","none");
			$("#loadingreport").css("display","none");
			   $("#mainDiv").removeClass('disabled');
		}
	 });
		}
		catch(e)
		{
		              errorCode(e);
		}

	}
	

 
 
 function criteria(str) {
	 debugger;

	         var x = $(str).val();
	         if (x.includes("'") || x.includes("@") || x.includes("$") || x.includes("!") || x.includes("#") || x.includes("^") || x.includes("/") || x.includes("(")  || x.includes(")")  || x.includes("%") || x.includes('"') ||   x.includes("<") || x.includes(">")  || x.includes("*") || x.includes(":") ||   x.includes("{") || x.includes("}") || x.includes("[") ||  x.includes("]") || x.includes("=")){
	         
	                 alert("Special characters are not allowed!");
	                 x=x.replace(/['"*@$!#^(){}<>?%/\\=]/g,'');
	         }
	          $(str).val(x.trim());
	 }
 
 

function criteriaMaster(str) {
        debugger;
    var x = $(str).val();
    if (x.includes("'") || x.includes("/") || x.includes("(")  || x.includes(")") || x.includes("|") || x.includes("$") || x.includes("\n") || x.includes("~") || x.includes("`") || x.includes("!") || x.includes("%") || x.includes('"') ||   x.includes("<") || x.includes(">")  || x.includes("*") || x.includes("#") || x.includes(":") ||  x.includes(";")  || x.includes("{") || x.includes("}") || x.includes("[") ||  x.includes("]") || x.includes("=") || x.includes("+") || x.includes("^") || x.includes("?")|| x.includes("@")|| x.includes("<") || x.includes("*") || x.includes(" ")){
                    alert("Special characters are not allowed!");
                      x=$(str).val().replace(/['*<>?$@^&~%/\\#!]/g,' ');
                      x=$(str).val().replaceAll(' ','');
                    /*  x=$(str).val().replace('  ','');*/
    }
     $(str).val(x.trim());
}
 
function viewOutletStockUploading(id,index,flowUnder,menu,verificationCode,location){
	 debugger;
 	 try{
 	// purpose:for checking internet conection
 		var online = window.navigator.onLine;
 	  	if(!online){
 	  	alert("Check your internet connection,Please try agian after some time.");
 	  	return;
 	  	}
 	 
	     	 debugger;
  	 var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	if($("#location").val()=="all")
	    		location="";
	    	
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();
			
			var maxRecords = 10;
			if($("#maxRecords").length > 0)
				maxRecords = $("#maxRecords").val();
			var startDate="";
			if($("#from").length > 0)
				startDate = $("#from").val();
			var endDate="";
			if($("#to").length > 0)
				endDate = $("#to").val();
			var searchName="";
			if($("#searchStockPosting").length > 0)
				searchName = $("#searchStockPosting").val();
			var category = "";
  	if($("#outletCategory").length > 0)
  		category = $("#outletCategory").val();
  	
  	var subcategory = "";
  	if($("#outletSubcategory").length > 0)
  		subcategory = $("#outletSubcategory").val();
  	var section = "";
		if ($("#section").length > 0)
			section = $("#section").val();
		var department = null;
			if($("#outletDepartmentId").length > 0)
				department = $("#outletDepartmentId").val();
			var subdepartment = null;
			if($("#outletSubDepartmentId").length > 0)
				subdepartment = $("#outletSubDepartmentId").val();
		
	
			
			var contextPath = $("#contextPath").val();
//alert(contextPath);
	    	 var URL = contextPath + "/inventorymanager/viewOutletStockPosting.do";
	    	 $.ajax({
	    		type : "GET",
	    		url : URL,
	    		data : {
	    		index : index,
  				flowUnder : flowUnder,
  				location : location,
  				verificationCode : verificationCode,
  				startDate : startDate,
  				endDate : endDate,
  				maxRecords : maxRecords,
  				searchName : searchName,
  				zone : zone,
  				department : department,
  				subdepartment : subdepartment,
  				category : category,
  				subcategory : subcategory,
  				section	: section
	    		},
	    		beforeSend: function(xhr){                    
 	   			$("#loading").css("display","block");
 	   			$("#mainDiv").addClass("disabled");
 	   		  },
  		success : function(result){
  			$('#right-side').html(result);
  			
  					
  			if(id == "outletStockUploading"){
  				openMenu("liOutletStockVerifications","ulOutletStockVerifications",0);
  				openMenu("liInventoryManagement","ulInventoryManagement",1);
  				openMenu("storedetails", "ulstoredetails",1);
  			}
  			else if(id == "warehouseStockVerificationReport"){
  				openMenu("liWarehouseStockVerifications","ulWarehouseStockVerifications",0);
 				openMenu("liStockManagement","ulStockManagement",1);
 				openMenu("warehouseDetails", "ulwarehouseDetails",1);
  			}
  			
  			if(id!=undefined && id != "")
  				activeMenu(id);
  			$("#loading").css("display","none");
  			$("#mainDiv").removeClass('disabled');
  		},
  		error : function(jqXHR, textStatus, errorThrown) {
  			errorCode(jqXHR.status);
  			$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
  		}
	    	 });
 	 }catch(e)
		{
			errorCode(e);
		}

   }
   
   
   
   
   
   
   function viewStoreStockPostingData(id,index,flowUnder,ref,operation){
	debugger;
	try{
  	// purpose:for checking internet conection
   		var online = window.navigator.onLine;
   	  	if(!online){
   	  	alert("Check your internet connection,Please try agian after some time.");
   	  	return;
   	  	}
   	  	
   	 var maxRecords = 10;
		if($("#maxRecords").length > 0)
			maxRecords = $("#maxRecords").val();
		
   	 
   	var contextPath = $("#contextPath").val();
	  var URL = contextPath + "/inventorymanager/viewStoreStockUploadingData.do";
  	    	 $.ajax({
  	    		type : "GET",
  	    		url : URL,
  	    		data : {
  	    		index : index,
  	    		flowUnder : flowUnder,
  	    		maxRecords : maxRecords,
  	    		ref : ref,
  	    		operation : operation
  	    		
  	    		},
  	    		beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
    		success : function(result){
    			$('#right-side').html(result);
    			
    			$("#loading").css("display","none");
    			$("#mainDiv").removeClass('disabled');
    		},
    		error : function(jqXHR, textStatus, errorThrown) {
    			errorCode(jqXHR.status);
    			$("#loading").css("display","none");
  				$("#mainDiv").removeClass('disabled');
    		}
  	    	 });
   	 }catch(e)
  		{
  			errorCode(e);
  		}
  	  
    }




function PrintStockPostingdetails(verno){
 	debugger;
 	 //purpose:for checking internet conection
 	var online = window.navigator.onLine;
   	if(!online)
   	{
   	alert("check your internet connection,please try agian after some time");
   	return;
   	}
 var flowUnder = $("#flowUnder").val();
 	var contextPath = $("#contextPath").val();
 	URL = contextPath + "/inventorymanager/printStockPostingdetails.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				verno : verno,
 			},
 			beforeSend: function(xhr){                    
 	   			$("#loading").css("display","block");
 	   			$("#mainDiv").addClass("disabled");
 	   		  },
 			success : function(result) {
 			if(result.includes("Sorry")){
 					alert(result);
 				}else{
	  
	 if(result != null){
	              var anchor = document.createElement('a');
    	    	  anchor.href = result;
 				  anchor.target = '_blank';
 		 		  //anchor.download = '';
	           
 				  anchor.click();
	                 }
		
 				}
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled')
 			},
 			error : function() {
 				 alert("something went wrong");
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
 }



function viewEventInventory(id,index,flowUnder,menu,save){
	 try{
		 debugger;
		 // purpose:for checking internet conection
		 var online = window.navigator.onLine;
		 if(!online){
			 alert("Check your internet connection,Please try agian after some time.");
			 return;
		 }
		
		 var maxRecords = 10;
			if($("#maxRecords").length > 0)
				maxRecords = $("#maxRecords").val();
			
		 var zone = "";
		 if($("#outletZone").length > 0)
			 zone = $("#outletZone").val();
		 var location = "";
		   	if($("#outletLocation").length > 0)
		   		location = $("#outletLocation").val();
				
				if($("#outletLocation").val()=="all")
					location="";
		   	
				var counterId="";
				if ($("#counterId").length > 0) 
				counterId=$("#counterId").val();

				var salesChannel="";
				if($("#salesChannel").length > 0)
					salesChannel = $("#salesChannel").val();
				
				var startDate="";
				if($("#from").length > 0)
					startDate = $("#from").val();
				var endDate="";
				if($("#to").length > 0)
					endDate = $("#to").val();
				
				var searchName="";
				if($("#searchInventory").length > 0)
					searchName = $("#searchInventory").val();
				
				var category = "";
		      	if($("#outletCategory").length > 0)
		      		category = $("#outletCategory").val();
		      	
		      	var subcategory = "";
		      	if($("#outletSubcategory").length > 0)
		      		subcategory = $("#outletSubcategory").val();
		      	
		  		var brand = "";
		  			if($("#outletBrandId").length > 0)
		  				brand = $("#outletBrandId").val();
		  			
		  		var billType = "";
		  			if($("#billType").length > 0)
		  				billType = $("#billType").val();
		  			
		  			if(save == "true"){
		  				var saveReport = "true";
		  			}else {
		  				var saveReport = "false";
		  			}
		  			
			var status = "";
				  	if($("#eventstatusSummary").length > 0)
				  		status= $("#eventstatusSummary").val();

		  			
		  			
		 var contextPath = $("#contextPath").val();
		 var URL = contextPath + "/reports/viewEventInventory.do";
		 $.ajax({
			 type : "GET",
			 url : URL,
			 data : {
				 index : index,
				 flowUnder : flowUnder,
				 maxRecords : maxRecords,
				 zone : zone,
				 location : location,
				 counterId : counterId,
				 salesChannel : salesChannel,
				 startDate : startDate,
				 endDate : endDate,
				 searchName : searchName,
				 category : category,
				 subcategory : subcategory,
				 brand : brand,
				 saveReport : saveReport,
				status : status,
				 billType : billType
				 
			 },
			 beforeSend: function(xhr){                    
				 $("#loading").css("display","block");
				 $("#mainDiv").addClass("disabled");
			 },
			 success : function(result){
				 debugger;
				 $("#loading").css("display","none");
				 $("#mainDiv").removeClass('disabled');
				 $('#right-side').html(result);
				 activeMenu(id);
				 
				 var anchor = document.createElement('a');
		   		  anchor.href = $("#printInventoryReportURL").val();
		   		  anchor.target = '_blank';
		   		  anchor.download = '';
		   		if($("#printInventoryReportURL").val()!=null && $("#printInventoryReportURL").val()!='')
		   		  anchor.click();
		   		
		   		
				 openMenu("liOutletStockReprts","ulOutletStockReprts",1);
				 $("#loading").css("display","none");
				 $("#mainDiv").removeClass('disabled');
			 },
			 error : function(jqXHR, textStatus, errorThrown) {
				 errorCode(jqXHR.status);
				 $("#loading").css("display","none");
				 $("#mainDiv").removeClass('disabled');
			 }
		 });
	 }catch(e)
	 {
		 errorCode(e);
	 }


}




function viewEventsReport(id,index,flow,save){
           debugger;
                try{
                        
                        var online = window.navigator.onLine;
                          if(!online){
                          alert("Check your internet connection,Please try agian after some time.");
                          return;
                          }
                          
                          if(save == undefined || save == null || save == ""){
                                  save = "";
                         }
                          
                          var  zone = "";
                          if($("#outletZone").length > 0)
                                  zone= $("#outletZone").val();
                   
                          var location = "";
                          if($("#outletLocationSummary").length > 0)
                                  location= $("#outletLocationSummary").val();
                   var eventType = "";
                          if($("#eventTypeSummary").length > 0)
                                  eventType= $("#eventTypeSummary").val();
                   var salesPerson = "";
                          if($("#salesPersonSummary").length > 0)
                                  salesPerson= $("#salesPersonSummary").val();
                   var status = "";
                          if($("#eventstatusSummary").length > 0)
                                  status= $("#eventstatusSummary").val();
                          
                          if(status == undefined || status == null || status == ""){
                                  status = "";
                         }
                  
                   var startDate = "";
                  if($("#from").length > 0)
                        startDate= $("#from").val();
                   var endDate = $("#to").val();
                   
                   var searchName = "";
                  if($("#searchEvent").length > 0)
                          searchName= $("#searchEvent").val();
                  
                  if(endDate == "" || endDate == undefined || endDate == null){
                          endDate = "";
          
                          }
                  
                  if ($("#from").val() != "" && $("#to").val() != "") {
                                   var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
                                   if (noOfDays < 0) {
                                           alert("Start Date can't be less than End Date");
                                           return;
                                   }
                           }
                  
                  
                  if(save == "true"){
                          var eventReport = "true";
                  }else{
                          var eventReport = "false";
                  }
                  var criteriaStr = "eventSummary";
         var maxRecords = 10;
          if($("#maxRecords").length>0)
                  maxRecords = $("#maxRecords").val();
          
          
          var contextPath = $('#contextPath').val();
          var URL = contextPath + "/reports/viewEventsReport.do";
          
            $.ajax({
                    type: "GET",
                        url : URL,
                        data : {
                                index : index,
                                maxRecords : maxRecords,
                                zone : zone,
                                location : location,
                                eventType : eventType,
                                salesPerson : salesPerson,
                                status : status,
                                startDate : startDate,
                                endDate : endDate,
                                searchName : searchName,
                                eventReport : eventReport,
                                criteriaStr : criteriaStr
                        },        
                beforeSend: function(xhr){                    
                                $("#loadingreport").css("display","block");
                                $("#mainDiv").addClass("disabled");
                },

                success : function(result){
                        $(".active-menu").removeClass("active-menu");
                        activeMenu(id);
                        $('#right-side').html(result);
                        
                        var anchor = document.createElement('a');
                             anchor.href = $("#printeventsReportURL").val();
                             anchor.target = '_blank';
                             anchor.download = '';
                           if($("#printeventsReportURL").val()!=null && $("#printeventsReportURL").val()!='')
                             anchor.click();
                           
                        
                        if(flow == "outlet"){
                        openMenu("liOutletSalesReports","ulOutletSalesReports",0);
                        openMenu("liOutletReports","ulOutletReports",1);
                        openMenu("reports", "ulReports",1);
                        }else{
                                openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
                                openMenu("liWarehouseReports","ulWarehouseReports",1);
                                openMenu("reports", "ulReports",1);
                        }
                        
                         $("#loading").css("display","none");
                        $("#loadingreport").css("display","none");
                        $("#mainDiv").removeClass('disabled');
                },
                error : function(jqXHR, textStatus, errorThrown) {
                        errorCode(jqXHR.status);
                         $("#loading").css("display","none");
                        $("#loadingreport").css("display","none");
                           $("#mainDiv").removeClass('disabled');
                }
         });
                }
                catch(e)
                {
                              errorCode(e);
                }

        }



function viewBillWiseReport(id,index,flowUnder,menu,save){
         try{
                 debugger;
                 // purpose:for checking internet conection
                 var online = window.navigator.onLine;
                 if(!online){
                         alert("Check your internet connection,Please try agian after some time.");
                         return;
                 }
                
                 if(save == undefined || save == null || save == ""){
                                  save = "";
                         }
                          
                 var maxRecords = 10;
                        if($("#maxRecords").length > 0)
                                maxRecords = $("#maxRecords").val();
                        
                 var zone = "";
                 if($("#outletZone").length > 0)
                         zone = $("#outletZone").val();
                 var location = "";
                           if($("#outletLocation").length > 0)
                                   location = $("#outletLocation").val();
                                
                                if($("#outletLocation").val()=="all")
                                        location="";
                           

                                var salesChannel="";
                                if($("#salesChannel").length > 0)
                                        salesChannel = $("#salesChannel").val();
                                
                                var startDate="";
                                if($("#from").length > 0)
                                        startDate = $("#from").val();
                                var endDate="";
                                if($("#to").length > 0)
                                        endDate = $("#to").val();
                                
                                var searchName="";
                                if($("#searchBills").length > 0)
                                        searchName = $("#searchBills").val();
                                
                                var category = "";
                              if($("#outletCategory").length > 0)
                                      category = $("#outletCategory").val();
                              
                              var subcategory = "";
                              if($("#outletSubcategory").length > 0)
                                      subcategory = $("#outletSubcategory").val();
                              
                                  var brand = "";
                                          if($("#outletBrandId").length > 0)
                                                  brand = $("#outletBrandId").val();
                                          
                                  var department = "";
                                          if($("#outletDepartmentId").length > 0)
                                                  department = $("#outletDepartmentId").val();
                                          
                                          if(save == "true"){
                                                  var saveReport = "true";
                                          }else {
                                                  var saveReport = "false";
                                          }
                                          
                                          var criteriaStr = "orderWise";
                                          
                                          
                 var contextPath = $("#contextPath").val();
                 var URL = contextPath + "/reports/viewEventSalesReports.do";
                 $.ajax({
                         type : "GET",
                         url : URL,
                         data : {
                                 index : index,
                                 flowUnder : flowUnder,
                                 maxRecords : maxRecords,
                                 zone : zone,
                                 location : location,
                                 salesChannel : salesChannel,
                                 startDate : startDate,
                                 endDate : endDate,
                                 searchName : searchName,
                                 category : category,
                                 subcategory : subcategory,
                                 brand : brand,
                                 saveReport : saveReport,
                                 criteriaStr : criteriaStr
                                 
                         },
                         beforeSend: function(xhr){                    
                                 $("#loading").css("display","block");
                                 $("#mainDiv").addClass("disabled");
                         },
                         success : function(result){
                                 debugger;
                                 $("#loading").css("display","none");
                                 $("#mainDiv").removeClass('disabled');
                                 $('#right-side').html(result);
                                 activeMenu(id);
                                 
                                 var anchor = document.createElement('a');
                                     anchor.href = $("#printBillReportURL").val();
                                     anchor.target = '_blank';
                                     anchor.download = '';
                                   if($("#printBillReportURL").val()!=null && $("#printBillReportURL").val()!='')
                                     anchor.click();
                                   
                                   
                                 openMenu("liOutletStockReprts","ulOutletStockReprts",1);
                                 $("#loading").css("display","none");
                                 $("#mainDiv").removeClass('disabled');
                         },
                         error : function(jqXHR, textStatus, errorThrown) {
                                 errorCode(jqXHR.status);
                                 $("#loading").css("display","none");
                                 $("#mainDiv").removeClass('disabled');
                         }
                 });
         }catch(e)
         {
                 errorCode(e);
         }


}



function Smssettingreset(){
         debugger;
        $("#gateway").val("");
        $("#parameterName").val("");
        $("#parameterValue").val("");
        $("#mobileKey").val("");
        $("#messageKey").val("");
        
        
        //$("#warehouseLocation").val("0123");
        //$("#outletLocation").val("B2C");
        
}


function callCalenderstockindent(id){
        
        // alert("callCalender");
        debugger;
try{
        var online = window.navigator.onLine;
          if(!online){
          alert("Check your internet connection,Please try agian after some time.");
          return;
          }
           
if($("#"+id+"Error").length > 0)
                        $("#"+id+"Error").html('');
                /*
         * if($("#Error").length > 0) $("#Error").html('');
         * $(".Error").html('');
         */
        $("#"+id).calendarsPicker({  dateFormat: 'dd/mm/yyyy' ,yearRange: 'any',  showTrigger: '#calImg'});
        var textbox = jQuery("#"+id);
        var offset = textbox.offset(textbox);
        // console.log("left: " + offset.left + ", top: " + offset.top
        // );
        $(".calendars-popup").css("top",offset.top+34 );
        
        /*
         * $('input').bind('blur', function(e) { alert("changed motu
         * "+$(this).val()); e.preventdefault(); });
         */
}
        catch(e)
        {
          errorCode(e);
        }


}


function viewBatchOperationsFlow(id,index){
			debugger;
			$('#Success').html("");
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
 
			  	debugger;
				 var maxRecords = 10;
		    	  if($("#maxRecords").length>0)
		    		  maxRecords = $("#maxRecords").val();
		    	  
		    	  var searchCriteria ="";
		    	  		 if($("#searchBatches").length > 0)
		    	  			searchCriteria = $("#searchBatches").val();
		    	  
			var contextPath = $('#contextPath').val();
			 var URL = contextPath + "/dataManagement/viewBatchOperationsFlow.do";
			 $.ajax({
				type : "GET",
				url : URL,
				data : {
					index : index,
					maxRecords : maxRecords,
					searchCriteria : searchCriteria
				},
				beforeSend: function(xhr){                    
			   		$("#loading").css("display","block");
			   		$("#mainDiv").addClass("disabled");
			   	},
				success : function(result){
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
					debugger;
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liDataManagement", "ulDataManagement",0);
					$('#right-side').html(result);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown) {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			 });
			}
			catch(e)
			{
			              errorCode(e);
			}

		}
		
		 function viewFleetMasterSummaryDetails(id,index){
				 try{
					 debugger
					 var online = window.navigator.onLine;
					 	if(!online){
					 	 alert("Check your internet connection,Please try agian after some time.");
					   	 return;
					        }
					 	
					 	 var maxRecords = 10;
				 		 if($("#maxRecords").length>0)
				 			 maxRecords = $("#maxRecords").val();
				 		 
				 		var location="";
				 		if($("#warehouseLocation").length > 0)
				    		 location = $("#warehouseLocation").val();
				 		var searchCriteria="";
				 		if($("#searchFleets").length > 0)
				 			 searchCriteria = $("#searchFleets").val();
				 		 
				 		var startDate="";
				 		if($("#from").length > 0)
				 			 startDate = $("#from").val();
				 		
				 		var endDate="";
				 		if($("#to").length > 0)
				 			 endDate = $("#to").val();
				 		
				 			var status = $("#status").val();
				 			if(status == "true")
				 				status = "true";
				 			else
				 				status="false";
				 		
					 	var contextPath = $('#contextPath').val();
					 	 var URL = contextPath + "/genericMaster/viewFleetMasterSummary.do";
					 	$.ajax({
		        			type: "GET",
		        			url : URL,
		        		    data : {
		        			index : index,
		        			maxRecords : maxRecords,
		        			location : location,
		        			startDate : startDate,
		        			endDate : endDate,
		        			status : status,
		        			searchCriteria : searchCriteria
		        			},
		        			
		        			beforeSend: function(xhr){                    
		        		    $("#loading").css("display","block");
		        			$("#mainDiv").addClass("disabled");
		        		    },
		        			success : function(result) {
		        			  $("#right-side").html(result);
		        			  activeMenu(id);
		        		      $("#loading").css("display","none");
		        			  $("#mainDiv").removeClass('disabled');
		        				},
		        			error : function(jqXHR, textStatus, errorThrown)  {
		        			  errorCode(jqXHR.status);
		        		 	  $("#loading").css("display","none");
		        			  $("#mainDiv").removeClass('disabled');
		        					}
		        				});
					 }
					 catch(e)
					 	{
					 	        errorCode(e);
					 }
		        		}

		 
		 
		 function newWarehouseFleetMaster(id,index){
			 try{
				debugger;
					
					var online = window.navigator.onLine;
				  	if(!online){
				  	alert("Check your internet connection,Please try agian after some time.");
				  	return;
				  	}
				  	
			 
			 var contextPath = $("#contextPath").val();
	  			 var URL = contextPath + "/inventorymanager/viewNewFleetMaster.do";
	  	 		$.ajax({
	  	 			type: "GET",
	  	 			url : URL,
	  	 			data : {
	  	 			},
	  	 			beforeSend: function(xhr){                    
	  	   	   			$("#loading").css("display","block");
	  	   	   			$("#mainDiv").addClass("disabled");
	  	   	   		  },
	  	   			success : function(result) {
	  	   			$("#right-side").html(result);
	  	 				activeMenu(id);
	  	 				openMenu("warehousemaster-details","ulWarehouseMasterDetails",0);
	  		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			},
	  	 			error : function(jqXHR, textStatus, errorThrown)  {
	  	 				 errorCode(jqXHR.status);
	  	 				$("#loading").css("display","none");
	  	 				$("#mainDiv").removeClass('disabled');
	  	 			}
	  	 		});
			 }
				catch(e)
				{
				              errorCode(e);
				}
	  		}
     


function viewIntegrationDashboard(id,index){
	debugger;
	$('#Success').html("");
	$('#successMsg').html("");
	$('#ErrorMSg').html("");
	try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}

	  	debugger;
		 var maxRecords = 10;
    	  if($("#maxRecords").length>0)
    		  maxRecords = $("#maxRecords").val();
    	  
    	  var zone ="";
    	  	if($("#outletZone").length > 0)
    	  		zone = $("#outletZone").val();
    	  	var location ="";
    	  	if($("#location").length > 0)
    	  		location = $("#location").val();
    	  	var uploadDownload ="";
    	  	if($("#uploadDownload").length > 0)
    	  		uploadDownload = $("#uploadDownload").val();
    	  	var counterName ="";
    	  	if($("#counter").length > 0)
    	  		counterName = $("#counter").val();
    	  	
    	  	var startDate ="";
    	  	if($("#startDate").length > 0)
    	  		startDate = $("#startDate").val();

	if(startDate == ""){
      		  var dateTime = getCurrentDate();
      			    	  var date = dateTime.split(' ');
      			    	  date = date[0].split('/');
      			    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];

      		startDate = formatedDate;
      		$("#startDate").val(formatedDate);
      		 }

    	  	var endDate ="";
    	  	if($("#endDate").length > 0)
    	  		endDate = $("#endDate").val();
    	  
	var contextPath = $('#contextPath').val();
	 var URL = contextPath + "/systemLog/viewIntegrationDashboards.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			index : index,
			maxRecords : maxRecords,
			zone : zone,
			type : uploadDownload,
			location : location,
			counterName : counterName,
			startDate : startDate,
			endDate : endDate
		},
		beforeSend: function(xhr){                    
	   		$("#loading").css("display","block");
	   		$("#mainDiv").addClass("disabled");
	   	},
		success : function(result){
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
			debugger;
			if(id != undefined)
				activeMenu(id);
			openMenu("liDataManagement", "ulDataManagement",0);
			$('#right-side').html(result);
			
			$('#tab_1_SAPonline').trigger('click');
			
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
	}
	catch(e)
	{
	              errorCode(e);
	}

}




function billPushtoSAPfromID(id,index,location,date,counter){
	debugger;
	$('#successMsg').html("");
	$('#ErrorMSg').html("");
	try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}

	  	debugger;
		 var maxRecords = 10;
    	  if($("#maxRecords").length>0)
    		  maxRecords = $("#maxRecords").val();
    	  	
	var contextPath = $('#contextPath').val();
	 var URL = contextPath + "/systemLog/billsPushingtoSAPinID.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			index : index,
			maxRecords : maxRecords,
			location : location,
			date : date,
			counter : counter,
			
		},
		beforeSend: function(xhr){                    
	   		$("#loadingBillsSAP").css("display","block");
	   		$("#mainDiv").addClass("disabled");
	   	},
		success : function(result){
			$("#loadingBillsSAP").css("display","none");
			$("#mainDiv").removeClass('disabled');
			debugger;
			if(id != undefined)
				activeMenu(id);
			openMenu("liDataManagement", "ulDataManagement",0);
			$('#right-side').html(result);
			
			$('#tab_1_SAPonline').trigger('click');
			
			$("#loadingBillsSAP").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loadingBillsSAP").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
	}
	catch(e)
	{
	              errorCode(e);
	}

}







function allBillPushtoSAPfromID(location,index){

	debugger;
	$('#Success').html("");
	$('#successMsg').html("");
	$('#ErrorMSg').html("");
	try{
		
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}

	  	debugger;
	  	
		 var maxRecords = 10;
    	  if($("#maxRecords").length>0)
    		  maxRecords = $("#maxRecords").val();
    	  
    	  var zone ="";
    	  	if($("#outletZone").length > 0)
    	  		zone = $("#outletZone").val();
    	  	var location ="";
    	  	if($("#location").length > 0)
    	  		location = $("#location").val();
    	  	var uploadDownload ="";
    	  	if($("#uploadDownload").length > 0)
    	  		uploadDownload = $("#uploadDownload").val();
    	  	var counterName ="";
    	  	if($("#counter").length > 0)
    	  		counterName = $("#counter").val();
    	  	
    	  	var startDate ="";
    	  	if($("#startDate").length > 0)
    	  		startDate = $("#startDate").val();

	if(startDate == ""){
      		  var dateTime = getCurrentDate();
      			    	  var date = dateTime.split(' ');
      			    	  date = date[0].split('/');
      			    	  var formatedDate = date[1]+"/"+date[0]+"/"+date[2];

      		startDate = formatedDate;
      		$("#startDate").val(formatedDate);
      		 }

    	  	var endDate ="";
    	  	if($("#endDate").length > 0)
    	  		endDate = $("#endDate").val();
    	  
	var contextPath = $('#contextPath').val();
	 var URL = contextPath + "/systemLog/allBillPushtoSAPfromID.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			index : index,
			maxRecords : maxRecords,
			zone : zone,
			type : uploadDownload,
			location : location,
			counterName : counterName,
			startDate : startDate,
			endDate : endDate
		},
		beforeSend: function(xhr){                    
	   		$("#loadingBillsSAP").css("display","block");
	   		$("#mainDiv").addClass("disabled");
	   	},
	   	
		success : function(result){
			$("#loadingBillsSAP").css("display","none");
			$("#mainDiv").removeClass('disabled');
			debugger;
			
			openMenu("liDataManagement", "ulDataManagement",0);
			$('#right-side').html(result);
			
			$('#tab_1_SAPonline').trigger('click');
			
			$("#loadingBillsSAP").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
	}
	catch(e)
	{
	              errorCode(e);
	}

}





function criteriaSlashes(str) {
	debugger;

	        var x = $(str).val();
	        if (x.includes("'") || x.includes("(")  || x.includes(")") || x.includes("|") || x.includes("$") || x.includes("\n") || x.includes("~") || x.includes("`") || x.includes("!") || x.includes("%") || x.includes('"') ||   x.includes("<") || x.includes(">")  || x.includes("*") || x.includes("#") || x.includes(":") ||  x.includes(";")  || x.includes("{") || x.includes("}") || x.includes("[") ||  x.includes("]") || x.includes("=") || x.includes("+") || x.includes("^") || x.includes("?")|| x.includes("@")|| x.includes("<") || x.includes("*")  || x.includes("_")){
	        
	                alert("Special characters are not allowed!");
	                x=$(str).val().replace(/['*<>?$@^&~%#!_]/g,'');
	        /*   x=$(str).val(""); */

	        }
	         $(str).val(x.trim());
	}
	
function criteriaSlashes2(str) {
	debugger;

	        var x = $(str).val();
	        if (x.includes(";") || x.includes("–") || x.includes("|") || x.includes("$") || x.includes("“") || x.includes("”") || x.includes("~") || x.includes("‘") || x.includes("’") || x.includes("%") || x.includes("<") || x.includes(">")  || x.includes("*") || x.includes("#") || x.includes(":") ||  x.includes(";")  || x.includes("{") || x.includes("}") || x.includes("[") ||  x.includes("]") || x.includes("=") || x.includes("+") || x.includes("^") || x.includes("?") || x.includes("?") || x.includes("@")|| x.includes("<") || x.includes("*")  || x.includes("_")){
	        
	                alert("Special characters are not allowed!");
	                x=$(str).val().replace(/[*<>?$@^&~%|#’“”‘’–;_]/g,'');
	        /*   x=$(str).val(""); */

	        }
	         $(str).val(x.trim());
	}


	function viewSubscriptions(type,id,index,menu){
		 try{
			 
  	 var contextPath = $('#contextPath').val();
  	 
  	// purpose:for checking internet conection
  		var online = window.navigator.onLine;
  	  	if(!online){
  	  	alert("Check your internet connection,Please try agian after some time.");
  	  	return;
  	  	}
  	  	debugger;
  	  	/*var location = "";
	    	if($("#outletLocation").length > 0)
	    		location = $("#outletLocation").val();
	    	
	    	var zone = "";
	    	if($("#outletZone").length > 0)
	    		zone = $("#outletZone").val();*/
	    	
	    	var startdate = "";
	    	if($("#promoStartDate").length > 0)
	    		startdate = $("#promoStartDate").val();
	    	var enddate = "";
	    	if($("#promoEndDate").length > 0)
	    		enddate = $("#promoEndDate").val();
	    	
	    	var subscriptionType = "";
	    	if($("#subscriptionType").length > 0)
	    		subscriptionType = $("#subscriptionType").val();
	    	
	    	var status = "";
	    	if($("#subscriptionStatusList").length > 0)
	    		status = $("#subscriptionStatusList").val();
	    	
	    	 if ($("#promoStartDate").val() != "" && $("#promoEndDate").val() != "") {
	 	   		var noOfDays = daydiff(parseDate(startdate), parseDate(enddate));
	 	   		if (noOfDays < 0) {
	 	   			alert("Start Date can't be less than End Date");
	 	   			return;
	 	   		}
	 	   	}
	    	
	    	var searchName = "";
	 		if($("#searchSubscriptions").length > 0 )
	 			searchName = $("#searchSubscriptions").val().trim();
	    	
	 	 var maxRecords = 10;
  	  if($("#maxRecords").length > 0)
  		  maxRecords = $("#maxRecords").val();
	 		
	 		var allLocationsList = [];
	 	 var length = $('#outletLocation').children('option').length;
	       	$('#outletLocation option').each(function() { 
	       		allLocationsList.push( $(this).attr('value'));
	       	});
	       	
	 	 var  locationList="";
	    	for(i=1;i<allLocationsList.length;i++)
	    		{
	    		locationList =locationList+ allLocationsList[i]+',';
	    		}
	    	
	   /*
		 * var idLocations = ""; var selectedIds =
		 * JSON.stringify(idLocations); console.log(selectedIds)
		 */
	    	
  	 var URL = contextPath + "/crm/viewSubscriptions.do";
  	 $.ajax({
  		type : "GET",
  		url : URL,
  		data : {
  			index : index,
  		
  			startdate : startdate,
  			enddate : enddate,	    	
  			searchName : searchName,
  			maxRecords : maxRecords,
  			status : status,
  			subscriptionType : subscriptionType,
  			//allLocationsList : locationList,
  			//selectedIds : selectedIds
  		},
  		beforeSend: function(xhr){                    
 	   			$("#loading").css("display","block");
 	   			$("#mainDiv").addClass("disabled");
 	   		  },
  		success : function(result){
  			$('#right-side').html(result);
  			/* openMenu("loyaltyProgram", "ulLoyaltyProgram",0); */
  			/* openMenu("liLoyalty", "ulLoyalty",1); */
  			activeMenu(id);
  			$("#loading").css("display","none");
  			$("#mainDiv").removeClass('disabled');
  		},
  		error : function(jqXHR, textStatus, errorThrown) {
  			errorCode(jqXHR.status);
  			$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
  		}
  	 });
		 }catch(e)
		{
			errorCode(e);
		}

   }


function validateSalesmanCommission(flowUnder,index,searchname,flow){
		                	   
		                		 $('#myModalIos').modal('hide');
		                	   
		                	   try{
		                	   var online = window.navigator.onLine;
		                	   	if(!online)
		                	           {
		                	   	 alert("Check your internet connection,Please try agian after some time.");
		                	     	 return;
		                	          }
		                	   // debugger;
		                	if (flowUnder == undefined && $("#flowUnder").length > 0)
		                		flowUnder = $("#flowUnder").val();
		                	
		                	var maxRecords = 10;
		                	if ($("#maxRecords").length > 0)
		                		maxRecords = $("#maxRecords").val();

		                	var bussinessArea = "";
		                	if ($("#").length > 0)
		                		bussinessArea = $("#").val();

		                	var section = "";
		                	if ($("#section").length > 0)
		                		section = $("#section").val();

		                	var subDepartment = "";
		                	if ($("#outletSubDepartmentId").length > 0)
		                		subDepartment = $("#outletSubDepartmentId").val();

		                	var location = "";
		                	if($("#location").length>0 && $("#location").val != "ALL" && $("#location").val != "all")
		                		location = $("#location").val();
		                	var zone = "";
		                	if ($("#outletZone").length > 0)
		                		zone = $("#outletZone").val();
		                	var startDate = "";
		                	if ($("#startDate").length > 0)
		                		startDate = $("#startDate").val();
		                	var endDate = "";
		                	if ($("#endDate").length > 0)
		                		endDate = $("#endDate").val();
		                	
		                	 if ($("#startDate").val() != "" && $("#endDate").val() != "") {
		             	   		var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		             	   		if (noOfDays < 0) {
		             	   			alert("Start Date can't be less than End Date");
		             	   			return;
		             	   		}
		             	   	}

		             	  	 if(endDate!="" || endDate!=null)
//		             	  		 if(criteria == 'date'){
		             	  		 {
		             	  			 var  allownoOfDays = daydiff(parseDate(startDate), parseDate(endDate));
		             	  			 if(allownoOfDays > 31){
		             	  				 alert("Date Range should not exceed a Month");
		             	  				 return false;
		             	  			 }
		             	  		 }

		             	  	if(noOfDays>15){
             	  				var returnValue = getConfirmation();
             	  				if(returnValue == false)
             	  					return;
             	  				}
		                	
		                	var category = "";
		                	if ($("#Category").length > 0)
		                		category = $("#Category").val();
		                	var subCategory = "";
		                	if ($("#outletSubcategory").length > 0)
		                		subCategory = $("#outletSubcategory").val();

		                	var department = "";
		                	if ($("#outletDepartmentId").length > 0)
		                		department = $("#outletDepartmentId").val();
		                	
		                	
		                	if (searchname == "save")
		                		var saveFlag = true;
		                	else
		                		var saveFlag =false;
		                	
		                	var searchCriteria="";
		                	if ($("#searchSaleCommissionItems").length > 0)
		                		searchCriteria = $("#searchSaleCommissionItems").val();
		                		// alert(flowUnder);
		                		var contextPath = $("#contextPath").val();
		                    	 var URL = contextPath + "/reports/viewSalesmanCommission.do";
		                    	 $.ajax({
		                    		type : "GET",
		                    		url : URL,
		                    		data : {
		                    			index : index,
		                				Id : flowUnder,
		                				maxRecords : maxRecords,
		                				location : location,
		                				zone : zone,
		                				startDate : startDate,
		                				endDate : endDate,
		                				category : category,
		                				subCategory : subCategory,
		                				searchCriteria : searchCriteria,
		                				saveFlag : saveFlag,
		                				flow : flow,
		                				bussinessArea : bussinessArea,
		                				section : section,
		                				subDepartment : subDepartment,
		                				department : department,
		                    		},
		                    	
		                    		beforeSend: function(xhr){                    
		                				$("#loadingreport").css("display","block");
		                				$("#mainDiv").addClass("disabled");
		                	        },

		                		success : function(result){
		                			$(".active-menu").removeClass("active-menu");
                                           if(flow == ""){
		                				
		                				openMenu("liOutletSalesReports","ulOutletSalesReports",0);
		                				openMenu("liOutletReports","ulOutletReports",1);
		                				openMenu("reports", "ulReports",1);
		                			}else{
		                				 openMenu("liWarehouseSalesReports","ulWarehousealesReports",0);
		             					openMenu("liWarehouseReports","ulWarehouseReports",1);
		             					openMenu("reports", "ulReports",1);
		                			}
		                			activeMenu(flowUnder);
		                			$('#right-side').html(result);
		                			$("#loadingreport").css("display","none");
		                   		 var anchor = document.createElement('a');
		           				  anchor.href = $("#salesdownloadurl").val();
		           				  anchor.target = '_blank';
		           				  anchor.download = '';
		           				if($("#salesdownloadurl").val()!=null && $("#salesdownloadurl").val()!='')
		           				  anchor.click();
		                			$("#mainDiv").removeClass('disabled');
		                		},
		                			error : function(jqXHR, textStatus, errorThrown)  {
		                				errorCode(jqXHR.status);
		                				$("#loadingreport").css("display", "none");
		                				$("#mainDiv").removeClass('disabled');
		                			}
		                    	 });
		                	   }
		                	   catch(e)
		                	   	{
		                	   	        errorCode(e);
		                	   } 
		                    }   



function viewEditWhatsAppSettings(id,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}

			var contextPath = $("#contextPath").val();
			 URL = contextPath + "/settings/editWhatsAppSettings.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					operation : operation
				},
				beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
				success : function(result) {
					
					$("#right-side").html(result);
					if(id != undefined)
	  					activeMenu(id);
					openMenu("liSettings", "ulSettings",0);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					 $("#loading").css("display","none");
					 $("#mainDiv").removeClass('disabled');
				}
			});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
		
		
		
		
		
		
		
 function viewStateMaster(id,index,location){
	debugger;
	try{
	var online = window.navigator.onLine;
  	if(!online){
  	alert("Check your internet connection,Please try agian after some time.");
  	return;
  	}
		// debugger;
		var maxRecords="10";
		if($("#maxRecords").length > 0)
			maxRecords = $("#maxRecords").val();
		
		var searchCritaria="";
		if($("#searchState").length > 0)
			searchCritaria = $("#searchState").val().trim();
		
		var contextPath = $("#contextPath").val();
		URL = contextPath + "/genericMaster/viewStateMaster.do";
 		$.ajax({
 			type: "GET",
 			url : URL,
 			data : {
 				index : index,
 				location : location,
 				maxRecords : maxRecords,
 				searchCritaria : searchCritaria,
 				
 			},
 			beforeSend: function(xhr){                    
   	   			$("#loading").css("display","block");
   	   			$("#mainDiv").addClass("disabled");
   	   		  },
 			success : function(result) {
 				$("#right-side").html(result);
 				activeMenu(id);
 			//	openMenu("liGenericData","ulGenericData",0);
	    	//	openMenu("liMasterDataManagement","ulMasterDataManagement",1);
	    		$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			},
 			error : function(jqXHR, textStatus, errorThrown)  {
 				 errorCode(jqXHR.status);
 				$("#loading").css("display","none");
 				$("#mainDiv").removeClass('disabled');
 			}
 		});
	}
	catch(e)
	{
	errorCode(e);
	}
	}

	function viewCustomerOTP(id,index,menu){
		debugger;
		try{
			
			var online = window.navigator.onLine;
		  	if(!online){
		  	alert("Check your internet connection,Please try agian after some time.");
		  	return;
		  	}

		var location = "";
		if($("#toLocation").length>0)
    		  location = $("#toLocation").val();
    
		var maxRecords = "10";
    	  if($("#maxRecords").length > 0)
    		  maxRecords = $("#maxRecords").val();
    	  

	    	var searchName = "";
	 		if($("#searchCustomers").length > 0 )
	 			searchName = $("#searchCustomers").val().trim();
    	  
		var contextPath = $("#contextPath").val();
	   URL = contextPath+"/crm/viewCustomerOTP.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					index : index,
					location : location,
					maxRecords : maxRecords,
					searchName : searchName,
				},
				beforeSend: function(xhr){                    
		   			$("#loading").css("display","block");
		   			$("#mainDiv").addClass("disabled");
		   		  },
				success : function(result) {
					$("#right-side").html(result);
					if(id != undefined && id != "")
					activeMenu(id);
					openMenu("loyaltyProgram", "ulLoyaltyProgram",0);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			});
		}
			catch(e)
			{
			              errorCode(e);
			}
	}
 
	
	function viewb2bPartners(id,index){
		
		try{
		var online = window.navigator.onLine;
	  	if(!online){
	  	alert("Check your internet connection,Please try agian after some time.");
	  	return;
	  	}
			debugger;
			var maxRecords="10";
			if($("#maxRecords").length > 0)
				maxRecords = $("#maxRecords").val();
			
			if(maxRecords == "" || maxRecords == null || maxRecords == undefined)
				maxRecords = 10;
			
			var searchName="";
			if($("#searchB2BPartners").length > 0)
				searchName = $("#searchB2BPartners").val().trim();
			
			var contextPath = $("#contextPath").val();
			URL = contextPath + "/genericMaster/viewb2bPartners.do";
	 		$.ajax({
	 			type: "GET",
	 			url : URL,
	 			data : {
	 				index : index,
	 				maxRecords : maxRecords,
	 				searchName : searchName 
	 			},
	 			beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	 			success : function(result) {
	 				$("#right-side").html(result);
	 				activeMenu(id);
	 				openMenu("liGenericData","ulGenericData",0);
		    		openMenu("liMasterDataManagement","ulMasterDataManagement",1);
		    		$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			},
	 			error : function(jqXHR, textStatus, errorThrown)  {
	 				 errorCode(jqXHR.status);
	 				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	 			}
	 		});
		}
		catch(e)
		{
		errorCode(e);
		}
		}
	
	
	
	function viewoutletKeyValue(id,index){
		debugger;
		try{
			var online = window.navigator.onLine;
				if(!online)
			        {
				 alert("Check your internet connection,Please try agian after some time.");
			  	 return;
			       }
			var contextPath = $("#contextPath").val();
			var URL = contextPath + "/inventorymanager/viewoutletKeyValue.do";
			$.ajax({
				type : "GET",
				url : URL,
				data : {
					index : index
				},
				beforeSend: function(xhr){                    
	   	   			$("#loading").css("display","block");
	   	   			$("#mainDiv").addClass("disabled");
	   	   		  },
	   			success : function(result) {
	   				if(id != undefined)
	   					activeMenu(id);
	  				$("#right-side").html(result);
	  				$("#loading").css("display","none");
	  				$("#mainDiv").removeClass('disabled');
	  			},
	  			error : function(jqXHR, textStatus, errorThrown)  {
	  				 errorCode(jqXHR.status);
	  				$("#loading").css("display","none");
	 				$("#mainDiv").removeClass('disabled');
	  			}
	  		});		
		}
		catch(e)
			{
			        errorCode(e);
		} 
		}
 
 
 
 function viewLoyaltyCards(type,id,index,menu){
	  try{
	 var contextPath = $('#contextPath').val();
	 
	// purpose:for checking internet conection
	var online = window.navigator.onLine;
 	if(!online){
 	alert("Check your internet connection,Please try agian after some time.");
 	return;
 	}
 	var maxRecords = 10;
  if($("#maxRecords").length > 0)
	maxRecords = $("#maxRecords").val();
	 // debugger
	 var URL = contextPath + "/crm/viewLoyaltyCards.do";
	 $.ajax({
		type : "GET",
		url : URL,
		data : {
			index : index,
			maxRecords : maxRecords
		},
		beforeSend: function(xhr){                    
	   			$("#loading").css("display","block");
	   			$("#mainDiv").addClass("disabled");
	   		  },
		success : function(result){
			$('#right-side').html(result);
			/* openMenu("loyaltyProgram", "ulLoyaltyProgram",0); */
		/* openMenu("liLoyalty", "ulLoyalty",1); */
			activeMenu(id);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		},
		error : function(jqXHR, textStatus, errorThrown) {
			errorCode(jqXHR.status);
			$("#loading").css("display","none");
			$("#mainDiv").removeClass('disabled');
		}
	 });
	  }
	  catch(e)
	{
		errorCode(e);
	}
}
	
 /*function viewFeaturedShops(id,index){
		
		try{
			var online = window.navigator.onLine;
				if(!online)
			        {
				 alert("Check your internet connection,Please try agian after some time.");
			  	 return;
			       }
		
				if($("#searchFeaturedGroup").length >0 && $("#searchFeaturedGroup").val().trim()!=""){
					searchFeaturedProduct($("#searchFeaturedGroup").val(),'searchFeaturedGroup',index);
					return ;
				}
				var contextPath = $('#contextPath').val();
				var URL=contextPath + "/b2c/viewFeaturedShops.do";
			
				$.ajax({
					type : "GET",
	   				url : URL,
	   				data : {
	   					index : index,
	   					maxRecords:10
	   				},
	   				beforeSend: function(xhr){                    
	   			   		$("#loading").css("display","block");
	   			   		$("#mainDiv").addClass("disabled");
	   			   	},
	   				success : function(result){
	   					$('#right-side').html(result);
	   					if(id != undefined)
		  					activeMenu(id);
						openMenu("lib2cConfig","ulb2cConfig",0);
						$('#right-side').html(result);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled')
	   				},
	   				error : function(jqXHR, textStatus, errorThrown) {
	   					errorCode(jqXHR.status);
	   					$("#loading").css("display","none");
	   					$("#mainDiv").removeClass('disabled');
	   				}
				});
		}
		catch(e)
			{
			        errorCode(e);
		}
	}
 
 
	function newFeaturedShops(id){
		try{
			var online = window.navigator.onLine;
				if(!online)
			        {
				 alert("Check your internet connection,Please try agian after some time.");
			  	 return;
			       }
		 var contextPath = $("#contextPath").val();
		 URL = contextPath + "/b2c/newFeaturedshops.do";
			$.ajax({
				type: "GET",
				url : URL,
				data : {
				},
				beforeSend: function(xhr){                    
		   			$("#loading").css("display","block");
		   			$("#mainDiv").addClass("disabled");
		   		  },
				success : function(result) {
					$("#right-side").html(result);
					if(id != undefined)
						activeMenu(id);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					$("#loading").css("display","none");
				$("#mainDiv").removeClass('disabled');
				}
			});
		}
		catch(e)
			{
		  errorCode(e);
}
}*/
 	

 function viewFeaturedShops(id,index){
		try{
			var online = window.navigator.onLine;
			if(!online)
			{
				alert("Check your internet connection,Please try agian after some time.");
				return;
			}
			debugger
			var maxRecords = "10";
			if($("#maxRecords").length > 0)
				maxRecords = $("#maxRecords").val();
			
			var startDate = "";
			if($("#featurefrom").length > 0)
				startDate = $("#featurefrom").val();
			
			var endDate = "";
			if($("#featureto").length > 0)
				endDate = $("#featureto").val();
			
			var searchName = "";
			if($("#searchFeaturedRetailer").length > 0)
				searchName = $("#searchFeaturedRetailer").val();

			
			debugger
   		 if(startDate!=undefined || startDate!= "" && endDate!=undefined || endDate!= ""){
   		 var noOfDays = daydiff(parseDate(startDate), parseDate(endDate));
	    		 if(noOfDays < 0){
	    			 alert("End Date can't be less than Start Date");
	    			 return;
	    		 }
   	      }
			
			var contextPath = $("#contextPath").val();
			var URL=contextPath + "/b2c/viewFeaturedShops.do";
			
			$.ajax({
				type: "GET",
				url : URL,
				data : {
					index : index,
					maxRecords : maxRecords,
					startDateStr : startDate,
					endDate : endDate,
					search : searchName
				},
				beforeSend: function(xhr){                    
					$("#loading").css("display","block");
					$("#mainDiv").addClass("disabled");
				},
				success : function(result) {
					$("#right-side").html(result);
					if(id != undefined && id != "")
						activeMenu(id);
					openMenu("lib2cConfig","ulb2cConfig",0);
//					$("#type").val(type);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					errorCode(jqXHR.status);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				}
			});
		}
		catch(e)
		{
			errorCode(e);
		}
	}

 
 
 
	 function newFeaturedShopsGroupMaster(id){
			try{
				var online = window.navigator.onLine;
				if(!online) {
					alert("Check your internet connection,Please try agian after some time.");
					return;
				}
				var contextPath = $("#contextPath").val();
				URL = contextPath + "/b2c/newFeaturedShopsGroupMaster.do";
				$.ajax({
					type: "GET",
					url : URL,
					data : {
					},
					beforeSend: function(xhr){                    
						$("#loading").css("display","block");
						$("#mainDiv").addClass("disabled");
					},
					success : function(result) {
						$("#right-side").html(result);
						if(id != undefined)
							activeMenu(id);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					},
					error : function(jqXHR, textStatus, errorThrown)  {
						errorCode(jqXHR.status);
						$("#loading").css("display","none");
						$("#mainDiv").removeClass('disabled');
					}
				});


			}
			catch(e)
			{
				errorCode(e);
			}
		}

	
	 
	 function viewMirrorStore(index,id){
			debugger;
				try{
					var online = window.navigator.onLine;
					if(!online)
					{
						alert("Check your internet connection,Please try agian after some time.");
						return;
					}
					
					var search="";
					
					var location = $("#location").val();
					if(location == null || location == "" || location == undefined ){
						$("#locationErr").html("Select location");
						return;
					}
					var maxRecords = 10;
					if($("#maxRecords").length>0 && $("#maxRecords").val() != "") 
						maxRecords = $("#maxRecords").val();

					
					var contextPath = $("#contextPath").val();
					
					URL = contextPath+"/inventorymanager/viewMirrorStoreTaxation.do";
					$.ajax({
						type: "GET",
						url : URL,
						data : {
							location:location,
							searchCriteria:search,
							index:index,
							maxRecords:maxRecords
						},
						beforeSend: function(xhr){   
							// alert(xhr.status)
							$("#loading").css("display","block");
							$("#mainDiv").addClass("disabled");
						},
						success : function(result) {
							$("#right-side").html(result);
							if(id != undefined && id != "")
								activeMenu(id);
							openMenu("storedetails", "ulstoredetails",0);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
						},
						error : function(jqXHR, textStatus, errorThrown)  {

							errorCode(jqXHR.status);
							$("#loading").css("display","none");
							$("#mainDiv").removeClass('disabled');
						}
					});
				
				}
				catch(e)
				{
					errorCode(e);
				}
			

		}
	 
	 function viewEditFTPSettings(id,operation){
			try{
				
				var online = window.navigator.onLine;
			  	if(!online){
			  	alert("Check your internet connection,Please try agian after some time.");
			  	return;
			  	}
			  	debugger
			  	var contextPath = $("#contextPath").val();
			    URL = contextPath + "/settings/editFTPSettings.do";
			    
			$.ajax({
				type: "GET",
				url : URL,
				data : {					
					operation : operation
				},
				beforeSend: function(xhr){                    
			   			$("#loading").css("display","block");
			   			$("#mainDiv").addClass("disabled");
			   		  },
				success : function(result) {
					openMenu("liSettings", "ulSettings",0);
					$("#right-side").html(result);
					if(id != undefined)
	  					activeMenu(id);
					$("#loading").css("display","none");
					$("#mainDiv").removeClass('disabled');
				},
				error : function(jqXHR, textStatus, errorThrown)  {
					 errorCode(jqXHR.status);
					 $("#loading").css("display","none");
					 $("#mainDiv").removeClass('disabled');
				}
			});

			}
				catch(e)
				{
				              errorCode(e);
				}

		}
	/* function delay(ms){
		 debugger
		 setTimeout( ms)
		 
	 }*/
	// const delay = ms => new Promise(res => setTimeout(res, ms));
	  function importEnableEffect(id){
		 debugger
		 $("#"+id).val("");
		 $("#"+id+"circleWait").css("display","block");
		// await delay(5000);
		 setTimeout($("#"+id+"circleWait").css("display","block"), 5000)
		 $("#"+id+"circleWait").css("display","none");
		// $("#"+id+"circleWait").attr("src",contextPath+"/images/tickMark.png");
		 //$("#"+id+"Tick").css("display","block");
		 $("#"+id).val("Uploaded");
          var va=$("#coupons").val();
         var fileName = va.replace('C:\\fakepath\\',"");
         $("#fileNameShow").html(fileName);
	 }
	 